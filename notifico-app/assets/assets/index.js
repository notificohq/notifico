var rLe=Object.defineProperty;var sLe=(n,e,t)=>e in n?rLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Zi=(n,e,t)=>sLe(n,typeof e!="symbol"?e+"":e,t);function oLe(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var XX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function j$(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var D4={exports:{}},ew={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZX;function aLe(){if(ZX)return ew;ZX=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return ew.Fragment=e,ew.jsx=t,ew.jsxs=t,ew}var JX;function nN(){return JX||(JX=1,D4.exports=aLe()),D4.exports}var V=nN(),T4={exports:{}},Jn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eZ;function lLe(){if(eZ)return Jn;eZ=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function v(z,K,Z){this.props=z,this.context=K,this.refs=m,this.updater=Z||f}v.prototype.isReactComponent={},v.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=v.prototype;function y(z,K,Z){this.props=z,this.context=K,this.refs=m,this.updater=Z||f}var w=y.prototype=new C;w.constructor=y,p(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function D(z,K,Z,Q,G,J){return Z=J.ref,{$$typeof:n,type:z,key:K,ref:Z!==void 0?Z:null,props:J}}function T(z,K){return D(z.type,K,void 0,void 0,void 0,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function I(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Z){return K[Z]})}var R=/\/+/g;function N(z,K){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):K.toString(36)}function O(){}function F(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(O,O):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function A(z,K,Z,Q,G){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var ne=!1;if(z===null)ne=!0;else switch(J){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(z.$$typeof){case n:case e:ne=!0;break;case u:return ne=z._init,A(ne(z._payload),K,Z,Q,G)}}if(ne)return G=G(z),ne=Q===""?"."+N(z,0):Q,_(G)?(Z="",ne!=null&&(Z=ne.replace(R,"$&/")+"/"),A(G,K,Z,"",function(X){return X})):G!=null&&(L(G)&&(G=T(G,Z+(G.key==null||z&&z.key===G.key?"":(""+G.key).replace(R,"$&/")+"/")+ne)),K.push(G)),1;ne=0;var ae=Q===""?".":Q+":";if(_(z))for(var se=0;se<z.length;se++)Q=z[se],J=ae+N(Q,se),ne+=A(Q,K,Z,J,G);else if(se=h(z),typeof se=="function")for(z=se.call(z),se=0;!(Q=z.next()).done;)Q=Q.value,J=ae+N(Q,se++),ne+=A(Q,K,Z,J,G);else if(J==="object"){if(typeof z.then=="function")return A(F(z),K,Z,Q,G);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ne}function H(z,K,Z){if(z==null)return z;var Q=[],G=0;return A(z,Q,"","",function(J){return K.call(Z,J,G++)}),Q}function W(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(Z){(z._status===0||z._status===-1)&&(z._status=1,z._result=Z)},function(Z){(z._status===0||z._status===-1)&&(z._status=2,z._result=Z)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var $=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function U(){}return Jn.Children={map:H,forEach:function(z,K,Z){H(z,function(){K.apply(this,arguments)},Z)},count:function(z){var K=0;return H(z,function(){K++}),K},toArray:function(z){return H(z,function(K){return K})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Jn.Component=v,Jn.Fragment=t,Jn.Profiler=r,Jn.PureComponent=y,Jn.StrictMode=i,Jn.Suspense=l,Jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Jn.act=function(){throw Error("act(...) is not supported in production builds of React.")},Jn.cache=function(z){return function(){return z.apply(null,arguments)}},Jn.cloneElement=function(z,K,Z){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Q=p({},z.props),G=z.key,J=void 0;if(K!=null)for(ne in K.ref!==void 0&&(J=void 0),K.key!==void 0&&(G=""+K.key),K)!k.call(K,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&K.ref===void 0||(Q[ne]=K[ne]);var ne=arguments.length-2;if(ne===1)Q.children=Z;else if(1<ne){for(var ae=Array(ne),se=0;se<ne;se++)ae[se]=arguments[se+2];Q.children=ae}return D(z.type,G,void 0,void 0,J,Q)},Jn.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},Jn.createElement=function(z,K,Z){var Q,G={},J=null;if(K!=null)for(Q in K.key!==void 0&&(J=""+K.key),K)k.call(K,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(G[Q]=K[Q]);var ne=arguments.length-2;if(ne===1)G.children=Z;else if(1<ne){for(var ae=Array(ne),se=0;se<ne;se++)ae[se]=arguments[se+2];G.children=ae}if(z&&z.defaultProps)for(Q in ne=z.defaultProps,ne)G[Q]===void 0&&(G[Q]=ne[Q]);return D(z,J,void 0,void 0,null,G)},Jn.createRef=function(){return{current:null}},Jn.forwardRef=function(z){return{$$typeof:a,render:z}},Jn.isValidElement=L,Jn.lazy=function(z){return{$$typeof:u,_payload:{_status:-1,_result:z},_init:W}},Jn.memo=function(z,K){return{$$typeof:c,type:z,compare:K===void 0?null:K}},Jn.startTransition=function(z){var K=x.T,Z={};x.T=Z;try{var Q=z(),G=x.S;G!==null&&G(Z,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(U,$)}catch(J){$(J)}finally{x.T=K}},Jn.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Jn.use=function(z){return x.H.use(z)},Jn.useActionState=function(z,K,Z){return x.H.useActionState(z,K,Z)},Jn.useCallback=function(z,K){return x.H.useCallback(z,K)},Jn.useContext=function(z){return x.H.useContext(z)},Jn.useDebugValue=function(){},Jn.useDeferredValue=function(z,K){return x.H.useDeferredValue(z,K)},Jn.useEffect=function(z,K){return x.H.useEffect(z,K)},Jn.useId=function(){return x.H.useId()},Jn.useImperativeHandle=function(z,K,Z){return x.H.useImperativeHandle(z,K,Z)},Jn.useInsertionEffect=function(z,K){return x.H.useInsertionEffect(z,K)},Jn.useLayoutEffect=function(z,K){return x.H.useLayoutEffect(z,K)},Jn.useMemo=function(z,K){return x.H.useMemo(z,K)},Jn.useOptimistic=function(z,K){return x.H.useOptimistic(z,K)},Jn.useReducer=function(z,K,Z){return x.H.useReducer(z,K,Z)},Jn.useRef=function(z){return x.H.useRef(z)},Jn.useState=function(z){return x.H.useState(z)},Jn.useSyncExternalStore=function(z,K,Z){return x.H.useSyncExternalStore(z,K,Z)},Jn.useTransition=function(){return x.H.useTransition()},Jn.version="19.0.0",Jn}var tZ;function Wr(){return tZ||(tZ=1,T4.exports=lLe()),T4.exports}var M=Wr();const q=Kd(M),U6=oLe({__proto__:null,default:q},[M]);var I4={exports:{}},tw={},M4={exports:{}},R4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nZ;function cLe(){return nZ||(nZ=1,function(n){function e(H,W){var $=H.length;H.push(W);e:for(;0<$;){var U=$-1>>>1,z=H[U];if(0<r(z,W))H[U]=W,H[$]=z,$=U;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var W=H[0],$=H.pop();if($!==W){H[0]=$;e:for(var U=0,z=H.length,K=z>>>1;U<K;){var Z=2*(U+1)-1,Q=H[Z],G=Z+1,J=H[G];if(0>r(Q,$))G<z&&0>r(J,Q)?(H[U]=J,H[G]=$,U=G):(H[U]=Q,H[Z]=$,U=Z);else if(G<z&&0>r(J,$))H[U]=J,H[G]=$,U=G;else break e}}return W}function r(H,W){var $=H.sortIndex-W.sortIndex;return $!==0?$:H.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var W=t(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=H)i(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function _(H){if(m=!1,w(H),!p)if(t(l)!==null)p=!0,F();else{var W=t(c);W!==null&&A(_,W.startTime-H)}}var x=!1,k=-1,D=5,T=-1;function L(){return!(n.unstable_now()-T<D)}function I(){if(x){var H=n.unstable_now();T=H;var W=!0;try{e:{p=!1,m&&(m=!1,C(k),k=-1),f=!0;var $=h;try{t:{for(w(H),d=t(l);d!==null&&!(d.expirationTime>H&&L());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var z=U(d.expirationTime<=H);if(H=n.unstable_now(),typeof z=="function"){d.callback=z,w(H),W=!0;break t}d===t(l)&&i(l),w(H)}else i(l);d=t(l)}if(d!==null)W=!0;else{var K=t(c);K!==null&&A(_,K.startTime-H),W=!1}}break e}finally{d=null,h=$,f=!1}W=void 0}}finally{W?R():x=!1}}}var R;if(typeof y=="function")R=function(){y(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,O=N.port2;N.port1.onmessage=I,R=function(){O.postMessage(null)}}else R=function(){v(I,0)};function F(){x||(x=!0,R())}function A(H,W){k=v(function(){H(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,F())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var $=h;h=W;try{return H()}finally{h=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=h;h=H;try{return W()}finally{h=$}},n.unstable_scheduleCallback=function(H,W,$){var U=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,H={id:u++,callback:W,priorityLevel:H,startTime:$,expirationTime:z,sortIndex:-1},$>U?(H.sortIndex=$,e(c,H),t(l)===null&&H===t(c)&&(m?(C(k),k=-1):m=!0,A(_,$-U))):(H.sortIndex=z,e(l,H),p||f||(p=!0,F())),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var W=h;return function(){var $=h;h=W;try{return H.apply(this,arguments)}finally{h=$}}}}(R4)),R4}var iZ;function uLe(){return iZ||(iZ=1,M4.exports=cLe()),M4.exports}var N4={exports:{}},Zo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rZ;function dLe(){if(rZ)return Zo;rZ=1;var n=Wr();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Zo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zo.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,u)},Zo.flushSync=function(l){var c=o.T,u=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=c,i.p=u,i.d.f()}},Zo.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},Zo.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Zo.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin),h=typeof c.integrity=="string"?c.integrity:void 0,f=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:h,fetchPriority:f}):u==="script"&&i.d.X(l,{crossOrigin:d,integrity:h,fetchPriority:f,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Zo.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},Zo.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=a(u,c.crossOrigin);i.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Zo.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},Zo.requestFormReset=function(l){i.d.r(l)},Zo.unstable_batchedUpdates=function(l,c){return l(c)},Zo.useFormState=function(l,c,u){return o.H.useFormState(l,c,u)},Zo.useFormStatus=function(){return o.H.useHostTransitionStatus()},Zo.version="19.0.0",Zo}var sZ;function iN(){if(sZ)return N4.exports;sZ=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),N4.exports=dLe(),N4.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oZ;function hLe(){if(oZ)return tw;oZ=1;var n=uLe(),e=Wr(),t=iN();function i(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),_=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(g){return g===null||typeof g!="object"?null:(g=x&&g[x]||g["@@iterator"],typeof g=="function"?g:null)}var D=Symbol.for("react.client.reference");function T(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===D?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case l:return"Fragment";case a:return"Portal";case u:return"Profiler";case c:return"StrictMode";case m:return"Suspense";case v:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case f:return(g.displayName||"Context")+".Provider";case h:return(g._context.displayName||"Context")+".Consumer";case p:var b=g.render;return g=g.displayName,g||(g=b.displayName||b.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case C:return b=g.displayName||null,b!==null?b:T(g.type)||"Memo";case y:b=g._payload,g=g._init;try{return T(g(b))}catch{}}return null}var L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,R,N;function O(g){if(R===void 0)try{throw Error()}catch(S){var b=S.stack.trim().match(/\n( *(at )?)/);R=b&&b[1]||"",N=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+g+N}var F=!1;function A(g,b){if(!g||F)return"";F=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(b){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(ht){var Je=ht}Reflect.construct(g,[],wt)}else{try{wt.call()}catch(ht){Je=ht}g.call(wt.prototype)}}else{try{throw Error()}catch(ht){Je=ht}(wt=g())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(ht){if(ht&&Je&&typeof ht.stack=="string")return[ht.stack,Je.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=E.DetermineComponentFrameRoot(),ee=j[0],de=j[1];if(ee&&de){var Se=ee.split(`
`),Be=de.split(`
`);for(B=E=0;E<Se.length&&!Se[E].includes("DetermineComponentFrameRoot");)E++;for(;B<Be.length&&!Be[B].includes("DetermineComponentFrameRoot");)B++;if(E===Se.length||B===Be.length)for(E=Se.length-1,B=Be.length-1;1<=E&&0<=B&&Se[E]!==Be[B];)B--;for(;1<=E&&0<=B;E--,B--)if(Se[E]!==Be[B]){if(E!==1||B!==1)do if(E--,B--,0>B||Se[E]!==Be[B]){var ft=`
`+Se[E].replace(" at new "," at ");return g.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",g.displayName)),ft}while(1<=E&&0<=B);break}}}finally{F=!1,Error.prepareStackTrace=S}return(S=g?g.displayName||g.name:"")?O(S):""}function H(g){switch(g.tag){case 26:case 27:case 5:return O(g.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return g=A(g.type,!1),g;case 11:return g=A(g.type.render,!1),g;case 1:return g=A(g.type,!0),g;default:return""}}function W(g){try{var b="";do b+=H(g),g=g.return;while(g);return b}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function $(g){var b=g,S=g;if(g.alternate)for(;b.return;)b=b.return;else{g=b;do b=g,b.flags&4098&&(S=b.return),g=b.return;while(g)}return b.tag===3?S:null}function U(g){if(g.tag===13){var b=g.memoizedState;if(b===null&&(g=g.alternate,g!==null&&(b=g.memoizedState)),b!==null)return b.dehydrated}return null}function z(g){if($(g)!==g)throw Error(i(188))}function K(g){var b=g.alternate;if(!b){if(b=$(g),b===null)throw Error(i(188));return b!==g?null:g}for(var S=g,E=b;;){var B=S.return;if(B===null)break;var j=B.alternate;if(j===null){if(E=B.return,E!==null){S=E;continue}break}if(B.child===j.child){for(j=B.child;j;){if(j===S)return z(B),g;if(j===E)return z(B),b;j=j.sibling}throw Error(i(188))}if(S.return!==E.return)S=B,E=j;else{for(var ee=!1,de=B.child;de;){if(de===S){ee=!0,S=B,E=j;break}if(de===E){ee=!0,E=B,S=j;break}de=de.sibling}if(!ee){for(de=j.child;de;){if(de===S){ee=!0,S=j,E=B;break}if(de===E){ee=!0,E=j,S=B;break}de=de.sibling}if(!ee)throw Error(i(189))}}if(S.alternate!==E)throw Error(i(190))}if(S.tag!==3)throw Error(i(188));return S.stateNode.current===S?g:b}function Z(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g;for(g=g.child;g!==null;){if(b=Z(g),b!==null)return b;g=g.sibling}return null}var Q=Array.isArray,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ne=[],ae=-1;function se(g){return{current:g}}function X(g){0>ae||(g.current=ne[ae],ne[ae]=null,ae--)}function oe(g,b){ae++,ne[ae]=g.current,g.current=b}var ve=se(null),me=se(null),ye=se(null),Le=se(null);function ie(g,b){switch(oe(ye,b),oe(me,g),oe(ve,null),g=b.nodeType,g){case 9:case 11:b=(b=b.documentElement)&&(b=b.namespaceURI)?LX(b):0;break;default:if(g=g===8?b.parentNode:b,b=g.tagName,g=g.namespaceURI)g=LX(g),b=EX(g,b);else switch(b){case"svg":b=1;break;case"math":b=2;break;default:b=0}}X(ve),oe(ve,b)}function Ee(){X(ve),X(me),X(ye)}function Ue(g){g.memoizedState!==null&&oe(Le,g);var b=ve.current,S=EX(b,g.type);b!==S&&(oe(me,g),oe(ve,S))}function re(g){me.current===g&&(X(ve),X(me)),Le.current===g&&(X(Le),Q_._currentValue=J)}var fe=Object.prototype.hasOwnProperty,Ce=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,Te=n.unstable_shouldYield,Ae=n.unstable_requestPaint,Ne=n.unstable_now,Ge=n.unstable_getCurrentPriorityLevel,gt=n.unstable_ImmediatePriority,rt=n.unstable_UserBlockingPriority,it=n.unstable_NormalPriority,Xe=n.unstable_LowPriority,st=n.unstable_IdlePriority,Ke=n.log,kt=n.unstable_setDisableYieldValue,Gt=null,Dt=null;function xe(g){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Gt,g,void 0,(g.current.flags&128)===128)}catch{}}function Re(g){if(typeof Ke=="function"&&kt(g),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Gt,g)}catch{}}var Et=Math.clz32?Math.clz32:en,Mt=Math.log,hn=Math.LN2;function en(g){return g>>>=0,g===0?32:31-(Mt(g)/hn|0)|0}var fi=128,Qt=4194304;function He(g){var b=g&42;if(b!==0)return b;switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return g&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return g}}function Bt(g,b){var S=g.pendingLanes;if(S===0)return 0;var E=0,B=g.suspendedLanes,j=g.pingedLanes,ee=g.warmLanes;g=g.finishedLanes!==0;var de=S&134217727;return de!==0?(S=de&~B,S!==0?E=He(S):(j&=de,j!==0?E=He(j):g||(ee=de&~ee,ee!==0&&(E=He(ee))))):(de=S&~B,de!==0?E=He(de):j!==0?E=He(j):g||(ee=S&~ee,ee!==0&&(E=He(ee)))),E===0?0:b!==0&&b!==E&&!(b&B)&&(B=E&-E,ee=b&-b,B>=ee||B===32&&(ee&4194176)!==0)?b:E}function fn(g,b){return(g.pendingLanes&~(g.suspendedLanes&~g.pingedLanes)&b)===0}function bn(g,b){switch(g){case 1:case 2:case 4:case 8:return b+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var g=fi;return fi<<=1,!(fi&4194176)&&(fi=128),g}function le(){var g=Qt;return Qt<<=1,!(Qt&62914560)&&(Qt=4194304),g}function ue(g){for(var b=[],S=0;31>S;S++)b.push(g);return b}function pe(g,b){g.pendingLanes|=b,b!==268435456&&(g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0)}function we(g,b,S,E,B,j){var ee=g.pendingLanes;g.pendingLanes=S,g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0,g.expiredLanes&=S,g.entangledLanes&=S,g.errorRecoveryDisabledLanes&=S,g.shellSuspendCounter=0;var de=g.entanglements,Se=g.expirationTimes,Be=g.hiddenUpdates;for(S=ee&~S;0<S;){var ft=31-Et(S),wt=1<<ft;de[ft]=0,Se[ft]=-1;var Je=Be[ft];if(Je!==null)for(Be[ft]=null,ft=0;ft<Je.length;ft++){var ht=Je[ft];ht!==null&&(ht.lane&=-536870913)}S&=~wt}E!==0&&De(g,E,0),j!==0&&B===0&&g.tag!==0&&(g.suspendedLanes|=j&~(ee&~b))}function De(g,b,S){g.pendingLanes|=b,g.suspendedLanes&=~b;var E=31-Et(b);g.entangledLanes|=b,g.entanglements[E]=g.entanglements[E]|1073741824|S&4194218}function Oe(g,b){var S=g.entangledLanes|=b;for(g=g.entanglements;S;){var E=31-Et(S),B=1<<E;B&b|g[E]&b&&(g[E]|=b),S&=~B}}function Qe(g){return g&=-g,2<g?8<g?g&134217727?32:268435456:8:2}function Ct(){var g=G.p;return g!==0?g:(g=window.event,g===void 0?32:UX(g.type))}function At(g,b){var S=G.p;try{return G.p=g,b()}finally{G.p=S}}var qt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+qt,zt="__reactProps$"+qt,Mn="__reactContainer$"+qt,Ye="__reactEvents$"+qt,et="__reactListeners$"+qt,Rt="__reactHandles$"+qt,pn="__reactResources$"+qt,yt="__reactMarker$"+qt;function Ie(g){delete g[Vt],delete g[zt],delete g[Ye],delete g[et],delete g[Rt]}function ct(g){var b=g[Vt];if(b)return b;for(var S=g.parentNode;S;){if(b=S[Mn]||S[Vt]){if(S=b.alternate,b.child!==null||S!==null&&S.child!==null)for(g=IX(g);g!==null;){if(S=g[Vt])return S;g=IX(g)}return b}g=S,S=g.parentNode}return null}function Pt(g){if(g=g[Vt]||g[Mn]){var b=g.tag;if(b===5||b===6||b===13||b===26||b===27||b===3)return g}return null}function gi(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g.stateNode;throw Error(i(33))}function Br(g){var b=g[pn];return b||(b=g[pn]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function di(g){g[yt]=!0}var Ms=new Set,oo={};function ao(g,b){_n(g,b),_n(g+"Capture",b)}function _n(g,b){for(oo[g]=b,g=0;g<b.length;g++)Ms.add(b[g])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eg={},qL={};function ZSe(g){return fe.call(qL,g)?!0:fe.call(eg,g)?!1:bl.test(g)?qL[g]=!0:(eg[g]=!0,!1)}function GL(g,b,S){if(ZSe(b))if(S===null)g.removeAttribute(b);else{switch(typeof S){case"undefined":case"function":case"symbol":g.removeAttribute(b);return;case"boolean":var E=b.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){g.removeAttribute(b);return}}g.setAttribute(b,""+S)}}function KL(g,b,S){if(S===null)g.removeAttribute(b);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":g.removeAttribute(b);return}g.setAttribute(b,""+S)}}function oh(g,b,S,E){if(E===null)g.removeAttribute(S);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":g.removeAttribute(S);return}g.setAttributeNS(b,S,""+E)}}function Kl(g){switch(typeof g){case"bigint":case"boolean":case"number":case"string":case"undefined":return g;case"object":return g;default:return""}}function TK(g){var b=g.type;return(g=g.nodeName)&&g.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function JSe(g){var b=TK(g)?"checked":"value",S=Object.getOwnPropertyDescriptor(g.constructor.prototype,b),E=""+g[b];if(!g.hasOwnProperty(b)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var B=S.get,j=S.set;return Object.defineProperty(g,b,{configurable:!0,get:function(){return B.call(this)},set:function(ee){E=""+ee,j.call(this,ee)}}),Object.defineProperty(g,b,{enumerable:S.enumerable}),{getValue:function(){return E},setValue:function(ee){E=""+ee},stopTracking:function(){g._valueTracker=null,delete g[b]}}}}function QL(g){g._valueTracker||(g._valueTracker=JSe(g))}function IK(g){if(!g)return!1;var b=g._valueTracker;if(!b)return!0;var S=b.getValue(),E="";return g&&(E=TK(g)?g.checked?"true":"false":g.value),g=E,g!==S?(b.setValue(g),!0):!1}function YL(g){if(g=g||(typeof document<"u"?document:void 0),typeof g>"u")return null;try{return g.activeElement||g.body}catch{return g.body}}var exe=/[\n"\\]/g;function Ql(g){return g.replace(exe,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function LP(g,b,S,E,B,j,ee,de){g.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?g.type=ee:g.removeAttribute("type"),b!=null?ee==="number"?(b===0&&g.value===""||g.value!=b)&&(g.value=""+Kl(b)):g.value!==""+Kl(b)&&(g.value=""+Kl(b)):ee!=="submit"&&ee!=="reset"||g.removeAttribute("value"),b!=null?EP(g,ee,Kl(b)):S!=null?EP(g,ee,Kl(S)):E!=null&&g.removeAttribute("value"),B==null&&j!=null&&(g.defaultChecked=!!j),B!=null&&(g.checked=B&&typeof B!="function"&&typeof B!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?g.name=""+Kl(de):g.removeAttribute("name")}function MK(g,b,S,E,B,j,ee,de){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(g.type=j),b!=null||S!=null){if(!(j!=="submit"&&j!=="reset"||b!=null))return;S=S!=null?""+Kl(S):"",b=b!=null?""+Kl(b):S,de||b===g.value||(g.value=b),g.defaultValue=b}E=E??B,E=typeof E!="function"&&typeof E!="symbol"&&!!E,g.checked=de?g.checked:!!E,g.defaultChecked=!!E,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(g.name=ee)}function EP(g,b,S){b==="number"&&YL(g.ownerDocument)===g||g.defaultValue===""+S||(g.defaultValue=""+S)}function i1(g,b,S,E){if(g=g.options,b){b={};for(var B=0;B<S.length;B++)b["$"+S[B]]=!0;for(S=0;S<g.length;S++)B=b.hasOwnProperty("$"+g[S].value),g[S].selected!==B&&(g[S].selected=B),B&&E&&(g[S].defaultSelected=!0)}else{for(S=""+Kl(S),b=null,B=0;B<g.length;B++){if(g[B].value===S){g[B].selected=!0,E&&(g[B].defaultSelected=!0);return}b!==null||g[B].disabled||(b=g[B])}b!==null&&(b.selected=!0)}}function RK(g,b,S){if(b!=null&&(b=""+Kl(b),b!==g.value&&(g.value=b),S==null)){g.defaultValue!==b&&(g.defaultValue=b);return}g.defaultValue=S!=null?""+Kl(S):""}function NK(g,b,S,E){if(b==null){if(E!=null){if(S!=null)throw Error(i(92));if(Q(E)){if(1<E.length)throw Error(i(93));E=E[0]}S=E}S==null&&(S=""),b=S}S=Kl(b),g.defaultValue=S,E=g.textContent,E===S&&E!==""&&E!==null&&(g.value=E)}function r1(g,b){if(b){var S=g.firstChild;if(S&&S===g.lastChild&&S.nodeType===3){S.nodeValue=b;return}}g.textContent=b}var txe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AK(g,b,S){var E=b.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?E?g.setProperty(b,""):b==="float"?g.cssFloat="":g[b]="":E?g.setProperty(b,S):typeof S!="number"||S===0||txe.has(b)?b==="float"?g.cssFloat=S:g[b]=(""+S).trim():g[b]=S+"px"}function PK(g,b,S){if(b!=null&&typeof b!="object")throw Error(i(62));if(g=g.style,S!=null){for(var E in S)!S.hasOwnProperty(E)||b!=null&&b.hasOwnProperty(E)||(E.indexOf("--")===0?g.setProperty(E,""):E==="float"?g.cssFloat="":g[E]="");for(var B in b)E=b[B],b.hasOwnProperty(B)&&S[B]!==E&&AK(g,B,E)}else for(var j in b)b.hasOwnProperty(j)&&AK(g,j,b[j])}function DP(g){if(g.indexOf("-")===-1)return!1;switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nxe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ixe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function XL(g){return ixe.test(""+g)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":g}var TP=null;function IP(g){return g=g.target||g.srcElement||window,g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===3?g.parentNode:g}var s1=null,o1=null;function OK(g){var b=Pt(g);if(b&&(g=b.stateNode)){var S=g[zt]||null;e:switch(g=b.stateNode,b.type){case"input":if(LP(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),b=S.name,S.type==="radio"&&b!=null){for(S=g;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+Ql(""+b)+'"][type="radio"]'),b=0;b<S.length;b++){var E=S[b];if(E!==g&&E.form===g.form){var B=E[zt]||null;if(!B)throw Error(i(90));LP(E,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(b=0;b<S.length;b++)E=S[b],E.form===g.form&&IK(E)}break e;case"textarea":RK(g,S.value,S.defaultValue);break e;case"select":b=S.value,b!=null&&i1(g,!!S.multiple,b,!1)}}}var MP=!1;function FK(g,b,S){if(MP)return g(b,S);MP=!0;try{var E=g(b);return E}finally{if(MP=!1,(s1!==null||o1!==null)&&(AE(),s1&&(b=s1,g=o1,o1=s1=null,OK(b),g)))for(b=0;b<g.length;b++)OK(g[b])}}function c_(g,b){var S=g.stateNode;if(S===null)return null;var E=S[zt]||null;if(E===null)return null;S=E[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(g=g.type,E=!(g==="button"||g==="input"||g==="select"||g==="textarea")),g=!E;break e;default:g=!1}if(g)return null;if(S&&typeof S!="function")throw Error(i(231,b,typeof S));return S}var RP=!1;if($r)try{var u_={};Object.defineProperty(u_,"passive",{get:function(){RP=!0}}),window.addEventListener("test",u_,u_),window.removeEventListener("test",u_,u_)}catch{RP=!1}var tg=null,NP=null,ZL=null;function BK(){if(ZL)return ZL;var g,b=NP,S=b.length,E,B="value"in tg?tg.value:tg.textContent,j=B.length;for(g=0;g<S&&b[g]===B[g];g++);var ee=S-g;for(E=1;E<=ee&&b[S-E]===B[j-E];E++);return ZL=B.slice(g,1<E?1-E:void 0)}function JL(g){var b=g.keyCode;return"charCode"in g?(g=g.charCode,g===0&&b===13&&(g=13)):g=b,g===10&&(g=13),32<=g||g===13?g:0}function eE(){return!0}function HK(){return!1}function $a(g){function b(S,E,B,j,ee){this._reactName=S,this._targetInst=B,this.type=E,this.nativeEvent=j,this.target=ee,this.currentTarget=null;for(var de in g)g.hasOwnProperty(de)&&(S=g[de],this[de]=S?S(j):j[de]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?eE:HK,this.isPropagationStopped=HK,this}return I(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=eE)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=eE)},persist:function(){},isPersistent:eE}),b}var im={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tE=$a(im),d_=I({},im,{view:0,detail:0}),rxe=$a(d_),AP,PP,h_,nE=I({},d_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FP,button:0,buttons:0,relatedTarget:function(g){return g.relatedTarget===void 0?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==h_&&(h_&&g.type==="mousemove"?(AP=g.screenX-h_.screenX,PP=g.screenY-h_.screenY):PP=AP=0,h_=g),AP)},movementY:function(g){return"movementY"in g?g.movementY:PP}}),VK=$a(nE),sxe=I({},nE,{dataTransfer:0}),oxe=$a(sxe),axe=I({},d_,{relatedTarget:0}),OP=$a(axe),lxe=I({},im,{animationName:0,elapsedTime:0,pseudoElement:0}),cxe=$a(lxe),uxe=I({},im,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),dxe=$a(uxe),hxe=I({},im,{data:0}),zK=$a(hxe),fxe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gxe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pxe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mxe(g){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(g):(g=pxe[g])?!!b[g]:!1}function FP(){return mxe}var bxe=I({},d_,{key:function(g){if(g.key){var b=fxe[g.key]||g.key;if(b!=="Unidentified")return b}return g.type==="keypress"?(g=JL(g),g===13?"Enter":String.fromCharCode(g)):g.type==="keydown"||g.type==="keyup"?gxe[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FP,charCode:function(g){return g.type==="keypress"?JL(g):0},keyCode:function(g){return g.type==="keydown"||g.type==="keyup"?g.keyCode:0},which:function(g){return g.type==="keypress"?JL(g):g.type==="keydown"||g.type==="keyup"?g.keyCode:0}}),vxe=$a(bxe),yxe=I({},nE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WK=$a(yxe),Cxe=I({},d_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FP}),_xe=$a(Cxe),wxe=I({},im,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sxe=$a(wxe),xxe=I({},nE,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),kxe=$a(xxe),Lxe=I({},im,{newState:0,oldState:0}),Exe=$a(Lxe),Dxe=[9,13,27,32],BP=$r&&"CompositionEvent"in window,f_=null;$r&&"documentMode"in document&&(f_=document.documentMode);var Txe=$r&&"TextEvent"in window&&!f_,$K=$r&&(!BP||f_&&8<f_&&11>=f_),jK=" ",UK=!1;function qK(g,b){switch(g){case"keyup":return Dxe.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GK(g){return g=g.detail,typeof g=="object"&&"data"in g?g.data:null}var a1=!1;function Ixe(g,b){switch(g){case"compositionend":return GK(b);case"keypress":return b.which!==32?null:(UK=!0,jK);case"textInput":return g=b.data,g===jK&&UK?null:g;default:return null}}function Mxe(g,b){if(a1)return g==="compositionend"||!BP&&qK(g,b)?(g=BK(),ZL=NP=tg=null,a1=!1,g):null;switch(g){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return $K&&b.locale!=="ko"?null:b.data;default:return null}}var Rxe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KK(g){var b=g&&g.nodeName&&g.nodeName.toLowerCase();return b==="input"?!!Rxe[g.type]:b==="textarea"}function QK(g,b,S,E){s1?o1?o1.push(E):o1=[E]:s1=E,b=HE(b,"onChange"),0<b.length&&(S=new tE("onChange","change",null,S,E),g.push({event:S,listeners:b}))}var g_=null,p_=null;function Nxe(g){_X(g,0)}function iE(g){var b=gi(g);if(IK(b))return g}function YK(g,b){if(g==="change")return b}var XK=!1;if($r){var HP;if($r){var VP="oninput"in document;if(!VP){var ZK=document.createElement("div");ZK.setAttribute("oninput","return;"),VP=typeof ZK.oninput=="function"}HP=VP}else HP=!1;XK=HP&&(!document.documentMode||9<document.documentMode)}function JK(){g_&&(g_.detachEvent("onpropertychange",eQ),p_=g_=null)}function eQ(g){if(g.propertyName==="value"&&iE(p_)){var b=[];QK(b,p_,g,IP(g)),FK(Nxe,b)}}function Axe(g,b,S){g==="focusin"?(JK(),g_=b,p_=S,g_.attachEvent("onpropertychange",eQ)):g==="focusout"&&JK()}function Pxe(g){if(g==="selectionchange"||g==="keyup"||g==="keydown")return iE(p_)}function Oxe(g,b){if(g==="click")return iE(b)}function Fxe(g,b){if(g==="input"||g==="change")return iE(b)}function Bxe(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var vl=typeof Object.is=="function"?Object.is:Bxe;function m_(g,b){if(vl(g,b))return!0;if(typeof g!="object"||g===null||typeof b!="object"||b===null)return!1;var S=Object.keys(g),E=Object.keys(b);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var B=S[E];if(!fe.call(b,B)||!vl(g[B],b[B]))return!1}return!0}function tQ(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function nQ(g,b){var S=tQ(g);g=0;for(var E;S;){if(S.nodeType===3){if(E=g+S.textContent.length,g<=b&&E>=b)return{node:S,offset:b-g};g=E}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=tQ(S)}}function iQ(g,b){return g&&b?g===b?!0:g&&g.nodeType===3?!1:b&&b.nodeType===3?iQ(g,b.parentNode):"contains"in g?g.contains(b):g.compareDocumentPosition?!!(g.compareDocumentPosition(b)&16):!1:!1}function rQ(g){g=g!=null&&g.ownerDocument!=null&&g.ownerDocument.defaultView!=null?g.ownerDocument.defaultView:window;for(var b=YL(g.document);b instanceof g.HTMLIFrameElement;){try{var S=typeof b.contentWindow.location.href=="string"}catch{S=!1}if(S)g=b.contentWindow;else break;b=YL(g.document)}return b}function zP(g){var b=g&&g.nodeName&&g.nodeName.toLowerCase();return b&&(b==="input"&&(g.type==="text"||g.type==="search"||g.type==="tel"||g.type==="url"||g.type==="password")||b==="textarea"||g.contentEditable==="true")}function Hxe(g,b){var S=rQ(b);b=g.focusedElem;var E=g.selectionRange;if(S!==b&&b&&b.ownerDocument&&iQ(b.ownerDocument.documentElement,b)){if(E!==null&&zP(b)){if(g=E.start,S=E.end,S===void 0&&(S=g),"selectionStart"in b)b.selectionStart=g,b.selectionEnd=Math.min(S,b.value.length);else if(S=(g=b.ownerDocument||document)&&g.defaultView||window,S.getSelection){S=S.getSelection();var B=b.textContent.length,j=Math.min(E.start,B);E=E.end===void 0?j:Math.min(E.end,B),!S.extend&&j>E&&(B=E,E=j,j=B),B=nQ(b,j);var ee=nQ(b,E);B&&ee&&(S.rangeCount!==1||S.anchorNode!==B.node||S.anchorOffset!==B.offset||S.focusNode!==ee.node||S.focusOffset!==ee.offset)&&(g=g.createRange(),g.setStart(B.node,B.offset),S.removeAllRanges(),j>E?(S.addRange(g),S.extend(ee.node,ee.offset)):(g.setEnd(ee.node,ee.offset),S.addRange(g)))}}for(g=[],S=b;S=S.parentNode;)S.nodeType===1&&g.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<g.length;b++)S=g[b],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}var Vxe=$r&&"documentMode"in document&&11>=document.documentMode,l1=null,WP=null,b_=null,$P=!1;function sQ(g,b,S){var E=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;$P||l1==null||l1!==YL(E)||(E=l1,"selectionStart"in E&&zP(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),b_&&m_(b_,E)||(b_=E,E=HE(WP,"onSelect"),0<E.length&&(b=new tE("onSelect","select",null,b,S),g.push({event:b,listeners:E}),b.target=l1)))}function rm(g,b){var S={};return S[g.toLowerCase()]=b.toLowerCase(),S["Webkit"+g]="webkit"+b,S["Moz"+g]="moz"+b,S}var c1={animationend:rm("Animation","AnimationEnd"),animationiteration:rm("Animation","AnimationIteration"),animationstart:rm("Animation","AnimationStart"),transitionrun:rm("Transition","TransitionRun"),transitionstart:rm("Transition","TransitionStart"),transitioncancel:rm("Transition","TransitionCancel"),transitionend:rm("Transition","TransitionEnd")},jP={},oQ={};$r&&(oQ=document.createElement("div").style,"AnimationEvent"in window||(delete c1.animationend.animation,delete c1.animationiteration.animation,delete c1.animationstart.animation),"TransitionEvent"in window||delete c1.transitionend.transition);function sm(g){if(jP[g])return jP[g];if(!c1[g])return g;var b=c1[g],S;for(S in b)if(b.hasOwnProperty(S)&&S in oQ)return jP[g]=b[S];return g}var aQ=sm("animationend"),lQ=sm("animationiteration"),cQ=sm("animationstart"),zxe=sm("transitionrun"),Wxe=sm("transitionstart"),$xe=sm("transitioncancel"),uQ=sm("transitionend"),dQ=new Map,hQ="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function eu(g,b){dQ.set(g,b),ao(b,[g])}var Yl=[],u1=0,UP=0;function rE(){for(var g=u1,b=UP=u1=0;b<g;){var S=Yl[b];Yl[b++]=null;var E=Yl[b];Yl[b++]=null;var B=Yl[b];Yl[b++]=null;var j=Yl[b];if(Yl[b++]=null,E!==null&&B!==null){var ee=E.pending;ee===null?B.next=B:(B.next=ee.next,ee.next=B),E.pending=B}j!==0&&fQ(S,B,j)}}function sE(g,b,S,E){Yl[u1++]=g,Yl[u1++]=b,Yl[u1++]=S,Yl[u1++]=E,UP|=E,g.lanes|=E,g=g.alternate,g!==null&&(g.lanes|=E)}function qP(g,b,S,E){return sE(g,b,S,E),oE(g)}function ng(g,b){return sE(g,null,null,b),oE(g)}function fQ(g,b,S){g.lanes|=S;var E=g.alternate;E!==null&&(E.lanes|=S);for(var B=!1,j=g.return;j!==null;)j.childLanes|=S,E=j.alternate,E!==null&&(E.childLanes|=S),j.tag===22&&(g=j.stateNode,g===null||g._visibility&1||(B=!0)),g=j,j=j.return;B&&b!==null&&g.tag===3&&(j=g.stateNode,B=31-Et(S),j=j.hiddenUpdates,g=j[B],g===null?j[B]=[b]:g.push(b),b.lane=S|536870912)}function oE(g){if(50<W_)throw W_=0,ZO=null,Error(i(185));for(var b=g.return;b!==null;)g=b,b=g.return;return g.tag===3?g.stateNode:null}var d1={},gQ=new WeakMap;function Xl(g,b){if(typeof g=="object"&&g!==null){var S=gQ.get(g);return S!==void 0?S:(b={value:g,source:b,stack:W(b)},gQ.set(g,b),b)}return{value:g,source:b,stack:W(b)}}var h1=[],f1=0,aE=null,lE=0,Zl=[],Jl=0,om=null,ah=1,lh="";function am(g,b){h1[f1++]=lE,h1[f1++]=aE,aE=g,lE=b}function pQ(g,b,S){Zl[Jl++]=ah,Zl[Jl++]=lh,Zl[Jl++]=om,om=g;var E=ah;g=lh;var B=32-Et(E)-1;E&=~(1<<B),S+=1;var j=32-Et(b)+B;if(30<j){var ee=B-B%5;j=(E&(1<<ee)-1).toString(32),E>>=ee,B-=ee,ah=1<<32-Et(b)+B|S<<B|E,lh=j+g}else ah=1<<j|S<<B|E,lh=g}function GP(g){g.return!==null&&(am(g,1),pQ(g,1,0))}function KP(g){for(;g===aE;)aE=h1[--f1],h1[f1]=null,lE=h1[--f1],h1[f1]=null;for(;g===om;)om=Zl[--Jl],Zl[Jl]=null,lh=Zl[--Jl],Zl[Jl]=null,ah=Zl[--Jl],Zl[Jl]=null}var Ca=null,Mo=null,$i=!1,tu=null,$u=!1,QP=Error(i(519));function lm(g){var b=Error(i(418,""));throw C_(Xl(b,g)),QP}function mQ(g){var b=g.stateNode,S=g.type,E=g.memoizedProps;switch(b[Vt]=g,b[zt]=E,S){case"dialog":ki("cancel",b),ki("close",b);break;case"iframe":case"object":case"embed":ki("load",b);break;case"video":case"audio":for(S=0;S<j_.length;S++)ki(j_[S],b);break;case"source":ki("error",b);break;case"img":case"image":case"link":ki("error",b),ki("load",b);break;case"details":ki("toggle",b);break;case"input":ki("invalid",b),MK(b,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),QL(b);break;case"select":ki("invalid",b);break;case"textarea":ki("invalid",b),NK(b,E.value,E.defaultValue,E.children),QL(b)}S=E.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||b.textContent===""+S||E.suppressHydrationWarning===!0||kX(b.textContent,S)?(E.popover!=null&&(ki("beforetoggle",b),ki("toggle",b)),E.onScroll!=null&&ki("scroll",b),E.onScrollEnd!=null&&ki("scrollend",b),E.onClick!=null&&(b.onclick=VE),b=!0):b=!1,b||lm(g)}function bQ(g){for(Ca=g.return;Ca;)switch(Ca.tag){case 3:case 27:$u=!0;return;case 5:case 13:$u=!1;return;default:Ca=Ca.return}}function v_(g){if(g!==Ca)return!1;if(!$i)return bQ(g),$i=!0,!1;var b=!1,S;if((S=g.tag!==3&&g.tag!==27)&&((S=g.tag===5)&&(S=g.type,S=!(S!=="form"&&S!=="button")||p4(g.type,g.memoizedProps)),S=!S),S&&(b=!0),b&&Mo&&lm(g),bQ(g),g.tag===13){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));e:{for(g=g.nextSibling,b=0;g;){if(g.nodeType===8)if(S=g.data,S==="/$"){if(b===0){Mo=iu(g.nextSibling);break e}b--}else S!=="$"&&S!=="$!"&&S!=="$?"||b++;g=g.nextSibling}Mo=null}}else Mo=Ca?iu(g.stateNode.nextSibling):null;return!0}function y_(){Mo=Ca=null,$i=!1}function C_(g){tu===null?tu=[g]:tu.push(g)}var __=Error(i(460)),vQ=Error(i(474)),YP={then:function(){}};function yQ(g){return g=g.status,g==="fulfilled"||g==="rejected"}function cE(){}function CQ(g,b,S){switch(S=g[S],S===void 0?g.push(b):S!==b&&(b.then(cE,cE),b=S),b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,g===__?Error(i(483)):g;default:if(typeof b.status=="string")b.then(cE,cE);else{if(g=Ir,g!==null&&100<g.shellSuspendCounter)throw Error(i(482));g=b,g.status="pending",g.then(function(E){if(b.status==="pending"){var B=b;B.status="fulfilled",B.value=E}},function(E){if(b.status==="pending"){var B=b;B.status="rejected",B.reason=E}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,g===__?Error(i(483)):g}throw w_=b,__}}var w_=null;function _Q(){if(w_===null)throw Error(i(459));var g=w_;return w_=null,g}var g1=null,S_=0;function uE(g){var b=S_;return S_+=1,g1===null&&(g1=[]),CQ(g1,g,b)}function x_(g,b){b=b.props.ref,g.ref=b!==void 0?b:null}function dE(g,b){throw b.$$typeof===s?Error(i(525)):(g=Object.prototype.toString.call(b),Error(i(31,g==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":g)))}function wQ(g){var b=g._init;return b(g._payload)}function SQ(g){function b(We,Fe){if(g){var qe=We.deletions;qe===null?(We.deletions=[Fe],We.flags|=16):qe.push(Fe)}}function S(We,Fe){if(!g)return null;for(;Fe!==null;)b(We,Fe),Fe=Fe.sibling;return null}function E(We){for(var Fe=new Map;We!==null;)We.key!==null?Fe.set(We.key,We):Fe.set(We.index,We),We=We.sibling;return Fe}function B(We,Fe){return We=gg(We,Fe),We.index=0,We.sibling=null,We}function j(We,Fe,qe){return We.index=qe,g?(qe=We.alternate,qe!==null?(qe=qe.index,qe<Fe?(We.flags|=33554434,Fe):qe):(We.flags|=33554434,Fe)):(We.flags|=1048576,Fe)}function ee(We){return g&&We.alternate===null&&(We.flags|=33554434),We}function de(We,Fe,qe,vt){return Fe===null||Fe.tag!==6?(Fe=jO(qe,We.mode,vt),Fe.return=We,Fe):(Fe=B(Fe,qe),Fe.return=We,Fe)}function Se(We,Fe,qe,vt){var tn=qe.type;return tn===l?ft(We,Fe,qe.props.children,vt,qe.key):Fe!==null&&(Fe.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===y&&wQ(tn)===Fe.type)?(Fe=B(Fe,qe.props),x_(Fe,qe),Fe.return=We,Fe):(Fe=TE(qe.type,qe.key,qe.props,null,We.mode,vt),x_(Fe,qe),Fe.return=We,Fe)}function Be(We,Fe,qe,vt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==qe.containerInfo||Fe.stateNode.implementation!==qe.implementation?(Fe=UO(qe,We.mode,vt),Fe.return=We,Fe):(Fe=B(Fe,qe.children||[]),Fe.return=We,Fe)}function ft(We,Fe,qe,vt,tn){return Fe===null||Fe.tag!==7?(Fe=vm(qe,We.mode,vt,tn),Fe.return=We,Fe):(Fe=B(Fe,qe),Fe.return=We,Fe)}function wt(We,Fe,qe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=jO(""+Fe,We.mode,qe),Fe.return=We,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case o:return qe=TE(Fe.type,Fe.key,Fe.props,null,We.mode,qe),x_(qe,Fe),qe.return=We,qe;case a:return Fe=UO(Fe,We.mode,qe),Fe.return=We,Fe;case y:var vt=Fe._init;return Fe=vt(Fe._payload),wt(We,Fe,qe)}if(Q(Fe)||k(Fe))return Fe=vm(Fe,We.mode,qe,null),Fe.return=We,Fe;if(typeof Fe.then=="function")return wt(We,uE(Fe),qe);if(Fe.$$typeof===f)return wt(We,LE(We,Fe),qe);dE(We,Fe)}return null}function Je(We,Fe,qe,vt){var tn=Fe!==null?Fe.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return tn!==null?null:de(We,Fe,""+qe,vt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case o:return qe.key===tn?Se(We,Fe,qe,vt):null;case a:return qe.key===tn?Be(We,Fe,qe,vt):null;case y:return tn=qe._init,qe=tn(qe._payload),Je(We,Fe,qe,vt)}if(Q(qe)||k(qe))return tn!==null?null:ft(We,Fe,qe,vt,null);if(typeof qe.then=="function")return Je(We,Fe,uE(qe),vt);if(qe.$$typeof===f)return Je(We,Fe,LE(We,qe),vt);dE(We,qe)}return null}function ht(We,Fe,qe,vt,tn){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return We=We.get(qe)||null,de(Fe,We,""+vt,tn);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case o:return We=We.get(vt.key===null?qe:vt.key)||null,Se(Fe,We,vt,tn);case a:return We=We.get(vt.key===null?qe:vt.key)||null,Be(Fe,We,vt,tn);case y:var hi=vt._init;return vt=hi(vt._payload),ht(We,Fe,qe,vt,tn)}if(Q(vt)||k(vt))return We=We.get(qe)||null,ft(Fe,We,vt,tn,null);if(typeof vt.then=="function")return ht(We,Fe,qe,uE(vt),tn);if(vt.$$typeof===f)return ht(We,Fe,qe,LE(Fe,vt),tn);dE(Fe,vt)}return null}function gn(We,Fe,qe,vt){for(var tn=null,hi=null,vn=Fe,Dn=Fe=0,uo=null;vn!==null&&Dn<qe.length;Dn++){vn.index>Dn?(uo=vn,vn=null):uo=vn.sibling;var ji=Je(We,vn,qe[Dn],vt);if(ji===null){vn===null&&(vn=uo);break}g&&vn&&ji.alternate===null&&b(We,vn),Fe=j(ji,Fe,Dn),hi===null?tn=ji:hi.sibling=ji,hi=ji,vn=uo}if(Dn===qe.length)return S(We,vn),$i&&am(We,Dn),tn;if(vn===null){for(;Dn<qe.length;Dn++)vn=wt(We,qe[Dn],vt),vn!==null&&(Fe=j(vn,Fe,Dn),hi===null?tn=vn:hi.sibling=vn,hi=vn);return $i&&am(We,Dn),tn}for(vn=E(vn);Dn<qe.length;Dn++)uo=ht(vn,We,Dn,qe[Dn],vt),uo!==null&&(g&&uo.alternate!==null&&vn.delete(uo.key===null?Dn:uo.key),Fe=j(uo,Fe,Dn),hi===null?tn=uo:hi.sibling=uo,hi=uo);return g&&vn.forEach(function(_g){return b(We,_g)}),$i&&am(We,Dn),tn}function jn(We,Fe,qe,vt){if(qe==null)throw Error(i(151));for(var tn=null,hi=null,vn=Fe,Dn=Fe=0,uo=null,ji=qe.next();vn!==null&&!ji.done;Dn++,ji=qe.next()){vn.index>Dn?(uo=vn,vn=null):uo=vn.sibling;var _g=Je(We,vn,ji.value,vt);if(_g===null){vn===null&&(vn=uo);break}g&&vn&&_g.alternate===null&&b(We,vn),Fe=j(_g,Fe,Dn),hi===null?tn=_g:hi.sibling=_g,hi=_g,vn=uo}if(ji.done)return S(We,vn),$i&&am(We,Dn),tn;if(vn===null){for(;!ji.done;Dn++,ji=qe.next())ji=wt(We,ji.value,vt),ji!==null&&(Fe=j(ji,Fe,Dn),hi===null?tn=ji:hi.sibling=ji,hi=ji);return $i&&am(We,Dn),tn}for(vn=E(vn);!ji.done;Dn++,ji=qe.next())ji=ht(vn,We,Dn,ji.value,vt),ji!==null&&(g&&ji.alternate!==null&&vn.delete(ji.key===null?Dn:ji.key),Fe=j(ji,Fe,Dn),hi===null?tn=ji:hi.sibling=ji,hi=ji);return g&&vn.forEach(function(iLe){return b(We,iLe)}),$i&&am(We,Dn),tn}function rs(We,Fe,qe,vt){if(typeof qe=="object"&&qe!==null&&qe.type===l&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case o:e:{for(var tn=qe.key;Fe!==null;){if(Fe.key===tn){if(tn=qe.type,tn===l){if(Fe.tag===7){S(We,Fe.sibling),vt=B(Fe,qe.props.children),vt.return=We,We=vt;break e}}else if(Fe.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===y&&wQ(tn)===Fe.type){S(We,Fe.sibling),vt=B(Fe,qe.props),x_(vt,qe),vt.return=We,We=vt;break e}S(We,Fe);break}else b(We,Fe);Fe=Fe.sibling}qe.type===l?(vt=vm(qe.props.children,We.mode,vt,qe.key),vt.return=We,We=vt):(vt=TE(qe.type,qe.key,qe.props,null,We.mode,vt),x_(vt,qe),vt.return=We,We=vt)}return ee(We);case a:e:{for(tn=qe.key;Fe!==null;){if(Fe.key===tn)if(Fe.tag===4&&Fe.stateNode.containerInfo===qe.containerInfo&&Fe.stateNode.implementation===qe.implementation){S(We,Fe.sibling),vt=B(Fe,qe.children||[]),vt.return=We,We=vt;break e}else{S(We,Fe);break}else b(We,Fe);Fe=Fe.sibling}vt=UO(qe,We.mode,vt),vt.return=We,We=vt}return ee(We);case y:return tn=qe._init,qe=tn(qe._payload),rs(We,Fe,qe,vt)}if(Q(qe))return gn(We,Fe,qe,vt);if(k(qe)){if(tn=k(qe),typeof tn!="function")throw Error(i(150));return qe=tn.call(qe),jn(We,Fe,qe,vt)}if(typeof qe.then=="function")return rs(We,Fe,uE(qe),vt);if(qe.$$typeof===f)return rs(We,Fe,LE(We,qe),vt);dE(We,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Fe!==null&&Fe.tag===6?(S(We,Fe.sibling),vt=B(Fe,qe),vt.return=We,We=vt):(S(We,Fe),vt=jO(qe,We.mode,vt),vt.return=We,We=vt),ee(We)):S(We,Fe)}return function(We,Fe,qe,vt){try{S_=0;var tn=rs(We,Fe,qe,vt);return g1=null,tn}catch(vn){if(vn===__)throw vn;var hi=ic(29,vn,null,We.mode);return hi.lanes=vt,hi.return=We,hi}finally{}}}var cm=SQ(!0),xQ=SQ(!1),p1=se(null),hE=se(0);function kQ(g,b){g=yh,oe(hE,g),oe(p1,b),yh=g|b.baseLanes}function XP(){oe(hE,yh),oe(p1,p1.current)}function ZP(){yh=hE.current,X(p1),X(hE)}var ec=se(null),ju=null;function ig(g){var b=g.alternate;oe(Qs,Qs.current&1),oe(ec,g),ju===null&&(b===null||p1.current!==null||b.memoizedState!==null)&&(ju=g)}function LQ(g){if(g.tag===22){if(oe(Qs,Qs.current),oe(ec,g),ju===null){var b=g.alternate;b!==null&&b.memoizedState!==null&&(ju=g)}}else rg()}function rg(){oe(Qs,Qs.current),oe(ec,ec.current)}function ch(g){X(ec),ju===g&&(ju=null),X(Qs)}var Qs=se(0);function fE(g){for(var b=g;b!==null;){if(b.tag===13){var S=b.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if(b.flags&128)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var jxe=typeof AbortController<"u"?AbortController:function(){var g=[],b=this.signal={aborted:!1,addEventListener:function(S,E){g.push(E)}};this.abort=function(){b.aborted=!0,g.forEach(function(S){return S()})}},Uxe=n.unstable_scheduleCallback,qxe=n.unstable_NormalPriority,Ys={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function JP(){return{controller:new jxe,data:new Map,refCount:0}}function k_(g){g.refCount--,g.refCount===0&&Uxe(qxe,function(){g.controller.abort()})}var L_=null,eO=0,m1=0,b1=null;function Gxe(g,b){if(L_===null){var S=L_=[];eO=0,m1=o4(),b1={status:"pending",value:void 0,then:function(E){S.push(E)}}}return eO++,b.then(EQ,EQ),b}function EQ(){if(--eO===0&&L_!==null){b1!==null&&(b1.status="fulfilled");var g=L_;L_=null,m1=0,b1=null;for(var b=0;b<g.length;b++)(0,g[b])()}}function Kxe(g,b){var S=[],E={status:"pending",value:null,reason:null,then:function(B){S.push(B)}};return g.then(function(){E.status="fulfilled",E.value=b;for(var B=0;B<S.length;B++)(0,S[B])(b)},function(B){for(E.status="rejected",E.reason=B,B=0;B<S.length;B++)(0,S[B])(void 0)}),E}var DQ=L.S;L.S=function(g,b){typeof b=="object"&&b!==null&&typeof b.then=="function"&&Gxe(g,b),DQ!==null&&DQ(g,b)};var um=se(null);function tO(){var g=um.current;return g!==null?g:Ir.pooledCache}function gE(g,b){b===null?oe(um,um.current):oe(um,b.pool)}function TQ(){var g=tO();return g===null?null:{parent:Ys._currentValue,pool:g}}var sg=0,ai=null,cr=null,Rs=null,pE=!1,v1=!1,dm=!1,mE=0,E_=0,y1=null,Qxe=0;function vs(){throw Error(i(321))}function nO(g,b){if(b===null)return!1;for(var S=0;S<b.length&&S<g.length;S++)if(!vl(g[S],b[S]))return!1;return!0}function iO(g,b,S,E,B,j){return sg=j,ai=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,L.H=g===null||g.memoizedState===null?hm:og,dm=!1,j=S(E,B),dm=!1,v1&&(j=MQ(b,S,E,B)),IQ(g),j}function IQ(g){L.H=Uu;var b=cr!==null&&cr.next!==null;if(sg=0,Rs=cr=ai=null,pE=!1,E_=0,y1=null,b)throw Error(i(300));g===null||lo||(g=g.dependencies,g!==null&&kE(g)&&(lo=!0))}function MQ(g,b,S,E){ai=g;var B=0;do{if(v1&&(y1=null),E_=0,v1=!1,25<=B)throw Error(i(301));if(B+=1,Rs=cr=null,g.updateQueue!=null){var j=g.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}L.H=fm,j=b(S,E)}while(v1);return j}function Yxe(){var g=L.H,b=g.useState()[0];return b=typeof b.then=="function"?D_(b):b,g=g.useState()[0],(cr!==null?cr.memoizedState:null)!==g&&(ai.flags|=1024),b}function rO(){var g=mE!==0;return mE=0,g}function sO(g,b,S){b.updateQueue=g.updateQueue,b.flags&=-2053,g.lanes&=~S}function oO(g){if(pE){for(g=g.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}pE=!1}sg=0,Rs=cr=ai=null,v1=!1,E_=mE=0,y1=null}function ja(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?ai.memoizedState=Rs=g:Rs=Rs.next=g,Rs}function Ns(){if(cr===null){var g=ai.alternate;g=g!==null?g.memoizedState:null}else g=cr.next;var b=Rs===null?ai.memoizedState:Rs.next;if(b!==null)Rs=b,cr=g;else{if(g===null)throw ai.alternate===null?Error(i(467)):Error(i(310));cr=g,g={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Rs===null?ai.memoizedState=Rs=g:Rs=Rs.next=g}return Rs}var bE;bE=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function D_(g){var b=E_;return E_+=1,y1===null&&(y1=[]),g=CQ(y1,g,b),b=ai,(Rs===null?b.memoizedState:Rs.next)===null&&(b=b.alternate,L.H=b===null||b.memoizedState===null?hm:og),g}function vE(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return D_(g);if(g.$$typeof===f)return Xo(g)}throw Error(i(438,String(g)))}function aO(g){var b=null,S=ai.updateQueue;if(S!==null&&(b=S.memoCache),b==null){var E=ai.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(b={data:E.data.map(function(B){return B.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),S===null&&(S=bE(),ai.updateQueue=S),S.memoCache=b,S=b.data[b.index],S===void 0)for(S=b.data[b.index]=Array(g),E=0;E<g;E++)S[E]=_;return b.index++,S}function uh(g,b){return typeof b=="function"?b(g):b}function yE(g){var b=Ns();return lO(b,cr,g)}function lO(g,b,S){var E=g.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=S;var B=g.baseQueue,j=E.pending;if(j!==null){if(B!==null){var ee=B.next;B.next=j.next,j.next=ee}b.baseQueue=B=j,E.pending=null}if(j=g.baseState,B===null)g.memoizedState=j;else{b=B.next;var de=ee=null,Se=null,Be=b,ft=!1;do{var wt=Be.lane&-536870913;if(wt!==Be.lane?(Ri&wt)===wt:(sg&wt)===wt){var Je=Be.revertLane;if(Je===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),wt===m1&&(ft=!0);else if((sg&Je)===Je){Be=Be.next,Je===m1&&(ft=!0);continue}else wt={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},Se===null?(de=Se=wt,ee=j):Se=Se.next=wt,ai.lanes|=Je,pg|=Je;wt=Be.action,dm&&S(j,wt),j=Be.hasEagerState?Be.eagerState:S(j,wt)}else Je={lane:wt,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},Se===null?(de=Se=Je,ee=j):Se=Se.next=Je,ai.lanes|=wt,pg|=wt;Be=Be.next}while(Be!==null&&Be!==b);if(Se===null?ee=j:Se.next=de,!vl(j,g.memoizedState)&&(lo=!0,ft&&(S=b1,S!==null)))throw S;g.memoizedState=j,g.baseState=ee,g.baseQueue=Se,E.lastRenderedState=j}return B===null&&(E.lanes=0),[g.memoizedState,E.dispatch]}function cO(g){var b=Ns(),S=b.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=g;var E=S.dispatch,B=S.pending,j=b.memoizedState;if(B!==null){S.pending=null;var ee=B=B.next;do j=g(j,ee.action),ee=ee.next;while(ee!==B);vl(j,b.memoizedState)||(lo=!0),b.memoizedState=j,b.baseQueue===null&&(b.baseState=j),S.lastRenderedState=j}return[j,E]}function RQ(g,b,S){var E=ai,B=Ns(),j=$i;if(j){if(S===void 0)throw Error(i(407));S=S()}else S=b();var ee=!vl((cr||B).memoizedState,S);if(ee&&(B.memoizedState=S,lo=!0),B=B.queue,hO(PQ.bind(null,E,B,g),[g]),B.getSnapshot!==b||ee||Rs!==null&&Rs.memoizedState.tag&1){if(E.flags|=2048,C1(9,AQ.bind(null,E,B,S,b),{destroy:void 0},null),Ir===null)throw Error(i(349));j||sg&60||NQ(E,b,S)}return S}function NQ(g,b,S){g.flags|=16384,g={getSnapshot:b,value:S},b=ai.updateQueue,b===null?(b=bE(),ai.updateQueue=b,b.stores=[g]):(S=b.stores,S===null?b.stores=[g]:S.push(g))}function AQ(g,b,S,E){b.value=S,b.getSnapshot=E,OQ(b)&&FQ(g)}function PQ(g,b,S){return S(function(){OQ(b)&&FQ(g)})}function OQ(g){var b=g.getSnapshot;g=g.value;try{var S=b();return!vl(g,S)}catch{return!0}}function FQ(g){var b=ng(g,2);b!==null&&_a(b,g,2)}function uO(g){var b=ja();if(typeof g=="function"){var S=g;if(g=S(),dm){Re(!0);try{S()}finally{Re(!1)}}}return b.memoizedState=b.baseState=g,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:g},b}function BQ(g,b,S,E){return g.baseState=S,lO(g,cr,typeof E=="function"?E:uh)}function Xxe(g,b,S,E,B){if(wE(g))throw Error(i(485));if(g=b.action,g!==null){var j={payload:B,action:g,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){j.listeners.push(ee)}};L.T!==null?S(!0):j.isTransition=!1,E(j),S=b.pending,S===null?(j.next=b.pending=j,HQ(b,j)):(j.next=S.next,b.pending=S.next=j)}}function HQ(g,b){var S=b.action,E=b.payload,B=g.state;if(b.isTransition){var j=L.T,ee={};L.T=ee;try{var de=S(B,E),Se=L.S;Se!==null&&Se(ee,de),VQ(g,b,de)}catch(Be){dO(g,b,Be)}finally{L.T=j}}else try{j=S(B,E),VQ(g,b,j)}catch(Be){dO(g,b,Be)}}function VQ(g,b,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(E){zQ(g,b,E)},function(E){return dO(g,b,E)}):zQ(g,b,S)}function zQ(g,b,S){b.status="fulfilled",b.value=S,WQ(b),g.state=S,b=g.pending,b!==null&&(S=b.next,S===b?g.pending=null:(S=S.next,b.next=S,HQ(g,S)))}function dO(g,b,S){var E=g.pending;if(g.pending=null,E!==null){E=E.next;do b.status="rejected",b.reason=S,WQ(b),b=b.next;while(b!==E)}g.action=null}function WQ(g){g=g.listeners;for(var b=0;b<g.length;b++)(0,g[b])()}function $Q(g,b){return b}function jQ(g,b){if($i){var S=Ir.formState;if(S!==null){e:{var E=ai;if($i){if(Mo){t:{for(var B=Mo,j=$u;B.nodeType!==8;){if(!j){B=null;break t}if(B=iu(B.nextSibling),B===null){B=null;break t}}j=B.data,B=j==="F!"||j==="F"?B:null}if(B){Mo=iu(B.nextSibling),E=B.data==="F!";break e}}lm(E)}E=!1}E&&(b=S[0])}}return S=ja(),S.memoizedState=S.baseState=b,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$Q,lastRenderedState:b},S.queue=E,S=lY.bind(null,ai,E),E.dispatch=S,E=uO(!1),j=bO.bind(null,ai,!1,E.queue),E=ja(),B={state:b,dispatch:null,action:g,pending:null},E.queue=B,S=Xxe.bind(null,ai,B,j,S),B.dispatch=S,E.memoizedState=g,[b,S,!1]}function UQ(g){var b=Ns();return qQ(b,cr,g)}function qQ(g,b,S){b=lO(g,b,$Q)[0],g=yE(uh)[0],b=typeof b=="object"&&b!==null&&typeof b.then=="function"?D_(b):b;var E=Ns(),B=E.queue,j=B.dispatch;return S!==E.memoizedState&&(ai.flags|=2048,C1(9,Zxe.bind(null,B,S),{destroy:void 0},null)),[b,j,g]}function Zxe(g,b){g.action=b}function GQ(g){var b=Ns(),S=cr;if(S!==null)return qQ(b,S,g);Ns(),b=b.memoizedState,S=Ns();var E=S.queue.dispatch;return S.memoizedState=g,[b,E,!1]}function C1(g,b,S,E){return g={tag:g,create:b,inst:S,deps:E,next:null},b=ai.updateQueue,b===null&&(b=bE(),ai.updateQueue=b),S=b.lastEffect,S===null?b.lastEffect=g.next=g:(E=S.next,S.next=g,g.next=E,b.lastEffect=g),g}function KQ(){return Ns().memoizedState}function CE(g,b,S,E){var B=ja();ai.flags|=g,B.memoizedState=C1(1|b,S,{destroy:void 0},E===void 0?null:E)}function _E(g,b,S,E){var B=Ns();E=E===void 0?null:E;var j=B.memoizedState.inst;cr!==null&&E!==null&&nO(E,cr.memoizedState.deps)?B.memoizedState=C1(b,S,j,E):(ai.flags|=g,B.memoizedState=C1(1|b,S,j,E))}function QQ(g,b){CE(8390656,8,g,b)}function hO(g,b){_E(2048,8,g,b)}function YQ(g,b){return _E(4,2,g,b)}function XQ(g,b){return _E(4,4,g,b)}function ZQ(g,b){if(typeof b=="function"){g=g();var S=b(g);return function(){typeof S=="function"?S():b(null)}}if(b!=null)return g=g(),b.current=g,function(){b.current=null}}function JQ(g,b,S){S=S!=null?S.concat([g]):null,_E(4,4,ZQ.bind(null,b,g),S)}function fO(){}function eY(g,b){var S=Ns();b=b===void 0?null:b;var E=S.memoizedState;return b!==null&&nO(b,E[1])?E[0]:(S.memoizedState=[g,b],g)}function tY(g,b){var S=Ns();b=b===void 0?null:b;var E=S.memoizedState;if(b!==null&&nO(b,E[1]))return E[0];if(E=g(),dm){Re(!0);try{g()}finally{Re(!1)}}return S.memoizedState=[E,b],E}function gO(g,b,S){return S===void 0||sg&1073741824?g.memoizedState=b:(g.memoizedState=S,g=iX(),ai.lanes|=g,pg|=g,S)}function nY(g,b,S,E){return vl(S,b)?S:p1.current!==null?(g=gO(g,S,E),vl(g,b)||(lo=!0),g):sg&42?(g=iX(),ai.lanes|=g,pg|=g,b):(lo=!0,g.memoizedState=S)}function iY(g,b,S,E,B){var j=G.p;G.p=j!==0&&8>j?j:8;var ee=L.T,de={};L.T=de,bO(g,!1,b,S);try{var Se=B(),Be=L.S;if(Be!==null&&Be(de,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ft=Kxe(Se,E);T_(g,b,ft,wl(g))}else T_(g,b,E,wl(g))}catch(wt){T_(g,b,{then:function(){},status:"rejected",reason:wt},wl())}finally{G.p=j,L.T=ee}}function Jxe(){}function pO(g,b,S,E){if(g.tag!==5)throw Error(i(476));var B=rY(g).queue;iY(g,B,b,J,S===null?Jxe:function(){return sY(g),S(E)})}function rY(g){var b=g.memoizedState;if(b!==null)return b;b={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:J},next:null};var S={};return b.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:S},next:null},g.memoizedState=b,g=g.alternate,g!==null&&(g.memoizedState=b),b}function sY(g){var b=rY(g).next.queue;T_(g,b,{},wl())}function mO(){return Xo(Q_)}function oY(){return Ns().memoizedState}function aY(){return Ns().memoizedState}function eke(g){for(var b=g.return;b!==null;){switch(b.tag){case 24:case 3:var S=wl();g=cg(S);var E=ug(b,g,S);E!==null&&(_a(E,b,S),R_(E,b,S)),b={cache:JP()},g.payload=b;return}b=b.return}}function tke(g,b,S){var E=wl();S={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},wE(g)?cY(b,S):(S=qP(g,b,S,E),S!==null&&(_a(S,g,E),uY(S,b,E)))}function lY(g,b,S){var E=wl();T_(g,b,S,E)}function T_(g,b,S,E){var B={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(wE(g))cY(b,B);else{var j=g.alternate;if(g.lanes===0&&(j===null||j.lanes===0)&&(j=b.lastRenderedReducer,j!==null))try{var ee=b.lastRenderedState,de=j(ee,S);if(B.hasEagerState=!0,B.eagerState=de,vl(de,ee))return sE(g,b,B,0),Ir===null&&rE(),!1}catch{}finally{}if(S=qP(g,b,B,E),S!==null)return _a(S,g,E),uY(S,b,E),!0}return!1}function bO(g,b,S,E){if(E={lane:2,revertLane:o4(),action:E,hasEagerState:!1,eagerState:null,next:null},wE(g)){if(b)throw Error(i(479))}else b=qP(g,S,E,2),b!==null&&_a(b,g,2)}function wE(g){var b=g.alternate;return g===ai||b!==null&&b===ai}function cY(g,b){v1=pE=!0;var S=g.pending;S===null?b.next=b:(b.next=S.next,S.next=b),g.pending=b}function uY(g,b,S){if(S&4194176){var E=b.lanes;E&=g.pendingLanes,S|=E,b.lanes=S,Oe(g,S)}}var Uu={readContext:Xo,use:vE,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useLayoutEffect:vs,useInsertionEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useSyncExternalStore:vs,useId:vs};Uu.useCacheRefresh=vs,Uu.useMemoCache=vs,Uu.useHostTransitionStatus=vs,Uu.useFormState=vs,Uu.useActionState=vs,Uu.useOptimistic=vs;var hm={readContext:Xo,use:vE,useCallback:function(g,b){return ja().memoizedState=[g,b===void 0?null:b],g},useContext:Xo,useEffect:QQ,useImperativeHandle:function(g,b,S){S=S!=null?S.concat([g]):null,CE(4194308,4,ZQ.bind(null,b,g),S)},useLayoutEffect:function(g,b){return CE(4194308,4,g,b)},useInsertionEffect:function(g,b){CE(4,2,g,b)},useMemo:function(g,b){var S=ja();b=b===void 0?null:b;var E=g();if(dm){Re(!0);try{g()}finally{Re(!1)}}return S.memoizedState=[E,b],E},useReducer:function(g,b,S){var E=ja();if(S!==void 0){var B=S(b);if(dm){Re(!0);try{S(b)}finally{Re(!1)}}}else B=b;return E.memoizedState=E.baseState=B,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:B},E.queue=g,g=g.dispatch=tke.bind(null,ai,g),[E.memoizedState,g]},useRef:function(g){var b=ja();return g={current:g},b.memoizedState=g},useState:function(g){g=uO(g);var b=g.queue,S=lY.bind(null,ai,b);return b.dispatch=S,[g.memoizedState,S]},useDebugValue:fO,useDeferredValue:function(g,b){var S=ja();return gO(S,g,b)},useTransition:function(){var g=uO(!1);return g=iY.bind(null,ai,g.queue,!0,!1),ja().memoizedState=g,[!1,g]},useSyncExternalStore:function(g,b,S){var E=ai,B=ja();if($i){if(S===void 0)throw Error(i(407));S=S()}else{if(S=b(),Ir===null)throw Error(i(349));Ri&60||NQ(E,b,S)}B.memoizedState=S;var j={value:S,getSnapshot:b};return B.queue=j,QQ(PQ.bind(null,E,j,g),[g]),E.flags|=2048,C1(9,AQ.bind(null,E,j,S,b),{destroy:void 0},null),S},useId:function(){var g=ja(),b=Ir.identifierPrefix;if($i){var S=lh,E=ah;S=(E&~(1<<32-Et(E)-1)).toString(32)+S,b=":"+b+"R"+S,S=mE++,0<S&&(b+="H"+S.toString(32)),b+=":"}else S=Qxe++,b=":"+b+"r"+S.toString(32)+":";return g.memoizedState=b},useCacheRefresh:function(){return ja().memoizedState=eke.bind(null,ai)}};hm.useMemoCache=aO,hm.useHostTransitionStatus=mO,hm.useFormState=jQ,hm.useActionState=jQ,hm.useOptimistic=function(g){var b=ja();b.memoizedState=b.baseState=g;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=S,b=bO.bind(null,ai,!0,S),S.dispatch=b,[g,b]};var og={readContext:Xo,use:vE,useCallback:eY,useContext:Xo,useEffect:hO,useImperativeHandle:JQ,useInsertionEffect:YQ,useLayoutEffect:XQ,useMemo:tY,useReducer:yE,useRef:KQ,useState:function(){return yE(uh)},useDebugValue:fO,useDeferredValue:function(g,b){var S=Ns();return nY(S,cr.memoizedState,g,b)},useTransition:function(){var g=yE(uh)[0],b=Ns().memoizedState;return[typeof g=="boolean"?g:D_(g),b]},useSyncExternalStore:RQ,useId:oY};og.useCacheRefresh=aY,og.useMemoCache=aO,og.useHostTransitionStatus=mO,og.useFormState=UQ,og.useActionState=UQ,og.useOptimistic=function(g,b){var S=Ns();return BQ(S,cr,g,b)};var fm={readContext:Xo,use:vE,useCallback:eY,useContext:Xo,useEffect:hO,useImperativeHandle:JQ,useInsertionEffect:YQ,useLayoutEffect:XQ,useMemo:tY,useReducer:cO,useRef:KQ,useState:function(){return cO(uh)},useDebugValue:fO,useDeferredValue:function(g,b){var S=Ns();return cr===null?gO(S,g,b):nY(S,cr.memoizedState,g,b)},useTransition:function(){var g=cO(uh)[0],b=Ns().memoizedState;return[typeof g=="boolean"?g:D_(g),b]},useSyncExternalStore:RQ,useId:oY};fm.useCacheRefresh=aY,fm.useMemoCache=aO,fm.useHostTransitionStatus=mO,fm.useFormState=GQ,fm.useActionState=GQ,fm.useOptimistic=function(g,b){var S=Ns();return cr!==null?BQ(S,cr,g,b):(S.baseState=g,[g,S.queue.dispatch])};function vO(g,b,S,E){b=g.memoizedState,S=S(E,b),S=S==null?b:I({},b,S),g.memoizedState=S,g.lanes===0&&(g.updateQueue.baseState=S)}var yO={isMounted:function(g){return(g=g._reactInternals)?$(g)===g:!1},enqueueSetState:function(g,b,S){g=g._reactInternals;var E=wl(),B=cg(E);B.payload=b,S!=null&&(B.callback=S),b=ug(g,B,E),b!==null&&(_a(b,g,E),R_(b,g,E))},enqueueReplaceState:function(g,b,S){g=g._reactInternals;var E=wl(),B=cg(E);B.tag=1,B.payload=b,S!=null&&(B.callback=S),b=ug(g,B,E),b!==null&&(_a(b,g,E),R_(b,g,E))},enqueueForceUpdate:function(g,b){g=g._reactInternals;var S=wl(),E=cg(S);E.tag=2,b!=null&&(E.callback=b),b=ug(g,E,S),b!==null&&(_a(b,g,S),R_(b,g,S))}};function dY(g,b,S,E,B,j,ee){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(E,j,ee):b.prototype&&b.prototype.isPureReactComponent?!m_(S,E)||!m_(B,j):!0}function hY(g,b,S,E){g=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(S,E),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(S,E),b.state!==g&&yO.enqueueReplaceState(b,b.state,null)}function gm(g,b){var S=b;if("ref"in b){S={};for(var E in b)E!=="ref"&&(S[E]=b[E])}if(g=g.defaultProps){S===b&&(S=I({},S));for(var B in g)S[B]===void 0&&(S[B]=g[B])}return S}var SE=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)};function fY(g){SE(g)}function gY(g){console.error(g)}function pY(g){SE(g)}function xE(g,b){try{var S=g.onUncaughtError;S(b.value,{componentStack:b.stack})}catch(E){setTimeout(function(){throw E})}}function mY(g,b,S){try{var E=g.onCaughtError;E(S.value,{componentStack:S.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function CO(g,b,S){return S=cg(S),S.tag=3,S.payload={element:null},S.callback=function(){xE(g,b)},S}function bY(g){return g=cg(g),g.tag=3,g}function vY(g,b,S,E){var B=S.type.getDerivedStateFromError;if(typeof B=="function"){var j=E.value;g.payload=function(){return B(j)},g.callback=function(){mY(b,S,E)}}var ee=S.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(g.callback=function(){mY(b,S,E),typeof B!="function"&&(mg===null?mg=new Set([this]):mg.add(this));var de=E.stack;this.componentDidCatch(E.value,{componentStack:de!==null?de:""})})}function nke(g,b,S,E,B){if(S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(b=S.alternate,b!==null&&M_(b,S,B,!0),S=ec.current,S!==null){switch(S.tag){case 13:return ju===null?t4():S.alternate===null&&is===0&&(is=3),S.flags&=-257,S.flags|=65536,S.lanes=B,E===YP?S.flags|=16384:(b=S.updateQueue,b===null?S.updateQueue=new Set([E]):b.add(E),i4(g,E,B)),!1;case 22:return S.flags|=65536,E===YP?S.flags|=16384:(b=S.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([E])},S.updateQueue=b):(S=b.retryQueue,S===null?b.retryQueue=new Set([E]):S.add(E)),i4(g,E,B)),!1}throw Error(i(435,S.tag))}return i4(g,E,B),t4(),!1}if($i)return b=ec.current,b!==null?(!(b.flags&65536)&&(b.flags|=256),b.flags|=65536,b.lanes=B,E!==QP&&(g=Error(i(422),{cause:E}),C_(Xl(g,S)))):(E!==QP&&(b=Error(i(423),{cause:E}),C_(Xl(b,S))),g=g.current.alternate,g.flags|=65536,B&=-B,g.lanes|=B,E=Xl(E,S),B=CO(g.stateNode,E,B),PO(g,B),is!==4&&(is=2)),!1;var j=Error(i(520),{cause:E});if(j=Xl(j,S),V_===null?V_=[j]:V_.push(j),is!==4&&(is=2),b===null)return!0;E=Xl(E,S),S=b;do{switch(S.tag){case 3:return S.flags|=65536,g=B&-B,S.lanes|=g,g=CO(S.stateNode,E,g),PO(S,g),!1;case 1:if(b=S.type,j=S.stateNode,(S.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(mg===null||!mg.has(j))))return S.flags|=65536,B&=-B,S.lanes|=B,B=bY(B),vY(B,g,S,E),PO(S,B),!1}S=S.return}while(S!==null);return!1}var yY=Error(i(461)),lo=!1;function Ro(g,b,S,E){b.child=g===null?xQ(b,null,S,E):cm(b,g.child,S,E)}function CY(g,b,S,E,B){S=S.render;var j=b.ref;if("ref"in E){var ee={};for(var de in E)de!=="ref"&&(ee[de]=E[de])}else ee=E;return mm(b),E=iO(g,b,S,ee,j,B),de=rO(),g!==null&&!lo?(sO(g,b,B),dh(g,b,B)):($i&&de&&GP(b),b.flags|=1,Ro(g,b,E,B),b.child)}function _Y(g,b,S,E,B){if(g===null){var j=S.type;return typeof j=="function"&&!$O(j)&&j.defaultProps===void 0&&S.compare===null?(b.tag=15,b.type=j,wY(g,b,j,E,B)):(g=TE(S.type,null,E,b,b.mode,B),g.ref=b.ref,g.return=b,b.child=g)}if(j=g.child,!TO(g,B)){var ee=j.memoizedProps;if(S=S.compare,S=S!==null?S:m_,S(ee,E)&&g.ref===b.ref)return dh(g,b,B)}return b.flags|=1,g=gg(j,E),g.ref=b.ref,g.return=b,b.child=g}function wY(g,b,S,E,B){if(g!==null){var j=g.memoizedProps;if(m_(j,E)&&g.ref===b.ref)if(lo=!1,b.pendingProps=E=j,TO(g,B))g.flags&131072&&(lo=!0);else return b.lanes=g.lanes,dh(g,b,B)}return _O(g,b,S,E,B)}function SY(g,b,S){var E=b.pendingProps,B=E.children,j=(b.stateNode._pendingVisibility&2)!==0,ee=g!==null?g.memoizedState:null;if(I_(g,b),E.mode==="hidden"||j){if(b.flags&128){if(E=ee!==null?ee.baseLanes|S:S,g!==null){for(B=b.child=g.child,j=0;B!==null;)j=j|B.lanes|B.childLanes,B=B.sibling;b.childLanes=j&~E}else b.childLanes=0,b.child=null;return xY(g,b,E,S)}if(S&536870912)b.memoizedState={baseLanes:0,cachePool:null},g!==null&&gE(b,ee!==null?ee.cachePool:null),ee!==null?kQ(b,ee):XP(),LQ(b);else return b.lanes=b.childLanes=536870912,xY(g,b,ee!==null?ee.baseLanes|S:S,S)}else ee!==null?(gE(b,ee.cachePool),kQ(b,ee),rg(),b.memoizedState=null):(g!==null&&gE(b,null),XP(),rg());return Ro(g,b,B,S),b.child}function xY(g,b,S,E){var B=tO();return B=B===null?null:{parent:Ys._currentValue,pool:B},b.memoizedState={baseLanes:S,cachePool:B},g!==null&&gE(b,null),XP(),LQ(b),g!==null&&M_(g,b,E,!0),null}function I_(g,b){var S=b.ref;if(S===null)g!==null&&g.ref!==null&&(b.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(i(284));(g===null||g.ref!==S)&&(b.flags|=2097664)}}function _O(g,b,S,E,B){return mm(b),S=iO(g,b,S,E,void 0,B),E=rO(),g!==null&&!lo?(sO(g,b,B),dh(g,b,B)):($i&&E&&GP(b),b.flags|=1,Ro(g,b,S,B),b.child)}function kY(g,b,S,E,B,j){return mm(b),b.updateQueue=null,S=MQ(b,E,S,B),IQ(g),E=rO(),g!==null&&!lo?(sO(g,b,j),dh(g,b,j)):($i&&E&&GP(b),b.flags|=1,Ro(g,b,S,j),b.child)}function LY(g,b,S,E,B){if(mm(b),b.stateNode===null){var j=d1,ee=S.contextType;typeof ee=="object"&&ee!==null&&(j=Xo(ee)),j=new S(E,j),b.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=yO,b.stateNode=j,j._reactInternals=b,j=b.stateNode,j.props=E,j.state=b.memoizedState,j.refs={},NO(b),ee=S.contextType,j.context=typeof ee=="object"&&ee!==null?Xo(ee):d1,j.state=b.memoizedState,ee=S.getDerivedStateFromProps,typeof ee=="function"&&(vO(b,S,ee,E),j.state=b.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ee=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ee!==j.state&&yO.enqueueReplaceState(j,j.state,null),A_(b,E,j,B),N_(),j.state=b.memoizedState),typeof j.componentDidMount=="function"&&(b.flags|=4194308),E=!0}else if(g===null){j=b.stateNode;var de=b.memoizedProps,Se=gm(S,de);j.props=Se;var Be=j.context,ft=S.contextType;ee=d1,typeof ft=="object"&&ft!==null&&(ee=Xo(ft));var wt=S.getDerivedStateFromProps;ft=typeof wt=="function"||typeof j.getSnapshotBeforeUpdate=="function",de=b.pendingProps!==de,ft||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(de||Be!==ee)&&hY(b,j,E,ee),lg=!1;var Je=b.memoizedState;j.state=Je,A_(b,E,j,B),N_(),Be=b.memoizedState,de||Je!==Be||lg?(typeof wt=="function"&&(vO(b,S,wt,E),Be=b.memoizedState),(Se=lg||dY(b,S,Se,E,Je,Be,ee))?(ft||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(b.flags|=4194308)):(typeof j.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=E,b.memoizedState=Be),j.props=E,j.state=Be,j.context=ee,E=Se):(typeof j.componentDidMount=="function"&&(b.flags|=4194308),E=!1)}else{j=b.stateNode,AO(g,b),ee=b.memoizedProps,ft=gm(S,ee),j.props=ft,wt=b.pendingProps,Je=j.context,Be=S.contextType,Se=d1,typeof Be=="object"&&Be!==null&&(Se=Xo(Be)),de=S.getDerivedStateFromProps,(Be=typeof de=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ee!==wt||Je!==Se)&&hY(b,j,E,Se),lg=!1,Je=b.memoizedState,j.state=Je,A_(b,E,j,B),N_();var ht=b.memoizedState;ee!==wt||Je!==ht||lg||g!==null&&g.dependencies!==null&&kE(g.dependencies)?(typeof de=="function"&&(vO(b,S,de,E),ht=b.memoizedState),(ft=lg||dY(b,S,ft,E,Je,ht,Se)||g!==null&&g.dependencies!==null&&kE(g.dependencies))?(Be||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(E,ht,Se),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(E,ht,Se)),typeof j.componentDidUpdate=="function"&&(b.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof j.componentDidUpdate!="function"||ee===g.memoizedProps&&Je===g.memoizedState||(b.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ee===g.memoizedProps&&Je===g.memoizedState||(b.flags|=1024),b.memoizedProps=E,b.memoizedState=ht),j.props=E,j.state=ht,j.context=Se,E=ft):(typeof j.componentDidUpdate!="function"||ee===g.memoizedProps&&Je===g.memoizedState||(b.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ee===g.memoizedProps&&Je===g.memoizedState||(b.flags|=1024),E=!1)}return j=E,I_(g,b),E=(b.flags&128)!==0,j||E?(j=b.stateNode,S=E&&typeof S.getDerivedStateFromError!="function"?null:j.render(),b.flags|=1,g!==null&&E?(b.child=cm(b,g.child,null,B),b.child=cm(b,null,S,B)):Ro(g,b,S,B),b.memoizedState=j.state,g=b.child):g=dh(g,b,B),g}function EY(g,b,S,E){return y_(),b.flags|=256,Ro(g,b,S,E),b.child}var wO={dehydrated:null,treeContext:null,retryLane:0};function SO(g){return{baseLanes:g,cachePool:TQ()}}function xO(g,b,S){return g=g!==null?g.childLanes&~S:0,b&&(g|=rc),g}function DY(g,b,S){var E=b.pendingProps,B=!1,j=(b.flags&128)!==0,ee;if((ee=j)||(ee=g!==null&&g.memoizedState===null?!1:(Qs.current&2)!==0),ee&&(B=!0,b.flags&=-129),ee=(b.flags&32)!==0,b.flags&=-33,g===null){if($i){if(B?ig(b):rg(),$i){var de=Mo,Se;if(Se=de){e:{for(Se=de,de=$u;Se.nodeType!==8;){if(!de){de=null;break e}if(Se=iu(Se.nextSibling),Se===null){de=null;break e}}de=Se}de!==null?(b.memoizedState={dehydrated:de,treeContext:om!==null?{id:ah,overflow:lh}:null,retryLane:536870912},Se=ic(18,null,null,0),Se.stateNode=de,Se.return=b,b.child=Se,Ca=b,Mo=null,Se=!0):Se=!1}Se||lm(b)}if(de=b.memoizedState,de!==null&&(de=de.dehydrated,de!==null))return de.data==="$!"?b.lanes=16:b.lanes=536870912,null;ch(b)}return de=E.children,E=E.fallback,B?(rg(),B=b.mode,de=LO({mode:"hidden",children:de},B),E=vm(E,B,S,null),de.return=b,E.return=b,de.sibling=E,b.child=de,B=b.child,B.memoizedState=SO(S),B.childLanes=xO(g,ee,S),b.memoizedState=wO,E):(ig(b),kO(b,de))}if(Se=g.memoizedState,Se!==null&&(de=Se.dehydrated,de!==null)){if(j)b.flags&256?(ig(b),b.flags&=-257,b=EO(g,b,S)):b.memoizedState!==null?(rg(),b.child=g.child,b.flags|=128,b=null):(rg(),B=E.fallback,de=b.mode,E=LO({mode:"visible",children:E.children},de),B=vm(B,de,S,null),B.flags|=2,E.return=b,B.return=b,E.sibling=B,b.child=E,cm(b,g.child,null,S),E=b.child,E.memoizedState=SO(S),E.childLanes=xO(g,ee,S),b.memoizedState=wO,b=B);else if(ig(b),de.data==="$!"){if(ee=de.nextSibling&&de.nextSibling.dataset,ee)var Be=ee.dgst;ee=Be,E=Error(i(419)),E.stack="",E.digest=ee,C_({value:E,source:null,stack:null}),b=EO(g,b,S)}else if(lo||M_(g,b,S,!1),ee=(S&g.childLanes)!==0,lo||ee){if(ee=Ir,ee!==null){if(E=S&-S,E&42)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=E&(ee.suspendedLanes|S)?0:E,E!==0&&E!==Se.retryLane)throw Se.retryLane=E,ng(g,E),_a(ee,g,E),yY}de.data==="$?"||t4(),b=EO(g,b,S)}else de.data==="$?"?(b.flags|=128,b.child=g.child,b=bke.bind(null,g),de._reactRetry=b,b=null):(g=Se.treeContext,Mo=iu(de.nextSibling),Ca=b,$i=!0,tu=null,$u=!1,g!==null&&(Zl[Jl++]=ah,Zl[Jl++]=lh,Zl[Jl++]=om,ah=g.id,lh=g.overflow,om=b),b=kO(b,E.children),b.flags|=4096);return b}return B?(rg(),B=E.fallback,de=b.mode,Se=g.child,Be=Se.sibling,E=gg(Se,{mode:"hidden",children:E.children}),E.subtreeFlags=Se.subtreeFlags&31457280,Be!==null?B=gg(Be,B):(B=vm(B,de,S,null),B.flags|=2),B.return=b,E.return=b,E.sibling=B,b.child=E,E=B,B=b.child,de=g.child.memoizedState,de===null?de=SO(S):(Se=de.cachePool,Se!==null?(Be=Ys._currentValue,Se=Se.parent!==Be?{parent:Be,pool:Be}:Se):Se=TQ(),de={baseLanes:de.baseLanes|S,cachePool:Se}),B.memoizedState=de,B.childLanes=xO(g,ee,S),b.memoizedState=wO,E):(ig(b),S=g.child,g=S.sibling,S=gg(S,{mode:"visible",children:E.children}),S.return=b,S.sibling=null,g!==null&&(ee=b.deletions,ee===null?(b.deletions=[g],b.flags|=16):ee.push(g)),b.child=S,b.memoizedState=null,S)}function kO(g,b){return b=LO({mode:"visible",children:b},g.mode),b.return=g,g.child=b}function LO(g,b){return eX(g,b,0,null)}function EO(g,b,S){return cm(b,g.child,null,S),g=kO(b,b.pendingProps.children),g.flags|=2,b.memoizedState=null,g}function TY(g,b,S){g.lanes|=b;var E=g.alternate;E!==null&&(E.lanes|=b),MO(g.return,b,S)}function DO(g,b,S,E,B){var j=g.memoizedState;j===null?g.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:B}:(j.isBackwards=b,j.rendering=null,j.renderingStartTime=0,j.last=E,j.tail=S,j.tailMode=B)}function IY(g,b,S){var E=b.pendingProps,B=E.revealOrder,j=E.tail;if(Ro(g,b,E.children,S),E=Qs.current,E&2)E=E&1|2,b.flags|=128;else{if(g!==null&&g.flags&128)e:for(g=b.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&TY(g,S,b);else if(g.tag===19)TY(g,S,b);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===b)break e;for(;g.sibling===null;){if(g.return===null||g.return===b)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}E&=1}switch(oe(Qs,E),B){case"forwards":for(S=b.child,B=null;S!==null;)g=S.alternate,g!==null&&fE(g)===null&&(B=S),S=S.sibling;S=B,S===null?(B=b.child,b.child=null):(B=S.sibling,S.sibling=null),DO(b,!1,B,S,j);break;case"backwards":for(S=null,B=b.child,b.child=null;B!==null;){if(g=B.alternate,g!==null&&fE(g)===null){b.child=B;break}g=B.sibling,B.sibling=S,S=B,B=g}DO(b,!0,S,null,j);break;case"together":DO(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function dh(g,b,S){if(g!==null&&(b.dependencies=g.dependencies),pg|=b.lanes,!(S&b.childLanes))if(g!==null){if(M_(g,b,S,!1),(S&b.childLanes)===0)return null}else return null;if(g!==null&&b.child!==g.child)throw Error(i(153));if(b.child!==null){for(g=b.child,S=gg(g,g.pendingProps),b.child=S,S.return=b;g.sibling!==null;)g=g.sibling,S=S.sibling=gg(g,g.pendingProps),S.return=b;S.sibling=null}return b.child}function TO(g,b){return g.lanes&b?!0:(g=g.dependencies,!!(g!==null&&kE(g)))}function ike(g,b,S){switch(b.tag){case 3:ie(b,b.stateNode.containerInfo),ag(b,Ys,g.memoizedState.cache),y_();break;case 27:case 5:Ue(b);break;case 4:ie(b,b.stateNode.containerInfo);break;case 10:ag(b,b.type,b.memoizedProps.value);break;case 13:var E=b.memoizedState;if(E!==null)return E.dehydrated!==null?(ig(b),b.flags|=128,null):S&b.child.childLanes?DY(g,b,S):(ig(b),g=dh(g,b,S),g!==null?g.sibling:null);ig(b);break;case 19:var B=(g.flags&128)!==0;if(E=(S&b.childLanes)!==0,E||(M_(g,b,S,!1),E=(S&b.childLanes)!==0),B){if(E)return IY(g,b,S);b.flags|=128}if(B=b.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),oe(Qs,Qs.current),E)break;return null;case 22:case 23:return b.lanes=0,SY(g,b,S);case 24:ag(b,Ys,g.memoizedState.cache)}return dh(g,b,S)}function MY(g,b,S){if(g!==null)if(g.memoizedProps!==b.pendingProps)lo=!0;else{if(!TO(g,S)&&!(b.flags&128))return lo=!1,ike(g,b,S);lo=!!(g.flags&131072)}else lo=!1,$i&&b.flags&1048576&&pQ(b,lE,b.index);switch(b.lanes=0,b.tag){case 16:e:{g=b.pendingProps;var E=b.elementType,B=E._init;if(E=B(E._payload),b.type=E,typeof E=="function")$O(E)?(g=gm(E,g),b.tag=1,b=LY(null,b,E,g,S)):(b.tag=0,b=_O(null,b,E,g,S));else{if(E!=null){if(B=E.$$typeof,B===p){b.tag=11,b=CY(null,b,E,g,S);break e}else if(B===C){b.tag=14,b=_Y(null,b,E,g,S);break e}}throw b=T(E)||E,Error(i(306,b,""))}}return b;case 0:return _O(g,b,b.type,b.pendingProps,S);case 1:return E=b.type,B=gm(E,b.pendingProps),LY(g,b,E,B,S);case 3:e:{if(ie(b,b.stateNode.containerInfo),g===null)throw Error(i(387));var j=b.pendingProps;B=b.memoizedState,E=B.element,AO(g,b),A_(b,j,null,S);var ee=b.memoizedState;if(j=ee.cache,ag(b,Ys,j),j!==B.cache&&RO(b,[Ys],S,!0),N_(),j=ee.element,B.isDehydrated)if(B={element:j,isDehydrated:!1,cache:ee.cache},b.updateQueue.baseState=B,b.memoizedState=B,b.flags&256){b=EY(g,b,j,S);break e}else if(j!==E){E=Xl(Error(i(424)),b),C_(E),b=EY(g,b,j,S);break e}else for(Mo=iu(b.stateNode.containerInfo.firstChild),Ca=b,$i=!0,tu=null,$u=!0,S=xQ(b,null,j,S),b.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(y_(),j===E){b=dh(g,b,S);break e}Ro(g,b,j,S)}b=b.child}return b;case 26:return I_(g,b),g===null?(S=AX(b.type,null,b.pendingProps,null))?b.memoizedState=S:$i||(S=b.type,g=b.pendingProps,E=zE(ye.current).createElement(S),E[Vt]=b,E[zt]=g,No(E,S,g),di(E),b.stateNode=E):b.memoizedState=AX(b.type,g.memoizedProps,b.pendingProps,g.memoizedState),null;case 27:return Ue(b),g===null&&$i&&(E=b.stateNode=MX(b.type,b.pendingProps,ye.current),Ca=b,$u=!0,Mo=iu(E.firstChild)),E=b.pendingProps.children,g!==null||$i?Ro(g,b,E,S):b.child=cm(b,null,E,S),I_(g,b),b.child;case 5:return g===null&&$i&&((B=E=Mo)&&(E=Nke(E,b.type,b.pendingProps,$u),E!==null?(b.stateNode=E,Ca=b,Mo=iu(E.firstChild),$u=!1,B=!0):B=!1),B||lm(b)),Ue(b),B=b.type,j=b.pendingProps,ee=g!==null?g.memoizedProps:null,E=j.children,p4(B,j)?E=null:ee!==null&&p4(B,ee)&&(b.flags|=32),b.memoizedState!==null&&(B=iO(g,b,Yxe,null,null,S),Q_._currentValue=B),I_(g,b),Ro(g,b,E,S),b.child;case 6:return g===null&&$i&&((g=S=Mo)&&(S=Ake(S,b.pendingProps,$u),S!==null?(b.stateNode=S,Ca=b,Mo=null,g=!0):g=!1),g||lm(b)),null;case 13:return DY(g,b,S);case 4:return ie(b,b.stateNode.containerInfo),E=b.pendingProps,g===null?b.child=cm(b,null,E,S):Ro(g,b,E,S),b.child;case 11:return CY(g,b,b.type,b.pendingProps,S);case 7:return Ro(g,b,b.pendingProps,S),b.child;case 8:return Ro(g,b,b.pendingProps.children,S),b.child;case 12:return Ro(g,b,b.pendingProps.children,S),b.child;case 10:return E=b.pendingProps,ag(b,b.type,E.value),Ro(g,b,E.children,S),b.child;case 9:return B=b.type._context,E=b.pendingProps.children,mm(b),B=Xo(B),E=E(B),b.flags|=1,Ro(g,b,E,S),b.child;case 14:return _Y(g,b,b.type,b.pendingProps,S);case 15:return wY(g,b,b.type,b.pendingProps,S);case 19:return IY(g,b,S);case 22:return SY(g,b,S);case 24:return mm(b),E=Xo(Ys),g===null?(B=tO(),B===null&&(B=Ir,j=JP(),B.pooledCache=j,j.refCount++,j!==null&&(B.pooledCacheLanes|=S),B=j),b.memoizedState={parent:E,cache:B},NO(b),ag(b,Ys,B)):(g.lanes&S&&(AO(g,b),A_(b,null,null,S),N_()),B=g.memoizedState,j=b.memoizedState,B.parent!==E?(B={parent:E,cache:E},b.memoizedState=B,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=B),ag(b,Ys,E)):(E=j.cache,ag(b,Ys,E),E!==B.cache&&RO(b,[Ys],S,!0))),Ro(g,b,b.pendingProps.children,S),b.child;case 29:throw b.pendingProps}throw Error(i(156,b.tag))}var IO=se(null),pm=null,hh=null;function ag(g,b,S){oe(IO,b._currentValue),b._currentValue=S}function fh(g){g._currentValue=IO.current,X(IO)}function MO(g,b,S){for(;g!==null;){var E=g.alternate;if((g.childLanes&b)!==b?(g.childLanes|=b,E!==null&&(E.childLanes|=b)):E!==null&&(E.childLanes&b)!==b&&(E.childLanes|=b),g===S)break;g=g.return}}function RO(g,b,S,E){var B=g.child;for(B!==null&&(B.return=g);B!==null;){var j=B.dependencies;if(j!==null){var ee=B.child;j=j.firstContext;e:for(;j!==null;){var de=j;j=B;for(var Se=0;Se<b.length;Se++)if(de.context===b[Se]){j.lanes|=S,de=j.alternate,de!==null&&(de.lanes|=S),MO(j.return,S,g),E||(ee=null);break e}j=de.next}}else if(B.tag===18){if(ee=B.return,ee===null)throw Error(i(341));ee.lanes|=S,j=ee.alternate,j!==null&&(j.lanes|=S),MO(ee,S,g),ee=null}else ee=B.child;if(ee!==null)ee.return=B;else for(ee=B;ee!==null;){if(ee===g){ee=null;break}if(B=ee.sibling,B!==null){B.return=ee.return,ee=B;break}ee=ee.return}B=ee}}function M_(g,b,S,E){g=null;for(var B=b,j=!1;B!==null;){if(!j){if(B.flags&524288)j=!0;else if(B.flags&262144)break}if(B.tag===10){var ee=B.alternate;if(ee===null)throw Error(i(387));if(ee=ee.memoizedProps,ee!==null){var de=B.type;vl(B.pendingProps.value,ee.value)||(g!==null?g.push(de):g=[de])}}else if(B===Le.current){if(ee=B.alternate,ee===null)throw Error(i(387));ee.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(g!==null?g.push(Q_):g=[Q_])}B=B.return}g!==null&&RO(b,g,S,E),b.flags|=262144}function kE(g){for(g=g.firstContext;g!==null;){if(!vl(g.context._currentValue,g.memoizedValue))return!0;g=g.next}return!1}function mm(g){pm=g,hh=null,g=g.dependencies,g!==null&&(g.firstContext=null)}function Xo(g){return RY(pm,g)}function LE(g,b){return pm===null&&mm(g),RY(g,b)}function RY(g,b){var S=b._currentValue;if(b={context:b,memoizedValue:S,next:null},hh===null){if(g===null)throw Error(i(308));hh=b,g.dependencies={lanes:0,firstContext:b},g.flags|=524288}else hh=hh.next=b;return S}var lg=!1;function NO(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function AO(g,b){g=g.updateQueue,b.updateQueue===g&&(b.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,callbacks:null})}function cg(g){return{lane:g,tag:0,payload:null,callback:null,next:null}}function ug(g,b,S){var E=g.updateQueue;if(E===null)return null;if(E=E.shared,Ur&2){var B=E.pending;return B===null?b.next=b:(b.next=B.next,B.next=b),E.pending=b,b=oE(g),fQ(g,null,S),b}return sE(g,E,b,S),oE(g)}function R_(g,b,S){if(b=b.updateQueue,b!==null&&(b=b.shared,(S&4194176)!==0)){var E=b.lanes;E&=g.pendingLanes,S|=E,b.lanes=S,Oe(g,S)}}function PO(g,b){var S=g.updateQueue,E=g.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var B=null,j=null;if(S=S.firstBaseUpdate,S!==null){do{var ee={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};j===null?B=j=ee:j=j.next=ee,S=S.next}while(S!==null);j===null?B=j=b:j=j.next=b}else B=j=b;S={baseState:E.baseState,firstBaseUpdate:B,lastBaseUpdate:j,shared:E.shared,callbacks:E.callbacks},g.updateQueue=S;return}g=S.lastBaseUpdate,g===null?S.firstBaseUpdate=b:g.next=b,S.lastBaseUpdate=b}var OO=!1;function N_(){if(OO){var g=b1;if(g!==null)throw g}}function A_(g,b,S,E){OO=!1;var B=g.updateQueue;lg=!1;var j=B.firstBaseUpdate,ee=B.lastBaseUpdate,de=B.shared.pending;if(de!==null){B.shared.pending=null;var Se=de,Be=Se.next;Se.next=null,ee===null?j=Be:ee.next=Be,ee=Se;var ft=g.alternate;ft!==null&&(ft=ft.updateQueue,de=ft.lastBaseUpdate,de!==ee&&(de===null?ft.firstBaseUpdate=Be:de.next=Be,ft.lastBaseUpdate=Se))}if(j!==null){var wt=B.baseState;ee=0,ft=Be=Se=null,de=j;do{var Je=de.lane&-536870913,ht=Je!==de.lane;if(ht?(Ri&Je)===Je:(E&Je)===Je){Je!==0&&Je===m1&&(OO=!0),ft!==null&&(ft=ft.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var gn=g,jn=de;Je=b;var rs=S;switch(jn.tag){case 1:if(gn=jn.payload,typeof gn=="function"){wt=gn.call(rs,wt,Je);break e}wt=gn;break e;case 3:gn.flags=gn.flags&-65537|128;case 0:if(gn=jn.payload,Je=typeof gn=="function"?gn.call(rs,wt,Je):gn,Je==null)break e;wt=I({},wt,Je);break e;case 2:lg=!0}}Je=de.callback,Je!==null&&(g.flags|=64,ht&&(g.flags|=8192),ht=B.callbacks,ht===null?B.callbacks=[Je]:ht.push(Je))}else ht={lane:Je,tag:de.tag,payload:de.payload,callback:de.callback,next:null},ft===null?(Be=ft=ht,Se=wt):ft=ft.next=ht,ee|=Je;if(de=de.next,de===null){if(de=B.shared.pending,de===null)break;ht=de,de=ht.next,ht.next=null,B.lastBaseUpdate=ht,B.shared.pending=null}}while(!0);ft===null&&(Se=wt),B.baseState=Se,B.firstBaseUpdate=Be,B.lastBaseUpdate=ft,j===null&&(B.shared.lanes=0),pg|=ee,g.lanes=ee,g.memoizedState=wt}}function NY(g,b){if(typeof g!="function")throw Error(i(191,g));g.call(b)}function AY(g,b){var S=g.callbacks;if(S!==null)for(g.callbacks=null,g=0;g<S.length;g++)NY(S[g],b)}function P_(g,b){try{var S=b.updateQueue,E=S!==null?S.lastEffect:null;if(E!==null){var B=E.next;S=B;do{if((S.tag&g)===g){E=void 0;var j=S.create,ee=S.inst;E=j(),ee.destroy=E}S=S.next}while(S!==B)}}catch(de){yr(b,b.return,de)}}function dg(g,b,S){try{var E=b.updateQueue,B=E!==null?E.lastEffect:null;if(B!==null){var j=B.next;E=j;do{if((E.tag&g)===g){var ee=E.inst,de=ee.destroy;if(de!==void 0){ee.destroy=void 0,B=b;var Se=S;try{de()}catch(Be){yr(B,Se,Be)}}}E=E.next}while(E!==j)}}catch(Be){yr(b,b.return,Be)}}function PY(g){var b=g.updateQueue;if(b!==null){var S=g.stateNode;try{AY(b,S)}catch(E){yr(g,g.return,E)}}}function OY(g,b,S){S.props=gm(g.type,g.memoizedProps),S.state=g.memoizedState;try{S.componentWillUnmount()}catch(E){yr(g,b,E)}}function bm(g,b){try{var S=g.ref;if(S!==null){var E=g.stateNode;switch(g.tag){case 26:case 27:case 5:var B=E;break;default:B=E}typeof S=="function"?g.refCleanup=S(B):S.current=B}}catch(j){yr(g,b,j)}}function yl(g,b){var S=g.ref,E=g.refCleanup;if(S!==null)if(typeof E=="function")try{E()}catch(B){yr(g,b,B)}finally{g.refCleanup=null,g=g.alternate,g!=null&&(g.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(B){yr(g,b,B)}else S.current=null}function FY(g){var b=g.type,S=g.memoizedProps,E=g.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":S.autoFocus&&E.focus();break e;case"img":S.src?E.src=S.src:S.srcSet&&(E.srcset=S.srcSet)}}catch(B){yr(g,g.return,B)}}function BY(g,b,S){try{var E=g.stateNode;Dke(E,g.type,S,b),E[zt]=b}catch(B){yr(g,g.return,B)}}function HY(g){return g.tag===5||g.tag===3||g.tag===26||g.tag===27||g.tag===4}function FO(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||HY(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==27&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function BO(g,b,S){var E=g.tag;if(E===5||E===6)g=g.stateNode,b?S.nodeType===8?S.parentNode.insertBefore(g,b):S.insertBefore(g,b):(S.nodeType===8?(b=S.parentNode,b.insertBefore(g,S)):(b=S,b.appendChild(g)),S=S._reactRootContainer,S!=null||b.onclick!==null||(b.onclick=VE));else if(E!==4&&E!==27&&(g=g.child,g!==null))for(BO(g,b,S),g=g.sibling;g!==null;)BO(g,b,S),g=g.sibling}function EE(g,b,S){var E=g.tag;if(E===5||E===6)g=g.stateNode,b?S.insertBefore(g,b):S.appendChild(g);else if(E!==4&&E!==27&&(g=g.child,g!==null))for(EE(g,b,S),g=g.sibling;g!==null;)EE(g,b,S),g=g.sibling}var gh=!1,ns=!1,HO=!1,VY=typeof WeakSet=="function"?WeakSet:Set,co=null,zY=!1;function rke(g,b){if(g=g.containerInfo,f4=GE,g=rQ(g),zP(g)){if("selectionStart"in g)var S={start:g.selectionStart,end:g.selectionEnd};else e:{S=(S=g.ownerDocument)&&S.defaultView||window;var E=S.getSelection&&S.getSelection();if(E&&E.rangeCount!==0){S=E.anchorNode;var B=E.anchorOffset,j=E.focusNode;E=E.focusOffset;try{S.nodeType,j.nodeType}catch{S=null;break e}var ee=0,de=-1,Se=-1,Be=0,ft=0,wt=g,Je=null;t:for(;;){for(var ht;wt!==S||B!==0&&wt.nodeType!==3||(de=ee+B),wt!==j||E!==0&&wt.nodeType!==3||(Se=ee+E),wt.nodeType===3&&(ee+=wt.nodeValue.length),(ht=wt.firstChild)!==null;)Je=wt,wt=ht;for(;;){if(wt===g)break t;if(Je===S&&++Be===B&&(de=ee),Je===j&&++ft===E&&(Se=ee),(ht=wt.nextSibling)!==null)break;wt=Je,Je=wt.parentNode}wt=ht}S=de===-1||Se===-1?null:{start:de,end:Se}}else S=null}S=S||{start:0,end:0}}else S=null;for(g4={focusedElem:g,selectionRange:S},GE=!1,co=b;co!==null;)if(b=co,g=b.child,(b.subtreeFlags&1028)!==0&&g!==null)g.return=b,co=g;else for(;co!==null;){switch(b=co,j=b.alternate,g=b.flags,b.tag){case 0:break;case 11:case 15:break;case 1:if(g&1024&&j!==null){g=void 0,S=b,B=j.memoizedProps,j=j.memoizedState,E=S.stateNode;try{var gn=gm(S.type,B,S.elementType===S.type);g=E.getSnapshotBeforeUpdate(gn,j),E.__reactInternalSnapshotBeforeUpdate=g}catch(jn){yr(S,S.return,jn)}}break;case 3:if(g&1024){if(g=b.stateNode.containerInfo,S=g.nodeType,S===9)v4(g);else if(S===1)switch(g.nodeName){case"HEAD":case"HTML":case"BODY":v4(g);break;default:g.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(g&1024)throw Error(i(163))}if(g=b.sibling,g!==null){g.return=b.return,co=g;break}co=b.return}return gn=zY,zY=!1,gn}function WY(g,b,S){var E=S.flags;switch(S.tag){case 0:case 11:case 15:mh(g,S),E&4&&P_(5,S);break;case 1:if(mh(g,S),E&4)if(g=S.stateNode,b===null)try{g.componentDidMount()}catch(de){yr(S,S.return,de)}else{var B=gm(S.type,b.memoizedProps);b=b.memoizedState;try{g.componentDidUpdate(B,b,g.__reactInternalSnapshotBeforeUpdate)}catch(de){yr(S,S.return,de)}}E&64&&PY(S),E&512&&bm(S,S.return);break;case 3:if(mh(g,S),E&64&&(E=S.updateQueue,E!==null)){if(g=null,S.child!==null)switch(S.child.tag){case 27:case 5:g=S.child.stateNode;break;case 1:g=S.child.stateNode}try{AY(E,g)}catch(de){yr(S,S.return,de)}}break;case 26:mh(g,S),E&512&&bm(S,S.return);break;case 27:case 5:mh(g,S),b===null&&E&4&&FY(S),E&512&&bm(S,S.return);break;case 12:mh(g,S);break;case 13:mh(g,S),E&4&&UY(g,S);break;case 22:if(B=S.memoizedState!==null||gh,!B){b=b!==null&&b.memoizedState!==null||ns;var j=gh,ee=ns;gh=B,(ns=b)&&!ee?hg(g,S,(S.subtreeFlags&8772)!==0):mh(g,S),gh=j,ns=ee}E&512&&(S.memoizedProps.mode==="manual"?bm(S,S.return):yl(S,S.return));break;default:mh(g,S)}}function $Y(g){var b=g.alternate;b!==null&&(g.alternate=null,$Y(b)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(b=g.stateNode,b!==null&&Ie(b)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}var As=null,Cl=!1;function ph(g,b,S){for(S=S.child;S!==null;)jY(g,b,S),S=S.sibling}function jY(g,b,S){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Gt,S)}catch{}switch(S.tag){case 26:ns||yl(S,b),ph(g,b,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:ns||yl(S,b);var E=As,B=Cl;for(As=S.stateNode,ph(g,b,S),S=S.stateNode,b=S.attributes;b.length;)S.removeAttributeNode(b[0]);Ie(S),As=E,Cl=B;break;case 5:ns||yl(S,b);case 6:B=As;var j=Cl;if(As=null,ph(g,b,S),As=B,Cl=j,As!==null)if(Cl)try{g=As,E=S.stateNode,g.nodeType===8?g.parentNode.removeChild(E):g.removeChild(E)}catch(ee){yr(S,b,ee)}else try{As.removeChild(S.stateNode)}catch(ee){yr(S,b,ee)}break;case 18:As!==null&&(Cl?(b=As,S=S.stateNode,b.nodeType===8?b4(b.parentNode,S):b.nodeType===1&&b4(b,S),J_(b)):b4(As,S.stateNode));break;case 4:E=As,B=Cl,As=S.stateNode.containerInfo,Cl=!0,ph(g,b,S),As=E,Cl=B;break;case 0:case 11:case 14:case 15:ns||dg(2,S,b),ns||dg(4,S,b),ph(g,b,S);break;case 1:ns||(yl(S,b),E=S.stateNode,typeof E.componentWillUnmount=="function"&&OY(S,b,E)),ph(g,b,S);break;case 21:ph(g,b,S);break;case 22:ns||yl(S,b),ns=(E=ns)||S.memoizedState!==null,ph(g,b,S),ns=E;break;default:ph(g,b,S)}}function UY(g,b){if(b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null))))try{J_(g)}catch(S){yr(b,b.return,S)}}function ske(g){switch(g.tag){case 13:case 19:var b=g.stateNode;return b===null&&(b=g.stateNode=new VY),b;case 22:return g=g.stateNode,b=g._retryCache,b===null&&(b=g._retryCache=new VY),b;default:throw Error(i(435,g.tag))}}function VO(g,b){var S=ske(g);b.forEach(function(E){var B=vke.bind(null,g,E);S.has(E)||(S.add(E),E.then(B,B))})}function tc(g,b){var S=b.deletions;if(S!==null)for(var E=0;E<S.length;E++){var B=S[E],j=g,ee=b,de=ee;e:for(;de!==null;){switch(de.tag){case 27:case 5:As=de.stateNode,Cl=!1;break e;case 3:As=de.stateNode.containerInfo,Cl=!0;break e;case 4:As=de.stateNode.containerInfo,Cl=!0;break e}de=de.return}if(As===null)throw Error(i(160));jY(j,ee,B),As=null,Cl=!1,j=B.alternate,j!==null&&(j.return=null),B.return=null}if(b.subtreeFlags&13878)for(b=b.child;b!==null;)qY(b,g),b=b.sibling}var nu=null;function qY(g,b){var S=g.alternate,E=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:tc(b,g),nc(g),E&4&&(dg(3,g,g.return),P_(3,g),dg(5,g,g.return));break;case 1:tc(b,g),nc(g),E&512&&(ns||S===null||yl(S,S.return)),E&64&&gh&&(g=g.updateQueue,g!==null&&(E=g.callbacks,E!==null&&(S=g.shared.hiddenCallbacks,g.shared.hiddenCallbacks=S===null?E:S.concat(E))));break;case 26:var B=nu;if(tc(b,g),nc(g),E&512&&(ns||S===null||yl(S,S.return)),E&4){var j=S!==null?S.memoizedState:null;if(E=g.memoizedState,S===null)if(E===null)if(g.stateNode===null){e:{E=g.type,S=g.memoizedProps,B=B.ownerDocument||B;t:switch(E){case"title":j=B.getElementsByTagName("title")[0],(!j||j[yt]||j[Vt]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=B.createElement(E),B.head.insertBefore(j,B.querySelector("head > title"))),No(j,E,S),j[Vt]=g,di(j),E=j;break e;case"link":var ee=FX("link","href",B).get(E+(S.href||""));if(ee){for(var de=0;de<ee.length;de++)if(j=ee[de],j.getAttribute("href")===(S.href==null?null:S.href)&&j.getAttribute("rel")===(S.rel==null?null:S.rel)&&j.getAttribute("title")===(S.title==null?null:S.title)&&j.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){ee.splice(de,1);break t}}j=B.createElement(E),No(j,E,S),B.head.appendChild(j);break;case"meta":if(ee=FX("meta","content",B).get(E+(S.content||""))){for(de=0;de<ee.length;de++)if(j=ee[de],j.getAttribute("content")===(S.content==null?null:""+S.content)&&j.getAttribute("name")===(S.name==null?null:S.name)&&j.getAttribute("property")===(S.property==null?null:S.property)&&j.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&j.getAttribute("charset")===(S.charSet==null?null:S.charSet)){ee.splice(de,1);break t}}j=B.createElement(E),No(j,E,S),B.head.appendChild(j);break;default:throw Error(i(468,E))}j[Vt]=g,di(j),E=j}g.stateNode=E}else BX(B,g.type,g.stateNode);else g.stateNode=OX(B,E,g.memoizedProps);else j!==E?(j===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):j.count--,E===null?BX(B,g.type,g.stateNode):OX(B,E,g.memoizedProps)):E===null&&g.stateNode!==null&&BY(g,g.memoizedProps,S.memoizedProps)}break;case 27:if(E&4&&g.alternate===null){B=g.stateNode,j=g.memoizedProps;try{for(var Se=B.firstChild;Se;){var Be=Se.nextSibling,ft=Se.nodeName;Se[yt]||ft==="HEAD"||ft==="BODY"||ft==="SCRIPT"||ft==="STYLE"||ft==="LINK"&&Se.rel.toLowerCase()==="stylesheet"||B.removeChild(Se),Se=Be}for(var wt=g.type,Je=B.attributes;Je.length;)B.removeAttributeNode(Je[0]);No(B,wt,j),B[Vt]=g,B[zt]=j}catch(gn){yr(g,g.return,gn)}}case 5:if(tc(b,g),nc(g),E&512&&(ns||S===null||yl(S,S.return)),g.flags&32){B=g.stateNode;try{r1(B,"")}catch(gn){yr(g,g.return,gn)}}E&4&&g.stateNode!=null&&(B=g.memoizedProps,BY(g,B,S!==null?S.memoizedProps:B)),E&1024&&(HO=!0);break;case 6:if(tc(b,g),nc(g),E&4){if(g.stateNode===null)throw Error(i(162));E=g.memoizedProps,S=g.stateNode;try{S.nodeValue=E}catch(gn){yr(g,g.return,gn)}}break;case 3:if(jE=null,B=nu,nu=WE(b.containerInfo),tc(b,g),nu=B,nc(g),E&4&&S!==null&&S.memoizedState.isDehydrated)try{J_(b.containerInfo)}catch(gn){yr(g,g.return,gn)}HO&&(HO=!1,GY(g));break;case 4:E=nu,nu=WE(g.stateNode.containerInfo),tc(b,g),nc(g),nu=E;break;case 12:tc(b,g),nc(g);break;case 13:tc(b,g),nc(g),g.child.flags&8192&&g.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(QO=Ne()),E&4&&(E=g.updateQueue,E!==null&&(g.updateQueue=null,VO(g,E)));break;case 22:if(E&512&&(ns||S===null||yl(S,S.return)),Se=g.memoizedState!==null,Be=S!==null&&S.memoizedState!==null,ft=gh,wt=ns,gh=ft||Se,ns=wt||Be,tc(b,g),ns=wt,gh=ft,nc(g),b=g.stateNode,b._current=g,b._visibility&=-3,b._visibility|=b._pendingVisibility&2,E&8192&&(b._visibility=Se?b._visibility&-2:b._visibility|1,Se&&(b=gh||ns,S===null||Be||b||_1(g)),g.memoizedProps===null||g.memoizedProps.mode!=="manual"))e:for(S=null,b=g;;){if(b.tag===5||b.tag===26||b.tag===27){if(S===null){Be=S=b;try{if(B=Be.stateNode,Se)j=B.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{ee=Be.stateNode,de=Be.memoizedProps.style;var ht=de!=null&&de.hasOwnProperty("display")?de.display:null;ee.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(gn){yr(Be,Be.return,gn)}}}else if(b.tag===6){if(S===null){Be=b;try{Be.stateNode.nodeValue=Se?"":Be.memoizedProps}catch(gn){yr(Be,Be.return,gn)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===g)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break e;for(;b.sibling===null;){if(b.return===null||b.return===g)break e;S===b&&(S=null),b=b.return}S===b&&(S=null),b.sibling.return=b.return,b=b.sibling}E&4&&(E=g.updateQueue,E!==null&&(S=E.retryQueue,S!==null&&(E.retryQueue=null,VO(g,S))));break;case 19:tc(b,g),nc(g),E&4&&(E=g.updateQueue,E!==null&&(g.updateQueue=null,VO(g,E)));break;case 21:break;default:tc(b,g),nc(g)}}function nc(g){var b=g.flags;if(b&2){try{if(g.tag!==27){e:{for(var S=g.return;S!==null;){if(HY(S)){var E=S;break e}S=S.return}throw Error(i(160))}switch(E.tag){case 27:var B=E.stateNode,j=FO(g);EE(g,j,B);break;case 5:var ee=E.stateNode;E.flags&32&&(r1(ee,""),E.flags&=-33);var de=FO(g);EE(g,de,ee);break;case 3:case 4:var Se=E.stateNode.containerInfo,Be=FO(g);BO(g,Be,Se);break;default:throw Error(i(161))}}}catch(ft){yr(g,g.return,ft)}g.flags&=-3}b&4096&&(g.flags&=-4097)}function GY(g){if(g.subtreeFlags&1024)for(g=g.child;g!==null;){var b=g;GY(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),g=g.sibling}}function mh(g,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)WY(g,b.alternate,b),b=b.sibling}function _1(g){for(g=g.child;g!==null;){var b=g;switch(b.tag){case 0:case 11:case 14:case 15:dg(4,b,b.return),_1(b);break;case 1:yl(b,b.return);var S=b.stateNode;typeof S.componentWillUnmount=="function"&&OY(b,b.return,S),_1(b);break;case 26:case 27:case 5:yl(b,b.return),_1(b);break;case 22:yl(b,b.return),b.memoizedState===null&&_1(b);break;default:_1(b)}g=g.sibling}}function hg(g,b,S){for(S=S&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var E=b.alternate,B=g,j=b,ee=j.flags;switch(j.tag){case 0:case 11:case 15:hg(B,j,S),P_(4,j);break;case 1:if(hg(B,j,S),E=j,B=E.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Be){yr(E,E.return,Be)}if(E=j,B=E.updateQueue,B!==null){var de=E.stateNode;try{var Se=B.shared.hiddenCallbacks;if(Se!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Se.length;B++)NY(Se[B],de)}catch(Be){yr(E,E.return,Be)}}S&&ee&64&&PY(j),bm(j,j.return);break;case 26:case 27:case 5:hg(B,j,S),S&&E===null&&ee&4&&FY(j),bm(j,j.return);break;case 12:hg(B,j,S);break;case 13:hg(B,j,S),S&&ee&4&&UY(B,j);break;case 22:j.memoizedState===null&&hg(B,j,S),bm(j,j.return);break;default:hg(B,j,S)}b=b.sibling}}function zO(g,b){var S=null;g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),g=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(g=b.memoizedState.cachePool.pool),g!==S&&(g!=null&&g.refCount++,S!=null&&k_(S))}function WO(g,b){g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&k_(g))}function fg(g,b,S,E){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)KY(g,b,S,E),b=b.sibling}function KY(g,b,S,E){var B=b.flags;switch(b.tag){case 0:case 11:case 15:fg(g,b,S,E),B&2048&&P_(9,b);break;case 3:fg(g,b,S,E),B&2048&&(g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&k_(g)));break;case 12:if(B&2048){fg(g,b,S,E),g=b.stateNode;try{var j=b.memoizedProps,ee=j.id,de=j.onPostCommit;typeof de=="function"&&de(ee,b.alternate===null?"mount":"update",g.passiveEffectDuration,-0)}catch(Se){yr(b,b.return,Se)}}else fg(g,b,S,E);break;case 23:break;case 22:j=b.stateNode,b.memoizedState!==null?j._visibility&4?fg(g,b,S,E):O_(g,b):j._visibility&4?fg(g,b,S,E):(j._visibility|=4,w1(g,b,S,E,(b.subtreeFlags&10256)!==0)),B&2048&&zO(b.alternate,b);break;case 24:fg(g,b,S,E),B&2048&&WO(b.alternate,b);break;default:fg(g,b,S,E)}}function w1(g,b,S,E,B){for(B=B&&(b.subtreeFlags&10256)!==0,b=b.child;b!==null;){var j=g,ee=b,de=S,Se=E,Be=ee.flags;switch(ee.tag){case 0:case 11:case 15:w1(j,ee,de,Se,B),P_(8,ee);break;case 23:break;case 22:var ft=ee.stateNode;ee.memoizedState!==null?ft._visibility&4?w1(j,ee,de,Se,B):O_(j,ee):(ft._visibility|=4,w1(j,ee,de,Se,B)),B&&Be&2048&&zO(ee.alternate,ee);break;case 24:w1(j,ee,de,Se,B),B&&Be&2048&&WO(ee.alternate,ee);break;default:w1(j,ee,de,Se,B)}b=b.sibling}}function O_(g,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var S=g,E=b,B=E.flags;switch(E.tag){case 22:O_(S,E),B&2048&&zO(E.alternate,E);break;case 24:O_(S,E),B&2048&&WO(E.alternate,E);break;default:O_(S,E)}b=b.sibling}}var F_=8192;function S1(g){if(g.subtreeFlags&F_)for(g=g.child;g!==null;)QY(g),g=g.sibling}function QY(g){switch(g.tag){case 26:S1(g),g.flags&F_&&g.memoizedState!==null&&Gke(nu,g.memoizedState,g.memoizedProps);break;case 5:S1(g);break;case 3:case 4:var b=nu;nu=WE(g.stateNode.containerInfo),S1(g),nu=b;break;case 22:g.memoizedState===null&&(b=g.alternate,b!==null&&b.memoizedState!==null?(b=F_,F_=16777216,S1(g),F_=b):S1(g));break;default:S1(g)}}function YY(g){var b=g.alternate;if(b!==null&&(g=b.child,g!==null)){b.child=null;do b=g.sibling,g.sibling=null,g=b;while(g!==null)}}function B_(g){var b=g.deletions;if(g.flags&16){if(b!==null)for(var S=0;S<b.length;S++){var E=b[S];co=E,ZY(E,g)}YY(g)}if(g.subtreeFlags&10256)for(g=g.child;g!==null;)XY(g),g=g.sibling}function XY(g){switch(g.tag){case 0:case 11:case 15:B_(g),g.flags&2048&&dg(9,g,g.return);break;case 3:B_(g);break;case 12:B_(g);break;case 22:var b=g.stateNode;g.memoizedState!==null&&b._visibility&4&&(g.return===null||g.return.tag!==13)?(b._visibility&=-5,DE(g)):B_(g);break;default:B_(g)}}function DE(g){var b=g.deletions;if(g.flags&16){if(b!==null)for(var S=0;S<b.length;S++){var E=b[S];co=E,ZY(E,g)}YY(g)}for(g=g.child;g!==null;){switch(b=g,b.tag){case 0:case 11:case 15:dg(8,b,b.return),DE(b);break;case 22:S=b.stateNode,S._visibility&4&&(S._visibility&=-5,DE(b));break;default:DE(b)}g=g.sibling}}function ZY(g,b){for(;co!==null;){var S=co;switch(S.tag){case 0:case 11:case 15:dg(8,S,b);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var E=S.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:k_(S.memoizedState.cache)}if(E=S.child,E!==null)E.return=S,co=E;else e:for(S=g;co!==null;){E=co;var B=E.sibling,j=E.return;if($Y(E),E===S){co=null;break e}if(B!==null){B.return=j,co=B;break e}co=j}}}function oke(g,b,S,E){this.tag=g,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ic(g,b,S,E){return new oke(g,b,S,E)}function $O(g){return g=g.prototype,!(!g||!g.isReactComponent)}function gg(g,b){var S=g.alternate;return S===null?(S=ic(g.tag,b,g.key,g.mode),S.elementType=g.elementType,S.type=g.type,S.stateNode=g.stateNode,S.alternate=g,g.alternate=S):(S.pendingProps=b,S.type=g.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=g.flags&31457280,S.childLanes=g.childLanes,S.lanes=g.lanes,S.child=g.child,S.memoizedProps=g.memoizedProps,S.memoizedState=g.memoizedState,S.updateQueue=g.updateQueue,b=g.dependencies,S.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},S.sibling=g.sibling,S.index=g.index,S.ref=g.ref,S.refCleanup=g.refCleanup,S}function JY(g,b){g.flags&=31457282;var S=g.alternate;return S===null?(g.childLanes=0,g.lanes=b,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,b=S.dependencies,g.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),g}function TE(g,b,S,E,B,j){var ee=0;if(E=g,typeof g=="function")$O(g)&&(ee=1);else if(typeof g=="string")ee=Uke(g,S,ve.current)?26:g==="html"||g==="head"||g==="body"?27:5;else e:switch(g){case l:return vm(S.children,B,j,b);case c:ee=8,B|=24;break;case u:return g=ic(12,S,b,B|2),g.elementType=u,g.lanes=j,g;case m:return g=ic(13,S,b,B),g.elementType=m,g.lanes=j,g;case v:return g=ic(19,S,b,B),g.elementType=v,g.lanes=j,g;case w:return eX(S,B,j,b);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case d:case f:ee=10;break e;case h:ee=9;break e;case p:ee=11;break e;case C:ee=14;break e;case y:ee=16,E=null;break e}ee=29,S=Error(i(130,g===null?"null":typeof g,"")),E=null}return b=ic(ee,S,b,B),b.elementType=g,b.type=E,b.lanes=j,b}function vm(g,b,S,E){return g=ic(7,g,E,b),g.lanes=S,g}function eX(g,b,S,E){g=ic(22,g,E,b),g.elementType=w,g.lanes=S;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=B._current;if(j===null)throw Error(i(456));if(!(B._pendingVisibility&2)){var ee=ng(j,2);ee!==null&&(B._pendingVisibility|=2,_a(ee,j,2))}},attach:function(){var j=B._current;if(j===null)throw Error(i(456));if(B._pendingVisibility&2){var ee=ng(j,2);ee!==null&&(B._pendingVisibility&=-3,_a(ee,j,2))}}};return g.stateNode=B,g}function jO(g,b,S){return g=ic(6,g,null,b),g.lanes=S,g}function UO(g,b,S){return b=ic(4,g.children!==null?g.children:[],g.key,b),b.lanes=S,b.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},b}function bh(g){g.flags|=4}function tX(g,b){if(b.type!=="stylesheet"||b.state.loading&4)g.flags&=-16777217;else if(g.flags|=16777216,!HX(b)){if(b=ec.current,b!==null&&((Ri&4194176)===Ri?ju!==null:(Ri&62914560)!==Ri&&!(Ri&536870912)||b!==ju))throw w_=YP,vQ;g.flags|=8192}}function IE(g,b){b!==null&&(g.flags|=4),g.flags&16384&&(b=g.tag!==22?le():536870912,g.lanes|=b,k1|=b)}function H_(g,b){if(!$i)switch(g.tailMode){case"hidden":b=g.tail;for(var S=null;b!==null;)b.alternate!==null&&(S=b),b=b.sibling;S===null?g.tail=null:S.sibling=null;break;case"collapsed":S=g.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?b||g.tail===null?g.tail=null:g.tail.sibling=null:E.sibling=null}}function jr(g){var b=g.alternate!==null&&g.alternate.child===g.child,S=0,E=0;if(b)for(var B=g.child;B!==null;)S|=B.lanes|B.childLanes,E|=B.subtreeFlags&31457280,E|=B.flags&31457280,B.return=g,B=B.sibling;else for(B=g.child;B!==null;)S|=B.lanes|B.childLanes,E|=B.subtreeFlags,E|=B.flags,B.return=g,B=B.sibling;return g.subtreeFlags|=E,g.childLanes=S,b}function ake(g,b,S){var E=b.pendingProps;switch(KP(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(b),null;case 1:return jr(b),null;case 3:return S=b.stateNode,E=null,g!==null&&(E=g.memoizedState.cache),b.memoizedState.cache!==E&&(b.flags|=2048),fh(Ys),Ee(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(g===null||g.child===null)&&(v_(b)?bh(b):g===null||g.memoizedState.isDehydrated&&!(b.flags&256)||(b.flags|=1024,tu!==null&&(JO(tu),tu=null))),jr(b),null;case 26:return S=b.memoizedState,g===null?(bh(b),S!==null?(jr(b),tX(b,S)):(jr(b),b.flags&=-16777217)):S?S!==g.memoizedState?(bh(b),jr(b),tX(b,S)):(jr(b),b.flags&=-16777217):(g.memoizedProps!==E&&bh(b),jr(b),b.flags&=-16777217),null;case 27:re(b),S=ye.current;var B=b.type;if(g!==null&&b.stateNode!=null)g.memoizedProps!==E&&bh(b);else{if(!E){if(b.stateNode===null)throw Error(i(166));return jr(b),null}g=ve.current,v_(b)?mQ(b):(g=MX(B,E,S),b.stateNode=g,bh(b))}return jr(b),null;case 5:if(re(b),S=b.type,g!==null&&b.stateNode!=null)g.memoizedProps!==E&&bh(b);else{if(!E){if(b.stateNode===null)throw Error(i(166));return jr(b),null}if(g=ve.current,v_(b))mQ(b);else{switch(B=zE(ye.current),g){case 1:g=B.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:g=B.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":g=B.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":g=B.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":g=B.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof E.is=="string"?B.createElement("select",{is:E.is}):B.createElement("select"),E.multiple?g.multiple=!0:E.size&&(g.size=E.size);break;default:g=typeof E.is=="string"?B.createElement(S,{is:E.is}):B.createElement(S)}}g[Vt]=b,g[zt]=E;e:for(B=b.child;B!==null;){if(B.tag===5||B.tag===6)g.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===b)break e;for(;B.sibling===null;){if(B.return===null||B.return===b)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}b.stateNode=g;e:switch(No(g,S,E),S){case"button":case"input":case"select":case"textarea":g=!!E.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&bh(b)}}return jr(b),b.flags&=-16777217,null;case 6:if(g&&b.stateNode!=null)g.memoizedProps!==E&&bh(b);else{if(typeof E!="string"&&b.stateNode===null)throw Error(i(166));if(g=ye.current,v_(b)){if(g=b.stateNode,S=b.memoizedProps,E=null,B=Ca,B!==null)switch(B.tag){case 27:case 5:E=B.memoizedProps}g[Vt]=b,g=!!(g.nodeValue===S||E!==null&&E.suppressHydrationWarning===!0||kX(g.nodeValue,S)),g||lm(b)}else g=zE(g).createTextNode(E),g[Vt]=b,b.stateNode=g}return jr(b),null;case 13:if(E=b.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(B=v_(b),E!==null&&E.dehydrated!==null){if(g===null){if(!B)throw Error(i(318));if(B=b.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Vt]=b}else y_(),!(b.flags&128)&&(b.memoizedState=null),b.flags|=4;jr(b),B=!1}else tu!==null&&(JO(tu),tu=null),B=!0;if(!B)return b.flags&256?(ch(b),b):(ch(b),null)}if(ch(b),b.flags&128)return b.lanes=S,b;if(S=E!==null,g=g!==null&&g.memoizedState!==null,S){E=b.child,B=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(B=E.alternate.memoizedState.cachePool.pool);var j=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(j=E.memoizedState.cachePool.pool),j!==B&&(E.flags|=2048)}return S!==g&&S&&(b.child.flags|=8192),IE(b,b.updateQueue),jr(b),null;case 4:return Ee(),g===null&&u4(b.stateNode.containerInfo),jr(b),null;case 10:return fh(b.type),jr(b),null;case 19:if(X(Qs),B=b.memoizedState,B===null)return jr(b),null;if(E=(b.flags&128)!==0,j=B.rendering,j===null)if(E)H_(B,!1);else{if(is!==0||g!==null&&g.flags&128)for(g=b.child;g!==null;){if(j=fE(g),j!==null){for(b.flags|=128,H_(B,!1),g=j.updateQueue,b.updateQueue=g,IE(b,g),b.subtreeFlags=0,g=S,S=b.child;S!==null;)JY(S,g),S=S.sibling;return oe(Qs,Qs.current&1|2),b.child}g=g.sibling}B.tail!==null&&Ne()>ME&&(b.flags|=128,E=!0,H_(B,!1),b.lanes=4194304)}else{if(!E)if(g=fE(j),g!==null){if(b.flags|=128,E=!0,g=g.updateQueue,b.updateQueue=g,IE(b,g),H_(B,!0),B.tail===null&&B.tailMode==="hidden"&&!j.alternate&&!$i)return jr(b),null}else 2*Ne()-B.renderingStartTime>ME&&S!==536870912&&(b.flags|=128,E=!0,H_(B,!1),b.lanes=4194304);B.isBackwards?(j.sibling=b.child,b.child=j):(g=B.last,g!==null?g.sibling=j:b.child=j,B.last=j)}return B.tail!==null?(b=B.tail,B.rendering=b,B.tail=b.sibling,B.renderingStartTime=Ne(),b.sibling=null,g=Qs.current,oe(Qs,E?g&1|2:g&1),b):(jr(b),null);case 22:case 23:return ch(b),ZP(),E=b.memoizedState!==null,g!==null?g.memoizedState!==null!==E&&(b.flags|=8192):E&&(b.flags|=8192),E?S&536870912&&!(b.flags&128)&&(jr(b),b.subtreeFlags&6&&(b.flags|=8192)):jr(b),S=b.updateQueue,S!==null&&IE(b,S.retryQueue),S=null,g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),E=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(E=b.memoizedState.cachePool.pool),E!==S&&(b.flags|=2048),g!==null&&X(um),null;case 24:return S=null,g!==null&&(S=g.memoizedState.cache),b.memoizedState.cache!==S&&(b.flags|=2048),fh(Ys),jr(b),null;case 25:return null}throw Error(i(156,b.tag))}function lke(g,b){switch(KP(b),b.tag){case 1:return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 3:return fh(Ys),Ee(),g=b.flags,g&65536&&!(g&128)?(b.flags=g&-65537|128,b):null;case 26:case 27:case 5:return re(b),null;case 13:if(ch(b),g=b.memoizedState,g!==null&&g.dehydrated!==null){if(b.alternate===null)throw Error(i(340));y_()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 19:return X(Qs),null;case 4:return Ee(),null;case 10:return fh(b.type),null;case 22:case 23:return ch(b),ZP(),g!==null&&X(um),g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 24:return fh(Ys),null;case 25:return null;default:return null}}function nX(g,b){switch(KP(b),b.tag){case 3:fh(Ys),Ee();break;case 26:case 27:case 5:re(b);break;case 4:Ee();break;case 13:ch(b);break;case 19:X(Qs);break;case 10:fh(b.type);break;case 22:case 23:ch(b),ZP(),g!==null&&X(um);break;case 24:fh(Ys)}}var cke={getCacheForType:function(g){var b=Xo(Ys),S=b.data.get(g);return S===void 0&&(S=g(),b.data.set(g,S)),S}},uke=typeof WeakMap=="function"?WeakMap:Map,Ur=0,Ir=null,pi=null,Ri=0,Mr=0,_l=null,vh=!1,x1=!1,qO=!1,yh=0,is=0,pg=0,ym=0,GO=0,rc=0,k1=0,V_=null,qu=null,KO=!1,QO=0,ME=1/0,RE=null,mg=null,NE=!1,Cm=null,z_=0,YO=0,XO=null,W_=0,ZO=null;function wl(){if(Ur&2&&Ri!==0)return Ri&-Ri;if(L.T!==null){var g=m1;return g!==0?g:o4()}return Ct()}function iX(){rc===0&&(rc=!(Ri&536870912)||$i?ot():536870912);var g=ec.current;return g!==null&&(g.flags|=32),rc}function _a(g,b,S){(g===Ir&&Mr===2||g.cancelPendingCommit!==null)&&(L1(g,0),Ch(g,Ri,rc,!1)),pe(g,S),(!(Ur&2)||g!==Ir)&&(g===Ir&&(!(Ur&2)&&(ym|=S),is===4&&Ch(g,Ri,rc,!1)),Gu(g))}function rX(g,b,S){if(Ur&6)throw Error(i(327));var E=!S&&(b&60)===0&&(b&g.expiredLanes)===0||fn(g,b),B=E?fke(g,b):n4(g,b,!0),j=E;do{if(B===0){x1&&!E&&Ch(g,b,0,!1);break}else if(B===6)Ch(g,b,0,!vh);else{if(S=g.current.alternate,j&&!dke(S)){B=n4(g,b,!1),j=!1;continue}if(B===2){if(j=b,g.errorRecoveryDisabledLanes&j)var ee=0;else ee=g.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){b=ee;e:{var de=g;B=V_;var Se=de.current.memoizedState.isDehydrated;if(Se&&(L1(de,ee).flags|=256),ee=n4(de,ee,!1),ee!==2){if(qO&&!Se){de.errorRecoveryDisabledLanes|=j,ym|=j,B=4;break e}j=qu,qu=B,j!==null&&JO(j)}B=ee}if(j=!1,B!==2)continue}}if(B===1){L1(g,0),Ch(g,b,0,!0);break}e:{switch(E=g,B){case 0:case 1:throw Error(i(345));case 4:if((b&4194176)===b){Ch(E,b,rc,!vh);break e}break;case 2:qu=null;break;case 3:case 5:break;default:throw Error(i(329))}if(E.finishedWork=S,E.finishedLanes=b,(b&62914560)===b&&(j=QO+300-Ne(),10<j)){if(Ch(E,b,rc,!vh),Bt(E,0)!==0)break e;E.timeoutHandle=DX(sX.bind(null,E,S,qu,RE,KO,b,rc,ym,k1,vh,2,-0,0),j);break e}sX(E,S,qu,RE,KO,b,rc,ym,k1,vh,0,-0,0)}}break}while(!0);Gu(g)}function JO(g){qu===null?qu=g:qu.push.apply(qu,g)}function sX(g,b,S,E,B,j,ee,de,Se,Be,ft,wt,Je){var ht=b.subtreeFlags;if((ht&8192||(ht&16785408)===16785408)&&(K_={stylesheets:null,count:0,unsuspend:qke},QY(b),b=Kke(),b!==null)){g.cancelPendingCommit=b(hX.bind(null,g,S,E,B,ee,de,Se,1,wt,Je)),Ch(g,j,ee,!Be);return}hX(g,S,E,B,ee,de,Se,ft,wt,Je)}function dke(g){for(var b=g;;){var S=b.tag;if((S===0||S===11||S===15)&&b.flags&16384&&(S=b.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var E=0;E<S.length;E++){var B=S[E],j=B.getSnapshot;B=B.value;try{if(!vl(j(),B))return!1}catch{return!1}}if(S=b.child,b.subtreeFlags&16384&&S!==null)S.return=b,b=S;else{if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Ch(g,b,S,E){b&=~GO,b&=~ym,g.suspendedLanes|=b,g.pingedLanes&=~b,E&&(g.warmLanes|=b),E=g.expirationTimes;for(var B=b;0<B;){var j=31-Et(B),ee=1<<j;E[j]=-1,B&=~ee}S!==0&&De(g,S,b)}function AE(){return Ur&6?!0:($_(0),!1)}function e4(){if(pi!==null){if(Mr===0)var g=pi.return;else g=pi,hh=pm=null,oO(g),g1=null,S_=0,g=pi;for(;g!==null;)nX(g.alternate,g),g=g.return;pi=null}}function L1(g,b){g.finishedWork=null,g.finishedLanes=0;var S=g.timeoutHandle;S!==-1&&(g.timeoutHandle=-1,Ike(S)),S=g.cancelPendingCommit,S!==null&&(g.cancelPendingCommit=null,S()),e4(),Ir=g,pi=S=gg(g.current,null),Ri=b,Mr=0,_l=null,vh=!1,x1=fn(g,b),qO=!1,k1=rc=GO=ym=pg=is=0,qu=V_=null,KO=!1,b&8&&(b|=b&32);var E=g.entangledLanes;if(E!==0)for(g=g.entanglements,E&=b;0<E;){var B=31-Et(E),j=1<<B;b|=g[B],E&=~j}return yh=b,rE(),S}function oX(g,b){ai=null,L.H=Uu,b===__?(b=_Q(),Mr=3):b===vQ?(b=_Q(),Mr=4):Mr=b===yY?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,_l=b,pi===null&&(is=1,xE(g,Xl(b,g.current)))}function aX(){var g=L.H;return L.H=Uu,g===null?Uu:g}function lX(){var g=L.A;return L.A=cke,g}function t4(){is=4,vh||(Ri&4194176)!==Ri&&ec.current!==null||(x1=!0),!(pg&134217727)&&!(ym&134217727)||Ir===null||Ch(Ir,Ri,rc,!1)}function n4(g,b,S){var E=Ur;Ur|=2;var B=aX(),j=lX();(Ir!==g||Ri!==b)&&(RE=null,L1(g,b)),b=!1;var ee=is;e:do try{if(Mr!==0&&pi!==null){var de=pi,Se=_l;switch(Mr){case 8:e4(),ee=6;break e;case 3:case 2:case 6:ec.current===null&&(b=!0);var Be=Mr;if(Mr=0,_l=null,E1(g,de,Se,Be),S&&x1){ee=0;break e}break;default:Be=Mr,Mr=0,_l=null,E1(g,de,Se,Be)}}hke(),ee=is;break}catch(ft){oX(g,ft)}while(!0);return b&&g.shellSuspendCounter++,hh=pm=null,Ur=E,L.H=B,L.A=j,pi===null&&(Ir=null,Ri=0,rE()),ee}function hke(){for(;pi!==null;)cX(pi)}function fke(g,b){var S=Ur;Ur|=2;var E=aX(),B=lX();Ir!==g||Ri!==b?(RE=null,ME=Ne()+500,L1(g,b)):x1=fn(g,b);e:do try{if(Mr!==0&&pi!==null){b=pi;var j=_l;t:switch(Mr){case 1:Mr=0,_l=null,E1(g,b,j,1);break;case 2:if(yQ(j)){Mr=0,_l=null,uX(b);break}b=function(){Mr===2&&Ir===g&&(Mr=7),Gu(g)},j.then(b,b);break e;case 3:Mr=7;break e;case 4:Mr=5;break e;case 7:yQ(j)?(Mr=0,_l=null,uX(b)):(Mr=0,_l=null,E1(g,b,j,7));break;case 5:var ee=null;switch(pi.tag){case 26:ee=pi.memoizedState;case 5:case 27:var de=pi;if(!ee||HX(ee)){Mr=0,_l=null;var Se=de.sibling;if(Se!==null)pi=Se;else{var Be=de.return;Be!==null?(pi=Be,PE(Be)):pi=null}break t}}Mr=0,_l=null,E1(g,b,j,5);break;case 6:Mr=0,_l=null,E1(g,b,j,6);break;case 8:e4(),is=6;break e;default:throw Error(i(462))}}gke();break}catch(ft){oX(g,ft)}while(!0);return hh=pm=null,L.H=E,L.A=B,Ur=S,pi!==null?0:(Ir=null,Ri=0,rE(),is)}function gke(){for(;pi!==null&&!Te();)cX(pi)}function cX(g){var b=MY(g.alternate,g,yh);g.memoizedProps=g.pendingProps,b===null?PE(g):pi=b}function uX(g){var b=g,S=b.alternate;switch(b.tag){case 15:case 0:b=kY(S,b,b.pendingProps,b.type,void 0,Ri);break;case 11:b=kY(S,b,b.pendingProps,b.type.render,b.ref,Ri);break;case 5:oO(b);default:nX(S,b),b=pi=JY(b,yh),b=MY(S,b,yh)}g.memoizedProps=g.pendingProps,b===null?PE(g):pi=b}function E1(g,b,S,E){hh=pm=null,oO(b),g1=null,S_=0;var B=b.return;try{if(nke(g,B,b,S,Ri)){is=1,xE(g,Xl(S,g.current)),pi=null;return}}catch(j){if(B!==null)throw pi=B,j;is=1,xE(g,Xl(S,g.current)),pi=null;return}b.flags&32768?($i||E===1?g=!0:x1||Ri&536870912?g=!1:(vh=g=!0,(E===2||E===3||E===6)&&(E=ec.current,E!==null&&E.tag===13&&(E.flags|=16384))),dX(b,g)):PE(b)}function PE(g){var b=g;do{if(b.flags&32768){dX(b,vh);return}g=b.return;var S=ake(b.alternate,b,yh);if(S!==null){pi=S;return}if(b=b.sibling,b!==null){pi=b;return}pi=b=g}while(b!==null);is===0&&(is=5)}function dX(g,b){do{var S=lke(g.alternate,g);if(S!==null){S.flags&=32767,pi=S;return}if(S=g.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!b&&(g=g.sibling,g!==null)){pi=g;return}pi=g=S}while(g!==null);is=6,pi=null}function hX(g,b,S,E,B,j,ee,de,Se,Be){var ft=L.T,wt=G.p;try{G.p=2,L.T=null,pke(g,b,S,E,wt,B,j,ee,de,Se,Be)}finally{L.T=ft,G.p=wt}}function pke(g,b,S,E,B,j,ee,de){do D1();while(Cm!==null);if(Ur&6)throw Error(i(327));var Se=g.finishedWork;if(E=g.finishedLanes,Se===null)return null;if(g.finishedWork=null,g.finishedLanes=0,Se===g.current)throw Error(i(177));g.callbackNode=null,g.callbackPriority=0,g.cancelPendingCommit=null;var Be=Se.lanes|Se.childLanes;if(Be|=UP,we(g,E,Be,j,ee,de),g===Ir&&(pi=Ir=null,Ri=0),!(Se.subtreeFlags&10256)&&!(Se.flags&10256)||NE||(NE=!0,YO=Be,XO=S,yke(it,function(){return D1(),null})),S=(Se.flags&15990)!==0,Se.subtreeFlags&15990||S?(S=L.T,L.T=null,j=G.p,G.p=2,ee=Ur,Ur|=4,rke(g,Se),qY(Se,g),Hxe(g4,g.containerInfo),GE=!!f4,g4=f4=null,g.current=Se,WY(g,Se.alternate,Se),Ae(),Ur=ee,G.p=j,L.T=S):g.current=Se,NE?(NE=!1,Cm=g,z_=E):fX(g,Be),Be=g.pendingLanes,Be===0&&(mg=null),xe(Se.stateNode),Gu(g),b!==null)for(B=g.onRecoverableError,Se=0;Se<b.length;Se++)Be=b[Se],B(Be.value,{componentStack:Be.stack});return z_&3&&D1(),Be=g.pendingLanes,E&4194218&&Be&42?g===ZO?W_++:(W_=0,ZO=g):W_=0,$_(0),null}function fX(g,b){(g.pooledCacheLanes&=b)===0&&(b=g.pooledCache,b!=null&&(g.pooledCache=null,k_(b)))}function D1(){if(Cm!==null){var g=Cm,b=YO;YO=0;var S=Qe(z_),E=L.T,B=G.p;try{if(G.p=32>S?32:S,L.T=null,Cm===null)var j=!1;else{S=XO,XO=null;var ee=Cm,de=z_;if(Cm=null,z_=0,Ur&6)throw Error(i(331));var Se=Ur;if(Ur|=4,XY(ee.current),KY(ee,ee.current,de,S),Ur=Se,$_(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Gt,ee)}catch{}j=!0}return j}finally{G.p=B,L.T=E,fX(g,b)}}return!1}function gX(g,b,S){b=Xl(S,b),b=CO(g.stateNode,b,2),g=ug(g,b,2),g!==null&&(pe(g,2),Gu(g))}function yr(g,b,S){if(g.tag===3)gX(g,g,S);else for(;b!==null;){if(b.tag===3){gX(b,g,S);break}else if(b.tag===1){var E=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(mg===null||!mg.has(E))){g=Xl(S,g),S=bY(2),E=ug(b,S,2),E!==null&&(vY(S,E,b,g),pe(E,2),Gu(E));break}}b=b.return}}function i4(g,b,S){var E=g.pingCache;if(E===null){E=g.pingCache=new uke;var B=new Set;E.set(b,B)}else B=E.get(b),B===void 0&&(B=new Set,E.set(b,B));B.has(S)||(qO=!0,B.add(S),g=mke.bind(null,g,b,S),b.then(g,g))}function mke(g,b,S){var E=g.pingCache;E!==null&&E.delete(b),g.pingedLanes|=g.suspendedLanes&S,g.warmLanes&=~S,Ir===g&&(Ri&S)===S&&(is===4||is===3&&(Ri&62914560)===Ri&&300>Ne()-QO?!(Ur&2)&&L1(g,0):GO|=S,k1===Ri&&(k1=0)),Gu(g)}function pX(g,b){b===0&&(b=le()),g=ng(g,b),g!==null&&(pe(g,b),Gu(g))}function bke(g){var b=g.memoizedState,S=0;b!==null&&(S=b.retryLane),pX(g,S)}function vke(g,b){var S=0;switch(g.tag){case 13:var E=g.stateNode,B=g.memoizedState;B!==null&&(S=B.retryLane);break;case 19:E=g.stateNode;break;case 22:E=g.stateNode._retryCache;break;default:throw Error(i(314))}E!==null&&E.delete(b),pX(g,S)}function yke(g,b){return Ce(g,b)}var OE=null,T1=null,r4=!1,FE=!1,s4=!1,_m=0;function Gu(g){g!==T1&&g.next===null&&(T1===null?OE=T1=g:T1=T1.next=g),FE=!0,r4||(r4=!0,_ke(Cke))}function $_(g,b){if(!s4&&FE){s4=!0;do for(var S=!1,E=OE;E!==null;){if(g!==0){var B=E.pendingLanes;if(B===0)var j=0;else{var ee=E.suspendedLanes,de=E.pingedLanes;j=(1<<31-Et(42|g)+1)-1,j&=B&~(ee&~de),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(S=!0,vX(E,j))}else j=Ri,j=Bt(E,E===Ir?j:0),!(j&3)||fn(E,j)||(S=!0,vX(E,j));E=E.next}while(S);s4=!1}}function Cke(){FE=r4=!1;var g=0;_m!==0&&(Tke()&&(g=_m),_m=0);for(var b=Ne(),S=null,E=OE;E!==null;){var B=E.next,j=mX(E,b);j===0?(E.next=null,S===null?OE=B:S.next=B,B===null&&(T1=S)):(S=E,(g!==0||j&3)&&(FE=!0)),E=B}$_(g)}function mX(g,b){for(var S=g.suspendedLanes,E=g.pingedLanes,B=g.expirationTimes,j=g.pendingLanes&-62914561;0<j;){var ee=31-Et(j),de=1<<ee,Se=B[ee];Se===-1?(!(de&S)||de&E)&&(B[ee]=bn(de,b)):Se<=b&&(g.expiredLanes|=de),j&=~de}if(b=Ir,S=Ri,S=Bt(g,g===b?S:0),E=g.callbackNode,S===0||g===b&&Mr===2||g.cancelPendingCommit!==null)return E!==null&&E!==null&&Me(E),g.callbackNode=null,g.callbackPriority=0;if(!(S&3)||fn(g,S)){if(b=S&-S,b===g.callbackPriority)return b;switch(E!==null&&Me(E),Qe(S)){case 2:case 8:S=rt;break;case 32:S=it;break;case 268435456:S=st;break;default:S=it}return E=bX.bind(null,g),S=Ce(S,E),g.callbackPriority=b,g.callbackNode=S,b}return E!==null&&E!==null&&Me(E),g.callbackPriority=2,g.callbackNode=null,2}function bX(g,b){var S=g.callbackNode;if(D1()&&g.callbackNode!==S)return null;var E=Ri;return E=Bt(g,g===Ir?E:0),E===0?null:(rX(g,E,b),mX(g,Ne()),g.callbackNode!=null&&g.callbackNode===S?bX.bind(null,g):null)}function vX(g,b){if(D1())return null;rX(g,b,!0)}function _ke(g){Mke(function(){Ur&6?Ce(gt,g):g()})}function o4(){return _m===0&&(_m=ot()),_m}function yX(g){return g==null||typeof g=="symbol"||typeof g=="boolean"?null:typeof g=="function"?g:XL(""+g)}function CX(g,b){var S=b.ownerDocument.createElement("input");return S.name=b.name,S.value=b.value,g.id&&S.setAttribute("form",g.id),b.parentNode.insertBefore(S,b),g=new FormData(g),S.parentNode.removeChild(S),g}function wke(g,b,S,E,B){if(b==="submit"&&S&&S.stateNode===B){var j=yX((B[zt]||null).action),ee=E.submitter;ee&&(b=(b=ee[zt]||null)?yX(b.formAction):ee.getAttribute("formAction"),b!==null&&(j=b,ee=null));var de=new tE("action","action",null,E,B);g.push({event:de,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(_m!==0){var Se=ee?CX(B,ee):new FormData(B);pO(S,{pending:!0,data:Se,method:B.method,action:j},null,Se)}}else typeof j=="function"&&(de.preventDefault(),Se=ee?CX(B,ee):new FormData(B),pO(S,{pending:!0,data:Se,method:B.method,action:j},j,Se))},currentTarget:B}]})}}for(var a4=0;a4<hQ.length;a4++){var l4=hQ[a4],Ske=l4.toLowerCase(),xke=l4[0].toUpperCase()+l4.slice(1);eu(Ske,"on"+xke)}eu(aQ,"onAnimationEnd"),eu(lQ,"onAnimationIteration"),eu(cQ,"onAnimationStart"),eu("dblclick","onDoubleClick"),eu("focusin","onFocus"),eu("focusout","onBlur"),eu(zxe,"onTransitionRun"),eu(Wxe,"onTransitionStart"),eu($xe,"onTransitionCancel"),eu(uQ,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var j_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kke=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(j_));function _X(g,b){b=(b&4)!==0;for(var S=0;S<g.length;S++){var E=g[S],B=E.event;E=E.listeners;e:{var j=void 0;if(b)for(var ee=E.length-1;0<=ee;ee--){var de=E[ee],Se=de.instance,Be=de.currentTarget;if(de=de.listener,Se!==j&&B.isPropagationStopped())break e;j=de,B.currentTarget=Be;try{j(B)}catch(ft){SE(ft)}B.currentTarget=null,j=Se}else for(ee=0;ee<E.length;ee++){if(de=E[ee],Se=de.instance,Be=de.currentTarget,de=de.listener,Se!==j&&B.isPropagationStopped())break e;j=de,B.currentTarget=Be;try{j(B)}catch(ft){SE(ft)}B.currentTarget=null,j=Se}}}}function ki(g,b){var S=b[Ye];S===void 0&&(S=b[Ye]=new Set);var E=g+"__bubble";S.has(E)||(wX(b,g,2,!1),S.add(E))}function c4(g,b,S){var E=0;b&&(E|=4),wX(S,g,E,b)}var BE="_reactListening"+Math.random().toString(36).slice(2);function u4(g){if(!g[BE]){g[BE]=!0,Ms.forEach(function(S){S!=="selectionchange"&&(kke.has(S)||c4(S,!1,g),c4(S,!0,g))});var b=g.nodeType===9?g:g.ownerDocument;b===null||b[BE]||(b[BE]=!0,c4("selectionchange",!1,b))}}function wX(g,b,S,E){switch(UX(b)){case 2:var B=Xke;break;case 8:B=Zke;break;default:B=S4}S=B.bind(null,b,S,g),B=void 0,!RP||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(B=!0),E?B!==void 0?g.addEventListener(b,S,{capture:!0,passive:B}):g.addEventListener(b,S,!0):B!==void 0?g.addEventListener(b,S,{passive:B}):g.addEventListener(b,S,!1)}function d4(g,b,S,E,B){var j=E;if(!(b&1)&&!(b&2)&&E!==null)e:for(;;){if(E===null)return;var ee=E.tag;if(ee===3||ee===4){var de=E.stateNode.containerInfo;if(de===B||de.nodeType===8&&de.parentNode===B)break;if(ee===4)for(ee=E.return;ee!==null;){var Se=ee.tag;if((Se===3||Se===4)&&(Se=ee.stateNode.containerInfo,Se===B||Se.nodeType===8&&Se.parentNode===B))return;ee=ee.return}for(;de!==null;){if(ee=ct(de),ee===null)return;if(Se=ee.tag,Se===5||Se===6||Se===26||Se===27){E=j=ee;continue e}de=de.parentNode}}E=E.return}FK(function(){var Be=j,ft=IP(S),wt=[];e:{var Je=dQ.get(g);if(Je!==void 0){var ht=tE,gn=g;switch(g){case"keypress":if(JL(S)===0)break e;case"keydown":case"keyup":ht=vxe;break;case"focusin":gn="focus",ht=OP;break;case"focusout":gn="blur",ht=OP;break;case"beforeblur":case"afterblur":ht=OP;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=VK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=oxe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=_xe;break;case aQ:case lQ:case cQ:ht=cxe;break;case uQ:ht=Sxe;break;case"scroll":case"scrollend":ht=rxe;break;case"wheel":ht=kxe;break;case"copy":case"cut":case"paste":ht=dxe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=WK;break;case"toggle":case"beforetoggle":ht=Exe}var jn=(b&4)!==0,rs=!jn&&(g==="scroll"||g==="scrollend"),We=jn?Je!==null?Je+"Capture":null:Je;jn=[];for(var Fe=Be,qe;Fe!==null;){var vt=Fe;if(qe=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||qe===null||We===null||(vt=c_(Fe,We),vt!=null&&jn.push(U_(Fe,vt,qe))),rs)break;Fe=Fe.return}0<jn.length&&(Je=new ht(Je,gn,null,S,ft),wt.push({event:Je,listeners:jn}))}}if(!(b&7)){e:{if(Je=g==="mouseover"||g==="pointerover",ht=g==="mouseout"||g==="pointerout",Je&&S!==TP&&(gn=S.relatedTarget||S.fromElement)&&(ct(gn)||gn[Mn]))break e;if((ht||Je)&&(Je=ft.window===ft?ft:(Je=ft.ownerDocument)?Je.defaultView||Je.parentWindow:window,ht?(gn=S.relatedTarget||S.toElement,ht=Be,gn=gn?ct(gn):null,gn!==null&&(rs=$(gn),jn=gn.tag,gn!==rs||jn!==5&&jn!==27&&jn!==6)&&(gn=null)):(ht=null,gn=Be),ht!==gn)){if(jn=VK,vt="onMouseLeave",We="onMouseEnter",Fe="mouse",(g==="pointerout"||g==="pointerover")&&(jn=WK,vt="onPointerLeave",We="onPointerEnter",Fe="pointer"),rs=ht==null?Je:gi(ht),qe=gn==null?Je:gi(gn),Je=new jn(vt,Fe+"leave",ht,S,ft),Je.target=rs,Je.relatedTarget=qe,vt=null,ct(ft)===Be&&(jn=new jn(We,Fe+"enter",gn,S,ft),jn.target=qe,jn.relatedTarget=rs,vt=jn),rs=vt,ht&&gn)t:{for(jn=ht,We=gn,Fe=0,qe=jn;qe;qe=I1(qe))Fe++;for(qe=0,vt=We;vt;vt=I1(vt))qe++;for(;0<Fe-qe;)jn=I1(jn),Fe--;for(;0<qe-Fe;)We=I1(We),qe--;for(;Fe--;){if(jn===We||We!==null&&jn===We.alternate)break t;jn=I1(jn),We=I1(We)}jn=null}else jn=null;ht!==null&&SX(wt,Je,ht,jn,!1),gn!==null&&rs!==null&&SX(wt,rs,gn,jn,!0)}}e:{if(Je=Be?gi(Be):window,ht=Je.nodeName&&Je.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Je.type==="file")var tn=YK;else if(KK(Je))if(XK)tn=Fxe;else{tn=Pxe;var hi=Axe}else ht=Je.nodeName,!ht||ht.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Be&&DP(Be.elementType)&&(tn=YK):tn=Oxe;if(tn&&(tn=tn(g,Be))){QK(wt,tn,S,ft);break e}hi&&hi(g,Je,Be),g==="focusout"&&Be&&Je.type==="number"&&Be.memoizedProps.value!=null&&EP(Je,"number",Je.value)}switch(hi=Be?gi(Be):window,g){case"focusin":(KK(hi)||hi.contentEditable==="true")&&(l1=hi,WP=Be,b_=null);break;case"focusout":b_=WP=l1=null;break;case"mousedown":$P=!0;break;case"contextmenu":case"mouseup":case"dragend":$P=!1,sQ(wt,S,ft);break;case"selectionchange":if(Vxe)break;case"keydown":case"keyup":sQ(wt,S,ft)}var vn;if(BP)e:{switch(g){case"compositionstart":var Dn="onCompositionStart";break e;case"compositionend":Dn="onCompositionEnd";break e;case"compositionupdate":Dn="onCompositionUpdate";break e}Dn=void 0}else a1?qK(g,S)&&(Dn="onCompositionEnd"):g==="keydown"&&S.keyCode===229&&(Dn="onCompositionStart");Dn&&($K&&S.locale!=="ko"&&(a1||Dn!=="onCompositionStart"?Dn==="onCompositionEnd"&&a1&&(vn=BK()):(tg=ft,NP="value"in tg?tg.value:tg.textContent,a1=!0)),hi=HE(Be,Dn),0<hi.length&&(Dn=new zK(Dn,g,null,S,ft),wt.push({event:Dn,listeners:hi}),vn?Dn.data=vn:(vn=GK(S),vn!==null&&(Dn.data=vn)))),(vn=Txe?Ixe(g,S):Mxe(g,S))&&(Dn=HE(Be,"onBeforeInput"),0<Dn.length&&(hi=new zK("onBeforeInput","beforeinput",null,S,ft),wt.push({event:hi,listeners:Dn}),hi.data=vn)),wke(wt,g,Be,S,ft)}_X(wt,b)})}function U_(g,b,S){return{instance:g,listener:b,currentTarget:S}}function HE(g,b){for(var S=b+"Capture",E=[];g!==null;){var B=g,j=B.stateNode;B=B.tag,B!==5&&B!==26&&B!==27||j===null||(B=c_(g,S),B!=null&&E.unshift(U_(g,B,j)),B=c_(g,b),B!=null&&E.push(U_(g,B,j))),g=g.return}return E}function I1(g){if(g===null)return null;do g=g.return;while(g&&g.tag!==5&&g.tag!==27);return g||null}function SX(g,b,S,E,B){for(var j=b._reactName,ee=[];S!==null&&S!==E;){var de=S,Se=de.alternate,Be=de.stateNode;if(de=de.tag,Se!==null&&Se===E)break;de!==5&&de!==26&&de!==27||Be===null||(Se=Be,B?(Be=c_(S,j),Be!=null&&ee.unshift(U_(S,Be,Se))):B||(Be=c_(S,j),Be!=null&&ee.push(U_(S,Be,Se)))),S=S.return}ee.length!==0&&g.push({event:b,listeners:ee})}var Lke=/\r\n?/g,Eke=/\u0000|\uFFFD/g;function xX(g){return(typeof g=="string"?g:""+g).replace(Lke,`
`).replace(Eke,"")}function kX(g,b){return b=xX(b),xX(g)===b}function VE(){}function ur(g,b,S,E,B,j){switch(S){case"children":typeof E=="string"?b==="body"||b==="textarea"&&E===""||r1(g,E):(typeof E=="number"||typeof E=="bigint")&&b!=="body"&&r1(g,""+E);break;case"className":KL(g,"class",E);break;case"tabIndex":KL(g,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":KL(g,S,E);break;case"style":PK(g,E,j);break;case"data":if(b!=="object"){KL(g,"data",E);break}case"src":case"href":if(E===""&&(b!=="a"||S!=="href")){g.removeAttribute(S);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){g.removeAttribute(S);break}E=XL(""+E),g.setAttribute(S,E);break;case"action":case"formAction":if(typeof E=="function"){g.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(S==="formAction"?(b!=="input"&&ur(g,b,"name",B.name,B,null),ur(g,b,"formEncType",B.formEncType,B,null),ur(g,b,"formMethod",B.formMethod,B,null),ur(g,b,"formTarget",B.formTarget,B,null)):(ur(g,b,"encType",B.encType,B,null),ur(g,b,"method",B.method,B,null),ur(g,b,"target",B.target,B,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){g.removeAttribute(S);break}E=XL(""+E),g.setAttribute(S,E);break;case"onClick":E!=null&&(g.onclick=VE);break;case"onScroll":E!=null&&ki("scroll",g);break;case"onScrollEnd":E!=null&&ki("scrollend",g);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(S=E.__html,S!=null){if(B.children!=null)throw Error(i(60));g.innerHTML=S}}break;case"multiple":g.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":g.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){g.removeAttribute("xlink:href");break}S=XL(""+E),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?g.setAttribute(S,""+E):g.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?g.setAttribute(S,""):g.removeAttribute(S);break;case"capture":case"download":E===!0?g.setAttribute(S,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?g.setAttribute(S,E):g.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?g.setAttribute(S,E):g.removeAttribute(S);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?g.removeAttribute(S):g.setAttribute(S,E);break;case"popover":ki("beforetoggle",g),ki("toggle",g),GL(g,"popover",E);break;case"xlinkActuate":oh(g,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":oh(g,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":oh(g,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":oh(g,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":oh(g,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":oh(g,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":oh(g,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":oh(g,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":oh(g,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":GL(g,"is",E);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=nxe.get(S)||S,GL(g,S,E))}}function h4(g,b,S,E,B,j){switch(S){case"style":PK(g,E,j);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(S=E.__html,S!=null){if(B.children!=null)throw Error(i(60));g.innerHTML=S}}break;case"children":typeof E=="string"?r1(g,E):(typeof E=="number"||typeof E=="bigint")&&r1(g,""+E);break;case"onScroll":E!=null&&ki("scroll",g);break;case"onScrollEnd":E!=null&&ki("scrollend",g);break;case"onClick":E!=null&&(g.onclick=VE);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oo.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(B=S.endsWith("Capture"),b=S.slice(2,B?S.length-7:void 0),j=g[zt]||null,j=j!=null?j[S]:null,typeof j=="function"&&g.removeEventListener(b,j,B),typeof E=="function")){typeof j!="function"&&j!==null&&(S in g?g[S]=null:g.hasAttribute(S)&&g.removeAttribute(S)),g.addEventListener(b,E,B);break e}S in g?g[S]=E:E===!0?g.setAttribute(S,""):GL(g,S,E)}}}function No(g,b,S){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ki("error",g),ki("load",g);var E=!1,B=!1,j;for(j in S)if(S.hasOwnProperty(j)){var ee=S[j];if(ee!=null)switch(j){case"src":E=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,b));default:ur(g,b,j,ee,S,null)}}B&&ur(g,b,"srcSet",S.srcSet,S,null),E&&ur(g,b,"src",S.src,S,null);return;case"input":ki("invalid",g);var de=j=ee=B=null,Se=null,Be=null;for(E in S)if(S.hasOwnProperty(E)){var ft=S[E];if(ft!=null)switch(E){case"name":B=ft;break;case"type":ee=ft;break;case"checked":Se=ft;break;case"defaultChecked":Be=ft;break;case"value":j=ft;break;case"defaultValue":de=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,b));break;default:ur(g,b,E,ft,S,null)}}MK(g,j,de,Se,Be,ee,B,!1),QL(g);return;case"select":ki("invalid",g),E=ee=j=null;for(B in S)if(S.hasOwnProperty(B)&&(de=S[B],de!=null))switch(B){case"value":j=de;break;case"defaultValue":ee=de;break;case"multiple":E=de;default:ur(g,b,B,de,S,null)}b=j,S=ee,g.multiple=!!E,b!=null?i1(g,!!E,b,!1):S!=null&&i1(g,!!E,S,!0);return;case"textarea":ki("invalid",g),j=B=E=null;for(ee in S)if(S.hasOwnProperty(ee)&&(de=S[ee],de!=null))switch(ee){case"value":E=de;break;case"defaultValue":B=de;break;case"children":j=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(91));break;default:ur(g,b,ee,de,S,null)}NK(g,E,B,j),QL(g);return;case"option":for(Se in S)if(S.hasOwnProperty(Se)&&(E=S[Se],E!=null))switch(Se){case"selected":g.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:ur(g,b,Se,E,S,null)}return;case"dialog":ki("cancel",g),ki("close",g);break;case"iframe":case"object":ki("load",g);break;case"video":case"audio":for(E=0;E<j_.length;E++)ki(j_[E],g);break;case"image":ki("error",g),ki("load",g);break;case"details":ki("toggle",g);break;case"embed":case"source":case"link":ki("error",g),ki("load",g);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in S)if(S.hasOwnProperty(Be)&&(E=S[Be],E!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,b));default:ur(g,b,Be,E,S,null)}return;default:if(DP(b)){for(ft in S)S.hasOwnProperty(ft)&&(E=S[ft],E!==void 0&&h4(g,b,ft,E,S,void 0));return}}for(de in S)S.hasOwnProperty(de)&&(E=S[de],E!=null&&ur(g,b,de,E,S,null))}function Dke(g,b,S,E){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,j=null,ee=null,de=null,Se=null,Be=null,ft=null;for(ht in S){var wt=S[ht];if(S.hasOwnProperty(ht)&&wt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Se=wt;default:E.hasOwnProperty(ht)||ur(g,b,ht,null,E,wt)}}for(var Je in E){var ht=E[Je];if(wt=S[Je],E.hasOwnProperty(Je)&&(ht!=null||wt!=null))switch(Je){case"type":j=ht;break;case"name":B=ht;break;case"checked":Be=ht;break;case"defaultChecked":ft=ht;break;case"value":ee=ht;break;case"defaultValue":de=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,b));break;default:ht!==wt&&ur(g,b,Je,ht,E,wt)}}LP(g,ee,de,Se,Be,ft,j,B);return;case"select":ht=ee=de=Je=null;for(j in S)if(Se=S[j],S.hasOwnProperty(j)&&Se!=null)switch(j){case"value":break;case"multiple":ht=Se;default:E.hasOwnProperty(j)||ur(g,b,j,null,E,Se)}for(B in E)if(j=E[B],Se=S[B],E.hasOwnProperty(B)&&(j!=null||Se!=null))switch(B){case"value":Je=j;break;case"defaultValue":de=j;break;case"multiple":ee=j;default:j!==Se&&ur(g,b,B,j,E,Se)}b=de,S=ee,E=ht,Je!=null?i1(g,!!S,Je,!1):!!E!=!!S&&(b!=null?i1(g,!!S,b,!0):i1(g,!!S,S?[]:"",!1));return;case"textarea":ht=Je=null;for(de in S)if(B=S[de],S.hasOwnProperty(de)&&B!=null&&!E.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:ur(g,b,de,null,E,B)}for(ee in E)if(B=E[ee],j=S[ee],E.hasOwnProperty(ee)&&(B!=null||j!=null))switch(ee){case"value":Je=B;break;case"defaultValue":ht=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==j&&ur(g,b,ee,B,E,j)}RK(g,Je,ht);return;case"option":for(var gn in S)if(Je=S[gn],S.hasOwnProperty(gn)&&Je!=null&&!E.hasOwnProperty(gn))switch(gn){case"selected":g.selected=!1;break;default:ur(g,b,gn,null,E,Je)}for(Se in E)if(Je=E[Se],ht=S[Se],E.hasOwnProperty(Se)&&Je!==ht&&(Je!=null||ht!=null))switch(Se){case"selected":g.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:ur(g,b,Se,Je,E,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jn in S)Je=S[jn],S.hasOwnProperty(jn)&&Je!=null&&!E.hasOwnProperty(jn)&&ur(g,b,jn,null,E,Je);for(Be in E)if(Je=E[Be],ht=S[Be],E.hasOwnProperty(Be)&&Je!==ht&&(Je!=null||ht!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(i(137,b));break;default:ur(g,b,Be,Je,E,ht)}return;default:if(DP(b)){for(var rs in S)Je=S[rs],S.hasOwnProperty(rs)&&Je!==void 0&&!E.hasOwnProperty(rs)&&h4(g,b,rs,void 0,E,Je);for(ft in E)Je=E[ft],ht=S[ft],!E.hasOwnProperty(ft)||Je===ht||Je===void 0&&ht===void 0||h4(g,b,ft,Je,E,ht);return}}for(var We in S)Je=S[We],S.hasOwnProperty(We)&&Je!=null&&!E.hasOwnProperty(We)&&ur(g,b,We,null,E,Je);for(wt in E)Je=E[wt],ht=S[wt],!E.hasOwnProperty(wt)||Je===ht||Je==null&&ht==null||ur(g,b,wt,Je,E,ht)}var f4=null,g4=null;function zE(g){return g.nodeType===9?g:g.ownerDocument}function LX(g){switch(g){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EX(g,b){if(g===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return g===1&&b==="foreignObject"?0:g}function p4(g,b){return g==="textarea"||g==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var m4=null;function Tke(){var g=window.event;return g&&g.type==="popstate"?g===m4?!1:(m4=g,!0):(m4=null,!1)}var DX=typeof setTimeout=="function"?setTimeout:void 0,Ike=typeof clearTimeout=="function"?clearTimeout:void 0,TX=typeof Promise=="function"?Promise:void 0,Mke=typeof queueMicrotask=="function"?queueMicrotask:typeof TX<"u"?function(g){return TX.resolve(null).then(g).catch(Rke)}:DX;function Rke(g){setTimeout(function(){throw g})}function b4(g,b){var S=b,E=0;do{var B=S.nextSibling;if(g.removeChild(S),B&&B.nodeType===8)if(S=B.data,S==="/$"){if(E===0){g.removeChild(B),J_(b);return}E--}else S!=="$"&&S!=="$?"&&S!=="$!"||E++;S=B}while(S);J_(b)}function v4(g){var b=g.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var S=b;switch(b=b.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":v4(S),Ie(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}g.removeChild(S)}}function Nke(g,b,S,E){for(;g.nodeType===1;){var B=S;if(g.nodeName.toLowerCase()!==b.toLowerCase()){if(!E&&(g.nodeName!=="INPUT"||g.type!=="hidden"))break}else if(E){if(!g[yt])switch(b){case"meta":if(!g.hasAttribute("itemprop"))break;return g;case"link":if(j=g.getAttribute("rel"),j==="stylesheet"&&g.hasAttribute("data-precedence"))break;if(j!==B.rel||g.getAttribute("href")!==(B.href==null?null:B.href)||g.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||g.getAttribute("title")!==(B.title==null?null:B.title))break;return g;case"style":if(g.hasAttribute("data-precedence"))break;return g;case"script":if(j=g.getAttribute("src"),(j!==(B.src==null?null:B.src)||g.getAttribute("type")!==(B.type==null?null:B.type)||g.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&j&&g.hasAttribute("async")&&!g.hasAttribute("itemprop"))break;return g;default:return g}}else if(b==="input"&&g.type==="hidden"){var j=B.name==null?null:""+B.name;if(B.type==="hidden"&&g.getAttribute("name")===j)return g}else return g;if(g=iu(g.nextSibling),g===null)break}return null}function Ake(g,b,S){if(b==="")return null;for(;g.nodeType!==3;)if((g.nodeType!==1||g.nodeName!=="INPUT"||g.type!=="hidden")&&!S||(g=iu(g.nextSibling),g===null))return null;return g}function iu(g){for(;g!=null;g=g.nextSibling){var b=g.nodeType;if(b===1||b===3)break;if(b===8){if(b=g.data,b==="$"||b==="$!"||b==="$?"||b==="F!"||b==="F")break;if(b==="/$")return null}}return g}function IX(g){g=g.previousSibling;for(var b=0;g;){if(g.nodeType===8){var S=g.data;if(S==="$"||S==="$!"||S==="$?"){if(b===0)return g;b--}else S==="/$"&&b++}g=g.previousSibling}return null}function MX(g,b,S){switch(b=zE(S),g){case"html":if(g=b.documentElement,!g)throw Error(i(452));return g;case"head":if(g=b.head,!g)throw Error(i(453));return g;case"body":if(g=b.body,!g)throw Error(i(454));return g;default:throw Error(i(451))}}var sc=new Map,RX=new Set;function WE(g){return typeof g.getRootNode=="function"?g.getRootNode():g.ownerDocument}var _h=G.d;G.d={f:Pke,r:Oke,D:Fke,C:Bke,L:Hke,m:Vke,X:Wke,S:zke,M:$ke};function Pke(){var g=_h.f(),b=AE();return g||b}function Oke(g){var b=Pt(g);b!==null&&b.tag===5&&b.type==="form"?sY(b):_h.r(g)}var M1=typeof document>"u"?null:document;function NX(g,b,S){var E=M1;if(E&&typeof b=="string"&&b){var B=Ql(b);B='link[rel="'+g+'"][href="'+B+'"]',typeof S=="string"&&(B+='[crossorigin="'+S+'"]'),RX.has(B)||(RX.add(B),g={rel:g,crossOrigin:S,href:b},E.querySelector(B)===null&&(b=E.createElement("link"),No(b,"link",g),di(b),E.head.appendChild(b)))}}function Fke(g){_h.D(g),NX("dns-prefetch",g,null)}function Bke(g,b){_h.C(g,b),NX("preconnect",g,b)}function Hke(g,b,S){_h.L(g,b,S);var E=M1;if(E&&g&&b){var B='link[rel="preload"][as="'+Ql(b)+'"]';b==="image"&&S&&S.imageSrcSet?(B+='[imagesrcset="'+Ql(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(B+='[imagesizes="'+Ql(S.imageSizes)+'"]')):B+='[href="'+Ql(g)+'"]';var j=B;switch(b){case"style":j=R1(g);break;case"script":j=N1(g)}sc.has(j)||(g=I({rel:"preload",href:b==="image"&&S&&S.imageSrcSet?void 0:g,as:b},S),sc.set(j,g),E.querySelector(B)!==null||b==="style"&&E.querySelector(q_(j))||b==="script"&&E.querySelector(G_(j))||(b=E.createElement("link"),No(b,"link",g),di(b),E.head.appendChild(b)))}}function Vke(g,b){_h.m(g,b);var S=M1;if(S&&g){var E=b&&typeof b.as=="string"?b.as:"script",B='link[rel="modulepreload"][as="'+Ql(E)+'"][href="'+Ql(g)+'"]',j=B;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=N1(g)}if(!sc.has(j)&&(g=I({rel:"modulepreload",href:g},b),sc.set(j,g),S.querySelector(B)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(G_(j)))return}E=S.createElement("link"),No(E,"link",g),di(E),S.head.appendChild(E)}}}function zke(g,b,S){_h.S(g,b,S);var E=M1;if(E&&g){var B=Br(E).hoistableStyles,j=R1(g);b=b||"default";var ee=B.get(j);if(!ee){var de={loading:0,preload:null};if(ee=E.querySelector(q_(j)))de.loading=5;else{g=I({rel:"stylesheet",href:g,"data-precedence":b},S),(S=sc.get(j))&&y4(g,S);var Se=ee=E.createElement("link");di(Se),No(Se,"link",g),Se._p=new Promise(function(Be,ft){Se.onload=Be,Se.onerror=ft}),Se.addEventListener("load",function(){de.loading|=1}),Se.addEventListener("error",function(){de.loading|=2}),de.loading|=4,$E(ee,b,E)}ee={type:"stylesheet",instance:ee,count:1,state:de},B.set(j,ee)}}}function Wke(g,b){_h.X(g,b);var S=M1;if(S&&g){var E=Br(S).hoistableScripts,B=N1(g),j=E.get(B);j||(j=S.querySelector(G_(B)),j||(g=I({src:g,async:!0},b),(b=sc.get(B))&&C4(g,b),j=S.createElement("script"),di(j),No(j,"link",g),S.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(B,j))}}function $ke(g,b){_h.M(g,b);var S=M1;if(S&&g){var E=Br(S).hoistableScripts,B=N1(g),j=E.get(B);j||(j=S.querySelector(G_(B)),j||(g=I({src:g,async:!0,type:"module"},b),(b=sc.get(B))&&C4(g,b),j=S.createElement("script"),di(j),No(j,"link",g),S.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(B,j))}}function AX(g,b,S,E){var B=(B=ye.current)?WE(B):null;if(!B)throw Error(i(446));switch(g){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(b=R1(S.href),S=Br(B).hoistableStyles,E=S.get(b),E||(E={type:"style",instance:null,count:0,state:null},S.set(b,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){g=R1(S.href);var j=Br(B).hoistableStyles,ee=j.get(g);if(ee||(B=B.ownerDocument||B,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(g,ee),(j=B.querySelector(q_(g)))&&!j._p&&(ee.instance=j,ee.state.loading=5),sc.has(g)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},sc.set(g,S),j||jke(B,g,S,ee.state))),b&&E===null)throw Error(i(528,""));return ee}if(b&&E!==null)throw Error(i(529,""));return null;case"script":return b=S.async,S=S.src,typeof S=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=N1(S),S=Br(B).hoistableScripts,E=S.get(b),E||(E={type:"script",instance:null,count:0,state:null},S.set(b,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,g))}}function R1(g){return'href="'+Ql(g)+'"'}function q_(g){return'link[rel="stylesheet"]['+g+"]"}function PX(g){return I({},g,{"data-precedence":g.precedence,precedence:null})}function jke(g,b,S,E){g.querySelector('link[rel="preload"][as="style"]['+b+"]")?E.loading=1:(b=g.createElement("link"),E.preload=b,b.addEventListener("load",function(){return E.loading|=1}),b.addEventListener("error",function(){return E.loading|=2}),No(b,"link",S),di(b),g.head.appendChild(b))}function N1(g){return'[src="'+Ql(g)+'"]'}function G_(g){return"script[async]"+g}function OX(g,b,S){if(b.count++,b.instance===null)switch(b.type){case"style":var E=g.querySelector('style[data-href~="'+Ql(S.href)+'"]');if(E)return b.instance=E,di(E),E;var B=I({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return E=(g.ownerDocument||g).createElement("style"),di(E),No(E,"style",B),$E(E,S.precedence,g),b.instance=E;case"stylesheet":B=R1(S.href);var j=g.querySelector(q_(B));if(j)return b.state.loading|=4,b.instance=j,di(j),j;E=PX(S),(B=sc.get(B))&&y4(E,B),j=(g.ownerDocument||g).createElement("link"),di(j);var ee=j;return ee._p=new Promise(function(de,Se){ee.onload=de,ee.onerror=Se}),No(j,"link",E),b.state.loading|=4,$E(j,S.precedence,g),b.instance=j;case"script":return j=N1(S.src),(B=g.querySelector(G_(j)))?(b.instance=B,di(B),B):(E=S,(B=sc.get(j))&&(E=I({},S),C4(E,B)),g=g.ownerDocument||g,B=g.createElement("script"),di(B),No(B,"link",E),g.head.appendChild(B),b.instance=B);case"void":return null;default:throw Error(i(443,b.type))}else b.type==="stylesheet"&&!(b.state.loading&4)&&(E=b.instance,b.state.loading|=4,$E(E,S.precedence,g));return b.instance}function $E(g,b,S){for(var E=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=E.length?E[E.length-1]:null,j=B,ee=0;ee<E.length;ee++){var de=E[ee];if(de.dataset.precedence===b)j=de;else if(j!==B)break}j?j.parentNode.insertBefore(g,j.nextSibling):(b=S.nodeType===9?S.head:S,b.insertBefore(g,b.firstChild))}function y4(g,b){g.crossOrigin==null&&(g.crossOrigin=b.crossOrigin),g.referrerPolicy==null&&(g.referrerPolicy=b.referrerPolicy),g.title==null&&(g.title=b.title)}function C4(g,b){g.crossOrigin==null&&(g.crossOrigin=b.crossOrigin),g.referrerPolicy==null&&(g.referrerPolicy=b.referrerPolicy),g.integrity==null&&(g.integrity=b.integrity)}var jE=null;function FX(g,b,S){if(jE===null){var E=new Map,B=jE=new Map;B.set(S,E)}else B=jE,E=B.get(S),E||(E=new Map,B.set(S,E));if(E.has(g))return E;for(E.set(g,null),S=S.getElementsByTagName(g),B=0;B<S.length;B++){var j=S[B];if(!(j[yt]||j[Vt]||g==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=j.getAttribute(b)||"";ee=g+ee;var de=E.get(ee);de?de.push(j):E.set(ee,[j])}}return E}function BX(g,b,S){g=g.ownerDocument||g,g.head.insertBefore(S,b==="title"?g.querySelector("head > title"):null)}function Uke(g,b,S){if(S===1||b.itemProp!=null)return!1;switch(g){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return g=b.disabled,typeof b.precedence=="string"&&g==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function HX(g){return!(g.type==="stylesheet"&&!(g.state.loading&3))}var K_=null;function qke(){}function Gke(g,b,S){if(K_===null)throw Error(i(475));var E=K_;if(b.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&!(b.state.loading&4)){if(b.instance===null){var B=R1(S.href),j=g.querySelector(q_(B));if(j){g=j._p,g!==null&&typeof g=="object"&&typeof g.then=="function"&&(E.count++,E=UE.bind(E),g.then(E,E)),b.state.loading|=4,b.instance=j,di(j);return}j=g.ownerDocument||g,S=PX(S),(B=sc.get(B))&&y4(S,B),j=j.createElement("link"),di(j);var ee=j;ee._p=new Promise(function(de,Se){ee.onload=de,ee.onerror=Se}),No(j,"link",S),b.instance=j}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(b,g),(g=b.state.preload)&&!(b.state.loading&3)&&(E.count++,b=UE.bind(E),g.addEventListener("load",b),g.addEventListener("error",b))}}function Kke(){if(K_===null)throw Error(i(475));var g=K_;return g.stylesheets&&g.count===0&&_4(g,g.stylesheets),0<g.count?function(b){var S=setTimeout(function(){if(g.stylesheets&&_4(g,g.stylesheets),g.unsuspend){var E=g.unsuspend;g.unsuspend=null,E()}},6e4);return g.unsuspend=b,function(){g.unsuspend=null,clearTimeout(S)}}:null}function UE(){if(this.count--,this.count===0){if(this.stylesheets)_4(this,this.stylesheets);else if(this.unsuspend){var g=this.unsuspend;this.unsuspend=null,g()}}}var qE=null;function _4(g,b){g.stylesheets=null,g.unsuspend!==null&&(g.count++,qE=new Map,b.forEach(Qke,g),qE=null,UE.call(g))}function Qke(g,b){if(!(b.state.loading&4)){var S=qE.get(g);if(S)var E=S.get(null);else{S=new Map,qE.set(g,S);for(var B=g.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<B.length;j++){var ee=B[j];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(S.set(ee.dataset.precedence,ee),E=ee)}E&&S.set(null,E)}B=b.instance,ee=B.getAttribute("data-precedence"),j=S.get(ee)||E,j===E&&S.set(null,B),S.set(ee,B),this.count++,E=UE.bind(this),B.addEventListener("load",E),B.addEventListener("error",E),j?j.parentNode.insertBefore(B,j.nextSibling):(g=g.nodeType===9?g.head:g,g.insertBefore(B,g.firstChild)),b.state.loading|=4}}var Q_={$$typeof:f,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Yke(g,b,S,E,B,j,ee,de){this.tag=1,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ue(0),this.hiddenUpdates=ue(null),this.identifierPrefix=E,this.onUncaughtError=B,this.onCaughtError=j,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function VX(g,b,S,E,B,j,ee,de,Se,Be,ft,wt){return g=new Yke(g,b,S,ee,de,Se,Be,wt),b=1,j===!0&&(b|=24),j=ic(3,null,null,b),g.current=j,j.stateNode=g,b=JP(),b.refCount++,g.pooledCache=b,b.refCount++,j.memoizedState={element:E,isDehydrated:S,cache:b},NO(j),g}function zX(g){return g?(g=d1,g):d1}function WX(g,b,S,E,B,j){B=zX(B),E.context===null?E.context=B:E.pendingContext=B,E=cg(b),E.payload={element:S},j=j===void 0?null:j,j!==null&&(E.callback=j),S=ug(g,E,b),S!==null&&(_a(S,g,b),R_(S,g,b))}function $X(g,b){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var S=g.retryLane;g.retryLane=S!==0&&S<b?S:b}}function w4(g,b){$X(g,b),(g=g.alternate)&&$X(g,b)}function jX(g){if(g.tag===13){var b=ng(g,67108864);b!==null&&_a(b,g,67108864),w4(g,67108864)}}var GE=!0;function Xke(g,b,S,E){var B=L.T;L.T=null;var j=G.p;try{G.p=2,S4(g,b,S,E)}finally{G.p=j,L.T=B}}function Zke(g,b,S,E){var B=L.T;L.T=null;var j=G.p;try{G.p=8,S4(g,b,S,E)}finally{G.p=j,L.T=B}}function S4(g,b,S,E){if(GE){var B=x4(E);if(B===null)d4(g,b,E,KE,S),qX(g,E);else if(eLe(B,g,b,S,E))E.stopPropagation();else if(qX(g,E),b&4&&-1<Jke.indexOf(g)){for(;B!==null;){var j=Pt(B);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var ee=He(j.pendingLanes);if(ee!==0){var de=j;for(de.pendingLanes|=2,de.entangledLanes|=2;ee;){var Se=1<<31-Et(ee);de.entanglements[1]|=Se,ee&=~Se}Gu(j),!(Ur&6)&&(ME=Ne()+500,$_(0))}}break;case 13:de=ng(j,2),de!==null&&_a(de,j,2),AE(),w4(j,2)}if(j=x4(E),j===null&&d4(g,b,E,KE,S),j===B)break;B=j}B!==null&&E.stopPropagation()}else d4(g,b,E,null,S)}}function x4(g){return g=IP(g),k4(g)}var KE=null;function k4(g){if(KE=null,g=ct(g),g!==null){var b=$(g);if(b===null)g=null;else{var S=b.tag;if(S===13){if(g=U(b),g!==null)return g;g=null}else if(S===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;g=null}else b!==g&&(g=null)}}return KE=g,null}function UX(g){switch(g){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case gt:return 2;case rt:return 8;case it:case Xe:return 32;case st:return 268435456;default:return 32}default:return 32}}var L4=!1,bg=null,vg=null,yg=null,Y_=new Map,X_=new Map,Cg=[],Jke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qX(g,b){switch(g){case"focusin":case"focusout":bg=null;break;case"dragenter":case"dragleave":vg=null;break;case"mouseover":case"mouseout":yg=null;break;case"pointerover":case"pointerout":Y_.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":X_.delete(b.pointerId)}}function Z_(g,b,S,E,B,j){return g===null||g.nativeEvent!==j?(g={blockedOn:b,domEventName:S,eventSystemFlags:E,nativeEvent:j,targetContainers:[B]},b!==null&&(b=Pt(b),b!==null&&jX(b)),g):(g.eventSystemFlags|=E,b=g.targetContainers,B!==null&&b.indexOf(B)===-1&&b.push(B),g)}function eLe(g,b,S,E,B){switch(b){case"focusin":return bg=Z_(bg,g,b,S,E,B),!0;case"dragenter":return vg=Z_(vg,g,b,S,E,B),!0;case"mouseover":return yg=Z_(yg,g,b,S,E,B),!0;case"pointerover":var j=B.pointerId;return Y_.set(j,Z_(Y_.get(j)||null,g,b,S,E,B)),!0;case"gotpointercapture":return j=B.pointerId,X_.set(j,Z_(X_.get(j)||null,g,b,S,E,B)),!0}return!1}function GX(g){var b=ct(g.target);if(b!==null){var S=$(b);if(S!==null){if(b=S.tag,b===13){if(b=U(S),b!==null){g.blockedOn=b,At(g.priority,function(){if(S.tag===13){var E=wl(),B=ng(S,E);B!==null&&_a(B,S,E),w4(S,E)}});return}}else if(b===3&&S.stateNode.current.memoizedState.isDehydrated){g.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}g.blockedOn=null}function QE(g){if(g.blockedOn!==null)return!1;for(var b=g.targetContainers;0<b.length;){var S=x4(g.nativeEvent);if(S===null){S=g.nativeEvent;var E=new S.constructor(S.type,S);TP=E,S.target.dispatchEvent(E),TP=null}else return b=Pt(S),b!==null&&jX(b),g.blockedOn=S,!1;b.shift()}return!0}function KX(g,b,S){QE(g)&&S.delete(b)}function tLe(){L4=!1,bg!==null&&QE(bg)&&(bg=null),vg!==null&&QE(vg)&&(vg=null),yg!==null&&QE(yg)&&(yg=null),Y_.forEach(KX),X_.forEach(KX)}function YE(g,b){g.blockedOn===b&&(g.blockedOn=null,L4||(L4=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tLe)))}var XE=null;function QX(g){XE!==g&&(XE=g,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){XE===g&&(XE=null);for(var b=0;b<g.length;b+=3){var S=g[b],E=g[b+1],B=g[b+2];if(typeof E!="function"){if(k4(E||S)===null)continue;break}var j=Pt(S);j!==null&&(g.splice(b,3),b-=3,pO(j,{pending:!0,data:B,method:S.method,action:E},E,B))}}))}function J_(g){function b(Se){return YE(Se,g)}bg!==null&&YE(bg,g),vg!==null&&YE(vg,g),yg!==null&&YE(yg,g),Y_.forEach(b),X_.forEach(b);for(var S=0;S<Cg.length;S++){var E=Cg[S];E.blockedOn===g&&(E.blockedOn=null)}for(;0<Cg.length&&(S=Cg[0],S.blockedOn===null);)GX(S),S.blockedOn===null&&Cg.shift();if(S=(g.ownerDocument||g).$$reactFormReplay,S!=null)for(E=0;E<S.length;E+=3){var B=S[E],j=S[E+1],ee=B[zt]||null;if(typeof j=="function")ee||QX(S);else if(ee){var de=null;if(j&&j.hasAttribute("formAction")){if(B=j,ee=j[zt]||null)de=ee.formAction;else if(k4(B)!==null)continue}else de=ee.action;typeof de=="function"?S[E+1]=de:(S.splice(E,3),E-=3),QX(S)}}}function E4(g){this._internalRoot=g}ZE.prototype.render=E4.prototype.render=function(g){var b=this._internalRoot;if(b===null)throw Error(i(409));var S=b.current,E=wl();WX(S,E,g,b,null,null)},ZE.prototype.unmount=E4.prototype.unmount=function(){var g=this._internalRoot;if(g!==null){this._internalRoot=null;var b=g.containerInfo;g.tag===0&&D1(),WX(g.current,2,null,g,null,null),AE(),b[Mn]=null}};function ZE(g){this._internalRoot=g}ZE.prototype.unstable_scheduleHydration=function(g){if(g){var b=Ct();g={blockedOn:null,target:g,priority:b};for(var S=0;S<Cg.length&&b!==0&&b<Cg[S].priority;S++);Cg.splice(S,0,g),S===0&&GX(g)}};var YX=e.version;if(YX!=="19.0.0")throw Error(i(527,YX,"19.0.0"));G.findDOMNode=function(g){var b=g._reactInternals;if(b===void 0)throw typeof g.render=="function"?Error(i(188)):(g=Object.keys(g).join(","),Error(i(268,g)));return g=K(b),g=g!==null?Z(g):null,g=g===null?null:g.stateNode,g};var nLe={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:ct,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var JE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!JE.isDisabled&&JE.supportsFiber)try{Gt=JE.inject(nLe),Dt=JE}catch{}}return tw.createRoot=function(g,b){if(!r(g))throw Error(i(299));var S=!1,E="",B=fY,j=gY,ee=pY,de=null;return b!=null&&(b.unstable_strictMode===!0&&(S=!0),b.identifierPrefix!==void 0&&(E=b.identifierPrefix),b.onUncaughtError!==void 0&&(B=b.onUncaughtError),b.onCaughtError!==void 0&&(j=b.onCaughtError),b.onRecoverableError!==void 0&&(ee=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(de=b.unstable_transitionCallbacks)),b=VX(g,1,!1,null,null,S,E,B,j,ee,de,null),g[Mn]=b.current,u4(g.nodeType===8?g.parentNode:g),new E4(b)},tw.hydrateRoot=function(g,b,S){if(!r(g))throw Error(i(299));var E=!1,B="",j=fY,ee=gY,de=pY,Se=null,Be=null;return S!=null&&(S.unstable_strictMode===!0&&(E=!0),S.identifierPrefix!==void 0&&(B=S.identifierPrefix),S.onUncaughtError!==void 0&&(j=S.onUncaughtError),S.onCaughtError!==void 0&&(ee=S.onCaughtError),S.onRecoverableError!==void 0&&(de=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(Se=S.unstable_transitionCallbacks),S.formState!==void 0&&(Be=S.formState)),b=VX(g,1,!0,b,S??null,E,B,j,ee,de,Se,Be),b.context=zX(null),S=b.current,E=wl(),B=cg(E),B.callback=null,ug(S,B,E),b.current.lanes=E,pe(b,E),Gu(b),g[Mn]=b.current,u4(g),new ZE(b)},tw.version="19.0.0",tw}var aZ;function fLe(){if(aZ)return I4.exports;aZ=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I4.exports=hLe(),I4.exports}var gLe=fLe(),I2={exports:{}},M2={exports:{}},pLe=M2.exports,lZ;function mLe(){return lZ||(lZ=1,function(n,e){(function(t,i){n.exports=i()})(pLe,function(){function t(m){return!isNaN(parseFloat(m))&&isFinite(m)}function i(m){return m.charAt(0).toUpperCase()+m.substring(1)}function r(m){return function(){return this[m]}}var s=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],a=["fileName","functionName","source"],l=["args"],c=["evalOrigin"],u=s.concat(o,a,l,c);function d(m){if(m)for(var v=0;v<u.length;v++)m[u[v]]!==void 0&&this["set"+i(u[v])](m[u[v]])}d.prototype={getArgs:function(){return this.args},setArgs:function(m){if(Object.prototype.toString.call(m)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=m},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(m){if(m instanceof d)this.evalOrigin=m;else if(m instanceof Object)this.evalOrigin=new d(m);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var m=this.getFileName()||"",v=this.getLineNumber()||"",C=this.getColumnNumber()||"",y=this.getFunctionName()||"";return this.getIsEval()?m?"[eval] ("+m+":"+v+":"+C+")":"[eval]:"+v+":"+C:y?y+" ("+m+":"+v+":"+C+")":m+":"+v+":"+C}},d.fromString=function(v){var C=v.indexOf("("),y=v.lastIndexOf(")"),w=v.substring(0,C),_=v.substring(C+1,y).split(","),x=v.substring(y+1);if(x.indexOf("@")===0)var k=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(x,""),D=k[1],T=k[2],L=k[3];return new d({functionName:w,args:_||void 0,fileName:D,lineNumber:T||void 0,columnNumber:L||void 0})};for(var h=0;h<s.length;h++)d.prototype["get"+i(s[h])]=r(s[h]),d.prototype["set"+i(s[h])]=function(m){return function(v){this[m]=!!v}}(s[h]);for(var f=0;f<o.length;f++)d.prototype["get"+i(o[f])]=r(o[f]),d.prototype["set"+i(o[f])]=function(m){return function(v){if(!t(v))throw new TypeError(m+" must be a Number");this[m]=Number(v)}}(o[f]);for(var p=0;p<a.length;p++)d.prototype["get"+i(a[p])]=r(a[p]),d.prototype["set"+i(a[p])]=function(m){return function(v){this[m]=String(v)}}(a[p]);return d})}(M2)),M2.exports}var bLe=I2.exports,cZ;function vLe(){return cZ||(cZ=1,function(n,e){(function(t,i){n.exports=i(mLe())})(bLe,function(i){var r=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(l){if(typeof l.stacktrace<"u"||typeof l["opera#sourceloc"]<"u")return this.parseOpera(l);if(l.stack&&l.stack.match(s))return this.parseV8OrIE(l);if(l.stack)return this.parseFFOrSafari(l);throw new Error("Cannot parse given Error object")},extractLocation:function(l){if(l.indexOf(":")===-1)return[l];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=c.exec(l.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(l){var c=l.stack.split(`
`).filter(function(u){return!!u.match(s)},this);return c.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var d=u.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),h=d.match(/ (\(.+\)$)/);d=h?d.replace(h[0],""):d;var f=this.extractLocation(h?h[1]:d),p=h&&d||void 0,m=["eval","<anonymous>"].indexOf(f[0])>-1?void 0:f[0];return new i({functionName:p,fileName:m,lineNumber:f[1],columnNumber:f[2],source:u})},this)},parseFFOrSafari:function(l){var c=l.stack.split(`
`).filter(function(u){return!u.match(o)},this);return c.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new i({functionName:u});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,h=u.match(d),f=h&&h[1]?h[1]:void 0,p=this.extractLocation(u.replace(d,""));return new i({functionName:f,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:u})},this)},parseOpera:function(l){return!l.stacktrace||l.message.indexOf(`
`)>-1&&l.message.split(`
`).length>l.stacktrace.split(`
`).length?this.parseOpera9(l):l.stack?this.parseOpera11(l):this.parseOpera10(l)},parseOpera9:function(l){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,u=l.message.split(`
`),d=[],h=2,f=u.length;h<f;h+=2){var p=c.exec(u[h]);p&&d.push(new i({fileName:p[2],lineNumber:p[1],source:u[h]}))}return d},parseOpera10:function(l){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=l.stacktrace.split(`
`),d=[],h=0,f=u.length;h<f;h+=2){var p=c.exec(u[h]);p&&d.push(new i({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:u[h]}))}return d},parseOpera11:function(l){var c=l.stack.split(`
`).filter(function(u){return!!u.match(r)&&!u.match(/^Error created at/)},this);return c.map(function(u){var d=u.split("@"),h=this.extractLocation(d.pop()),f=d.shift()||"",p=f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,m;f.match(/\(([^)]*)\)/)&&(m=f.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var v=m===void 0||m==="[arguments not available]"?void 0:m.split(",");return new i({functionName:p,args:v,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:u})},this)}}})}(I2)),I2.exports}vLe();function Hi(n,e,t,i){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}class g0{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const kx=typeof window>"u"||"Deno"in window;function dc(){}function yLe(n,e){return typeof n=="function"?n(e):n}function q6(n){return typeof n=="number"&&n>=0&&n!==1/0}function xfe(n,e){return Math.max(n+(e||0)-Date.now(),0)}function fy(n,e,t){return Ok(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function CLe(n,e,t){return Ok(n)?typeof e=="function"?{...t,mutationKey:n,mutationFn:e}:{...e,mutationKey:n}:typeof n=="function"?{...e,mutationFn:n}:{...n}}function Og(n,e,t){return Ok(n)?[{...e,queryKey:n},t]:[n||{},e]}function uZ(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=n;if(Ok(o)){if(i){if(e.queryHash!==U$(o,e.options))return!1}else if(!MT(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof r<"u"&&r!==e.state.fetchStatus||s&&!s(e))}function dZ(n,e){const{exact:t,fetching:i,predicate:r,mutationKey:s}=n;if(Ok(s)){if(!e.options.mutationKey)return!1;if(t){if(mb(e.options.mutationKey)!==mb(s))return!1}else if(!MT(e.options.mutationKey,s))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||r&&!r(e))}function U$(n,e){return((e==null?void 0:e.queryKeyHashFn)||mb)(n)}function mb(n){return JSON.stringify(n,(e,t)=>G6(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function MT(n,e){return kfe(n,e)}function kfe(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!kfe(n[t],e[t])):!1}function Lfe(n,e){if(n===e)return n;const t=hZ(n)&&hZ(e);if(t||G6(n)&&G6(e)){const i=t?n.length:Object.keys(n).length,r=t?e:Object.keys(e),s=r.length,o=t?[]:{};let a=0;for(let l=0;l<s;l++){const c=t?l:r[l];o[c]=Lfe(n[c],e[c]),o[c]===n[c]&&a++}return i===s&&a===i?n:o}return e}function RT(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function hZ(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function G6(n){if(!fZ(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!fZ(t)||!t.hasOwnProperty("isPrototypeOf"))}function fZ(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ok(n){return Array.isArray(n)}function Efe(n){return new Promise(e=>{setTimeout(e,n)})}function gZ(n){Efe(0).then(n)}function _Le(){if(typeof AbortController=="function")return new AbortController}function K6(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Lfe(n,e):e}class wLe extends g0{constructor(){super(),this.setup=e=>{if(!kx&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const NT=new wLe,pZ=["online","offline"];class SLe extends g0{constructor(){super(),this.setup=e=>{if(!kx&&window.addEventListener){const t=()=>e();return pZ.forEach(i=>{window.addEventListener(i,t,!1)}),()=>{pZ.forEach(i=>{window.removeEventListener(i,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setOnline(i):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const AT=new SLe;function xLe(n){return Math.min(1e3*2**n,3e4)}function rN(n){return(n??"online")==="online"?AT.isOnline():!0}class Dfe{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function R2(n){return n instanceof Dfe}function Tfe(n){let e=!1,t=0,i=!1,r,s,o;const a=new Promise((v,C)=>{s=v,o=C}),l=v=>{i||(f(new Dfe(v)),n.abort==null||n.abort())},c=()=>{e=!0},u=()=>{e=!1},d=()=>!NT.isFocused()||n.networkMode!=="always"&&!AT.isOnline(),h=v=>{i||(i=!0,n.onSuccess==null||n.onSuccess(v),r==null||r(),s(v))},f=v=>{i||(i=!0,n.onError==null||n.onError(v),r==null||r(),o(v))},p=()=>new Promise(v=>{r=C=>{const y=i||!d();return y&&v(C),y},n.onPause==null||n.onPause()}).then(()=>{r=void 0,i||n.onContinue==null||n.onContinue()}),m=()=>{if(i)return;let v;try{v=n.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(h).catch(C=>{var y,w;if(i)return;const _=(y=n.retry)!=null?y:3,x=(w=n.retryDelay)!=null?w:xLe,k=typeof x=="function"?x(t,C):x,D=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,C);if(e||!D){f(C);return}t++,n.onFail==null||n.onFail(t,C),Efe(k).then(()=>{if(d())return p()}).then(()=>{e?f(C):m()})})};return rN(n.networkMode)?m():p().then(m),{promise:a,cancel:l,continue:()=>(r==null?void 0:r())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}const q$=console;function kLe(){let n=[],e=0,t=u=>{u()},i=u=>{u()};const r=u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},s=u=>{e?n.push(u):gZ(()=>{t(u)})},o=u=>(...d)=>{s(()=>{u(...d)})},a=()=>{const u=n;n=[],u.length&&gZ(()=>{i(()=>{u.forEach(d=>{t(d)})})})};return{batch:r,batchCalls:o,schedule:s,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{i=u}}}const ds=kLe();class Ife{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),q6(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(kx?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class LLe extends Ife{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||q$,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||ELe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const i=K6(this.state.data,e,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const i=this.promise;return(t=this.retryer)==null||t.cancel(e),i?i.then(dc).catch(dc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!xfe(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var i,r;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const o=_Le(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(i=this.options.behavior)==null||i.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=u.fetchOptions)==null?void 0:r.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const h=f=>{if(R2(f)&&f.silent||this.dispatch({type:"error",error:f}),!R2(f)){var p,m,v,C;(p=(m=this.cache.config).onError)==null||p.call(m,f,this),(v=(C=this.cache.config).onSettled)==null||v.call(C,this.state.data,f,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Tfe({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:f=>{var p,m,v,C;if(typeof f>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(f),(p=(m=this.cache.config).onSuccess)==null||p.call(m,f,this),(v=(C=this.cache.config).onSettled)==null||v.call(C,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(f,p)=>{this.dispatch({type:"failed",failureCount:f,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=i=>{var r,s;switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(r=e.meta)!=null?r:null,fetchStatus:rN(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return R2(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),ds.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function ELe(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class DLe extends g0{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,i){var r;const s=t.queryKey,o=(r=t.queryHash)!=null?r:U$(s,t);let a=this.get(o);return a||(a=new LLe({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(i=>i!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ds.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[i]=Og(e,t);return typeof i.exact>"u"&&(i.exact=!0),this.queries.find(r=>uZ(i,r))}findAll(e,t){const[i]=Og(e,t);return Object.keys(i).length>0?this.queries.filter(r=>uZ(i,r)):this.queries}notify(e){ds.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){ds.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ds.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class TLe extends Ife{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||q$,this.observers=[],this.state=e.state||Mfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=Tfe({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(T,L)=>{this.dispatch({type:"failed",failureCount:T,error:L})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var i,r,s,o,a,l,c,u;if(!t){var d,h,f,p;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(h=this.mutationCache.config).onMutate)==null?void 0:d.call(h,this.state.variables,this));const T=await((f=(p=this.options).onMutate)==null?void 0:f.call(p,this.state.variables));T!==this.state.context&&this.dispatch({type:"loading",context:T,variables:this.state.variables})}const D=await e();return await((i=(r=this.mutationCache.config).onSuccess)==null?void 0:i.call(r,D,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,D,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,D,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var m,v,C,y,w,_,x,k;throw await((m=(v=this.mutationCache.config).onError)==null?void 0:m.call(v,D,this.state.variables,this.state.context,this)),await((C=(y=this.options).onError)==null?void 0:C.call(y,D,this.state.variables,this.state.context)),await((w=(_=this.mutationCache.config).onSettled)==null?void 0:w.call(_,void 0,D,this.state.variables,this.state.context,this)),await((x=(k=this.options).onSettled)==null?void 0:x.call(k,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"loading":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!rN(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...i,...e.state}}};this.state=t(this.state),ds.batch(()=>{this.observers.forEach(i=>{i.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Mfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class ILe extends g0{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,i){const r=new TLe({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:i,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){ds.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>dZ(e,t))}findAll(e){return this.mutations.filter(t=>dZ(e,t))}notify(e){ds.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(i=>i.state.isPaused);return ds.batch(()=>t.reduce((i,r)=>i.then(()=>r.continue().catch(dc)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Q6(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,i,r,s,o;const a=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,l=(i=n.fetchOptions)==null||(r=i.meta)==null?void 0:r.fetchMore,c=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",h=((s=n.state.data)==null?void 0:s.pages)||[],f=((o=n.state.data)==null?void 0:o.pageParams)||[];let p=f,m=!1;const v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var D;if((D=n.signal)!=null&&D.aborted)m=!0;else{var T;(T=n.signal)==null||T.addEventListener("abort",()=>{m=!0})}return n.signal}})},C=n.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+n.options.queryHash+"'")),y=(k,D,T,L)=>(p=L?[D,...p]:[...p,D],L?[T,...k]:[...k,T]),w=(k,D,T,L)=>{if(m)return Promise.reject("Cancelled");if(typeof T>"u"&&!D&&k.length)return Promise.resolve(k);const I={queryKey:n.queryKey,pageParam:T,meta:n.options.meta};v(I);const R=C(I);return Promise.resolve(R).then(O=>y(k,T,O,L))};let _;if(!h.length)_=w([]);else if(u){const k=typeof c<"u",D=k?c:Y6(n.options,h);_=w(h,k,D)}else if(d){const k=typeof c<"u",D=k?c:Rfe(n.options,h);_=w(h,k,D,!0)}else{p=[];const k=typeof n.options.getNextPageParam>"u";_=(a&&h[0]?a(h[0],0,h):!0)?w([],k,f[0]):Promise.resolve(y([],f[0],h[0]));for(let T=1;T<h.length;T++)_=_.then(L=>{if(a&&h[T]?a(h[T],T,h):!0){const R=k?f[T]:Y6(n.options,L);return w(L,k,R)}return Promise.resolve(y(L,f[T],h[T]))})}return _.then(k=>({pages:k,pageParams:p}))}}}}function Y6(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Rfe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}function MLe(n,e){if(n.getNextPageParam&&Array.isArray(e)){const t=Y6(n,e);return typeof t<"u"&&t!==null&&t!==!1}}function RLe(n,e){if(n.getPreviousPageParam&&Array.isArray(e)){const t=Rfe(n,e);return typeof t<"u"&&t!==null&&t!==!1}}class mZ{constructor(e={}){this.queryCache=e.queryCache||new DLe,this.mutationCache=e.mutationCache||new ILe,this.logger=e.logger||q$,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=NT.subscribe(()=>{NT.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=AT.subscribe(()=>{AT.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[i]=Og(e,t);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var i;return(i=this.queryCache.find(e,t))==null?void 0:i.state.data}ensureQueryData(e,t,i){const r=fy(e,t,i),s=this.getQueryData(r.queryKey);return s?Promise.resolve(s):this.fetchQuery(r)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:i})=>{const r=i.data;return[t,r]})}setQueryData(e,t,i){const r=this.queryCache.find(e),s=r==null?void 0:r.state.data,o=yLe(t,s);if(typeof o>"u")return;const a=fy(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return ds.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,i)]))}getQueryState(e,t){var i;return(i=this.queryCache.find(e,t))==null?void 0:i.state}removeQueries(e,t){const[i]=Og(e,t),r=this.queryCache;ds.batch(()=>{r.findAll(i).forEach(s=>{r.remove(s)})})}resetQueries(e,t,i){const[r,s]=Og(e,t,i),o=this.queryCache,a={type:"active",...r};return ds.batch(()=>(o.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,t,i){const[r,s={}]=Og(e,t,i);typeof s.revert>"u"&&(s.revert=!0);const o=ds.batch(()=>this.queryCache.findAll(r).map(a=>a.cancel(s)));return Promise.all(o).then(dc).catch(dc)}invalidateQueries(e,t,i){const[r,s]=Og(e,t,i);return ds.batch(()=>{var o,a;if(this.queryCache.findAll(r).forEach(c=>{c.invalidate()}),r.refetchType==="none")return Promise.resolve();const l={...r,type:(o=(a=r.refetchType)!=null?a:r.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,t,i){const[r,s]=Og(e,t,i),o=ds.batch(()=>this.queryCache.findAll(r).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:r.refetchPage}})}));let a=Promise.all(o).then(dc);return s!=null&&s.throwOnError||(a=a.catch(dc)),a}fetchQuery(e,t,i){const r=fy(e,t,i),s=this.defaultQueryOptions(r);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,t,i){return this.fetchQuery(e,t,i).then(dc).catch(dc)}fetchInfiniteQuery(e,t,i){const r=fy(e,t,i);return r.behavior=Q6(),this.fetchQuery(r)}prefetchInfiniteQuery(e,t,i){return this.fetchInfiniteQuery(e,t,i).then(dc).catch(dc)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const i=this.queryDefaults.find(r=>mb(e)===mb(r.queryKey));i?i.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(i=>MT(e,i.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const i=this.mutationDefaults.find(r=>mb(e)===mb(r.mutationKey));i?i.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(i=>MT(e,i.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=U$(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Nfe extends g0{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),bZ(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return X6(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X6(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const i=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),RT(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const s=this.hasListeners();s&&vZ(this.currentQuery,r,this.options,i)&&this.executeFetch(),this.updateResult(t),s&&(this.currentQuery!==r||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==r||this.options.enabled!==i.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),i=this.createResult(t,e);return ALe(this,i,e)&&(this.currentResult=i,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),i}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(i=>{Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),e[i])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),i=this.client.getQueryCache().build(this.client,t);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(dc)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),kx||this.currentResult.isStale||!q6(this.options.staleTime))return;const t=xfe(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(kx||this.options.enabled===!1||!q6(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||NT.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const i=this.currentQuery,r=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==i,c=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:h,error:f,errorUpdatedAt:p,fetchStatus:m,status:v}=d,C=!1,y=!1,w;if(t._optimisticResults){const T=this.hasListeners(),L=!T&&bZ(e,t),I=T&&vZ(e,i,t,r);(L||I)&&(m=rN(e.options.networkMode)?"fetching":"paused",h||(v="loading")),t._optimisticResults==="isRestoring"&&(m="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&u!=null&&u.isSuccess&&v!=="error")w=u.data,h=u.dataUpdatedAt,v=u.status,C=!0;else if(t.select&&typeof d.data<"u")if(s&&d.data===(o==null?void 0:o.data)&&t.select===this.selectFn)w=this.selectResult;else try{this.selectFn=t.select,w=t.select(d.data),w=K6(s==null?void 0:s.data,w,t),this.selectResult=w,this.selectError=null}catch(T){this.selectError=T}else w=d.data;if(typeof t.placeholderData<"u"&&typeof w>"u"&&v==="loading"){let T;if(s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))T=s.data;else if(T=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof T<"u")try{T=t.select(T),this.selectError=null}catch(L){this.selectError=L}typeof T<"u"&&(v="success",w=K6(s==null?void 0:s.data,T,t),y=!0)}this.selectError&&(f=this.selectError,w=this.selectResult,p=Date.now(),v="error");const _=m==="fetching",x=v==="loading",k=v==="error";return{status:v,fetchStatus:m,isLoading:x,isSuccess:v==="success",isError:k,isInitialLoading:x&&_,data:w,dataUpdatedAt:h,error:f,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!x,isLoadingError:k&&d.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:y,isPreviousData:C,isRefetchError:k&&d.dataUpdatedAt!==0,isStale:G$(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,RT(i,t))return;this.currentResult=i;const r={cache:!0},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const u=c;return this.currentResult[u]!==t[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!R2(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){ds.batch(()=>{if(e.onSuccess){var t,i,r,s;(t=(i=this.options).onSuccess)==null||t.call(i,this.currentResult.data),(r=(s=this.options).onSettled)==null||r.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function NLe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function bZ(n,e){return NLe(n,e)||n.state.dataUpdatedAt>0&&X6(n,e,e.refetchOnMount)}function X6(n,e,t){if(e.enabled!==!1){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&G$(n,e)}return!1}function vZ(n,e,t,i){return t.enabled!==!1&&(n!==e||i.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&G$(n,t)}function G$(n,e){return n.isStaleByTime(e.staleTime)}function ALe(n,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:!RT(n.getCurrentResult(),e)}class PLe extends Nfe{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:Q6()},t)}getOptimisticResult(e){return e.behavior=Q6(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var i,r,s,o,a,l;const{state:c}=e,u=super.createResult(e,t),{isFetching:d,isRefetching:h}=u,f=d&&((i=c.fetchMeta)==null||(r=i.fetchMore)==null?void 0:r.direction)==="forward",p=d&&((s=c.fetchMeta)==null||(o=s.fetchMore)==null?void 0:o.direction)==="backward";return{...u,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:MLe(t,(a=c.data)==null?void 0:a.pages),hasPreviousPage:RLe(t,(l=c.data)==null?void 0:l.pages),isFetchingNextPage:f,isFetchingPreviousPage:p,isRefetching:h&&!f&&!p}}}let OLe=class extends g0{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const i=this.options;this.options=this.client.defaultMutationOptions(e),RT(i,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Mfe(),t={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){ds.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var t,i,r,s;(t=(i=this.mutateOptions).onSuccess)==null||t.call(i,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(r=(s=this.mutateOptions).onSettled)==null||r.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,c;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(c=this.mutateOptions).onSettled)==null||l.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)})})}};var sN=iN();const eD=Kd(sN);var A4={exports:{}},P4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yZ;function FLe(){if(yZ)return P4;yZ=1;var n=Wr();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(d,h){var f=h(),p=i({inst:{value:f,getSnapshot:h}}),m=p[0].inst,v=p[1];return s(function(){m.value=f,m.getSnapshot=h,l(m)&&v({inst:m})},[d,f,h]),r(function(){return l(m)&&v({inst:m}),d(function(){l(m)&&v({inst:m})})},[d]),o(f),f}function l(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!t(d,f)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return P4.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,P4}var CZ;function BLe(){return CZ||(CZ=1,A4.exports=FLe()),A4.exports}var HLe=BLe();const Afe=HLe.useSyncExternalStore,_Z=M.createContext(void 0),Pfe=M.createContext(!1);function Ofe(n,e){return n||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_Z),window.ReactQueryClientContext):_Z)}const Qd=({context:n}={})=>{const e=M.useContext(Ofe(n,M.useContext(Pfe)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},VLe=({client:n,children:e,context:t,contextSharing:i=!1})=>{M.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]);const r=Ofe(t,i);return M.createElement(Pfe.Provider,{value:!t&&i},M.createElement(r.Provider,{value:n},e))},Ffe=M.createContext(!1),zLe=()=>M.useContext(Ffe);Ffe.Provider;function WLe(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}const $Le=M.createContext(WLe()),jLe=()=>M.useContext($Le);function Bfe(n,e){return typeof n=="function"?n(...e):!!n}const ULe=(n,e)=>{(n.suspense||n.useErrorBoundary)&&(e.isReset()||(n.retryOnMount=!1))},qLe=n=>{M.useEffect(()=>{n.clearReset()},[n])},GLe=({result:n,errorResetBoundary:e,useErrorBoundary:t,query:i})=>n.isError&&!e.isReset()&&!n.isFetching&&Bfe(t,[n.error,i]),KLe=n=>{n.suspense&&typeof n.staleTime!="number"&&(n.staleTime=1e3)},QLe=(n,e)=>n.isLoading&&n.isFetching&&!e,YLe=(n,e,t)=>(n==null?void 0:n.suspense)&&QLe(e,t),XLe=(n,e,t)=>e.fetchOptimistic(n).then(({data:i})=>{n.onSuccess==null||n.onSuccess(i),n.onSettled==null||n.onSettled(i,null)}).catch(i=>{t.clearReset(),n.onError==null||n.onError(i),n.onSettled==null||n.onSettled(void 0,i)});function Hfe(n,e){const t=Qd({context:n.context}),i=zLe(),r=jLe(),s=t.defaultQueryOptions(n);s._optimisticResults=i?"isRestoring":"optimistic",s.onError&&(s.onError=ds.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=ds.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=ds.batchCalls(s.onSettled)),KLe(s),ULe(s,r),qLe(r);const[o]=M.useState(()=>new e(t,s)),a=o.getOptimisticResult(s);if(Afe(M.useCallback(l=>{const c=i?()=>{}:o.subscribe(ds.batchCalls(l));return o.updateResult(),c},[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),M.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),YLe(s,a,i))throw XLe(s,o,r);if(GLe({result:a,errorResetBoundary:r,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function Ic(n,e,t){const i=fy(n,e,t);return Hfe(i,Nfe)}function Es(n,e,t){const i=CLe(n,e,t),r=Qd({context:i.context}),[s]=M.useState(()=>new OLe(r,i));M.useEffect(()=>{s.setOptions(i)},[s,i]);const o=Afe(M.useCallback(l=>s.subscribe(ds.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=M.useCallback((l,c)=>{s.mutate(l,c).catch(ZLe)},[s]);if(o.error&&Bfe(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function ZLe(){}function JLe(n,e,t){const i=fy(n,e,t);return Hfe(i,PLe)}var Vfe=typeof global=="object"&&global&&global.Object===Object&&global,eEe=typeof self=="object"&&self&&self.Object===Object&&self,Yd=Vfe||eEe||Function("return this")(),Sp=Yd.Symbol,zfe=Object.prototype,tEe=zfe.hasOwnProperty,nEe=zfe.toString,nw=Sp?Sp.toStringTag:void 0;function iEe(n){var e=tEe.call(n,nw),t=n[nw];try{n[nw]=void 0;var i=!0}catch{}var r=nEe.call(n);return i&&(e?n[nw]=t:delete n[nw]),r}var rEe=Object.prototype,sEe=rEe.toString;function oEe(n){return sEe.call(n)}var aEe="[object Null]",lEe="[object Undefined]",wZ=Sp?Sp.toStringTag:void 0;function p0(n){return n==null?n===void 0?lEe:aEe:wZ&&wZ in Object(n)?iEe(n):oEe(n)}function Lx(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var cEe="[object AsyncFunction]",uEe="[object Function]",dEe="[object GeneratorFunction]",hEe="[object Proxy]";function Wfe(n){if(!Lx(n))return!1;var e=p0(n);return e==uEe||e==dEe||e==cEe||e==hEe}var O4=Yd["__core-js_shared__"],SZ=function(){var n=/[^.]+$/.exec(O4&&O4.keys&&O4.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function fEe(n){return!!SZ&&SZ in n}var gEe=Function.prototype,pEe=gEe.toString;function Sv(n){if(n!=null){try{return pEe.call(n)}catch{}try{return n+""}catch{}}return""}var mEe=/[\\^$.*+?()[\]{}|]/g,bEe=/^\[object .+?Constructor\]$/,vEe=Function.prototype,yEe=Object.prototype,CEe=vEe.toString,_Ee=yEe.hasOwnProperty,wEe=RegExp("^"+CEe.call(_Ee).replace(mEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SEe(n){if(!Lx(n)||fEe(n))return!1;var e=Wfe(n)?wEe:bEe;return e.test(Sv(n))}function xEe(n,e){return n==null?void 0:n[e]}function xv(n,e){var t=xEe(n,e);return SEe(t)?t:void 0}var Ex=xv(Object,"create");function kEe(){this.__data__=Ex?Ex(null):{},this.size=0}function LEe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var EEe="__lodash_hash_undefined__",DEe=Object.prototype,TEe=DEe.hasOwnProperty;function IEe(n){var e=this.__data__;if(Ex){var t=e[n];return t===EEe?void 0:t}return TEe.call(e,n)?e[n]:void 0}var MEe=Object.prototype,REe=MEe.hasOwnProperty;function NEe(n){var e=this.__data__;return Ex?e[n]!==void 0:REe.call(e,n)}var AEe="__lodash_hash_undefined__";function PEe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ex&&e===void 0?AEe:e,this}function Zb(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Zb.prototype.clear=kEe;Zb.prototype.delete=LEe;Zb.prototype.get=IEe;Zb.prototype.has=NEe;Zb.prototype.set=PEe;function OEe(){this.__data__=[],this.size=0}function $fe(n,e){return n===e||n!==n&&e!==e}function oN(n,e){for(var t=n.length;t--;)if($fe(n[t][0],e))return t;return-1}var FEe=Array.prototype,BEe=FEe.splice;function HEe(n){var e=this.__data__,t=oN(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():BEe.call(e,t,1),--this.size,!0}function VEe(n){var e=this.__data__,t=oN(e,n);return t<0?void 0:e[t][1]}function zEe(n){return oN(this.__data__,n)>-1}function WEe(n,e){var t=this.__data__,i=oN(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Ff(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Ff.prototype.clear=OEe;Ff.prototype.delete=HEe;Ff.prototype.get=VEe;Ff.prototype.has=zEe;Ff.prototype.set=WEe;var Dx=xv(Yd,"Map");function $Ee(){this.size=0,this.__data__={hash:new Zb,map:new(Dx||Ff),string:new Zb}}function jEe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function aN(n,e){var t=n.__data__;return jEe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function UEe(n){var e=aN(this,n).delete(n);return this.size-=e?1:0,e}function qEe(n){return aN(this,n).get(n)}function GEe(n){return aN(this,n).has(n)}function KEe(n,e){var t=aN(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Bf(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Bf.prototype.clear=$Ee;Bf.prototype.delete=UEe;Bf.prototype.get=qEe;Bf.prototype.has=GEe;Bf.prototype.set=KEe;var QEe="__lodash_hash_undefined__";function YEe(n){return this.__data__.set(n,QEe),this}function XEe(n){return this.__data__.has(n)}function RC(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Bf;++e<t;)this.add(n[e])}RC.prototype.add=RC.prototype.push=YEe;RC.prototype.has=XEe;function ZEe(n,e,t,i){for(var r=n.length,s=t+-1;++s<r;)if(e(n[s],s,n))return s;return-1}function JEe(n){return n!==n}function eDe(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}function tDe(n,e,t){return e===e?eDe(n,e,t):ZEe(n,JEe,t)}function jfe(n,e){var t=n==null?0:n.length;return!!t&&tDe(n,e,0)>-1}function Ufe(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}function qfe(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}function nDe(n){return function(e){return n(e)}}function K$(n,e){return n.has(e)}var iDe=200;function rDe(n,e,t,i){var r=-1,s=jfe,o=!0,a=n.length,l=[],c=e.length;if(!a)return l;i?(s=Ufe,o=!1):e.length>=iDe&&(s=K$,o=!1,e=new RC(e));e:for(;++r<a;){var u=n[r],d=u;if(u=i||u!==0?u:0,o&&d===d){for(var h=c;h--;)if(e[h]===d)continue e;l.push(u)}else s(e,d,i)||l.push(u)}return l}function Gfe(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}function Jb(n){return n!=null&&typeof n=="object"}var sDe="[object Arguments]";function xZ(n){return Jb(n)&&p0(n)==sDe}var Kfe=Object.prototype,oDe=Kfe.hasOwnProperty,aDe=Kfe.propertyIsEnumerable,Qfe=xZ(function(){return arguments}())?xZ:function(n){return Jb(n)&&oDe.call(n,"callee")&&!aDe.call(n,"callee")},xp=Array.isArray;function Yfe(n,e,t,i,r){var s=-1,o=n.length;for(r||(r=[]);++s<o;){var a=n[s];t(a)&&Gfe(r,a)}return r}function Xfe(n){return n}function lDe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var kZ=Math.max;function cDe(n,e,t){return e=kZ(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=kZ(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),lDe(n,this,a)}}function uDe(n){return function(){return n}}var LZ=function(){try{var n=xv(Object,"defineProperty");return n({},"",{}),n}catch{}}(),dDe=LZ?function(n,e){return LZ(n,"toString",{configurable:!0,enumerable:!1,value:uDe(e),writable:!0})}:Xfe,hDe=800,fDe=16,gDe=Date.now;function pDe(n){var e=0,t=0;return function(){var i=gDe(),r=fDe-(i-t);if(t=i,r>0){if(++e>=hDe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var mDe=pDe(dDe);function Q$(n,e){return mDe(cDe(n,e,Xfe),n+"")}var bDe=9007199254740991;function Y$(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=bDe}function Zfe(n){return n!=null&&Y$(n.length)&&!Wfe(n)}function yS(n){return Jb(n)&&Zfe(n)}function Jfe(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var np=Q$(function(n,e){var t=Jfe(e);return yS(t)&&(t=void 0),yS(n)?rDe(n,Yfe(e,1,yS),void 0,t):[]}),Xy=xv(Yd,"Set");function vDe(){}function X$(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var yDe=1/0,CDe=Xy&&1/X$(new Xy([,-0]))[1]==yDe?function(n){return new Xy(n)}:vDe,_De=200;function ege(n,e,t){var i=-1,r=jfe,s=n.length,o=!0,a=[],l=a;if(t)o=!1,r=Ufe;else if(s>=_De){var c=e?null:CDe(n);if(c)return X$(c);o=!1,r=K$,l=new RC}else l=e?[]:a;e:for(;++i<s;){var u=n[i],d=e?e(u):u;if(u=t||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(u)}else r(l,d,t)||(l!==a&&l.push(d),a.push(u))}return a}var PT=Q$(function(n){var e=Jfe(n);return e=typeof e=="function"?e:void 0,ege(Yfe(n,1,yS),void 0,e)}),F4,EZ;function m0(){return EZ||(EZ=1,F4=TypeError),F4}const wDe={},SDe=Object.freeze(Object.defineProperty({__proto__:null,default:wDe},Symbol.toStringTag,{value:"Module"})),xDe=j$(SDe);var B4,DZ;function lN(){if(DZ)return B4;DZ=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,i=n&&Map.prototype.forEach,r=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=r&&s&&typeof s.get=="function"?s.get:null,a=r&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,d=u?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,f=h?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,C=String.prototype.match,y=String.prototype.slice,w=String.prototype.replace,_=String.prototype.toUpperCase,x=String.prototype.toLowerCase,k=RegExp.prototype.test,D=Array.prototype.concat,T=Array.prototype.join,L=Array.prototype.slice,I=Math.floor,R=typeof BigInt=="function"?BigInt.prototype.valueOf:null,N=Object.getOwnPropertySymbols,O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,F=typeof Symbol=="function"&&typeof Symbol.iterator=="object",A=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===F||!0)?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,W=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(xe){return xe.__proto__}:null);function $(xe,Re){if(xe===1/0||xe===-1/0||xe!==xe||xe&&xe>-1e3&&xe<1e3||k.call(/e/,Re))return Re;var Et=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof xe=="number"){var Mt=xe<0?-I(-xe):I(xe);if(Mt!==xe){var hn=String(Mt),en=y.call(Re,hn.length+1);return w.call(hn,Et,"$&_")+"."+w.call(w.call(en,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(Re,Et,"$&_")}var U=xDe,z=U.custom,K=ye(z)?z:null,Z={__proto__:null,double:'"',single:"'"},Q={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};B4=function xe(Re,Et,Mt,hn){var en=Et||{};if(Ee(en,"quoteStyle")&&!Ee(Z,en.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ee(en,"maxStringLength")&&(typeof en.maxStringLength=="number"?en.maxStringLength<0&&en.maxStringLength!==1/0:en.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fi=Ee(en,"customInspect")?en.customInspect:!0;if(typeof fi!="boolean"&&fi!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ee(en,"indent")&&en.indent!==null&&en.indent!=="	"&&!(parseInt(en.indent,10)===en.indent&&en.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ee(en,"numericSeparator")&&typeof en.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Qt=en.numericSeparator;if(typeof Re>"u")return"undefined";if(Re===null)return"null";if(typeof Re=="boolean")return Re?"true":"false";if(typeof Re=="string")return gt(Re,en);if(typeof Re=="number"){if(Re===0)return 1/0/Re>0?"0":"-0";var He=String(Re);return Qt?$(Re,He):He}if(typeof Re=="bigint"){var Bt=String(Re)+"n";return Qt?$(Re,Bt):Bt}var fn=typeof en.depth>"u"?5:en.depth;if(typeof Mt>"u"&&(Mt=0),Mt>=fn&&fn>0&&typeof Re=="object")return ne(Re)?"[Array]":"[Object]";var bn=kt(en,Mt);if(typeof hn>"u")hn=[];else if(fe(hn,Re)>=0)return"[Circular]";function ot(pn,yt,Ie){if(yt&&(hn=L.call(hn),hn.push(yt)),Ie){var ct={depth:en.depth};return Ee(en,"quoteStyle")&&(ct.quoteStyle=en.quoteStyle),xe(pn,ct,Mt+1,hn)}return xe(pn,en,Mt+1,hn)}if(typeof Re=="function"&&!se(Re)){var le=re(Re),ue=Dt(Re,ot);return"[Function"+(le?": "+le:" (anonymous)")+"]"+(ue.length>0?" { "+T.call(ue,", ")+" }":"")}if(ye(Re)){var pe=F?w.call(String(Re),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(Re);return typeof Re=="object"&&!F?it(pe):pe}if(Ge(Re)){for(var we="<"+x.call(String(Re.nodeName)),De=Re.attributes||[],Oe=0;Oe<De.length;Oe++)we+=" "+De[Oe].name+"="+G(J(De[Oe].value),"double",en);return we+=">",Re.childNodes&&Re.childNodes.length&&(we+="..."),we+="</"+x.call(String(Re.nodeName))+">",we}if(ne(Re)){if(Re.length===0)return"[]";var Qe=Dt(Re,ot);return bn&&!Ke(Qe)?"["+Gt(Qe,bn)+"]":"[ "+T.call(Qe,", ")+" ]"}if(X(Re)){var Ct=Dt(Re,ot);return!("cause"in Error.prototype)&&"cause"in Re&&!H.call(Re,"cause")?"{ ["+String(Re)+"] "+T.call(D.call("[cause]: "+ot(Re.cause),Ct),", ")+" }":Ct.length===0?"["+String(Re)+"]":"{ ["+String(Re)+"] "+T.call(Ct,", ")+" }"}if(typeof Re=="object"&&fi){if(K&&typeof Re[K]=="function"&&U)return U(Re,{depth:fn-Mt});if(fi!=="symbol"&&typeof Re.inspect=="function")return Re.inspect()}if(Ce(Re)){var At=[];return i&&i.call(Re,function(pn,yt){At.push(ot(yt,Re,!0)+" => "+ot(pn,Re))}),st("Map",t.call(Re),At,bn)}if(Ae(Re)){var qt=[];return a&&a.call(Re,function(pn){qt.push(ot(pn,Re))}),st("Set",o.call(Re),qt,bn)}if(Me(Re))return Xe("WeakMap");if(Ne(Re))return Xe("WeakSet");if(Te(Re))return Xe("WeakRef");if(ve(Re))return it(ot(Number(Re)));if(Le(Re))return it(ot(R.call(Re)));if(me(Re))return it(p.call(Re));if(oe(Re))return it(ot(String(Re)));if(typeof window<"u"&&Re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Re===globalThis||typeof XX<"u"&&Re===XX)return"{ [object globalThis] }";if(!ae(Re)&&!se(Re)){var Vt=Dt(Re,ot),zt=W?W(Re)===Object.prototype:Re instanceof Object||Re.constructor===Object,Mn=Re instanceof Object?"":"null prototype",Ye=!zt&&A&&Object(Re)===Re&&A in Re?y.call(Ue(Re),8,-1):Mn?"Object":"",et=zt||typeof Re.constructor!="function"?"":Re.constructor.name?Re.constructor.name+" ":"",Rt=et+(Ye||Mn?"["+T.call(D.call([],Ye||[],Mn||[]),": ")+"] ":"");return Vt.length===0?Rt+"{}":bn?Rt+"{"+Gt(Vt,bn)+"}":Rt+"{ "+T.call(Vt,", ")+" }"}return String(Re)};function G(xe,Re,Et){var Mt=Et.quoteStyle||Re,hn=Z[Mt];return hn+xe+hn}function J(xe){return w.call(String(xe),/"/g,"&quot;")}function ne(xe){return Ue(xe)==="[object Array]"&&(!A||!(typeof xe=="object"&&A in xe))}function ae(xe){return Ue(xe)==="[object Date]"&&(!A||!(typeof xe=="object"&&A in xe))}function se(xe){return Ue(xe)==="[object RegExp]"&&(!A||!(typeof xe=="object"&&A in xe))}function X(xe){return Ue(xe)==="[object Error]"&&(!A||!(typeof xe=="object"&&A in xe))}function oe(xe){return Ue(xe)==="[object String]"&&(!A||!(typeof xe=="object"&&A in xe))}function ve(xe){return Ue(xe)==="[object Number]"&&(!A||!(typeof xe=="object"&&A in xe))}function me(xe){return Ue(xe)==="[object Boolean]"&&(!A||!(typeof xe=="object"&&A in xe))}function ye(xe){if(F)return xe&&typeof xe=="object"&&xe instanceof Symbol;if(typeof xe=="symbol")return!0;if(!xe||typeof xe!="object"||!O)return!1;try{return O.call(xe),!0}catch{}return!1}function Le(xe){if(!xe||typeof xe!="object"||!R)return!1;try{return R.call(xe),!0}catch{}return!1}var ie=Object.prototype.hasOwnProperty||function(xe){return xe in this};function Ee(xe,Re){return ie.call(xe,Re)}function Ue(xe){return m.call(xe)}function re(xe){if(xe.name)return xe.name;var Re=C.call(v.call(xe),/^function\s*([\w$]+)/);return Re?Re[1]:null}function fe(xe,Re){if(xe.indexOf)return xe.indexOf(Re);for(var Et=0,Mt=xe.length;Et<Mt;Et++)if(xe[Et]===Re)return Et;return-1}function Ce(xe){if(!t||!xe||typeof xe!="object")return!1;try{t.call(xe);try{o.call(xe)}catch{return!0}return xe instanceof Map}catch{}return!1}function Me(xe){if(!c||!xe||typeof xe!="object")return!1;try{c.call(xe,c);try{d.call(xe,d)}catch{return!0}return xe instanceof WeakMap}catch{}return!1}function Te(xe){if(!f||!xe||typeof xe!="object")return!1;try{return f.call(xe),!0}catch{}return!1}function Ae(xe){if(!o||!xe||typeof xe!="object")return!1;try{o.call(xe);try{t.call(xe)}catch{return!0}return xe instanceof Set}catch{}return!1}function Ne(xe){if(!d||!xe||typeof xe!="object")return!1;try{d.call(xe,d);try{c.call(xe,c)}catch{return!0}return xe instanceof WeakSet}catch{}return!1}function Ge(xe){return!xe||typeof xe!="object"?!1:typeof HTMLElement<"u"&&xe instanceof HTMLElement?!0:typeof xe.nodeName=="string"&&typeof xe.getAttribute=="function"}function gt(xe,Re){if(xe.length>Re.maxStringLength){var Et=xe.length-Re.maxStringLength,Mt="... "+Et+" more character"+(Et>1?"s":"");return gt(y.call(xe,0,Re.maxStringLength),Re)+Mt}var hn=Q[Re.quoteStyle||"single"];hn.lastIndex=0;var en=w.call(w.call(xe,hn,"\\$1"),/[\x00-\x1f]/g,rt);return G(en,"single",Re)}function rt(xe){var Re=xe.charCodeAt(0),Et={8:"b",9:"t",10:"n",12:"f",13:"r"}[Re];return Et?"\\"+Et:"\\x"+(Re<16?"0":"")+_.call(Re.toString(16))}function it(xe){return"Object("+xe+")"}function Xe(xe){return xe+" { ? }"}function st(xe,Re,Et,Mt){var hn=Mt?Gt(Et,Mt):T.call(Et,", ");return xe+" ("+Re+") {"+hn+"}"}function Ke(xe){for(var Re=0;Re<xe.length;Re++)if(fe(xe[Re],`
`)>=0)return!1;return!0}function kt(xe,Re){var Et;if(xe.indent==="	")Et="	";else if(typeof xe.indent=="number"&&xe.indent>0)Et=T.call(Array(xe.indent+1)," ");else return null;return{base:Et,prev:T.call(Array(Re+1),Et)}}function Gt(xe,Re){if(xe.length===0)return"";var Et=`
`+Re.prev+Re.base;return Et+T.call(xe,","+Et)+`
`+Re.prev}function Dt(xe,Re){var Et=ne(xe),Mt=[];if(Et){Mt.length=xe.length;for(var hn=0;hn<xe.length;hn++)Mt[hn]=Ee(xe,hn)?Re(xe[hn],xe):""}var en=typeof N=="function"?N(xe):[],fi;if(F){fi={};for(var Qt=0;Qt<en.length;Qt++)fi["$"+en[Qt]]=en[Qt]}for(var He in xe)Ee(xe,He)&&(Et&&String(Number(He))===He&&He<xe.length||F&&fi["$"+He]instanceof Symbol||(k.call(/[^\w$]/,He)?Mt.push(Re(He,xe)+": "+Re(xe[He],xe)):Mt.push(He+": "+Re(xe[He],xe))));if(typeof N=="function")for(var Bt=0;Bt<en.length;Bt++)H.call(xe,en[Bt])&&Mt.push("["+Re(en[Bt])+"]: "+Re(xe[en[Bt]],xe));return Mt}return B4}var H4,TZ;function kDe(){if(TZ)return H4;TZ=1;var n=lN(),e=m0(),t=function(a,l,c){for(var u=a,d;(d=u.next)!=null;u=d)if(d.key===l)return u.next=d.next,c||(d.next=a.next,a.next=d),d},i=function(a,l){if(a){var c=t(a,l);return c&&c.value}},r=function(a,l,c){var u=t(a,l);u?u.value=c:a.next={key:l,next:a.next,value:c}},s=function(a,l){return a?!!t(a,l):!1},o=function(a,l){if(a)return t(a,l,!0)};return H4=function(){var l,c={assert:function(u){if(!c.has(u))throw new e("Side channel does not contain "+n(u))},delete:function(u){var d=l&&l.next,h=o(l,u);return h&&d&&d===h&&(l=void 0),!!h},get:function(u){return i(l,u)},has:function(u){return s(l,u)},set:function(u,d){l||(l={next:void 0}),r(l,u,d)}};return c},H4}var V4,IZ;function tge(){return IZ||(IZ=1,V4=Object),V4}var z4,MZ;function LDe(){return MZ||(MZ=1,z4=Error),z4}var W4,RZ;function EDe(){return RZ||(RZ=1,W4=EvalError),W4}var $4,NZ;function DDe(){return NZ||(NZ=1,$4=RangeError),$4}var j4,AZ;function TDe(){return AZ||(AZ=1,j4=ReferenceError),j4}var U4,PZ;function IDe(){return PZ||(PZ=1,U4=SyntaxError),U4}var q4,OZ;function MDe(){return OZ||(OZ=1,q4=URIError),q4}var G4,FZ;function RDe(){return FZ||(FZ=1,G4=Math.abs),G4}var K4,BZ;function NDe(){return BZ||(BZ=1,K4=Math.floor),K4}var Q4,HZ;function ADe(){return HZ||(HZ=1,Q4=Math.max),Q4}var Y4,VZ;function PDe(){return VZ||(VZ=1,Y4=Math.min),Y4}var X4,zZ;function ODe(){return zZ||(zZ=1,X4=Math.pow),X4}var Z4,WZ;function FDe(){return WZ||(WZ=1,Z4=Math.round),Z4}var J4,$Z;function BDe(){return $Z||($Z=1,J4=Number.isNaN||function(e){return e!==e}),J4}var e5,jZ;function HDe(){if(jZ)return e5;jZ=1;var n=BDe();return e5=function(t){return n(t)||t===0?t:t<0?-1:1},e5}var t5,UZ;function VDe(){return UZ||(UZ=1,t5=Object.getOwnPropertyDescriptor),t5}var n5,qZ;function nge(){if(qZ)return n5;qZ=1;var n=VDe();if(n)try{n([],"length")}catch{n=null}return n5=n,n5}var i5,GZ;function zDe(){if(GZ)return i5;GZ=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return i5=n,i5}var r5,KZ;function WDe(){return KZ||(KZ=1,r5=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||a.enumerable!==!0)return!1}return!0}),r5}var s5,QZ;function $De(){if(QZ)return s5;QZ=1;var n=typeof Symbol<"u"&&Symbol,e=WDe();return s5=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},s5}var o5,YZ;function ige(){return YZ||(YZ=1,o5=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),o5}var a5,XZ;function rge(){if(XZ)return a5;XZ=1;var n=tge();return a5=n.getPrototypeOf||null,a5}var l5,ZZ;function jDe(){if(ZZ)return l5;ZZ=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",r=function(l,c){for(var u=[],d=0;d<l.length;d+=1)u[d]=l[d];for(var h=0;h<c.length;h+=1)u[h+l.length]=c[h];return u},s=function(l,c){for(var u=[],d=c,h=0;d<l.length;d+=1,h+=1)u[h]=l[d];return u},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return l5=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==i)throw new TypeError(n+c);for(var u=s(arguments,1),d,h=function(){if(this instanceof d){var C=c.apply(this,r(u,arguments));return Object(C)===C?C:this}return c.apply(l,r(u,arguments))},f=t(0,c.length-u.length),p=[],m=0;m<f;m++)p[m]="$"+m;if(d=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var v=function(){};v.prototype=c.prototype,d.prototype=new v,v.prototype=null}return d},l5}var c5,JZ;function cN(){if(JZ)return c5;JZ=1;var n=jDe();return c5=Function.prototype.bind||n,c5}var u5,eJ;function Z$(){return eJ||(eJ=1,u5=Function.prototype.call),u5}var d5,tJ;function sge(){return tJ||(tJ=1,d5=Function.prototype.apply),d5}var h5,nJ;function UDe(){return nJ||(nJ=1,h5=typeof Reflect<"u"&&Reflect&&Reflect.apply),h5}var f5,iJ;function qDe(){if(iJ)return f5;iJ=1;var n=cN(),e=sge(),t=Z$(),i=UDe();return f5=i||n.call(t,e),f5}var g5,rJ;function oge(){if(rJ)return g5;rJ=1;var n=cN(),e=m0(),t=Z$(),i=qDe();return g5=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return i(n,t,s)},g5}var p5,sJ;function GDe(){if(sJ)return p5;sJ=1;var n=oge(),e=nge(),t;try{t=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var i=!!t&&e&&e(Object.prototype,"__proto__"),r=Object,s=r.getPrototypeOf;return p5=i&&typeof i.get=="function"?n([i.get]):typeof s=="function"?function(a){return s(a==null?a:r(a))}:!1,p5}var m5,oJ;function KDe(){if(oJ)return m5;oJ=1;var n=ige(),e=rge(),t=GDe();return m5=n?function(r){return n(r)}:e?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return e(r)}:t?function(r){return t(r)}:null,m5}var b5,aJ;function QDe(){if(aJ)return b5;aJ=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=cN();return b5=t.call(n,e),b5}var v5,lJ;function J$(){if(lJ)return v5;lJ=1;var n,e=tge(),t=LDe(),i=EDe(),r=DDe(),s=TDe(),o=IDe(),a=m0(),l=MDe(),c=RDe(),u=NDe(),d=ADe(),h=PDe(),f=ODe(),p=FDe(),m=HDe(),v=Function,C=function(X){try{return v('"use strict"; return ('+X+").constructor;")()}catch{}},y=nge(),w=zDe(),_=function(){throw new a},x=y?function(){try{return arguments.callee,_}catch{try{return y(arguments,"callee").get}catch{return _}}}():_,k=$De()(),D=KDe(),T=rge(),L=ige(),I=sge(),R=Z$(),N={},O=typeof Uint8Array>"u"||!D?n:D(Uint8Array),F={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":k&&D?D([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":i,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":N,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&D?D(D([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!D?n:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":r,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!D?n:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&D?D(""[Symbol.iterator]()):n,"%Symbol%":k?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":x,"%TypedArray%":O,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":I,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":T,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":d,"%Math.min%":h,"%Math.pow%":f,"%Math.round%":p,"%Math.sign%":m,"%Reflect.getPrototypeOf%":L};if(D)try{null.error}catch(X){var A=D(D(X));F["%Error.prototype%"]=A}var H=function X(oe){var ve;if(oe==="%AsyncFunction%")ve=C("async function () {}");else if(oe==="%GeneratorFunction%")ve=C("function* () {}");else if(oe==="%AsyncGeneratorFunction%")ve=C("async function* () {}");else if(oe==="%AsyncGenerator%"){var me=X("%AsyncGeneratorFunction%");me&&(ve=me.prototype)}else if(oe==="%AsyncIteratorPrototype%"){var ye=X("%AsyncGenerator%");ye&&D&&(ve=D(ye.prototype))}return F[oe]=ve,ve},W={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$=cN(),U=QDe(),z=$.call(R,Array.prototype.concat),K=$.call(I,Array.prototype.splice),Z=$.call(R,String.prototype.replace),Q=$.call(R,String.prototype.slice),G=$.call(R,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ne=/\\(\\)?/g,ae=function(oe){var ve=Q(oe,0,1),me=Q(oe,-1);if(ve==="%"&&me!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(me==="%"&&ve!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ye=[];return Z(oe,J,function(Le,ie,Ee,Ue){ye[ye.length]=Ee?Z(Ue,ne,"$1"):ie||Le}),ye},se=function(oe,ve){var me=oe,ye;if(U(W,me)&&(ye=W[me],me="%"+ye[0]+"%"),U(F,me)){var Le=F[me];if(Le===N&&(Le=H(me)),typeof Le>"u"&&!ve)throw new a("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:ye,name:me,value:Le}}throw new o("intrinsic "+oe+" does not exist!")};return v5=function(oe,ve){if(typeof oe!="string"||oe.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ve!="boolean")throw new a('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,oe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var me=ae(oe),ye=me.length>0?me[0]:"",Le=se("%"+ye+"%",ve),ie=Le.name,Ee=Le.value,Ue=!1,re=Le.alias;re&&(ye=re[0],K(me,z([0,1],re)));for(var fe=1,Ce=!0;fe<me.length;fe+=1){var Me=me[fe],Te=Q(Me,0,1),Ae=Q(Me,-1);if((Te==='"'||Te==="'"||Te==="`"||Ae==='"'||Ae==="'"||Ae==="`")&&Te!==Ae)throw new o("property names with quotes must have matching quotes");if((Me==="constructor"||!Ce)&&(Ue=!0),ye+="."+Me,ie="%"+ye+"%",U(F,ie))Ee=F[ie];else if(Ee!=null){if(!(Me in Ee)){if(!ve)throw new a("base intrinsic for "+oe+" exists, but the property is not available.");return}if(y&&fe+1>=me.length){var Ne=y(Ee,Me);Ce=!!Ne,Ce&&"get"in Ne&&!("originalValue"in Ne.get)?Ee=Ne.get:Ee=Ee[Me]}else Ce=U(Ee,Me),Ee=Ee[Me];Ce&&!Ue&&(F[ie]=Ee)}}return Ee},v5}var y5,cJ;function age(){if(cJ)return y5;cJ=1;var n=J$(),e=oge(),t=e([n("%String.prototype.indexOf%")]);return y5=function(r,s){var o=n(r,!!s);return typeof o=="function"&&t(r,".prototype.")>-1?e([o]):o},y5}var C5,uJ;function lge(){if(uJ)return C5;uJ=1;var n=J$(),e=age(),t=lN(),i=m0(),r=n("%Map%",!0),s=e("Map.prototype.get",!0),o=e("Map.prototype.set",!0),a=e("Map.prototype.has",!0),l=e("Map.prototype.delete",!0),c=e("Map.prototype.size",!0);return C5=!!r&&function(){var d,h={assert:function(f){if(!h.has(f))throw new i("Side channel does not contain "+t(f))},delete:function(f){if(d){var p=l(d,f);return c(d)===0&&(d=void 0),p}return!1},get:function(f){if(d)return s(d,f)},has:function(f){return d?a(d,f):!1},set:function(f,p){d||(d=new r),o(d,f,p)}};return h},C5}var _5,dJ;function YDe(){if(dJ)return _5;dJ=1;var n=J$(),e=age(),t=lN(),i=lge(),r=m0(),s=n("%WeakMap%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),c=e("WeakMap.prototype.delete",!0);return _5=s?function(){var d,h,f={assert:function(p){if(!f.has(p))throw new r("Side channel does not contain "+t(p))},delete:function(p){if(s&&p&&(typeof p=="object"||typeof p=="function")){if(d)return c(d,p)}else if(i&&h)return h.delete(p);return!1},get:function(p){return s&&p&&(typeof p=="object"||typeof p=="function")&&d?o(d,p):h&&h.get(p)},has:function(p){return s&&p&&(typeof p=="object"||typeof p=="function")&&d?l(d,p):!!h&&h.has(p)},set:function(p,m){s&&p&&(typeof p=="object"||typeof p=="function")?(d||(d=new s),a(d,p,m)):i&&(h||(h=i()),h.set(p,m))}};return f}:i,_5}var w5,hJ;function XDe(){if(hJ)return w5;hJ=1;var n=m0(),e=lN(),t=kDe(),i=lge(),r=YDe(),s=r||i||t;return w5=function(){var a,l={assert:function(c){if(!l.has(c))throw new n("Side channel does not contain "+e(c))},delete:function(c){return!!a&&a.delete(c)},get:function(c){return a&&a.get(c)},has:function(c){return!!a&&a.has(c)},set:function(c,u){a||(a=s()),a.set(c,u)}};return l},w5}var S5,fJ;function ej(){if(fJ)return S5;fJ=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return S5={default:t.RFC3986,formatters:{RFC1738:function(i){return n.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},S5}var x5,gJ;function cge(){if(gJ)return x5;gJ=1;var n=ej(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i=function(){for(var v=[],C=0;C<256;++C)v.push("%"+((C<16?"0":"")+C.toString(16)).toUpperCase());return v}(),r=function(C){for(;C.length>1;){var y=C.pop(),w=y.obj[y.prop];if(t(w)){for(var _=[],x=0;x<w.length;++x)typeof w[x]<"u"&&_.push(w[x]);y.obj[y.prop]=_}}},s=function(C,y){for(var w=y&&y.plainObjects?{__proto__:null}:{},_=0;_<C.length;++_)typeof C[_]<"u"&&(w[_]=C[_]);return w},o=function v(C,y,w){if(!y)return C;if(typeof y!="object"&&typeof y!="function"){if(t(C))C.push(y);else if(C&&typeof C=="object")(w&&(w.plainObjects||w.allowPrototypes)||!e.call(Object.prototype,y))&&(C[y]=!0);else return[C,y];return C}if(!C||typeof C!="object")return[C].concat(y);var _=C;return t(C)&&!t(y)&&(_=s(C,w)),t(C)&&t(y)?(y.forEach(function(x,k){if(e.call(C,k)){var D=C[k];D&&typeof D=="object"&&x&&typeof x=="object"?C[k]=v(D,x,w):C.push(x)}else C[k]=x}),C):Object.keys(y).reduce(function(x,k){var D=y[k];return e.call(x,k)?x[k]=v(x[k],D,w):x[k]=D,x},_)},a=function(C,y){return Object.keys(y).reduce(function(w,_){return w[_]=y[_],w},C)},l=function(v,C,y){var w=v.replace(/\+/g," ");if(y==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},c=1024,u=function(C,y,w,_,x){if(C.length===0)return C;var k=C;if(typeof C=="symbol"?k=Symbol.prototype.toString.call(C):typeof C!="string"&&(k=String(C)),w==="iso-8859-1")return escape(k).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var D="",T=0;T<k.length;T+=c){for(var L=k.length>=c?k.slice(T,T+c):k,I=[],R=0;R<L.length;++R){var N=L.charCodeAt(R);if(N===45||N===46||N===95||N===126||N>=48&&N<=57||N>=65&&N<=90||N>=97&&N<=122||x===n.RFC1738&&(N===40||N===41)){I[I.length]=L.charAt(R);continue}if(N<128){I[I.length]=i[N];continue}if(N<2048){I[I.length]=i[192|N>>6]+i[128|N&63];continue}if(N<55296||N>=57344){I[I.length]=i[224|N>>12]+i[128|N>>6&63]+i[128|N&63];continue}R+=1,N=65536+((N&1023)<<10|L.charCodeAt(R)&1023),I[I.length]=i[240|N>>18]+i[128|N>>12&63]+i[128|N>>6&63]+i[128|N&63]}D+=I.join("")}return D},d=function(C){for(var y=[{obj:{o:C},prop:"o"}],w=[],_=0;_<y.length;++_)for(var x=y[_],k=x.obj[x.prop],D=Object.keys(k),T=0;T<D.length;++T){var L=D[T],I=k[L];typeof I=="object"&&I!==null&&w.indexOf(I)===-1&&(y.push({obj:k,prop:L}),w.push(I))}return r(y),C},h=function(C){return Object.prototype.toString.call(C)==="[object RegExp]"},f=function(C){return!C||typeof C!="object"?!1:!!(C.constructor&&C.constructor.isBuffer&&C.constructor.isBuffer(C))},p=function(C,y){return[].concat(C,y)},m=function(C,y){if(t(C)){for(var w=[],_=0;_<C.length;_+=1)w.push(y(C[_]));return w}return y(C)};return x5={arrayToObject:s,assign:a,combine:p,compact:d,decode:l,encode:u,isBuffer:f,isRegExp:h,maybeMap:m,merge:o},x5}var k5,pJ;function ZDe(){if(pJ)return k5;pJ=1;var n=XDe(),e=cge(),t=ej(),i=Object.prototype.hasOwnProperty,r={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,C){return v+"["+C+"]"},repeat:function(v){return v}},s=Array.isArray,o=Array.prototype.push,a=function(m,v){o.apply(m,s(v)?v:[v])},l=Date.prototype.toISOString,c=t.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:t.formatters[c],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},d=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},h={},f=function m(v,C,y,w,_,x,k,D,T,L,I,R,N,O,F,A,H,W){for(var $=v,U=W,z=0,K=!1;(U=U.get(h))!==void 0&&!K;){var Z=U.get(v);if(z+=1,typeof Z<"u"){if(Z===z)throw new RangeError("Cyclic object value");K=!0}typeof U.get(h)>"u"&&(z=0)}if(typeof L=="function"?$=L(C,$):$ instanceof Date?$=N($):y==="comma"&&s($)&&($=e.maybeMap($,function(ie){return ie instanceof Date?N(ie):ie})),$===null){if(x)return T&&!A?T(C,u.encoder,H,"key",O):C;$=""}if(d($)||e.isBuffer($)){if(T){var Q=A?C:T(C,u.encoder,H,"key",O);return[F(Q)+"="+F(T($,u.encoder,H,"value",O))]}return[F(C)+"="+F(String($))]}var G=[];if(typeof $>"u")return G;var J;if(y==="comma"&&s($))A&&T&&($=e.maybeMap($,T)),J=[{value:$.length>0?$.join(",")||null:void 0}];else if(s(L))J=L;else{var ne=Object.keys($);J=I?ne.sort(I):ne}var ae=D?String(C).replace(/\./g,"%2E"):String(C),se=w&&s($)&&$.length===1?ae+"[]":ae;if(_&&s($)&&$.length===0)return se+"[]";for(var X=0;X<J.length;++X){var oe=J[X],ve=typeof oe=="object"&&oe&&typeof oe.value<"u"?oe.value:$[oe];if(!(k&&ve===null)){var me=R&&D?String(oe).replace(/\./g,"%2E"):String(oe),ye=s($)?typeof y=="function"?y(se,me):se:se+(R?"."+me:"["+me+"]");W.set(v,z);var Le=n();Le.set(h,W),a(G,m(ve,ye,y,w,_,x,k,D,y==="comma"&&A&&s($)?null:T,L,I,R,N,O,F,A,H,Le))}}return G},p=function(v){if(!v)return u;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var C=v.charset||u.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=t.default;if(typeof v.format<"u"){if(!i.call(t.formatters,v.format))throw new TypeError("Unknown format option provided.");y=v.format}var w=t.formatters[y],_=u.filter;(typeof v.filter=="function"||s(v.filter))&&(_=v.filter);var x;if(v.arrayFormat in r?x=v.arrayFormat:"indices"in v?x=v.indices?"indices":"repeat":x=u.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var k=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:u.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:u.addQueryPrefix,allowDots:k,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:x,charset:C,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?u.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:u.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:u.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:u.encodeValuesOnly,filter:_,format:y,formatter:w,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:u.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:u.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:u.strictNullHandling}};return k5=function(m,v){var C=m,y=p(v),w,_;typeof y.filter=="function"?(_=y.filter,C=_("",C)):s(y.filter)&&(_=y.filter,w=_);var x=[];if(typeof C!="object"||C===null)return"";var k=r[y.arrayFormat],D=k==="comma"&&y.commaRoundTrip;w||(w=Object.keys(C)),y.sort&&w.sort(y.sort);for(var T=n(),L=0;L<w.length;++L){var I=w[L],R=C[I];y.skipNulls&&R===null||a(x,f(R,I,k,D,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,T))}var N=x.join(y.delimiter),O=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),N.length>0?O+N:""},k5}var L5,mJ;function JDe(){if(mJ)return L5;mJ=1;var n=cge(),e=Object.prototype.hasOwnProperty,t=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},r=function(h){return h.replace(/&#(\d+);/g,function(f,p){return String.fromCharCode(parseInt(p,10))})},s=function(h,f,p){if(h&&typeof h=="string"&&f.comma&&h.indexOf(",")>-1)return h.split(",");if(f.throwOnLimitExceeded&&p>=f.arrayLimit)throw new RangeError("Array limit exceeded. Only "+f.arrayLimit+" element"+(f.arrayLimit===1?"":"s")+" allowed in an array.");return h},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(f,p){var m={__proto__:null},v=p.ignoreQueryPrefix?f.replace(/^\?/,""):f;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var C=p.parameterLimit===1/0?void 0:p.parameterLimit,y=v.split(p.delimiter,p.throwOnLimitExceeded?C+1:C);if(p.throwOnLimitExceeded&&y.length>C)throw new RangeError("Parameter limit exceeded. Only "+C+" parameter"+(C===1?"":"s")+" allowed.");var w=-1,_,x=p.charset;if(p.charsetSentinel)for(_=0;_<y.length;++_)y[_].indexOf("utf8=")===0&&(y[_]===a?x="utf-8":y[_]===o&&(x="iso-8859-1"),w=_,_=y.length);for(_=0;_<y.length;++_)if(_!==w){var k=y[_],D=k.indexOf("]="),T=D===-1?k.indexOf("="):D+1,L,I;T===-1?(L=p.decoder(k,i.decoder,x,"key"),I=p.strictNullHandling?null:""):(L=p.decoder(k.slice(0,T),i.decoder,x,"key"),I=n.maybeMap(s(k.slice(T+1),p,t(m[L])?m[L].length:0),function(N){return p.decoder(N,i.decoder,x,"value")})),I&&p.interpretNumericEntities&&x==="iso-8859-1"&&(I=r(String(I))),k.indexOf("[]=")>-1&&(I=t(I)?[I]:I);var R=e.call(m,L);R&&p.duplicates==="combine"?m[L]=n.combine(m[L],I):(!R||p.duplicates==="last")&&(m[L]=I)}return m},c=function(h,f,p,m){var v=0;if(h.length>0&&h[h.length-1]==="[]"){var C=h.slice(0,-1).join("");v=Array.isArray(f)&&f[C]?f[C].length:0}for(var y=m?f:s(f,p,v),w=h.length-1;w>=0;--w){var _,x=h[w];if(x==="[]"&&p.parseArrays)_=p.allowEmptyArrays&&(y===""||p.strictNullHandling&&y===null)?[]:n.combine([],y);else{_=p.plainObjects?{__proto__:null}:{};var k=x.charAt(0)==="["&&x.charAt(x.length-1)==="]"?x.slice(1,-1):x,D=p.decodeDotInKeys?k.replace(/%2E/g,"."):k,T=parseInt(D,10);!p.parseArrays&&D===""?_={0:y}:!isNaN(T)&&x!==D&&String(T)===D&&T>=0&&p.parseArrays&&T<=p.arrayLimit?(_=[],_[T]=y):D!=="__proto__"&&(_[D]=y)}y=_}return y},u=function(f,p,m,v){if(f){var C=m.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,y=/(\[[^[\]]*])/,w=/(\[[^[\]]*])/g,_=m.depth>0&&y.exec(C),x=_?C.slice(0,_.index):C,k=[];if(x){if(!m.plainObjects&&e.call(Object.prototype,x)&&!m.allowPrototypes)return;k.push(x)}for(var D=0;m.depth>0&&(_=w.exec(C))!==null&&D<m.depth;){if(D+=1,!m.plainObjects&&e.call(Object.prototype,_[1].slice(1,-1))&&!m.allowPrototypes)return;k.push(_[1])}if(_){if(m.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+m.depth+" and strictDepth is true");k.push("["+C.slice(_.index)+"]")}return c(k,p,m,v)}},d=function(f){if(!f)return i;if(typeof f.allowEmptyArrays<"u"&&typeof f.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof f.decodeDotInKeys<"u"&&typeof f.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(f.decoder!==null&&typeof f.decoder<"u"&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof f.throwOnLimitExceeded<"u"&&typeof f.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var p=typeof f.charset>"u"?i.charset:f.charset,m=typeof f.duplicates>"u"?i.duplicates:f.duplicates;if(m!=="combine"&&m!=="first"&&m!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof f.allowDots>"u"?f.decodeDotInKeys===!0?!0:i.allowDots:!!f.allowDots;return{allowDots:v,allowEmptyArrays:typeof f.allowEmptyArrays=="boolean"?!!f.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:i.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:i.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:i.arrayLimit,charset:p,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:i.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:i.comma,decodeDotInKeys:typeof f.decodeDotInKeys=="boolean"?f.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof f.decoder=="function"?f.decoder:i.decoder,delimiter:typeof f.delimiter=="string"||n.isRegExp(f.delimiter)?f.delimiter:i.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:i.depth,duplicates:m,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:i.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:i.plainObjects,strictDepth:typeof f.strictDepth=="boolean"?!!f.strictDepth:i.strictDepth,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof f.throwOnLimitExceeded=="boolean"?f.throwOnLimitExceeded:!1}};return L5=function(h,f){var p=d(f);if(h===""||h===null||typeof h>"u")return p.plainObjects?{__proto__:null}:{};for(var m=typeof h=="string"?l(h,p):h,v=p.plainObjects?{__proto__:null}:{},C=Object.keys(m),y=0;y<C.length;++y){var w=C[y],_=u(w,m[w],p,typeof h=="string");v=n.merge(v,_,p)}return p.allowSparse===!0?v:n.compact(v)},L5}var E5,bJ;function e2e(){if(bJ)return E5;bJ=1;var n=ZDe(),e=JDe(),t=ej();return E5={formats:t,parse:e,stringify:n},E5}var t2e=e2e();const Dd=Kd(t2e);var D5,vJ;function n2e(){if(vJ)return D5;vJ=1;function n(e,...t){}return D5=n,D5}var i2e=n2e();const Fd=Kd(i2e);function r2e(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var r=n[e];i[r[0]]=r[1]}return i}function uge(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}function dge(n){return function(e){return e==null?void 0:e[n]}}function hge(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var s2e=Math.max;function o2e(n){if(!(n&&n.length))return[];var e=0;return n=uge(n,function(t){if(yS(t))return e=s2e(t.length,e),!0}),hge(e,function(t){return qfe(n,dge(t))})}var a2e=Q$(o2e);function l2e(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var N2={exports:{}},c2e=N2.exports,yJ;function u2e(){return yJ||(yJ=1,function(n,e){(function(t,i){typeof l2e=="function"?n.exports=i():t.pluralize=i()})(c2e,function(){var t=[],i=[],r={},s={},o={};function a(m){return typeof m=="string"?new RegExp("^"+m+"$","i"):m}function l(m,v){return m===v?v:m===m.toLowerCase()?v.toLowerCase():m===m.toUpperCase()?v.toUpperCase():m[0]===m[0].toUpperCase()?v.charAt(0).toUpperCase()+v.substr(1).toLowerCase():v.toLowerCase()}function c(m,v){return m.replace(/\$(\d{1,2})/g,function(C,y){return v[y]||""})}function u(m,v){return m.replace(v[0],function(C,y){var w=c(v[1],arguments);return l(C===""?m[y-1]:C,w)})}function d(m,v,C){if(!m.length||r.hasOwnProperty(m))return v;for(var y=C.length;y--;){var w=C[y];if(w[0].test(v))return u(v,w)}return v}function h(m,v,C){return function(y){var w=y.toLowerCase();return v.hasOwnProperty(w)?l(y,w):m.hasOwnProperty(w)?l(y,m[w]):d(w,y,C)}}function f(m,v,C,y){return function(w){var _=w.toLowerCase();return v.hasOwnProperty(_)?!0:m.hasOwnProperty(_)?!1:d(_,_,C)===_}}function p(m,v,C){var y=v===1?p.singular(m):p.plural(m);return(C?v+" ":"")+y}return p.plural=h(o,s,t),p.isPlural=f(o,s,t),p.singular=h(s,o,i),p.isSingular=f(s,o,i),p.addPluralRule=function(m,v){t.push([a(m),v])},p.addSingularRule=function(m,v){i.push([a(m),v])},p.addUncountableRule=function(m){if(typeof m=="string"){r[m.toLowerCase()]=!0;return}p.addPluralRule(m,"$0"),p.addSingularRule(m,"$0")},p.addIrregularRule=function(m,v){v=v.toLowerCase(),m=m.toLowerCase(),o[m]=v,s[v]=m},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(m){return p.addIrregularRule(m[0],m[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(m){return p.addPluralRule(m[0],m[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(m){return p.addSingularRule(m[0],m[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p})}(N2)),N2.exports}var d2e=u2e();const OT=Kd(d2e);var T5=function(){return Yd.Date.now()},h2e=/\s/;function f2e(n){for(var e=n.length;e--&&h2e.test(n.charAt(e)););return e}var g2e=/^\s+/;function p2e(n){return n&&n.slice(0,f2e(n)+1).replace(g2e,"")}var m2e="[object Symbol]";function uN(n){return typeof n=="symbol"||Jb(n)&&p0(n)==m2e}var CJ=NaN,b2e=/^[-+]0x[0-9a-f]+$/i,v2e=/^0b[01]+$/i,y2e=/^0o[0-7]+$/i,C2e=parseInt;function Z6(n){if(typeof n=="number")return n;if(uN(n))return CJ;if(Lx(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Lx(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=p2e(n);var t=v2e.test(n);return t||y2e.test(n)?C2e(n.slice(2),t?2:8):b2e.test(n)?CJ:+n}var _2e="Expected a function",w2e=Math.max,S2e=Math.min;function fge(n,e,t){var i,r,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(_2e);e=Z6(e)||0,Lx(t)&&(u=!!t.leading,d="maxWait"in t,s=d?w2e(Z6(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function f(k){var D=i,T=r;return i=r=void 0,c=k,o=n.apply(T,D),o}function p(k){return c=k,a=setTimeout(C,e),u?f(k):o}function m(k){var D=k-l,T=k-c,L=e-D;return d?S2e(L,s-T):L}function v(k){var D=k-l,T=k-c;return l===void 0||D>=e||D<0||d&&T>=s}function C(){var k=T5();if(v(k))return y(k);a=setTimeout(C,m(k))}function y(k){return a=void 0,h&&i?f(k):(i=r=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function _(){return a===void 0?o:y(T5())}function x(){var k=T5(),D=v(k);if(i=arguments,r=this,l=k,D){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(C,e),f(l)}return a===void 0&&(a=setTimeout(C,e)),o}return x.cancel=w,x.flush=_,x}function x2e(){this.__data__=new Ff,this.size=0}function k2e(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function L2e(n){return this.__data__.get(n)}function E2e(n){return this.__data__.has(n)}var D2e=200;function T2e(n,e){var t=this.__data__;if(t instanceof Ff){var i=t.__data__;if(!Dx||i.length<D2e-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Bf(i)}return t.set(n,e),this.size=t.size,this}function hp(n){var e=this.__data__=new Ff(n);this.size=e.size}hp.prototype.clear=x2e;hp.prototype.delete=k2e;hp.prototype.get=L2e;hp.prototype.has=E2e;hp.prototype.set=T2e;function I2e(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}var M2e=1,R2e=2;function gge(n,e,t,i,r,s){var o=t&M2e,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var d=-1,h=!0,f=t&R2e?new RC:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var p=n[d],m=e[d];if(i)var v=o?i(m,p,d,e,n,s):i(p,m,d,n,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!I2e(e,function(C,y){if(!K$(f,y)&&(p===C||r(p,C,t,i,s)))return f.push(y)})){h=!1;break}}else if(!(p===m||r(p,m,t,i,s))){h=!1;break}}return s.delete(n),s.delete(e),h}var _J=Yd.Uint8Array;function N2e(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}var A2e=1,P2e=2,O2e="[object Boolean]",F2e="[object Date]",B2e="[object Error]",H2e="[object Map]",V2e="[object Number]",z2e="[object RegExp]",W2e="[object Set]",$2e="[object String]",j2e="[object Symbol]",U2e="[object ArrayBuffer]",q2e="[object DataView]",wJ=Sp?Sp.prototype:void 0,I5=wJ?wJ.valueOf:void 0;function G2e(n,e,t,i,r,s,o){switch(t){case q2e:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case U2e:return!(n.byteLength!=e.byteLength||!s(new _J(n),new _J(e)));case O2e:case F2e:case V2e:return $fe(+n,+e);case B2e:return n.name==e.name&&n.message==e.message;case z2e:case $2e:return n==e+"";case H2e:var a=N2e;case W2e:var l=i&A2e;if(a||(a=X$),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;i|=P2e,o.set(n,e);var u=gge(a(n),a(e),i,r,s,o);return o.delete(n),u;case j2e:if(I5)return I5.call(n)==I5.call(e)}return!1}function K2e(n,e,t){var i=e(n);return xp(n)?i:Gfe(i,t(n))}function Q2e(){return[]}var Y2e=Object.prototype,X2e=Y2e.propertyIsEnumerable,SJ=Object.getOwnPropertySymbols,Z2e=SJ?function(n){return n==null?[]:(n=Object(n),uge(SJ(n),function(e){return X2e.call(n,e)}))}:Q2e;function J2e(){return!1}var pge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xJ=pge&&typeof module=="object"&&module&&!module.nodeType&&module,eTe=xJ&&xJ.exports===pge,kJ=eTe?Yd.Buffer:void 0,tTe=kJ?kJ.isBuffer:void 0,J6=tTe||J2e,nTe=9007199254740991,iTe=/^(?:0|[1-9]\d*)$/;function mge(n,e){var t=typeof n;return e=e??nTe,!!e&&(t=="number"||t!="symbol"&&iTe.test(n))&&n>-1&&n%1==0&&n<e}var rTe="[object Arguments]",sTe="[object Array]",oTe="[object Boolean]",aTe="[object Date]",lTe="[object Error]",cTe="[object Function]",uTe="[object Map]",dTe="[object Number]",hTe="[object Object]",fTe="[object RegExp]",gTe="[object Set]",pTe="[object String]",mTe="[object WeakMap]",bTe="[object ArrayBuffer]",vTe="[object DataView]",yTe="[object Float32Array]",CTe="[object Float64Array]",_Te="[object Int8Array]",wTe="[object Int16Array]",STe="[object Int32Array]",xTe="[object Uint8Array]",kTe="[object Uint8ClampedArray]",LTe="[object Uint16Array]",ETe="[object Uint32Array]",Nr={};Nr[yTe]=Nr[CTe]=Nr[_Te]=Nr[wTe]=Nr[STe]=Nr[xTe]=Nr[kTe]=Nr[LTe]=Nr[ETe]=!0;Nr[rTe]=Nr[sTe]=Nr[bTe]=Nr[oTe]=Nr[vTe]=Nr[aTe]=Nr[lTe]=Nr[cTe]=Nr[uTe]=Nr[dTe]=Nr[hTe]=Nr[fTe]=Nr[gTe]=Nr[pTe]=Nr[mTe]=!1;function DTe(n){return Jb(n)&&Y$(n.length)&&!!Nr[p0(n)]}var bge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CS=bge&&typeof module=="object"&&module&&!module.nodeType&&module,TTe=CS&&CS.exports===bge,M5=TTe&&Vfe.process,LJ=function(){try{var n=CS&&CS.require&&CS.require("util").types;return n||M5&&M5.binding&&M5.binding("util")}catch{}}(),EJ=LJ&&LJ.isTypedArray,vge=EJ?nDe(EJ):DTe,ITe=Object.prototype,MTe=ITe.hasOwnProperty;function RTe(n,e){var t=xp(n),i=!t&&Qfe(n),r=!t&&!i&&J6(n),s=!t&&!i&&!r&&vge(n),o=t||i||r||s,a=o?hge(n.length,String):[],l=a.length;for(var c in n)MTe.call(n,c)&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mge(c,l)))&&a.push(c);return a}var NTe=Object.prototype;function ATe(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||NTe;return n===t}function PTe(n,e){return function(t){return n(e(t))}}var OTe=PTe(Object.keys,Object),FTe=Object.prototype,BTe=FTe.hasOwnProperty;function HTe(n){if(!ATe(n))return OTe(n);var e=[];for(var t in Object(n))BTe.call(n,t)&&t!="constructor"&&e.push(t);return e}function VTe(n){return Zfe(n)?RTe(n):HTe(n)}function DJ(n){return K2e(n,VTe,Z2e)}var zTe=1,WTe=Object.prototype,$Te=WTe.hasOwnProperty;function jTe(n,e,t,i,r,s){var o=t&zTe,a=DJ(n),l=a.length,c=DJ(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:$Te.call(e,h)))return!1}var f=s.get(n),p=s.get(e);if(f&&p)return f==e&&p==n;var m=!0;s.set(n,e),s.set(e,n);for(var v=o;++d<l;){h=a[d];var C=n[h],y=e[h];if(i)var w=o?i(y,C,h,e,n,s):i(C,y,h,n,e,s);if(!(w===void 0?C===y||r(C,y,t,i,s):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=n.constructor,x=e.constructor;_!=x&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(m=!1)}return s.delete(n),s.delete(e),m}var e8=xv(Yd,"DataView"),t8=xv(Yd,"Promise"),n8=xv(Yd,"WeakMap"),TJ="[object Map]",UTe="[object Object]",IJ="[object Promise]",MJ="[object Set]",RJ="[object WeakMap]",NJ="[object DataView]",qTe=Sv(e8),GTe=Sv(Dx),KTe=Sv(t8),QTe=Sv(Xy),YTe=Sv(n8),Fg=p0;(e8&&Fg(new e8(new ArrayBuffer(1)))!=NJ||Dx&&Fg(new Dx)!=TJ||t8&&Fg(t8.resolve())!=IJ||Xy&&Fg(new Xy)!=MJ||n8&&Fg(new n8)!=RJ)&&(Fg=function(n){var e=p0(n),t=e==UTe?n.constructor:void 0,i=t?Sv(t):"";if(i)switch(i){case qTe:return NJ;case GTe:return TJ;case KTe:return IJ;case QTe:return MJ;case YTe:return RJ}return e});var XTe=1,AJ="[object Arguments]",PJ="[object Array]",tD="[object Object]",ZTe=Object.prototype,OJ=ZTe.hasOwnProperty;function JTe(n,e,t,i,r,s){var o=xp(n),a=xp(e),l=o?PJ:Fg(n),c=a?PJ:Fg(e);l=l==AJ?tD:l,c=c==AJ?tD:c;var u=l==tD,d=c==tD,h=l==c;if(h&&J6(n)){if(!J6(e))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new hp),o||vge(n)?gge(n,e,t,i,r,s):G2e(n,e,l,t,i,r,s);if(!(t&XTe)){var f=u&&OJ.call(n,"__wrapped__"),p=d&&OJ.call(e,"__wrapped__");if(f||p){var m=f?n.value():n,v=p?e.value():e;return s||(s=new hp),r(m,v,t,i,s)}}return h?(s||(s=new hp),jTe(n,e,t,i,r,s)):!1}function yge(n,e,t,i,r){return n===e?!0:n==null||e==null||!Jb(n)&&!Jb(e)?n!==n&&e!==e:JTe(n,e,t,i,yge,r)}function Al(n,e){return yge(n,e)}var A2={exports:{}};/* @license
Papa Parse
v5.5.1
https://github.com/mholt/PapaParse
License: MIT
*/var eIe=A2.exports,FJ;function tIe(){return FJ||(FJ=1,function(n,e){((t,i)=>{n.exports=i()})(eIe,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r,s=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,a={},l=0,c={};function u(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(L){var I=x(L);I.chunkSize=parseInt(I.chunkSize),L.step||L.chunk||(I.chunkSize=null),this._handle=new m(I),(this._handle.streamer=this)._config=I}).call(this,T),this.parseChunk=function(L,I){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let O=this._config.newline;O||(N=this._config.quoteChar||'"',O=this._handle.guessLineEndings(L,N)),L=[...L.split(O).slice(R)].join(O)}this.isFirstChunk&&D(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(L))!==void 0&&(L=N),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+L,N=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(L=N.meta.cursor,R=(this._finished||(this._partialLine=R.substring(L-this._baseIndex),this._baseIndex=L),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)i.postMessage({results:N,workerId:c.WORKER_ID,finished:R});else if(D(this._config.chunk)&&!I){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!R||!D(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(L){D(this._config.error)?this._config.error(L):o&&this._config.error&&i.postMessage({workerId:c.WORKER_ID,error:L,finished:!1})}}function d(T){var L;(T=T||{}).chunkSize||(T.chunkSize=c.RemoteChunkSize),u.call(this,T),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(L=new XMLHttpRequest,this._config.withCredentials&&(L.withCredentials=this._config.withCredentials),s||(L.onload=k(this._chunkLoaded,this),L.onerror=k(this._chunkError,this)),L.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I,R=this._config.downloadRequestHeaders;for(I in R)L.setRequestHeader(I,R[I])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,L.setRequestHeader("Range","bytes="+this._start+"-"+N));try{L.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}s&&L.status===0&&this._chunkError()}},this._chunkLoaded=function(){L.readyState===4&&(L.status<200||400<=L.status?this._chunkError():(this._start+=this._config.chunkSize||L.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(L),this.parseChunk(L.responseText)))},this._chunkError=function(I){I=L.statusText||I,this._sendError(new Error(I))}}function h(T){(T=T||{}).chunkSize||(T.chunkSize=c.LocalChunkSize),u.call(this,T);var L,I,R=typeof FileReader<"u";this.stream=function(N){this._input=N,I=N.slice||N.webkitSlice||N.mozSlice,R?((L=new FileReader).onload=k(this._chunkLoaded,this),L.onerror=k(this._chunkError,this)):L=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),N=I.call(N,this._start,O)),L.readAsText(N,this._config.encoding));R||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(L.error)}}function f(T){var L;u.call(this,T=T||{}),this.stream=function(I){return L=I,this._nextChunk()},this._nextChunk=function(){var I,R;if(!this._finished)return I=this._config.chunkSize,L=I?(R=L.substring(0,I),L.substring(I)):(R=L,""),this._finished=!L,this.parseChunk(R)}}function p(T){u.call(this,T=T||{});var L=[],I=!0,R=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&L.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),L.length?this.parseChunk(L.shift()):I=!0},this._streamData=k(function(N){try{L.push(typeof N=="string"?N:N.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(L.shift()))}catch(O){this._streamError(O)}},this),this._streamError=k(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=k(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(T){var L,I,R,N,O=Math.pow(2,53),F=-O,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,$=0,U=0,z=!1,K=!1,Z=[],Q={data:[],errors:[],meta:{}};function G(se){return T.skipEmptyLines==="greedy"?se.join("").trim()==="":se.length===1&&se[0].length===0}function J(){if(Q&&R&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),R=!1),T.skipEmptyLines&&(Q.data=Q.data.filter(function(ve){return!G(ve)})),ne()){let ve=function(me,ye){D(T.transformHeader)&&(me=T.transformHeader(me,ye)),Z.push(me)};if(Q)if(Array.isArray(Q.data[0])){for(var se=0;ne()&&se<Q.data.length;se++)Q.data[se].forEach(ve);Q.data.splice(0,1)}else Q.data.forEach(ve)}function X(ve,me){for(var ye=T.header?{}:[],Le=0;Le<ve.length;Le++){var ie=Le,Ee=ve[Le],Ee=((Ue,re)=>(fe=>(T.dynamicTypingFunction&&T.dynamicTyping[fe]===void 0&&(T.dynamicTyping[fe]=T.dynamicTypingFunction(fe)),(T.dynamicTyping[fe]||T.dynamicTyping)===!0))(Ue)?re==="true"||re==="TRUE"||re!=="false"&&re!=="FALSE"&&((fe=>{if(A.test(fe)&&(fe=parseFloat(fe),F<fe&&fe<O))return 1})(re)?parseFloat(re):H.test(re)?new Date(re):re===""?null:re):re)(ie=T.header?Le>=Z.length?"__parsed_extra":Z[Le]:ie,Ee=T.transform?T.transform(Ee,ie):Ee);ie==="__parsed_extra"?(ye[ie]=ye[ie]||[],ye[ie].push(Ee)):ye[ie]=Ee}return T.header&&(Le>Z.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+Le,U+me):Le<Z.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+Le,U+me)),ye}var oe;Q&&(T.header||T.dynamicTyping||T.transform)&&(oe=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(X),oe=Q.data.length):Q.data=X(Q.data,0),T.header&&Q.meta&&(Q.meta.fields=Z),U+=oe)}function ne(){return T.header&&Z.length===0}function ae(se,X,oe,ve){se={type:se,code:X,message:oe},ve!==void 0&&(se.row=ve),Q.errors.push(se)}D(T.step)&&(N=T.step,T.step=function(se){Q=se,ne()?J():(J(),Q.data.length!==0&&($+=se.data.length,T.preview&&$>T.preview?I.abort():(Q.data=Q.data[0],N(Q,W))))}),this.parse=function(se,X,oe){var ve=T.quoteChar||'"',ve=(T.newline||(T.newline=this.guessLineEndings(se,ve)),R=!1,T.delimiter?D(T.delimiter)&&(T.delimiter=T.delimiter(se),Q.meta.delimiter=T.delimiter):((ve=((me,ye,Le,ie,Ee)=>{var Ue,re,fe,Ce;Ee=Ee||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Me=0;Me<Ee.length;Me++){for(var Te,Ae=Ee[Me],Ne=0,Ge=0,gt=0,rt=(fe=void 0,new C({comments:ie,delimiter:Ae,newline:ye,preview:10}).parse(me)),it=0;it<rt.data.length;it++)Le&&G(rt.data[it])?gt++:(Te=rt.data[it].length,Ge+=Te,fe===void 0?fe=Te:0<Te&&(Ne+=Math.abs(Te-fe),fe=Te));0<rt.data.length&&(Ge/=rt.data.length-gt),(re===void 0||Ne<=re)&&(Ce===void 0||Ce<Ge)&&1.99<Ge&&(re=Ne,Ue=Ae,Ce=Ge)}return{successful:!!(T.delimiter=Ue),bestDelimiter:Ue}})(se,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=ve.bestDelimiter:(R=!0,T.delimiter=c.DefaultDelimiter),Q.meta.delimiter=T.delimiter),x(T));return T.preview&&T.header&&ve.preview++,L=se,I=new C(ve),Q=I.parse(L,X,oe),J(),z?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,I.abort(),L=D(T.chunk)?"":L.substring(I.getCharIndex())},this.resume=function(){W.streamer._halted?(z=!1,W.streamer.parseChunk(L,!0)):setTimeout(W.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,I.abort(),Q.meta.aborted=!0,D(T.complete)&&T.complete(Q),L=""},this.guessLineEndings=function(me,ve){me=me.substring(0,1048576);var ve=new RegExp(v(ve)+"([^]*?)"+v(ve),"gm"),oe=(me=me.replace(ve,"")).split("\r"),ve=me.split(`
`),me=1<ve.length&&ve[0].length<oe[0].length;if(oe.length===1||me)return`
`;for(var ye=0,Le=0;Le<oe.length;Le++)oe[Le][0]===`
`&&ye++;return ye>=oe.length/2?`\r
`:"\r"}}function v(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(T){var L=(T=T||{}).delimiter,I=T.newline,R=T.comments,N=T.step,O=T.preview,F=T.fastMode,A=null,H=T.quoteChar==null?'"':T.quoteChar,W=H;if(T.escapeChar!==void 0&&(W=T.escapeChar),(typeof L!="string"||-1<c.BAD_DELIMITERS.indexOf(L))&&(L=","),R===L)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<c.BAD_DELIMITERS.indexOf(R))&&(R=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var $=0,U=!1;this.parse=function(z,K,Z){if(typeof z!="string")throw new Error("Input must be a string");var Q=z.length,G=L.length,J=I.length,ne=R.length,ae=D(N),se=[],X=[],oe=[],ve=$=0;if(!z)return Ae();if(F||F!==!1&&z.indexOf(H)===-1){for(var me=z.split(I),ye=0;ye<me.length;ye++){if(oe=me[ye],$+=oe.length,ye!==me.length-1)$+=I.length;else if(Z)return Ae();if(!R||oe.substring(0,ne)!==R){if(ae){if(se=[],fe(oe.split(L)),Ne(),U)return Ae()}else fe(oe.split(L));if(O&&O<=ye)return se=se.slice(0,O),Ae(!0)}}return Ae()}for(var Le=z.indexOf(L,$),ie=z.indexOf(I,$),Ee=new RegExp(v(W)+v(H),"g"),Ue=z.indexOf(H,$);;)if(z[$]===H)for(Ue=$,$++;;){if((Ue=z.indexOf(H,Ue+1))===-1)return Z||X.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:$}),Me();if(Ue===Q-1)return Me(z.substring($,Ue).replace(Ee,H));if(H===W&&z[Ue+1]===W)Ue++;else if(H===W||Ue===0||z[Ue-1]!==W){Le!==-1&&Le<Ue+1&&(Le=z.indexOf(L,Ue+1));var re=Ce((ie=ie!==-1&&ie<Ue+1?z.indexOf(I,Ue+1):ie)===-1?Le:Math.min(Le,ie));if(z.substr(Ue+1+re,G)===L){oe.push(z.substring($,Ue).replace(Ee,H)),z[$=Ue+1+re+G]!==H&&(Ue=z.indexOf(H,$)),Le=z.indexOf(L,$),ie=z.indexOf(I,$);break}if(re=Ce(ie),z.substring(Ue+1+re,Ue+1+re+J)===I){if(oe.push(z.substring($,Ue).replace(Ee,H)),Te(Ue+1+re+J),Le=z.indexOf(L,$),Ue=z.indexOf(H,$),ae&&(Ne(),U))return Ae();if(O&&se.length>=O)return Ae(!0);break}X.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:$}),Ue++}}else if(R&&oe.length===0&&z.substring($,$+ne)===R){if(ie===-1)return Ae();$=ie+J,ie=z.indexOf(I,$),Le=z.indexOf(L,$)}else if(Le!==-1&&(Le<ie||ie===-1))oe.push(z.substring($,Le)),$=Le+G,Le=z.indexOf(L,$);else{if(ie===-1)break;if(oe.push(z.substring($,ie)),Te(ie+J),ae&&(Ne(),U))return Ae();if(O&&se.length>=O)return Ae(!0)}return Me();function fe(Ge){se.push(Ge),ve=$}function Ce(Ge){var gt=0;return gt=Ge!==-1&&(Ge=z.substring(Ue+1,Ge))&&Ge.trim()===""?Ge.length:gt}function Me(Ge){return Z||(Ge===void 0&&(Ge=z.substring($)),oe.push(Ge),$=Q,fe(oe),ae&&Ne()),Ae()}function Te(Ge){$=Ge,fe(oe),oe=[],ie=z.indexOf(I,$)}function Ae(Ge){if(T.header&&!K&&se.length){var gt=se[0],rt={},it=new Set(gt);let Xe=!1;for(let st=0;st<gt.length;st++){let Ke=gt[st];if(rt[Ke=D(T.transformHeader)?T.transformHeader(Ke,st):Ke]){let kt,Gt=rt[Ke];for(;kt=Ke+"_"+Gt,Gt++,it.has(kt););it.add(kt),gt[st]=kt,rt[Ke]++,Xe=!0,(A=A===null?{}:A)[kt]=Ke}else rt[Ke]=1,gt[st]=Ke;it.add(Ke)}Xe&&console.warn("Duplicate headers found and renamed.")}return{data:se,errors:X,meta:{delimiter:L,linebreak:I,aborted:U,truncated:!!Ge,cursor:ve+(K||0),renamedHeaders:A}}}function Ne(){N(Ae()),se=[],X=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return $}}function y(T){var L=T.data,I=a[L.workerId],R=!1;if(L.error)I.userError(L.error,L.file);else if(L.results&&L.results.data){var N={abort:function(){R=!0,w(L.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(D(I.userStep)){for(var O=0;O<L.results.data.length&&(I.userStep({data:L.results.data[O],errors:L.results.errors,meta:L.results.meta},N),!R);O++);delete L.results}else D(I.userChunk)&&(I.userChunk(L.results,N,L.file),delete L.results)}L.finished&&!R&&w(L.workerId,L.results)}function w(T,L){var I=a[T];D(I.userComplete)&&I.userComplete(L),I.terminate(),delete a[T]}function _(){throw new Error("Not implemented.")}function x(T){if(typeof T!="object"||T===null)return T;var L,I=Array.isArray(T)?[]:{};for(L in T)I[L]=x(T[L]);return I}function k(T,L){return function(){T.apply(L,arguments)}}function D(T){return typeof T=="function"}return c.parse=function(T,L){var I=(L=L||{}).dynamicTyping||!1;if(D(I)&&(L.dynamicTypingFunction=I,I={}),L.dynamicTyping=I,L.transform=!!D(L.transform)&&L.transform,!L.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof T=="string"?(T=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(T),I=new(L.download?d:f)(L)):T.readable===!0&&D(T.read)&&D(T.on)?I=new p(L):(i.File&&T instanceof File||T instanceof Object)&&(I=new h(L)),I.stream(T);(I=(()=>{var R;return!!c.WORKERS_SUPPORTED&&(R=(()=>{var N=i.URL||i.webkitURL||null,O=t.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(R=new i.Worker(R)).onmessage=y,R.id=l++,a[R.id]=R)})()).userStep=L.step,I.userChunk=L.chunk,I.userComplete=L.complete,I.userError=L.error,L.step=D(L.step),L.chunk=D(L.chunk),L.complete=D(L.complete),L.error=D(L.error),delete L.worker,I.postMessage({input:T,config:L,workerId:I.id})},c.unparse=function(T,L){var I=!1,R=!0,N=",",O=`\r
`,F='"',A=F+F,H=!1,W=null,$=!1,U=((()=>{if(typeof L=="object"){if(typeof L.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Z){return L.delimiter.indexOf(Z)!==-1}).length||(N=L.delimiter),typeof L.quotes!="boolean"&&typeof L.quotes!="function"&&!Array.isArray(L.quotes)||(I=L.quotes),typeof L.skipEmptyLines!="boolean"&&typeof L.skipEmptyLines!="string"||(H=L.skipEmptyLines),typeof L.newline=="string"&&(O=L.newline),typeof L.quoteChar=="string"&&(F=L.quoteChar),typeof L.header=="boolean"&&(R=L.header),Array.isArray(L.columns)){if(L.columns.length===0)throw new Error("Option columns is empty");W=L.columns}L.escapeChar!==void 0&&(A=L.escapeChar+F),L.escapeFormulae instanceof RegExp?$=L.escapeFormulae:typeof L.escapeFormulae=="boolean"&&L.escapeFormulae&&($=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(F),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return z(null,T,H);if(typeof T[0]=="object")return z(W||Object.keys(T[0]),T,H)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||W),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),z(T.fields||[],T.data||[],H);throw new Error("Unable to serialize unrecognized input");function z(Z,Q,G){var J="",ne=(typeof Z=="string"&&(Z=JSON.parse(Z)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(Z)&&0<Z.length),ae=!Array.isArray(Q[0]);if(ne&&R){for(var se=0;se<Z.length;se++)0<se&&(J+=N),J+=K(Z[se],se);0<Q.length&&(J+=O)}for(var X=0;X<Q.length;X++){var oe=(ne?Z:Q[X]).length,ve=!1,me=ne?Object.keys(Q[X]).length===0:Q[X].length===0;if(G&&!ne&&(ve=G==="greedy"?Q[X].join("").trim()==="":Q[X].length===1&&Q[X][0].length===0),G==="greedy"&&ne){for(var ye=[],Le=0;Le<oe;Le++){var ie=ae?Z[Le]:Le;ye.push(Q[X][ie])}ve=ye.join("").trim()===""}if(!ve){for(var Ee=0;Ee<oe;Ee++){0<Ee&&!me&&(J+=N);var Ue=ne&&ae?Z[Ee]:Ee;J+=K(Q[X][Ue],Ee)}X<Q.length-1&&(!G||0<oe&&!me)&&(J+=O)}}return J}function K(Z,Q){var G,J;return Z==null?"":Z.constructor===Date?JSON.stringify(Z).slice(1,25):(J=!1,$&&typeof Z=="string"&&$.test(Z)&&(Z="'"+Z,J=!0),G=Z.toString().replace(U,A),(J=J||I===!0||typeof I=="function"&&I(Z,Q)||Array.isArray(I)&&I[Q]||((ne,ae)=>{for(var se=0;se<ae.length;se++)if(-1<ne.indexOf(ae[se]))return!0;return!1})(G,c.BAD_DELIMITERS)||-1<G.indexOf(N)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?F+G+F:G)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!i.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=C,c.ParserHandle=m,c.NetworkStreamer=d,c.FileStreamer=h,c.StringStreamer=f,c.ReadableStreamStreamer=p,i.jQuery&&((r=i.jQuery).fn.parse=function(T){var L=T.config||{},I=[];return this.each(function(O){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)I.push({file:this.files[F],inputElem:this,instanceConfig:r.extend({},L)})}),R(),this;function R(){if(I.length===0)D(T.complete)&&T.complete();else{var O,F,A,H,W=I[0];if(D(T.before)){var $=T.before(W.file,W.inputElem);if(typeof $=="object"){if($.action==="abort")return O="AbortError",F=W.file,A=W.inputElem,H=$.reason,void(D(T.error)&&T.error({name:O},F,A,H));if($.action==="skip")return void N();typeof $.config=="object"&&(W.instanceConfig=r.extend(W.instanceConfig,$.config))}else if($==="skip")return void N()}var U=W.instanceConfig.complete;W.instanceConfig.complete=function(z){D(U)&&U(z,W.file,W.inputElem),N()},c.parse(W.file,W.instanceConfig)}}function N(){I.splice(0,1),R()}}),o&&(i.onmessage=function(T){T=T.data,c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string"?i.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0}):(i.File&&T.input instanceof File||T.input instanceof Object)&&(T=c.parse(T.input,T.config))&&i.postMessage({workerId:c.WORKER_ID,results:T,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(u.prototype)).constructor=p,c})}(A2)),A2.exports}var nIe=tIe();const Cge=Kd(nIe);function iIe(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=n[i+e];return s}var rIe=1/0,sIe=17976931348623157e292;function oIe(n){if(!n)return n===0?n:0;if(n=Z6(n),n===rIe||n===-1/0){var e=n<0?-1:1;return e*sIe}return n===n?n:0}function aIe(n){var e=oIe(n),t=e%1;return e===e?t?e-t:e:0}var lIe=Math.ceil,cIe=Math.max;function uIe(n,e,t){e===void 0?e=1:e=cIe(aIe(e),0);var i=n==null?0:n.length;if(!i||e<1)return[];for(var r=0,s=0,o=Array(lIe(i/e));r<i;)o[s++]=iIe(n,r,r+=e);return o}var dIe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hIe=/^\w*$/;function _ge(n,e){if(xp(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||uN(n)?!0:hIe.test(n)||!dIe.test(n)||e!=null&&n in Object(e)}var fIe="Expected a function";function tj(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(fIe);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return t.cache=s.set(r,o)||s,o};return t.cache=new(tj.Cache||Bf),t}tj.Cache=Bf;var gIe=500;function pIe(n){var e=tj(n,function(i){return t.size===gIe&&t.clear(),i}),t=e.cache;return e}var mIe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bIe=/\\(\\)?/g,vIe=pIe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(mIe,function(t,i,r,s){e.push(r?s.replace(bIe,"$1"):i||t)}),e}),BJ=Sp?Sp.prototype:void 0,HJ=BJ?BJ.toString:void 0;function wge(n){if(typeof n=="string")return n;if(xp(n))return qfe(n,wge)+"";if(uN(n))return HJ?HJ.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function yIe(n){return n==null?"":wge(n)}function Sge(n,e){return xp(n)?n:_ge(n,e)?[n]:vIe(yIe(n))}function nj(n){if(typeof n=="string"||uN(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function xge(n,e){e=Sge(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[nj(e[t++])];return t&&t==i?n:void 0}function FT(n,e,t){var i=n==null?void 0:xge(n,e);return i===void 0?t:i}function CIe(n,e,t){e=Sge(e,n);for(var i=-1,r=e.length,s=!1;++i<r;){var o=nj(e[i]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++i!=r?s:(r=n==null?0:n.length,!!r&&Y$(r)&&mge(o,r)&&(xp(n)||Qfe(n)))}function _Ie(n){return function(e){return xge(e,n)}}function wIe(n){return _ge(n)?dge(nj(n)):_Ie(n)}function SIe(n){return wIe(n)}function xIe(n,e){return n&&n.length?ege(n,SIe(e)):[]}var kIe=Object.defineProperty,he=(n,e)=>kIe(n,"name",{value:e,configurable:!0}),kge=q.createContext({}),LIe=he(({children:n,isProvided:e,...t})=>{let{replace:i}=Ko(),r=he(async l=>{var c;try{return await((c=t.login)==null?void 0:c.call(t,l))}catch(u){return Promise.reject(u)}},"loginFunc"),s=he(async l=>{var c;try{return await((c=t.register)==null?void 0:c.call(t,l))}catch(u){return Promise.reject(u)}},"registerFunc"),o=he(async l=>{var c;try{return await((c=t.logout)==null?void 0:c.call(t,l))}catch(u){return Promise.reject(u)}},"logoutFunc"),a=he(async l=>{var c;try{return await((c=t.checkAuth)==null?void 0:c.call(t,l)),Promise.resolve()}catch(u){return u!=null&&u.redirectPath&&i(u.redirectPath),Promise.reject(u)}},"checkAuthFunc");return q.createElement(kge.Provider,{value:{...t,login:r,logout:o,checkAuth:a,register:s,isProvided:e}},n)},"LegacyAuthContextProvider"),Lge=q.createContext({}),EIe=he(({children:n,isProvided:e,...t})=>{let i=he(async c=>{var u;try{return await((u=t.login)==null?void 0:u.call(t,c))}catch(d){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleLogin"),r=he(async c=>{var u;try{return await((u=t.register)==null?void 0:u.call(t,c))}catch(d){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleRegister"),s=he(async c=>{var u;try{return await((u=t.logout)==null?void 0:u.call(t,c))}catch(d){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleLogout"),o=he(async c=>{var u;try{let d=await((u=t.check)==null?void 0:u.call(t,c));return Promise.resolve(d)}catch(d){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleCheck"),a=he(async c=>{var u;try{let d=await((u=t.forgotPassword)==null?void 0:u.call(t,c));return Promise.resolve(d)}catch(d){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleForgotPassword"),l=he(async c=>{var u;try{let d=await((u=t.updatePassword)==null?void 0:u.call(t,c));return Promise.resolve(d)}catch(d){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleUpdatePassword");return q.createElement(Lge.Provider,{value:{...t,login:i,logout:s,check:o,register:r,forgotPassword:a,updatePassword:l,isProvided:e}},n)},"AuthBindingsContextProvider"),Vc=he(()=>q.useContext(kge),"useLegacyAuthContext"),Ou=he(()=>q.useContext(Lge),"useAuthBindingsContext"),R5=he(n=>n/1e3,"userFriendlySecond"),DIe=he((n,e=t=>t)=>{let[t,...i]=n;return i.map(r=>r2e(a2e(t,r))).map((r,s,o)=>e.call(void 0,r,s,o))},"importCSVMapper"),TIe=he((n="",e)=>{let t=Vge(n);return e==="singular"?OT.singular(t):OT.plural(t)},"userFriendlyResourceName");he((n={})=>n!=null&&n.id?{...n,id:decodeURIComponent(n.id)}:n,"handleUseParams");function td(n,e){return n.findIndex((t,i)=>i<=n.length-e.length&&e.every((r,s)=>n[i+s]===r))}he(td,"arrayFindIndex");function Ege(n){if(n[0]==="data"){let e=n.slice(1);if(e[2]==="many")e[2]="getMany";else if(e[2]==="infinite")e[2]="list";else if(e[2]==="one")e[2]="detail";else if(e[1]==="custom"){let t={...e[2]};return delete t.method,delete t.url,[e[0],e[1],e[2].method,e[2].url,t]}return e}if(n[0]==="audit"&&n[2]==="list")return["logList",n[1],n[3]];if(n[0]==="access"&&n.length===4)return["useCan",{resource:n[1],action:n[2],...n[3]}];if(n[0]==="auth"){if(td(n,["auth","login"])!==-1)return["useLogin"];if(td(n,["auth","logout"])!==-1)return["useLogout"];if(td(n,["auth","identity"])!==-1)return["getUserIdentity"];if(td(n,["auth","register"])!==-1)return["useRegister"];if(td(n,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(td(n,["auth","check"])!==-1)return["useAuthenticated",n[2]];if(td(n,["auth","onError"])!==-1)return["useCheckError"];if(td(n,["auth","permissions"])!==-1)return["usePermissions"];if(td(n,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return n}he(Ege,"convertToLegacy");var $l=class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Ege(this.segments)}get(e){return e?this.legacy():this.segments}};he($l,"BaseKeyBuilder");var Hf=class extends $l{params(n){return new $l([...this.segments,n])}};he(Hf,"ParamsKeyBuilder");var Dge=class extends $l{id(n){return new Hf([...this.segments,n?String(n):void 0])}};he(Dge,"DataIdRequiringKeyBuilder");var Tge=class extends $l{ids(...n){return new Hf([...this.segments,...n.length?[n.map(e=>String(e))]:[]])}};he(Tge,"DataIdsRequiringKeyBuilder");var Ige=class extends $l{action(n){if(n==="one")return new Dge([...this.segments,n]);if(n==="many")return new Tge([...this.segments,n]);if(["list","infinite"].includes(n))return new Hf([...this.segments,n]);throw new Error("Invalid action type")}};he(Ige,"DataResourceKeyBuilder");var Mge=class extends $l{resource(n){return new Ige([...this.segments,n])}mutation(n){return new Hf([...n==="custom"?this.segments:[this.segments[0]],n])}};he(Mge,"DataKeyBuilder");var Rge=class extends $l{action(n){return new Hf([...this.segments,n])}};he(Rge,"AuthKeyBuilder");var Nge=class extends $l{action(n){return new Hf([...this.segments,n])}};he(Nge,"AccessResourceKeyBuilder");var Age=class extends $l{resource(n){return new Nge([...this.segments,n])}};he(Age,"AccessKeyBuilder");var Pge=class extends $l{action(n){return new Hf([...this.segments,n])}};he(Pge,"AuditActionKeyBuilder");var Oge=class extends $l{resource(n){return new Pge([...this.segments,n])}action(n){return new Hf([...this.segments,n])}};he(Oge,"AuditKeyBuilder");var Fge=class extends $l{data(n){return new Mge(["data",n||"default"])}auth(){return new Rge(["auth"])}access(){return new Age(["access"])}audit(){return new Oge(["audit"])}};he(Fge,"KeyBuilder");var Om=he(()=>new Fge([]),"keys"),Wt=he((...n)=>n.find(e=>typeof e<"u"),"pickNotDeprecated");he((n,e,t,i)=>{let r=e||"default",s={all:[r],resourceAll:[r,n||""],list:o=>[...s.resourceAll,"list",{...o,...Wt(t,i)||{}}],many:o=>[...s.resourceAll,"getMany",o==null?void 0:o.map(String),{...Wt(t,i)||{}}].filter(a=>a!==void 0),detail:o=>[...s.resourceAll,"detail",o==null?void 0:o.toString(),{...Wt(t,i)||{}}],logList:o=>["logList",n,o,i].filter(a=>a!==void 0)};return s},"queryKeys");var dN=he(n=>(e,t,i,r)=>{let s=t||"default";return{all:Om().data(s).get(n),resourceAll:Om().data(t).resource(e??"").get(n),list:o=>Om().data(t).resource(e??"").action("list").params({...o,...Wt(i,r)||{}}).get(n),many:o=>Om().data(t).resource(e??"").action("many").ids(...o??[]).params({...Wt(i,r)||{}}).get(n),detail:o=>Om().data(t).resource(e??"").action("one").id(o??"").params({...Wt(i,r)||{}}).get(n),logList:o=>[...Om().audit().resource(e).action("list").params(o).get(n),r].filter(a=>a!==void 0)}},"queryKeysReplacement"),IIe=he((n,e)=>!n||!e?!1:!!n.find(t=>t===e),"hasPermission"),ij=he(n=>n.startsWith(":"),"isParameter"),NC=he(n=>n.split("/").filter(e=>e!==""),"splitToSegments"),MIe=he((n,e)=>{let t=NC(n),i=NC(e);return t.length===i.length},"isSegmentCountsSame"),Df=he(n=>n.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),RIe=he((n,e)=>{let t=Df(n),i=Df(e);if(!MIe(t,i))return!1;let r=NC(t);return NC(i).every((s,o)=>ij(s)||s===r[o])},"checkBySegments"),NIe=he((n,e,t)=>{let i=Df(t||""),r=`${i}${i?"/":""}${n}`;return e==="list"?r=`${r}`:e==="create"?r=`${r}/create`:e==="edit"?r=`${r}/edit/:id`:e==="show"?r=`${r}/show/:id`:e==="clone"&&(r=`${r}/clone/:id`),`/${r.replace(/^\//,"")}`},"getDefaultActionPath"),kp=he((n,e)=>{var t,i;let r=Wt((t=n.meta)==null?void 0:t.parent,(i=n.options)==null?void 0:i.parent,n.parentName);return r?e.find(s=>(s.identifier??s.name)===r)??{name:r}:void 0},"getParentResource"),Bge=he((n,e,t)=>{let i=[],r=kp(n,e);for(;r;)i.push(r),r=kp(r,e);if(i.length!==0)return`/${i.reverse().map(s=>{var o;let a=t?((o=s.options)==null?void 0:o.route)??s.name:s.name;return Df(a)}).join("/")}`},"getParentPrefixForResource"),kl=he((n,e,t)=>{let i=[],r=["list","show","edit","create","clone"],s=Bge(n,e,t);return r.forEach(o=>{var a,l;let c=t&&o==="clone"?n.create:n[o],u;typeof c=="function"||t?u=NIe(t?((a=n.meta)==null?void 0:a.route)??((l=n.options)==null?void 0:l.route)??n.name:n.name,o,t?s:void 0):typeof c=="string"?u=c:typeof c=="object"&&(u=c.path),u&&i.push({action:o,resource:n,route:`/${u.replace(/^\//,"")}`})}),i},"getActionRoutesFromResource"),AIe=he(n=>{var e;if(n.length===0)return;if(n.length===1)return n[0];let t=n.map(s=>({...s,splitted:NC(Df(s.route))})),i=((e=t[0])==null?void 0:e.splitted.length)??0,r=[...t];for(let s=0;s<i;s++){let o=r.filter(a=>!ij(a.splitted[s]));if(o.length!==0){if(o.length===1){r=o;break}r=o}}return r[0]},"pickMatchedRoute"),Hge=he((n,e)=>{let t=e.flatMap(r=>kl(r,e)).filter(r=>RIe(n,r.route)),i=AIe(t);return{found:!!i,resource:i==null?void 0:i.resource,action:i==null?void 0:i.action,matchedRoute:i==null?void 0:i.route}},"matchResourceFromRoute"),PIe=he((n,e)=>{var t;let i,r=Bge(n,e,!0);if(r){let s=Wt(n.meta,n.options);i=`${r}/${(s==null?void 0:s.route)??n.name}`}else i=((t=n.options)==null?void 0:t.route)??n.name;return`/${i.replace(/^\//,"")}`},"routeGenerator");he(n=>{var e;let t=[],i={},r={},s,o;for(let a=0;a<n.length;a++){s=n[a];let l=s.route??((e=Wt(s==null?void 0:s.meta,s.options))==null?void 0:e.route)??"";i[l]=s,i[l].children=[],r[s.name]=s,r[s.name].children=[]}for(let a in i)Object.hasOwn(i,a)&&(o=i[a],o.parentName&&r[o.parentName]?r[o.parentName].children.push(o):t.push(o));return t},"createTreeView");var Vge=he(n=>(n=n.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),n=n.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),n=n.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),n=n.charAt(0).toUpperCase()+n.slice(1),n),"humanizeString"),zge=he(({children:n})=>q.createElement("div",null,n),"DefaultLayout"),OIe={icon:q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"refine-logo",id:"refine-default-logo"},q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7889 0.422291C12.6627 -0.140764 11.3373 -0.140764 10.2111 0.422291L2.21115 4.42229C0.85601 5.09986 0 6.48491 0 8V16C0 17.5151 0.85601 18.9001 2.21115 19.5777L10.2111 23.5777C11.3373 24.1408 12.6627 24.1408 13.7889 23.5777L21.7889 19.5777C23.144 18.9001 24 17.5151 24 16V8C24 6.48491 23.144 5.09986 21.7889 4.42229L13.7889 0.422291ZM8 8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16V8Z",fill:"currentColor"}),q.createElement("path",{d:"M14 8C14 9.10457 13.1046 10 12 10C10.8954 10 10 9.10457 10 8C10 6.89543 10.8954 6 12 6C13.1046 6 14 6.89543 14 8Z",fill:"currentColor"})),text:"Refine Project"},Jo={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{enabled:!0,interval:1e3},textTransformers:{humanize:Vge,plural:OT.plural,singular:OT.singular},disableServerSideValidation:!1,title:OIe},Vf=q.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:zge,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Jo}),FIe=he(({hasDashboard:n,mutationMode:e,warnWhenUnsavedChanges:t,syncWithLocation:i,undoableTimeout:r,children:s,DashboardPage:o,Title:a,Layout:l=zge,Header:c,Sider:u,Footer:d,OffLayoutArea:h,LoginPage:f=QMe,catchAll:p,liveMode:m="off",onLiveEvent:v,options:C})=>q.createElement(Vf.Provider,{value:{__initialized:!0,hasDashboard:n,mutationMode:e,warnWhenUnsavedChanges:t,syncWithLocation:i,Title:a,undoableTimeout:r,Layout:l,Header:c,Sider:u,Footer:d,OffLayoutArea:h,DashboardPage:o,LoginPage:f,catchAll:p,liveMode:m,onLiveEvent:v,options:C}},s),"RefineContextProvider"),BIe=he(({options:n,disableTelemetry:e,liveMode:t,mutationMode:i,reactQueryClientConfig:r,reactQueryDevtoolConfig:s,syncWithLocation:o,undoableTimeout:a,warnWhenUnsavedChanges:l}={})=>{var c,u,d,h,f,p,m,v,C,y,w,_;let x={breadcrumb:n==null?void 0:n.breadcrumb,mutationMode:(n==null?void 0:n.mutationMode)??i??Jo.mutationMode,undoableTimeout:(n==null?void 0:n.undoableTimeout)??a??Jo.undoableTimeout,syncWithLocation:(n==null?void 0:n.syncWithLocation)??o??Jo.syncWithLocation,warnWhenUnsavedChanges:(n==null?void 0:n.warnWhenUnsavedChanges)??l??Jo.warnWhenUnsavedChanges,liveMode:(n==null?void 0:n.liveMode)??t??Jo.liveMode,redirect:{afterCreate:((c=n==null?void 0:n.redirect)==null?void 0:c.afterCreate)??Jo.redirect.afterCreate,afterClone:((u=n==null?void 0:n.redirect)==null?void 0:u.afterClone)??Jo.redirect.afterClone,afterEdit:((d=n==null?void 0:n.redirect)==null?void 0:d.afterEdit)??Jo.redirect.afterEdit},overtime:(n==null?void 0:n.overtime)??Jo.overtime,textTransformers:{humanize:((h=n==null?void 0:n.textTransformers)==null?void 0:h.humanize)??Jo.textTransformers.humanize,plural:((f=n==null?void 0:n.textTransformers)==null?void 0:f.plural)??Jo.textTransformers.plural,singular:((p=n==null?void 0:n.textTransformers)==null?void 0:p.singular)??Jo.textTransformers.singular},disableServerSideValidation:(n==null?void 0:n.disableServerSideValidation)??Jo.disableServerSideValidation,projectId:n==null?void 0:n.projectId,useNewQueryKeys:n==null?void 0:n.useNewQueryKeys,title:{icon:typeof((m=n==null?void 0:n.title)==null?void 0:m.icon)>"u"?Jo.title.icon:(v=n==null?void 0:n.title)==null?void 0:v.icon,text:typeof((C=n==null?void 0:n.title)==null?void 0:C.text)>"u"?Jo.title.text:(y=n==null?void 0:n.title)==null?void 0:y.text}},k=(n==null?void 0:n.disableTelemetry)??e??!1,D={clientConfig:((w=n==null?void 0:n.reactQuery)==null?void 0:w.clientConfig)??r??{},devtoolConfig:((_=n==null?void 0:n.reactQuery)==null?void 0:_.devtoolConfig)??s??{}};return{optionsWithDefaults:x,disableTelemetryWithDefault:k,reactQueryWithDefaults:D}},"handleRefineOptions"),HIe=he(({redirectFromProps:n,action:e,redirectOptions:t})=>{if(n||n===!1)return n;switch(e){case"clone":return t.afterClone;case"create":return t.afterCreate;case"edit":return t.afterEdit;default:return!1}},"redirectPage"),VJ=he(async(n,e,t)=>{let i=[];for(let[r,s]of n.entries())try{let o=await s();i.push(e(o,r))}catch(o){i.push(t(o,r))}return i},"sequentialPromises"),ia=he((n,e=[],t=!1)=>{if(!n)return;if(t)return e.find(s=>Df(s.route??"")===Df(n))||e.find(s=>s.name===n);let i=e.find(r=>r.identifier===n);return i||(i=e.find(r=>r.name===n)),i},"pickResource"),Oi=he((n,e,t)=>{if(e)return e;let i=ia(n,t),r=Wt(i==null?void 0:i.meta,i==null?void 0:i.options);return r!=null&&r.dataProviderName?r.dataProviderName:"default"},"pickDataProvider"),hN=he(async n=>({data:(await Promise.all(n)).map(e=>e.data)}),"handleMultiple"),VIe=he(n=>{let{pagination:e,cursor:t}=n;if(t!=null&&t.next)return t.next;let i=(e==null?void 0:e.current)||1,r=(e==null?void 0:e.pageSize)||10,s=Math.ceil((n.total||0)/r);return i<s?Number(i)+1:void 0},"getNextPageParam"),zIe=he(n=>{let{pagination:e,cursor:t}=n;if(t!=null&&t.prev)return t.prev;let i=(e==null?void 0:e.current)||1;return i===1?void 0:i-1},"getPreviousPageParam"),WIe=he(n=>{let e=[];return n.forEach(t=>{var i,r;e.push({...t,label:((i=t.meta)==null?void 0:i.label)??((r=t.options)==null?void 0:r.label),route:PIe(t,n),canCreate:!!t.create,canEdit:!!t.edit,canShow:!!t.show,canDelete:t.canDelete})}),e},"legacyResourceTransform"),$Ie=he(n=>NC(Df(n)).flatMap(e=>ij(e)?[e.slice(1)]:[]),"pickRouteParams"),jIe=he((n,e={})=>n.reduce((t,i)=>{let r=e[i];return typeof r<"u"&&(t[i]=r),t},{}),"prepareRouteParams"),lc=he((n,e={},t={},i={})=>{let r=$Ie(n),s=jIe(r,{...e,...typeof(t==null?void 0:t.id)<"u"?{id:t.id}:{},...typeof(t==null?void 0:t.action)<"u"?{action:t.action}:{},...typeof(t==null?void 0:t.resource)<"u"?{resource:t.resource}:{},...t==null?void 0:t.params,...i});return n.replace(/:([^\/]+)/g,(o,a)=>{let l=s[a];return typeof l<"u"?`${l}`:o})},"composeRoute"),no=he(()=>{let n=Vc(),e=Ou();return e.isProvided?{isLegacy:!1,...e}:n.isProvided?{isLegacy:!0,...n,check:n.checkAuth,onError:n.checkError,getIdentity:n.getUserIdentity}:null},"useActiveAuthProvider"),Wge=he(({hasPagination:n,pagination:e,configPagination:t}={})=>{let i=n===!1?"off":"server",r=(e==null?void 0:e.mode)??i,s=Wt(e==null?void 0:e.current,t==null?void 0:t.current)??1,o=Wt(e==null?void 0:e.pageSize,t==null?void 0:t.pageSize)??10;return{current:s,pageSize:o,mode:r}},"handlePaginationParams"),zJ=he(n=>{let[e,t]=M.useState(!1);return M.useEffect(()=>{let i=window.matchMedia(n);i.matches!==e&&t(i.matches);let r=he(()=>t(i.matches),"listener");return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[e,n]),e},"useMediaQuery"),N5=he((n,e,t,i)=>{let r=i?n(e,i,t):n(e,t);return r===e||typeof r>"u"?t??e:r},"safeTranslate");function $ge(n,e,t,i,r){var s;let o={create:"Create new ",clone:`#${i??""} Clone `,edit:`#${i??""} Edit `,show:`#${i??""} Show `,list:""},a=(e==null?void 0:e.identifier)??(e==null?void 0:e.name),l=(e==null?void 0:e.label)??((s=e==null?void 0:e.meta)==null?void 0:s.label)??TIe(a,t==="list"?"plural":"singular"),c=r??l,u=N5(n,"documentTitle.default","Refine"),d=N5(n,"documentTitle.suffix"," | Refine"),h=u;return t&&a&&(h=N5(n,`documentTitle.${a}.${t}`,`${o[t]??""}${c}${d}`,{id:i})),h}he($ge,"generateDefaultDocumentTitle");var kv=he((n,e)=>{let{mutationMode:t,undoableTimeout:i}=M.useContext(Vf);return{mutationMode:n??t,undoableTimeout:e??i}},"useMutationMode"),jge=q.createContext({}),UIe=he(({children:n})=>{let[e,t]=M.useState(!1);return q.createElement(jge.Provider,{value:{warnWhen:e,setWarnWhen:t}},n)},"UnsavedWarnContextProvider"),Lv=he(()=>{let{warnWhenUnsavedChanges:n}=M.useContext(Vf),{warnWhen:e,setWarnWhen:t}=M.useContext(jge);return{warnWhenUnsavedChanges:n,warnWhen:!!e,setWarnWhen:t??(()=>{})}},"useWarnAboutChange"),qIe=he(()=>{let{syncWithLocation:n}=M.useContext(Vf);return{syncWithLocation:n}},"useSyncWithLocation"),GIe=he(()=>{let{Title:n}=M.useContext(Vf);return n},"useTitle"),qs=he(()=>{let{Footer:n,Header:e,Layout:t,OffLayoutArea:i,Sider:r,Title:s,hasDashboard:o,mutationMode:a,syncWithLocation:l,undoableTimeout:c,warnWhenUnsavedChanges:u,DashboardPage:d,LoginPage:h,catchAll:f,options:p,__initialized:m}=M.useContext(Vf);return{__initialized:m,Footer:n,Header:e,Layout:t,OffLayoutArea:i,Sider:r,Title:s,hasDashboard:o,mutationMode:a,syncWithLocation:l,undoableTimeout:c,warnWhenUnsavedChanges:u,DashboardPage:d,LoginPage:h,catchAll:f,options:p}},"useRefineContext"),Xd=he(()=>{let{options:{textTransformers:n}}=qs();return he((e="",t)=>{let i=n.humanize(e);return t==="singular"?n.singular(i):n.plural(i)},"getFriendlyName")},"useUserFriendlyName"),WJ=he(n=>typeof n=="object"&&n!==null,"isNested"),KIe=he(n=>Array.isArray(n),"isArray"),BT=he((n,e="")=>WJ(n)?Object.keys(n).reduce((t,i)=>{let r=e.length?`${e}.`:"";return WJ(n[i])&&Object.keys(n[i]).length&&(KIe(n[i])&&n[i].length?n[i].forEach((s,o)=>{Object.assign(t,BT(s,`${r+i}.${o}`))}):Object.assign(t,BT(n[i],r+i))),t[r+i]=n[i],t},{}):{[e]:n},"flattenObjectKeys");he(n=>n.split(".").map(e=>Number.isNaN(Number(e))?e:Number(e)),"propertyPathToArray");var QIe=he((n,e,t)=>{if(typeof window>"u")return;let i=new Blob([e],{type:t}),r=document.createElement("a");r.setAttribute("visibility","hidden"),r.download=n;let s=URL.createObjectURL(i);r.href=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>{URL.revokeObjectURL(s)})},"downloadInBrowser"),$J=he(n=>{setTimeout(n,0)},"deferExecution"),YIe=he((n,e=1e3,t)=>{let i=[],r=he(()=>{i.forEach(a=>{var l;return(l=a.reject)==null?void 0:l.call(a,t)}),i=[]},"cancelPrevious"),s=fge((...a)=>{let{resolve:l,reject:c}=i.pop()||{};Promise.resolve(n(...a)).then(l).catch(c)},e),o=he((...a)=>new Promise((l,c)=>{r(),i.push({resolve:l,reject:c}),s(...a)}),"runner");return o.flush=()=>s.flush(),o.cancel=()=>{s.cancel(),r()},o},"asyncDebounce"),ev=he(n=>{let e={queryKey:n.queryKey,pageParam:n.pageParam};return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>n.signal}),e},"prepareQueryContext"),Uge=he(n=>{let{current:e,pageSize:t,sorter:i,sorters:r,filters:s}=Dd.parse(n.substring(1));return{parsedCurrent:e&&Number(e),parsedPageSize:t&&Number(t),parsedSorter:Wt(r,i)??[],parsedFilters:s??[]}},"parseTableParams");he(n=>{let e=Dd.stringify(n);return Uge(`/${e}`)},"parseTableParamsFromQuery");var jJ=he(n=>{let e={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:t,sorter:i,sorters:r,filters:s,...o}=n;return Dd.stringify({...o,...t||{},sorters:Wt(r,i),filters:s},e)},"stringifyTableParams"),qge=he((n,e)=>n.operator!=="and"&&n.operator!=="or"&&e.operator!=="and"&&e.operator!=="or"?("field"in n?n.field:void 0)===("field"in e?e.field:void 0)&&n.operator===e.operator:("key"in n?n.key:void 0)===("key"in e?e.key:void 0)&&n.operator===e.operator,"compareFilters"),Gge=he((n,e)=>n.field===e.field,"compareSorters"),nD=he((n,e,t=[])=>(e.filter(i=>(i.operator==="or"||i.operator==="and")&&!i.key).length>1&&Fd(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),PT(n,e,t,qge).filter(i=>i.value!==void 0&&i.value!==null&&(i.operator!=="or"||i.operator==="or"&&i.value.length!==0)&&(i.operator!=="and"||i.operator==="and"&&i.value.length!==0))),"unionFilters"),UJ=he((n,e)=>PT(n,e,Gge).filter(t=>t.order!==void 0&&t.order!==null),"unionSorters"),qJ=he((n,e)=>[...np(e,n,qge),...n],"setInitialFilters"),GJ=he((n,e)=>[...np(e,n,Gge),...n],"setInitialSorters");he((n,e)=>{if(!e)return;let t=e.find(i=>i.field===n);if(t)return t.order},"getDefaultSortOrder");he((n,e,t="eq")=>{let i=e==null?void 0:e.find(r=>{if(r.operator!=="or"&&r.operator!=="and"&&"field"in r){let{operator:s,field:o}=r;return o===n&&s===t}});if(i)return i.value||[]},"getDefaultFilter");he(n=>new Promise((e,t)=>{let i=new FileReader,r=he(()=>{i.result&&(i.removeEventListener("load",r,!1),e(i.result))},"resultHandler");i.addEventListener("load",r,!1),i.readAsDataURL(n.originFileObj),i.onerror=s=>(i.removeEventListener("load",r,!1),t(s))}),"file2Base64");var Tr=he(()=>{let{options:{useNewQueryKeys:n}}=qs();return{keys:Om,preferLegacyKeys:!n}},"useKeys");function XIe({v3LegacyAuthProviderCompatible:n=!1,options:e,params:t}={}){let{getPermissions:i}=Vc(),{getPermissions:r}=Ou(),{keys:s,preferLegacyKeys:o}=Tr(),a=Ic({queryKey:s().auth().action("permissions").get(o),queryFn:r?()=>r(t):()=>Promise.resolve(void 0),enabled:!n&&!!r,...n?{}:e,meta:{...n?{}:e==null?void 0:e.meta,...Hi()}}),l=Ic({queryKey:[...s().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],queryFn:i?()=>i(t):()=>Promise.resolve(void 0),enabled:n&&!!i,...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?l:a}he(XIe,"usePermissions");function fN({v3LegacyAuthProviderCompatible:n=!1,queryOptions:e}={}){let{getUserIdentity:t}=Vc(),{getIdentity:i}=Ou(),{keys:r,preferLegacyKeys:s}=Tr(),o=Ic({queryKey:r().auth().action("identity").get(s),queryFn:i??(()=>Promise.resolve({})),enabled:!n&&!!i,retry:!1,...n===!0?{}:e,meta:{...n===!0?{}:e==null?void 0:e.meta,...Hi()}}),a=Ic({queryKey:[...r().auth().action("identity").get(s),"v3LegacyAuthProviderCompatible"],queryFn:t??(()=>Promise.resolve({})),enabled:n&&!!t,retry:!1,...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?a:o}he(fN,"useGetIdentity");var rj=he(()=>{let n=Qd(),{keys:e,preferLegacyKeys:t}=Tr();return he(async()=>{await Promise.all(["check","identity","permissions"].map(i=>n.invalidateQueries(e().auth().action(i).get(t))))},"invalidate")},"useInvalidateAuthStore");function HT({v3LegacyAuthProviderCompatible:n,mutationOptions:e}={}){let t=rj(),i=lr(),r=Go(),{push:s}=Ko(),{open:o,close:a}=Dv(),{logout:l}=Vc(),{logout:c}=Ou(),{keys:u,preferLegacyKeys:d}=Tr(),h=Es({mutationKey:u().auth().action("logout").get(d),mutationFn:c,onSuccess:async(p,m)=>{let{success:v,error:C,redirectTo:y,successNotification:w}=p,{redirectPath:_}=m??{},x=_??y;v&&(a==null||a("useLogout-error"),w&&(o==null||o(ZIe(w)))),(C||!v)&&(o==null||o(A5(C))),x!==!1&&(i==="legacy"?s(x??"/login"):x&&r({to:x})),await t()},onError:p=>{o==null||o(A5(p))},...n===!0?{}:e,meta:{...n===!0?{}:e==null?void 0:e.meta,...Hi()}}),f=Es({mutationKey:[...u().auth().action("logout").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:l,onSuccess:async(p,m)=>{let v=(m==null?void 0:m.redirectPath)??p;if(v!==!1){if(v){i==="legacy"?s(v):r({to:v});return}i==="legacy"?s("/login"):r({to:"/login"}),await t()}},onError:p=>{o==null||o(A5(p))},...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?f:h}he(HT,"useLogout");var A5=he(n=>({key:"useLogout-error",type:"error",message:(n==null?void 0:n.name)||"Logout Error",description:(n==null?void 0:n.message)||"Something went wrong during logout"}),"buildNotification"),ZIe=he(n=>({message:n.message,description:n.description,key:"logout-success",type:"success"}),"buildSuccessNotification");function sj({v3LegacyAuthProviderCompatible:n,mutationOptions:e}={}){let t=rj(),i=lr(),r=Go(),{replace:s}=Ko(),o=fl(),{useLocation:a}=To(),{search:l}=a(),{close:c,open:u}=Dv(),{login:d}=Vc(),{login:h}=Ou(),{keys:f,preferLegacyKeys:p}=Tr(),m=q.useMemo(()=>{var y;return i==="legacy"?Dd.parse(l,{ignoreQueryPrefix:!0}).to:(y=o.params)==null?void 0:y.to},[i,o.params,l]),v=Es({mutationKey:f().auth().action("login").get(p),mutationFn:h,onSuccess:async({success:y,redirectTo:w,error:_,successNotification:x})=>{y&&(c==null||c("login-error"),x&&(u==null||u(JIe(x)))),(_||!y)&&(u==null||u(P5(_))),m&&y?i==="legacy"?s(m):r({to:m,type:"replace"}):w?i==="legacy"?s(w):r({to:w,type:"replace"}):i==="legacy"&&s("/"),setTimeout(()=>{t()},32)},onError:y=>{u==null||u(P5(y))},...n===!0?{}:e,meta:{...n===!0?{}:e==null?void 0:e.meta,...Hi()}}),C=Es({mutationKey:[...f().auth().action("login").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:d,onSuccess:async y=>{m&&s(m),y!==!1&&!m&&(typeof y=="string"?i==="legacy"?s(y):r({to:y,type:"replace"}):i==="legacy"?s("/"):r({to:"/",type:"replace"})),setTimeout(()=>{t()},32),c==null||c("login-error")},onError:y=>{u==null||u(P5(y))},...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?C:v}he(sj,"useLogin");var P5=he(n=>({message:(n==null?void 0:n.name)||"Login Error",description:(n==null?void 0:n.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),JIe=he(n=>({message:n.message,description:n.description,key:"login-success",type:"success"}),"buildSuccessNotification");function Kge({v3LegacyAuthProviderCompatible:n,mutationOptions:e}={}){let t=rj(),i=lr(),r=Go(),{replace:s}=Ko(),{register:o}=Vc(),{register:a}=Ou(),{close:l,open:c}=Dv(),{keys:u,preferLegacyKeys:d}=Tr(),h=Es({mutationKey:u().auth().action("register").get(d),mutationFn:a,onSuccess:async({success:p,redirectTo:m,error:v,successNotification:C})=>{p&&(l==null||l("register-error"),C&&(c==null||c(eMe(C)))),(v||!p)&&(c==null||c(O5(v))),m?i==="legacy"?s(m):r({to:m,type:"replace"}):i==="legacy"&&s("/"),await t()},onError:p=>{c==null||c(O5(p))},...n===!0?{}:e,meta:{...n===!0?{}:e==null?void 0:e.meta,...Hi()}}),f=Es({mutationKey:[...u().auth().action("register").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:o,onSuccess:async p=>{p!==!1&&(p?i==="legacy"?s(p):r({to:p,type:"replace"}):i==="legacy"?s("/"):r({to:"/",type:"replace"}),await t(),l==null||l("register-error"))},onError:p=>{c==null||c(O5(p))},...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?f:h}he(Kge,"useRegister");var O5=he(n=>({message:(n==null?void 0:n.name)||"Register Error",description:(n==null?void 0:n.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),eMe=he(n=>({message:n.message,description:n.description,key:"register-success",type:"success"}),"buildSuccessNotification");function Qge({v3LegacyAuthProviderCompatible:n,mutationOptions:e}={}){let t=lr(),i=Go(),{replace:r}=Ko(),{forgotPassword:s}=Vc(),{forgotPassword:o}=Ou(),{close:a,open:l}=Dv(),{keys:c,preferLegacyKeys:u}=Tr(),d=Es({mutationKey:c().auth().action("forgotPassword").get(u),mutationFn:o,onSuccess:({success:f,redirectTo:p,error:m,successNotification:v})=>{f&&(a==null||a("forgot-password-error"),v&&(l==null||l(tMe(v)))),(m||!f)&&(l==null||l(F5(m))),p&&(t==="legacy"?r(p):i({to:p,type:"replace"}))},onError:f=>{l==null||l(F5(f))},...n===!0?{}:e,meta:{...n===!0?{}:e==null?void 0:e.meta,...Hi()}}),h=Es({mutationKey:[...c().auth().action("forgotPassword").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:s,onSuccess:f=>{f!==!1&&f&&(t==="legacy"?r(f):i({to:f,type:"replace"})),a==null||a("forgot-password-error")},onError:f=>{l==null||l(F5(f))},...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?h:d}he(Qge,"useForgotPassword");var F5=he(n=>({message:(n==null?void 0:n.name)||"Forgot Password Error",description:(n==null?void 0:n.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),tMe=he(n=>({message:n.message,description:n.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");function Yge({v3LegacyAuthProviderCompatible:n,mutationOptions:e}={}){let t=lr(),i=Go(),{replace:r}=Ko(),{updatePassword:s}=Vc(),{updatePassword:o}=Ou(),{close:a,open:l}=Dv(),{keys:c,preferLegacyKeys:u}=Tr(),d=fl(),{useLocation:h}=To(),{search:f}=h(),p=q.useMemo(()=>t==="legacy"?Dd.parse(f,{ignoreQueryPrefix:!0})??{}:d.params??{},[f,d,t]),m=Es({mutationKey:c().auth().action("updatePassword").get(u),mutationFn:async C=>o==null?void 0:o({...p,...C}),onSuccess:({success:C,redirectTo:y,error:w,successNotification:_})=>{C&&(a==null||a("update-password-error"),_&&(l==null||l(nMe(_)))),(w||!C)&&(l==null||l(B5(w))),y&&(t==="legacy"?r(y):i({to:y,type:"replace"}))},onError:C=>{l==null||l(B5(C))},...n===!0?{}:e,meta:{...n===!0?{}:e==null?void 0:e.meta,...Hi()}}),v=Es({mutationKey:[...c().auth().action("updatePassword").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:async C=>s==null?void 0:s({...p,...C}),onSuccess:C=>{C!==!1&&C&&(t==="legacy"?r(C):i({to:C,type:"replace"})),a==null||a("update-password-error")},onError:C=>{l==null||l(B5(C))},...n?e:{},meta:{...n?e==null?void 0:e.meta:{},...Hi()}});return n?v:m}he(Yge,"useUpdatePassword");var B5=he(n=>({message:(n==null?void 0:n.name)||"Update Password Error",description:(n==null?void 0:n.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),nMe=he(n=>({message:n.message,description:n.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");function Xge({v3LegacyAuthProviderCompatible:n=!1,params:e}={}){let{checkAuth:t}=Vc(),{check:i}=Ou(),{keys:r,preferLegacyKeys:s}=Tr(),o=Ic({queryKey:r().auth().action("check").params(e).get(s),queryFn:async()=>await(i==null?void 0:i(e))??{},retry:!1,enabled:!n,meta:{...Hi()}}),a=Ic({queryKey:[...r().auth().action("check").params(e).get(s),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(t==null?void 0:t(e))??{},retry:!1,enabled:n,meta:{...Hi()}});return n?a:o}he(Xge,"useIsAuthenticated");function zc({v3LegacyAuthProviderCompatible:n=!1}={}){let e=lr(),t=Go(),{replace:i}=Ko(),{checkError:r}=Vc(),{onError:s}=Ou(),{keys:o,preferLegacyKeys:a}=Tr(),{mutate:l}=HT({v3LegacyAuthProviderCompatible:!!n}),{mutate:c}=HT({v3LegacyAuthProviderCompatible:!!n}),u=Es({mutationKey:o().auth().action("onError").get(a),...s?{mutationFn:s,onSuccess:({logout:h,redirectTo:f})=>{if(h){c({redirectPath:f});return}if(f){e==="legacy"?i(f):t({to:f,type:"replace"});return}}}:{mutationFn:()=>({})},meta:{...Hi()}}),d=Es({mutationKey:[...o().auth().action("onError").get(a),"v3LegacyAuthProviderCompatible"],mutationFn:r,onError:h=>{l({redirectPath:h})},meta:{...Hi()}});return n?d:u}he(zc,"useOnError");var Zge=he(()=>{let{isProvided:n}=Vc(),{isProvided:e}=Ou();return!!(e||n)},"useIsExistAuthentication"),dl=he(({enabled:n,isLoading:e,interval:t,onInterval:i})=>{let[r,s]=M.useState(void 0),{options:o}=qs(),{overtime:a}=o,l=t??a.interval,c=i??(a==null?void 0:a.onInterval),u=typeof n<"u"?n:typeof a.enabled<"u"?a.enabled:!0;return M.useEffect(()=>{let d;return u&&e&&(d=setInterval(()=>{s(h=>h===void 0?l:h+l)},l)),()=>{typeof d<"u"&&clearInterval(d),s(void 0)}},[e,l,u]),M.useEffect(()=>{c&&r&&c(r)},[r]),{elapsedTime:r}},"useLoadingOvertime"),Jge=he(({resource:n,config:e,filters:t,hasPagination:i,pagination:r,sorters:s,queryOptions:o,successNotification:a,errorNotification:l,meta:c,metaData:u,liveMode:d,onLiveEvent:h,liveParams:f,dataProviderName:p,overtimeOptions:m}={})=>{let{resources:v,resource:C,identifier:y}=Si(n),w=hl(),_=Xn(),x=no(),{mutate:k}=zc({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),D=Wc(),T=Io(),{keys:L,preferLegacyKeys:I}=Tr(),R=Oi(y,p,v),N=Wt(c,u),O=Wt(t,e==null?void 0:e.filters),F=Wt(s,e==null?void 0:e.sort),A=Wt(i,e==null?void 0:e.hasPagination),H=Wge({pagination:r,configPagination:e==null?void 0:e.pagination,hasPagination:A}),W=H.mode==="server",$=T({resource:C,meta:N}),U={meta:$,metaData:$,filters:O,hasPagination:W,pagination:H,sorters:F,config:{...e,sort:F}},z=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,{getList:K}=w(R);gN({resource:y,types:["*"],params:{meta:$,metaData:$,pagination:H,hasPagination:W,sort:F,sorters:F,filters:O,subscriptionType:"useList",...f},channel:`resources/${C==null?void 0:C.name}`,enabled:z,liveMode:d,onLiveEvent:h,dataProviderName:R,meta:{...c,dataProviderName:p}});let Z=Ic({queryKey:L().data(R).resource(y??"").action("list").params({...N||{},filters:O,hasPagination:W,...W&&{pagination:H},...s&&{sorters:s},...(e==null?void 0:e.sort)&&{sort:e==null?void 0:e.sort}}).get(I),queryFn:G=>{let J={...$,queryContext:ev(G)};return K({resource:(C==null?void 0:C.name)??"",pagination:H,hasPagination:W,filters:O,sort:F,sorters:F,meta:J,metaData:J})},...o,enabled:typeof(o==null?void 0:o.enabled)<"u"?o==null?void 0:o.enabled:!!(C!=null&&C.name),select:G=>{var J;let ne=G,{current:ae,mode:se,pageSize:X}=H;return se==="client"&&(ne={...ne,data:ne.data.slice((ae-1)*X,ae*X),total:ne.total}),o!=null&&o.select?(J=o==null?void 0:o.select)==null?void 0:J.call(o,ne):ne},onSuccess:G=>{var J;(J=o==null?void 0:o.onSuccess)==null||J.call(o,G);let ne=typeof a=="function"?a(G,U,y):a;D(ne)},onError:G=>{var J;k(G),(J=o==null?void 0:o.onError)==null||J.call(o,G);let ne=typeof l=="function"?l(G,U,y):l;D(ne,{key:`${y}-useList-notification`,message:_("notifications.error",{statusCode:G.statusCode},`Error (status code: ${G.statusCode})`),description:G.message,type:"error"})},meta:{...o==null?void 0:o.meta,...Hi("useList",I,C==null?void 0:C.name)}}),{elapsedTime:Q}=dl({...m,isLoading:Z.isFetching});return{...Z,overtime:{elapsedTime:Q}}},"useList"),Ev=he(({resource:n,id:e,queryOptions:t,successNotification:i,errorNotification:r,meta:s,metaData:o,liveMode:a,onLiveEvent:l,liveParams:c,dataProviderName:u,overtimeOptions:d})=>{let{resources:h,resource:f,identifier:p}=Si(n),m=hl(),v=Xn(),C=no(),{mutate:y}=zc({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),w=Wc(),_=Io(),{keys:x,preferLegacyKeys:k}=Tr(),D=Wt(s,o),T=Oi(p,u,h),{getOne:L}=m(T),I=_({resource:f,meta:D});gN({resource:p,types:["*"],channel:`resources/${f==null?void 0:f.name}`,params:{ids:e?[e]:[],id:e,meta:I,metaData:I,subscriptionType:"useOne",...c},enabled:typeof(t==null?void 0:t.enabled)<"u"?t==null?void 0:t.enabled:typeof(f==null?void 0:f.name)<"u"&&typeof e<"u",liveMode:a,onLiveEvent:l,dataProviderName:T,meta:{...s,dataProviderName:u}});let R=Ic({queryKey:x().data(T).resource(p??"").action("one").id(e??"").params({...D||{}}).get(k),queryFn:O=>L({resource:(f==null?void 0:f.name)??"",id:e,meta:{...I,queryContext:ev(O)},metaData:{...I,queryContext:ev(O)}}),...t,enabled:typeof(t==null?void 0:t.enabled)<"u"?t==null?void 0:t.enabled:typeof e<"u",onSuccess:O=>{var F;(F=t==null?void 0:t.onSuccess)==null||F.call(t,O);let A=typeof i=="function"?i(O,{id:e,...I},p):i;w(A)},onError:O=>{var F;y(O),(F=t==null?void 0:t.onError)==null||F.call(t,O);let A=typeof r=="function"?r(O,{id:e,...I},p):r;w(A,{key:`${e}-${p}-getOne-notification`,message:v("notifications.error",{statusCode:O.statusCode},`Error (status code: ${O.statusCode})`),description:O.message,type:"error"})},meta:{...t==null?void 0:t.meta,...Hi("useOne",k,f==null?void 0:f.name)}}),{elapsedTime:N}=dl({...d,isLoading:R.isFetching});return{...R,overtime:{elapsedTime:N}}},"useOne"),Bd=he(({resource:n,ids:e,queryOptions:t,successNotification:i,errorNotification:r,meta:s,metaData:o,liveMode:a,onLiveEvent:l,liveParams:c,dataProviderName:u,overtimeOptions:d})=>{let{resources:h,resource:f,identifier:p}=Si(n),m=hl(),v=Xn(),C=no(),{mutate:y}=zc({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),w=Wc(),_=Io(),{keys:x,preferLegacyKeys:k}=Tr(),D=Wt(s,o),T=Oi(p,u,h),L=(t==null?void 0:t.enabled)===void 0||(t==null?void 0:t.enabled)===!0,{getMany:I,getOne:R}=m(T),N=_({resource:f,meta:D}),O=Array.isArray(e),F=!!(f!=null&&f.name),A=(t==null?void 0:t.enabled)===!0;Fd(!O&&!A,iMe(e,f==null?void 0:f.name)),Fd(!F&&!A,rMe()),gN({resource:p,types:["*"],params:{ids:e??[],meta:N,metaData:N,subscriptionType:"useMany",...c},channel:`resources/${(f==null?void 0:f.name)??""}`,enabled:L,liveMode:a,onLiveEvent:l,dataProviderName:T,meta:{...s,dataProviderName:u}});let H=Ic({queryKey:x().data(T).resource(p).action("many").ids(...e??[]).params({...D||{}}).get(k),queryFn:$=>{let U={...N,queryContext:ev($)};return I?I({resource:f==null?void 0:f.name,ids:e,meta:U,metaData:U}):hN(e.map(z=>R({resource:f==null?void 0:f.name,id:z,meta:U,metaData:U})))},enabled:O&&F,...t,onSuccess:$=>{var U;(U=t==null?void 0:t.onSuccess)==null||U.call(t,$);let z=typeof i=="function"?i($,e,p):i;w(z)},onError:$=>{var U;y($),(U=t==null?void 0:t.onError)==null||U.call(t,$);let z=typeof r=="function"?r($,e,p):r;w(z,{key:`${e[0]}-${p}-getMany-notification`,message:v("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...t==null?void 0:t.meta,...Hi("useMany",k,f==null?void 0:f.name)}}),{elapsedTime:W}=dl({...d,isLoading:H.isFetching});return{...H,overtime:{elapsedTime:W}}},"useMany"),iMe=he((n,e)=>`[useMany]: Missing "ids" prop. Expected an array of ids, but got "${typeof n}". Resource: "${e}"

See https://refine.dev/docs/data/hooks/use-many/#ids-`,"idsWarningMessage"),rMe=he(()=>`[useMany]: Missing "resource" prop. Expected a string, but got undefined.

See https://refine.dev/docs/data/hooks/use-many/#resource-`,"resourceWarningMessage"),sMe=(n=>(n.ADD="ADD",n.REMOVE="REMOVE",n.DECREASE_NOTIFICATION_SECOND="DECREASE_NOTIFICATION_SECOND",n))(sMe||{}),epe=he(({id:n,resource:e,values:t,dataProviderName:i,successNotification:r,errorNotification:s,meta:o,metaData:a,mutationMode:l,undoableTimeout:c,onCancel:u,optimisticUpdateMap:d,invalidates:h,mutationOptions:f,overtimeOptions:p}={})=>{let{resources:m,select:v}=Si(),C=Qd(),y=hl(),{mutationMode:w,undoableTimeout:_}=kv(),x=Xn(),k=no(),{mutate:D}=zc({v3LegacyAuthProviderCompatible:!!(k!=null&&k.isLegacy)}),T=b0(),{log:L}=C0(),{notificationDispatch:I}=Vk(),R=Wc(),N=Zd(),O=Io(),{options:{textTransformers:F}}=qs(),{keys:A,preferLegacyKeys:H}=Tr(),W=Es({mutationFn:({id:Z=n,values:Q=t,resource:G=e,mutationMode:J=l,undoableTimeout:ne=c,onCancel:ae=u,meta:se=o,metaData:X=a,dataProviderName:oe=i})=>{if(typeof Z>"u")throw rw;if(!Q)throw iD;if(!G)throw iw;let{resource:ve,identifier:me}=v(G),ye=O({resource:ve,meta:Wt(se,X)}),Le=J??w,ie=ne??_;return Le!=="undoable"?y(Oi(me,oe,m)).update({resource:ve.name,id:Z,variables:Q,meta:ye,metaData:ye}):new Promise((Ee,Ue)=>{let re=he(()=>{y(Oi(me,oe,m)).update({resource:ve.name,id:Z,variables:Q,meta:ye,metaData:ye}).then(Ce=>Ee(Ce)).catch(Ce=>Ue(Ce))},"doMutation"),fe=he(()=>{Ue({message:"mutationCancelled"})},"cancelMutation");ae&&ae(fe),I({type:"ADD",payload:{id:Z,resource:me,cancelMutation:fe,doMutation:re,seconds:ie,isSilent:!!ae}})})},onMutate:async({resource:Z=e,id:Q=n,mutationMode:G=l,values:J=t,dataProviderName:ne=i,meta:ae=o,metaData:se=a,optimisticUpdateMap:X=d??{list:!0,many:!0,detail:!0}})=>{if(typeof Q>"u")throw rw;if(!J)throw iD;if(!Z)throw iw;let{identifier:oe}=v(Z),{gqlMutation:ve,gqlQuery:me,...ye}=Wt(ae,se)??{},Le=dN(H)(oe,Oi(oe,ne,m),ye),ie=A().data(Oi(oe,ne,m)).resource(oe),Ee=C.getQueriesData(ie.get(H)),Ue=G??w;return await C.cancelQueries(ie.get(H),void 0,{silent:!0}),Ue!=="pessimistic"&&(X.list&&C.setQueriesData(ie.action("list").params(ye??{}).get(H),re=>{if(typeof X.list=="function")return X.list(re,J,Q);if(!re)return null;let fe=re.data.map(Ce=>{var Me;return((Me=Ce.id)==null?void 0:Me.toString())===(Q==null?void 0:Q.toString())?{id:Q,...Ce,...J}:Ce});return{...re,data:fe}}),X.many&&C.setQueriesData(ie.action("many").get(H),re=>{if(typeof X.many=="function")return X.many(re,J,Q);if(!re)return null;let fe=re.data.map(Ce=>{var Me;return((Me=Ce.id)==null?void 0:Me.toString())===(Q==null?void 0:Q.toString())&&(Ce={id:Q,...Ce,...J}),Ce});return{...re,data:fe}}),X.detail&&C.setQueriesData(ie.action("one").id(Q).params(ye??{}).get(H),re=>typeof X.detail=="function"?X.detail(re,J,Q):re?{...re,data:{...re.data,...J}}:null)),{previousQueries:Ee,queryKey:Le}},onSettled:(Z,Q,G,J)=>{var ne;let{id:ae=n,resource:se=e,dataProviderName:X=i,invalidates:oe=h??["list","many","detail"]}=G;if(typeof ae>"u")throw rw;if(!se)throw iw;let{identifier:ve}=v(se);N({resource:ve,dataProviderName:Oi(ve,X,m),invalidates:oe,id:ae}),I({type:"REMOVE",payload:{id:ae,resource:ve}}),(ne=f==null?void 0:f.onSettled)==null||ne.call(f,Z,Q,G,J)},onSuccess:(Z,Q,G)=>{var J,ne;let{id:ae=n,resource:se=e,successNotification:X=r,dataProviderName:oe=i,values:ve=t,meta:me=o,metaData:ye=a}=Q;if(typeof ae>"u")throw rw;if(!ve)throw iD;if(!se)throw iw;let{resource:Le,identifier:ie}=v(se),Ee=F.singular(ie),Ue=Oi(ie,oe,m),re=O({resource:Le,meta:Wt(me,ye)}),fe=typeof X=="function"?X(Z,{id:ae,values:ve},ie):X;R(fe,{key:`${ae}-${ie}-notification`,description:x("notifications.success","Successful"),message:x("notifications.editSuccess",{resource:x(`${ie}.${ie}`,Ee)},`Successfully updated ${Ee}`),type:"success"}),T==null||T({channel:`resources/${Le.name}`,type:"updated",payload:{ids:(J=Z.data)!=null&&J.id?[Z.data.id]:void 0},date:new Date,meta:{...re,dataProviderName:Ue}});let Ce;if(G){let Ge=C.getQueryData(G.queryKey.detail(ae));Ce=Object.keys(ve||{}).reduce((gt,rt)=>{var it;return gt[rt]=(it=Ge==null?void 0:Ge.data)==null?void 0:it[rt],gt},{})}let{fields:Me,operation:Te,variables:Ae,...Ne}=re||{};L==null||L.mutate({action:"update",resource:Le.name,data:ve,previousData:Ce,meta:{id:ae,dataProviderName:Ue,...Ne}}),(ne=f==null?void 0:f.onSuccess)==null||ne.call(f,Z,Q,G)},onError:(Z,Q,G)=>{var J;let{id:ne=n,resource:ae=e,errorNotification:se=s,values:X=t}=Q;if(typeof ne>"u")throw rw;if(!X)throw iD;if(!ae)throw iw;let{identifier:oe}=v(ae);if(G)for(let ve of G.previousQueries)C.setQueryData(ve[0],ve[1]);if(Z.message!=="mutationCancelled"){D==null||D(Z);let ve=F.singular(oe),me=typeof se=="function"?se(Z,{id:ne,values:X},oe):se;R(me,{key:`${ne}-${oe}-notification`,message:x("notifications.editError",{resource:x(`${oe}.${oe}`,ve),statusCode:Z.statusCode},`Error when updating ${ve} (status code: ${Z.statusCode})`),description:Z.message,type:"error"})}(J=f==null?void 0:f.onError)==null||J.call(f,Z,Q,G)},mutationKey:A().data().mutation("update").get(H),...f,meta:{...f==null?void 0:f.meta,...Hi()}}),{mutate:$,mutateAsync:U,...z}=W,{elapsedTime:K}=dl({...p,isLoading:z.isLoading});return{...z,mutate:he((Z,Q)=>$(Z||{},Q),"handleMutation"),mutateAsync:he((Z,Q)=>U(Z||{},Q),"handleMutateAsync"),overtime:{elapsedTime:K}}},"useUpdate"),iw=new Error("[useUpdate]: `resource` is not defined or not matched but is required"),rw=new Error("[useUpdate]: `id` is not defined but is required in edit and clone actions"),iD=new Error("[useUpdate]: `values` is not provided but is required"),tpe=he(({resource:n,values:e,dataProviderName:t,successNotification:i,errorNotification:r,invalidates:s,meta:o,metaData:a,mutationOptions:l,overtimeOptions:c}={})=>{let u=no(),{mutate:d}=zc({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),h=hl(),f=Zd(),{resources:p,select:m}=Si(),v=Xn(),C=b0(),{log:y}=C0(),w=Wc(),_=Io(),{options:{textTransformers:x}}=qs(),{keys:k,preferLegacyKeys:D}=Tr(),T=Es({mutationFn:({resource:O=n,values:F=e,meta:A=o,metaData:H=a,dataProviderName:W=t})=>{if(!F)throw V5;if(!O)throw H5;let{resource:$,identifier:U}=m(O),z=_({resource:$,meta:Wt(A,H)});return h(Oi(U,W,p)).create({resource:$.name,variables:F,meta:z,metaData:z})},onSuccess:(O,F,A)=>{var H,W,$;let{resource:U=n,successNotification:z=i,dataProviderName:K=t,invalidates:Z=s??["list","many"],values:Q=e,meta:G=o,metaData:J=a}=F;if(!Q)throw V5;if(!U)throw H5;let{resource:ne,identifier:ae}=m(U),se=x.singular(ae),X=Oi(ae,K,p),oe=_({resource:ne,meta:Wt(G,J)}),ve=typeof z=="function"?z(O,Q,ae):z;w(ve,{key:`create-${ae}-notification`,message:v("notifications.createSuccess",{resource:v(`${ae}.${ae}`,se)},`Successfully created ${se}`),description:v("notifications.success","Success"),type:"success"}),f({resource:ae,dataProviderName:X,invalidates:Z}),C==null||C({channel:`resources/${ne.name}`,type:"created",payload:{ids:(H=O==null?void 0:O.data)!=null&&H.id?[O.data.id]:void 0},date:new Date,meta:{...oe,dataProviderName:X}});let{fields:me,operation:ye,variables:Le,...ie}=oe||{};y==null||y.mutate({action:"create",resource:ne.name,data:Q,meta:{dataProviderName:X,id:((W=O==null?void 0:O.data)==null?void 0:W.id)??void 0,...ie}}),($=l==null?void 0:l.onSuccess)==null||$.call(l,O,F,A)},onError:(O,F,A)=>{var H;let{resource:W=n,errorNotification:$=r,values:U=e}=F;if(!U)throw V5;if(!W)throw H5;d(O);let{identifier:z}=m(W),K=x.singular(z),Z=typeof $=="function"?$(O,U,z):$;w(Z,{key:`create-${z}-notification`,description:O.message,message:v("notifications.createError",{resource:v(`${z}.${z}`,K),statusCode:O.statusCode},`There was an error creating ${K} (status code: ${O.statusCode})`),type:"error"}),(H=l==null?void 0:l.onError)==null||H.call(l,O,F,A)},mutationKey:k().data().mutation("create").get(D),...l,meta:{...l==null?void 0:l.meta,...Hi()}}),{mutate:L,mutateAsync:I,...R}=T,{elapsedTime:N}=dl({...c,isLoading:R.isLoading});return{...R,mutate:he((O,F)=>L(O||{},F),"handleMutation"),mutateAsync:he((O,F)=>I(O||{},F),"handleMutateAsync"),overtime:{elapsedTime:N}}},"useCreate"),H5=new Error("[useCreate]: `resource` is not defined or not matched but is required"),V5=new Error("[useCreate]: `values` is not provided but is required"),npe=he(({mutationOptions:n,overtimeOptions:e}={})=>{let t=no(),{mutate:i}=zc({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)}),r=hl(),{resources:s,select:o}=Si(),a=Qd(),{mutationMode:l,undoableTimeout:c}=kv(),{notificationDispatch:u}=Vk(),d=Xn(),h=b0(),{log:f}=C0(),p=Wc(),m=Zd(),v=Io(),{options:{textTransformers:C}}=qs(),{keys:y,preferLegacyKeys:w}=Tr(),_=Es({mutationFn:({id:k,mutationMode:D,undoableTimeout:T,resource:L,onCancel:I,meta:R,metaData:N,dataProviderName:O,values:F})=>{let{resource:A,identifier:H}=o(L),W=v({resource:A,meta:Wt(R,N)}),$=D??l,U=T??c;return $!=="undoable"?r(Oi(H,O,s)).deleteOne({resource:A.name,id:k,meta:W,metaData:W,variables:F}):new Promise((z,K)=>{let Z=he(()=>{r(Oi(H,O,s)).deleteOne({resource:A.name,id:k,meta:W,metaData:W,variables:F}).then(G=>z(G)).catch(G=>K(G))},"doMutation"),Q=he(()=>{K({message:"mutationCancelled"})},"cancelMutation");I&&I(Q),u({type:"ADD",payload:{id:k,resource:H,cancelMutation:Q,doMutation:Z,seconds:U,isSilent:!!I}})})},onMutate:async({id:k,resource:D,mutationMode:T,dataProviderName:L,meta:I,metaData:R})=>{let{identifier:N}=o(D),{gqlMutation:O,gqlQuery:F,...A}=Wt(I,R)??{},H=dN(w)(N,Oi(N,L,s),A),W=y().data(Oi(N,L,s)).resource(N),$=T??l;await a.cancelQueries(W.get(w),void 0,{silent:!0});let U=a.getQueriesData(W.get(w));return $!=="pessimistic"&&(a.setQueriesData(W.action("list").params(A??{}).get(w),z=>z?{data:z.data.filter(K=>{var Z;return((Z=K.id)==null?void 0:Z.toString())!==k.toString()}),total:z.total-1}:null),a.setQueriesData(W.action("many").get(w),z=>{if(!z)return null;let K=z.data.filter(Z=>{var Q;return((Q=Z.id)==null?void 0:Q.toString())!==(k==null?void 0:k.toString())});return{...z,data:K}})),{previousQueries:U,queryKey:H}},onSettled:(k,D,{id:T,resource:L,dataProviderName:I,invalidates:R=["list","many"]})=>{let{identifier:N}=o(L);m({resource:N,dataProviderName:Oi(N,I,s),invalidates:R}),u({type:"REMOVE",payload:{id:T,resource:N}})},onSuccess:(k,{id:D,resource:T,successNotification:L,dataProviderName:I,meta:R,metaData:N},O)=>{let{resource:F,identifier:A}=o(T),H=C.singular(A),W=Oi(A,I,s),$=v({resource:F,meta:Wt(R,N)});a.removeQueries(O==null?void 0:O.queryKey.detail(D));let U=typeof L=="function"?L(k,D,A):L;p(U,{key:`${D}-${A}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${A}.${A}`,H)},`Successfully deleted a ${H}`),type:"success"}),h==null||h({channel:`resources/${F.name}`,type:"deleted",payload:{ids:[D]},date:new Date,meta:{...$,dataProviderName:W}});let{fields:z,operation:K,variables:Z,...Q}=$||{};f==null||f.mutate({action:"delete",resource:F.name,meta:{id:D,dataProviderName:W,...Q}}),a.removeQueries(O==null?void 0:O.queryKey.detail(D))},onError:(k,{id:D,resource:T,errorNotification:L},I)=>{let{identifier:R}=o(T);if(I)for(let N of I.previousQueries)a.setQueryData(N[0],N[1]);if(k.message!=="mutationCancelled"){i(k);let N=C.singular(R),O=typeof L=="function"?L(k,D,R):L;p(O,{key:`${D}-${R}-notification`,message:d("notifications.deleteError",{resource:N,statusCode:k.statusCode},`Error (status code: ${k.statusCode})`),description:k.message,type:"error"})}},mutationKey:y().data().mutation("delete").get(w),...n,meta:{...n==null?void 0:n.meta,...Hi()}}),{elapsedTime:x}=dl({...e,isLoading:_.isLoading});return{..._,overtime:{elapsedTime:x}}},"useDelete"),oMe=he(({resource:n,values:e,dataProviderName:t,successNotification:i,errorNotification:r,meta:s,metaData:o,invalidates:a,mutationOptions:l,overtimeOptions:c}={})=>{let u=hl(),{resources:d,select:h}=Si(),f=Xn(),p=b0(),m=Wc(),v=Zd(),{log:C}=C0(),y=Io(),{options:{textTransformers:w}}=qs(),{keys:_,preferLegacyKeys:x}=Tr(),k=Es({mutationFn:({resource:R=n,values:N=e,meta:O=s,metaData:F=o,dataProviderName:A=t})=>{if(!N)throw W5;if(!R)throw z5;let{resource:H,identifier:W}=h(R),$=y({resource:H,meta:Wt(O,F)}),U=u(Oi(W,A,d));return U.createMany?U.createMany({resource:H.name,variables:N,meta:$,metaData:$}):hN(N.map(z=>U.create({resource:H.name,variables:z,meta:$,metaData:$})))},onSuccess:(R,N,O)=>{var F;let{resource:A=n,successNotification:H=i,dataProviderName:W=t,invalidates:$=a??["list","many"],values:U=e,meta:z=s,metaData:K=o}=N;if(!U)throw W5;if(!A)throw z5;let{resource:Z,identifier:Q}=h(A),G=w.plural(Q),J=Oi(Q,W,d),ne=y({resource:Z,meta:Wt(z,K)}),ae=typeof H=="function"?H(R,U,Q):H;m(ae,{key:`createMany-${Q}-notification`,message:f("notifications.createSuccess",{resource:f(`${Q}.${Q}`,Q)},`Successfully created ${G}`),description:f("notifications.success","Success"),type:"success"}),v({resource:Q,dataProviderName:J,invalidates:$});let se=R==null?void 0:R.data.filter(ye=>(ye==null?void 0:ye.id)!==void 0).map(ye=>ye.id);p==null||p({channel:`resources/${Z.name}`,type:"created",payload:{ids:se},date:new Date,meta:{...ne,dataProviderName:J}});let{fields:X,operation:oe,variables:ve,...me}=ne||{};C==null||C.mutate({action:"createMany",resource:Z.name,data:U,meta:{dataProviderName:J,ids:se,...me}}),(F=l==null?void 0:l.onSuccess)==null||F.call(l,R,N,O)},onError:(R,N,O)=>{var F;let{resource:A=n,errorNotification:H=r,values:W=e}=N;if(!W)throw W5;if(!A)throw z5;let{identifier:$}=h(A),U=typeof H=="function"?H(R,W,$):H;m(U,{key:`createMany-${$}-notification`,description:R.message,message:f("notifications.createError",{resource:f(`${$}.${$}`,$),statusCode:R.statusCode},`There was an error creating ${$} (status code: ${R.statusCode}`),type:"error"}),(F=l==null?void 0:l.onError)==null||F.call(l,R,N,O)},mutationKey:_().data().mutation("createMany").get(x),...l,meta:{...l==null?void 0:l.meta,...Hi()}}),{mutate:D,mutateAsync:T,...L}=k,{elapsedTime:I}=dl({...c,isLoading:L.isLoading});return{...L,mutate:he((R,N)=>D(R||{},N),"handleMutation"),mutateAsync:he((R,N)=>T(R||{},N),"handleMutateAsync"),overtime:{elapsedTime:I}}},"useCreateMany"),z5=new Error("[useCreateMany]: `resource` is not defined or not matched but is required"),W5=new Error("[useCreateMany]: `values` is not provided but is required");he(({ids:n,resource:e,values:t,dataProviderName:i,successNotification:r,errorNotification:s,meta:o,metaData:a,mutationMode:l,undoableTimeout:c,onCancel:u,optimisticUpdateMap:d,invalidates:h,mutationOptions:f,overtimeOptions:p}={})=>{let{resources:m,select:v}=Si(),C=Qd(),y=hl(),w=Xn(),{mutationMode:_,undoableTimeout:x}=kv(),k=no(),{mutate:D}=zc({v3LegacyAuthProviderCompatible:!!(k!=null&&k.isLegacy)}),{notificationDispatch:T}=Vk(),L=b0(),I=Wc(),R=Zd(),{log:N}=C0(),O=Io(),{options:{textTransformers:F}}=qs(),{keys:A,preferLegacyKeys:H}=Tr(),W=Es({mutationFn:({ids:Z=n,values:Q=t,resource:G=e,onCancel:J=u,mutationMode:ne=l,undoableTimeout:ae=c,meta:se=o,metaData:X=a,dataProviderName:oe=i})=>{if(!Z)throw ow;if(!Q)throw rD;if(!G)throw sw;let{resource:ve,identifier:me}=v(G),ye=O({resource:ve,meta:Wt(se,X)}),Le=ne??_,ie=ae??x,Ee=y(Oi(me,oe,m)),Ue=he(()=>Ee.updateMany?Ee.updateMany({resource:ve.name,ids:Z,variables:Q,meta:ye,metaData:ye}):hN(Z.map(re=>Ee.update({resource:ve.name,id:re,variables:Q,meta:ye,metaData:ye}))),"mutationFn");return Le!=="undoable"?Ue():new Promise((re,fe)=>{let Ce=he(()=>{Ue().then(Te=>re(Te)).catch(Te=>fe(Te))},"doMutation"),Me=he(()=>{fe({message:"mutationCancelled"})},"cancelMutation");J&&J(Me),T({type:"ADD",payload:{id:Z,resource:me,cancelMutation:Me,doMutation:Ce,seconds:ie,isSilent:!!J}})})},onMutate:async({resource:Z=e,ids:Q=n,values:G=t,mutationMode:J=l,dataProviderName:ne=i,meta:ae=o,metaData:se=a,optimisticUpdateMap:X=d??{list:!0,many:!0,detail:!0}})=>{if(!Q)throw ow;if(!G)throw rD;if(!Z)throw sw;let{identifier:oe}=v(Z),{gqlMutation:ve,gqlQuery:me,...ye}=Wt(ae,se)??{},Le=dN(H)(oe,Oi(oe,ne,m),ye),ie=A().data(Oi(oe,ne,m)).resource(oe),Ee=J??_;await C.cancelQueries(ie.get(H),void 0,{silent:!0});let Ue=C.getQueriesData(ie.get(H));if(Ee!=="pessimistic"&&(X.list&&C.setQueriesData(ie.action("list").params(ye??{}).get(H),re=>{if(typeof X.list=="function")return X.list(re,G,Q);if(!re)return null;let fe=re.data.map(Ce=>Ce.id!==void 0&&Q.filter(Me=>Me!==void 0).map(String).includes(Ce.id.toString())?{...Ce,...G}:Ce);return{...re,data:fe}}),X.many&&C.setQueriesData(ie.action("many").get(H),re=>{if(typeof X.many=="function")return X.many(re,G,Q);if(!re)return null;let fe=re.data.map(Ce=>Ce.id!==void 0&&Q.filter(Me=>Me!==void 0).map(String).includes(Ce.id.toString())?{...Ce,...G}:Ce);return{...re,data:fe}}),X.detail))for(let re of Q)C.setQueriesData(ie.action("one").id(re).params(ye??{}).get(H),fe=>{if(typeof X.detail=="function")return X.detail(fe,G,re);if(!fe)return null;let Ce={...fe.data,...G};return{...fe,data:Ce}});return{previousQueries:Ue,queryKey:Le}},onSettled:(Z,Q,G,J)=>{var ne;let{ids:ae=n,resource:se=e,dataProviderName:X=i,invalidates:oe=h}=G;if(!ae)throw ow;if(!se)throw sw;let{identifier:ve}=v(se);R({resource:ve,invalidates:oe??["list","many"],dataProviderName:Oi(ve,X,m)}),ae.forEach(me=>R({resource:ve,invalidates:oe??["detail"],dataProviderName:Oi(ve,X,m),id:me})),T({type:"REMOVE",payload:{id:ae,resource:ve}}),(ne=f==null?void 0:f.onSettled)==null||ne.call(f,Z,Q,G,J)},onSuccess:(Z,Q,G)=>{var J;let{ids:ne=n,resource:ae=e,values:se=t,meta:X=o,metaData:oe=a,dataProviderName:ve=i,successNotification:me=r}=Q;if(!ne)throw ow;if(!se)throw rD;if(!ae)throw sw;let{resource:ye,identifier:Le}=v(ae),ie=F.singular(Le),Ee=Oi(Le,ve,m),Ue=O({resource:ye,meta:Wt(X,oe)}),re=typeof me=="function"?me(Z,{ids:ne,values:se},Le):me;I(re,{key:`${ne}-${Le}-notification`,description:w("notifications.success","Successful"),message:w("notifications.editSuccess",{resource:w(`${Le}.${Le}`,Le)},`Successfully updated ${ie}`),type:"success"}),L==null||L({channel:`resources/${ye.name}`,type:"updated",payload:{ids:ne.map(String)},date:new Date,meta:{...Ue,dataProviderName:Ee}});let fe=[];G&&ne.forEach(Ne=>{let Ge=C.getQueryData(G.queryKey.detail(Ne));fe.push(Object.keys(se||{}).reduce((gt,rt)=>{var it;return gt[rt]=(it=Ge==null?void 0:Ge.data)==null?void 0:it[rt],gt},{}))});let{fields:Ce,operation:Me,variables:Te,...Ae}=Ue||{};N==null||N.mutate({action:"updateMany",resource:ye.name,data:se,previousData:fe,meta:{ids:ne,dataProviderName:Ee,...Ae}}),(J=f==null?void 0:f.onSuccess)==null||J.call(f,Z,Q,G)},onError:(Z,Q,G)=>{var J;let{ids:ne=n,resource:ae=e,errorNotification:se=s,values:X=t}=Q;if(!ne)throw ow;if(!X)throw rD;if(!ae)throw sw;let{identifier:oe}=v(ae);if(G)for(let ve of G.previousQueries)C.setQueryData(ve[0],ve[1]);if(Z.message!=="mutationCancelled"){D==null||D(Z);let ve=F.singular(oe),me=typeof se=="function"?se(Z,{ids:ne,values:X},oe):se;I(me,{key:`${ne}-${oe}-updateMany-error-notification`,message:w("notifications.editError",{resource:ve,statusCode:Z.statusCode},`Error when updating ${ve} (status code: ${Z.statusCode})`),description:Z.message,type:"error"})}(J=f==null?void 0:f.onError)==null||J.call(f,Z,Q,G)},mutationKey:A().data().mutation("updateMany").get(H),...f,meta:{...f==null?void 0:f.meta,...Hi()}}),{mutate:$,mutateAsync:U,...z}=W,{elapsedTime:K}=dl({...p,isLoading:z.isLoading});return{...z,mutate:he((Z,Q)=>$(Z||{},Q),"handleMutation"),mutateAsync:he((Z,Q)=>U(Z||{},Q),"handleMutateAsync"),overtime:{elapsedTime:K}}},"useUpdateMany");var sw=new Error("[useUpdateMany]: `resource` is not defined or not matched but is required"),ow=new Error("[useUpdateMany]: `id` is not defined but is required in edit and clone actions"),rD=new Error("[useUpdateMany]: `values` is not provided but is required");he(({mutationOptions:n,overtimeOptions:e}={})=>{let t=no(),{mutate:i}=zc({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)}),{mutationMode:r,undoableTimeout:s}=kv(),o=hl(),{notificationDispatch:a}=Vk(),l=Xn(),c=b0(),u=Wc(),d=Zd(),{log:h}=C0(),{resources:f,select:p}=Si(),m=Qd(),v=Io(),{options:{textTransformers:C}}=qs(),{keys:y,preferLegacyKeys:w}=Tr(),_=Es({mutationFn:({resource:k,ids:D,mutationMode:T,undoableTimeout:L,onCancel:I,meta:R,metaData:N,dataProviderName:O,values:F})=>{let{resource:A,identifier:H}=p(k),W=v({resource:A,meta:Wt(R,N)}),$=T??r,U=L??s,z=o(Oi(H,O,f)),K=he(()=>z.deleteMany?z.deleteMany({resource:A.name,ids:D,meta:W,metaData:W,variables:F}):hN(D.map(Z=>z.deleteOne({resource:A.name,id:Z,meta:W,metaData:W,variables:F}))),"mutationFn");return $!=="undoable"?K():new Promise((Z,Q)=>{let G=he(()=>{K().then(ne=>Z(ne)).catch(ne=>Q(ne))},"doMutation"),J=he(()=>{Q({message:"mutationCancelled"})},"cancelMutation");I&&I(J),a({type:"ADD",payload:{id:D,resource:H,cancelMutation:J,doMutation:G,seconds:U,isSilent:!!I}})})},onMutate:async({ids:k,resource:D,mutationMode:T,dataProviderName:L,meta:I,metaData:R})=>{let{identifier:N}=p(D),{gqlMutation:O,gqlQuery:F,...A}=Wt(I,R)??{},H=dN(w)(N,Oi(N,L,f),A),W=y().data(Oi(N,L,f)).resource(N),$=T??r;await m.cancelQueries(W.get(w),void 0,{silent:!0});let U=m.getQueriesData(W.get(w));if($!=="pessimistic"){m.setQueriesData(W.action("list").params(A??{}).get(w),z=>z?{data:z.data.filter(K=>K.id&&!k.map(String).includes(K.id.toString())),total:z.total-1}:null),m.setQueriesData(W.action("many").get(w),z=>{if(!z)return null;let K=z.data.filter(Z=>Z.id?!k.map(String).includes(Z.id.toString()):!1);return{...z,data:K}});for(let z of k)m.setQueriesData(W.action("one").id(z).params(A).get(w),K=>!K||K.data.id===z?null:{...K})}return{previousQueries:U,queryKey:H}},onSettled:(k,D,{resource:T,ids:L,dataProviderName:I,invalidates:R=["list","many"]})=>{let{identifier:N}=p(T);d({resource:N,dataProviderName:Oi(N,I,f),invalidates:R}),a({type:"REMOVE",payload:{id:L,resource:N}})},onSuccess:(k,{ids:D,resource:T,meta:L,metaData:I,dataProviderName:R,successNotification:N},O)=>{let{resource:F,identifier:A}=p(T),H=Oi(A,R,f),W=v({resource:F,meta:Wt(L,I)});D.forEach(Q=>m.removeQueries(O==null?void 0:O.queryKey.detail(Q)));let $=typeof N=="function"?N(k,D,A):N;u($,{key:`${D}-${A}-notification`,description:l("notifications.success","Success"),message:l("notifications.deleteSuccess",{resource:l(`${A}.${A}`,A)},`Successfully deleted ${A}`),type:"success"}),c==null||c({channel:`resources/${F.name}`,type:"deleted",payload:{ids:D},date:new Date,meta:{...W,dataProviderName:H}});let{fields:U,operation:z,variables:K,...Z}=W||{};h==null||h.mutate({action:"deleteMany",resource:F.name,meta:{ids:D,dataProviderName:H,...Z}}),D.forEach(Q=>m.removeQueries(O==null?void 0:O.queryKey.detail(Q)))},onError:(k,{ids:D,resource:T,errorNotification:L},I)=>{let{identifier:R}=p(T);if(I)for(let N of I.previousQueries)m.setQueryData(N[0],N[1]);if(k.message!=="mutationCancelled"){i(k);let N=C.singular(R),O=typeof L=="function"?L(k,D,R):L;u(O,{key:`${D}-${R}-notification`,message:l("notifications.deleteError",{resource:N,statusCode:k.statusCode},`Error (status code: ${k.statusCode})`),description:k.message,type:"error"})}},mutationKey:y().data().mutation("deleteMany").get(w),...n,meta:{...n==null?void 0:n.meta,...Hi()}}),{elapsedTime:x}=dl({...e,isLoading:_.isLoading});return{..._,overtime:{elapsedTime:x}}},"useDeleteMany");he(n=>{var e;let t=hl(),{resource:i}=Si(),{getApiUrl:r}=t(n??((e=Wt(i==null?void 0:i.meta,i==null?void 0:i.options))==null?void 0:e.dataProviderName));return r()},"useApiUrl");he(({url:n,method:e,config:t,queryOptions:i,successNotification:r,errorNotification:s,meta:o,metaData:a,dataProviderName:l,overtimeOptions:c})=>{let u=hl(),d=no(),{mutate:h}=zc({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),f=Xn(),p=Wc(),m=Io(),{keys:v,preferLegacyKeys:C}=Tr(),y=Wt(o,a),{custom:w}=u(l),_=m({meta:y});if(w){let x=Ic({queryKey:v().data(l).mutation("custom").params({method:e,url:n,...t,...y||{}}).get(C),queryFn:D=>w({url:n,method:e,...t,meta:{..._,queryContext:ev(D)},metaData:{..._,queryContext:ev(D)}}),...i,onSuccess:D=>{var T;(T=i==null?void 0:i.onSuccess)==null||T.call(i,D);let L=typeof r=="function"?r(D,{...t,..._}):r;p(L)},onError:D=>{var T;h(D),(T=i==null?void 0:i.onError)==null||T.call(i,D);let L=typeof s=="function"?s(D,{...t,..._}):s;p(L,{key:`${e}-notification`,message:f("notifications.error",{statusCode:D.statusCode},`Error (status code: ${D.statusCode})`),description:D.message,type:"error"})},meta:{...i==null?void 0:i.meta,...Hi()}}),{elapsedTime:k}=dl({...c,isLoading:x.isFetching});return{...x,overtime:{elapsedTime:k}}}throw Error("Not implemented custom on data provider.")},"useCustom");he(({mutationOptions:n,overtimeOptions:e}={})=>{let t=no(),{mutate:i}=zc({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)}),r=Wc(),s=hl(),o=Xn(),a=Io(),{keys:l,preferLegacyKeys:c}=Tr(),u=Es(({url:h,method:f,values:p,meta:m,metaData:v,dataProviderName:C,config:y})=>{let w=a({meta:Wt(m,v)}),{custom:_}=s(C);if(_)return _({url:h,method:f,payload:p,meta:w,metaData:w,headers:{...y==null?void 0:y.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(h,{successNotification:f,config:p,meta:m,metaData:v})=>{let C=typeof f=="function"?f(h,{...p,...Wt(m,v)||{}}):f;r(C)},onError:(h,{errorNotification:f,method:p,config:m,meta:v,metaData:C})=>{i(h);let y=typeof f=="function"?f(h,{...m,...Wt(v,C)||{}}):f;r(y,{key:`${p}-notification`,message:o("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})},mutationKey:l().data().mutation("customMutation").get(c),...n,meta:{...n==null?void 0:n.meta,...Hi()}}),{elapsedTime:d}=dl({...e,isLoading:u.isLoading});return{...u,overtime:{elapsedTime:d}}},"useCustomMutation");var ipe={default:{}},oj=q.createContext(ipe),aMe=he(({children:n,dataProvider:e})=>{let t=ipe;return e&&(!("default"in e)&&("getList"in e||"getOne"in e)?t={default:e}:t=e),q.createElement(oj.Provider,{value:t},n)},"DataContextProvider"),hl=he(()=>{let n=M.useContext(oj);return M.useCallback(e=>{if(e){let t=n==null?void 0:n[e];if(!t)throw new Error(`"${e}" Data provider not found`);if(t&&!(n!=null&&n.default))throw new Error("If you have multiple data providers, you must provide default data provider property");return n[e]}if(n.default)return n.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[n])},"useDataProvider");he(({resource:n,config:e,filters:t,hasPagination:i,pagination:r,sorters:s,queryOptions:o,successNotification:a,errorNotification:l,meta:c,metaData:u,liveMode:d,onLiveEvent:h,liveParams:f,dataProviderName:p,overtimeOptions:m})=>{let{resources:v,resource:C,identifier:y}=Si(n),w=hl(),_=Xn(),x=no(),{mutate:k}=zc({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),D=Wc(),T=Io(),{keys:L,preferLegacyKeys:I}=Tr(),R=Oi(y,p,v),N=Wt(c,u),O=Wt(t,e==null?void 0:e.filters),F=Wt(s,e==null?void 0:e.sort),A=Wt(i,e==null?void 0:e.hasPagination),H=Wge({pagination:r,configPagination:e==null?void 0:e.pagination,hasPagination:A}),W=H.mode==="server",$={meta:N,metaData:N,filters:O,hasPagination:W,pagination:H,sorters:F,config:{...e,sort:F}},U=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,z=T({resource:C,meta:N}),{getList:K}=w(R);gN({resource:y,types:["*"],params:{meta:z,metaData:z,pagination:H,hasPagination:W,sort:F,sorters:F,filters:O,subscriptionType:"useList",...f},channel:`resources/${C.name}`,enabled:U,liveMode:d,onLiveEvent:h,dataProviderName:R,meta:{...z,dataProviderName:p}});let Z=JLe({queryKey:L().data(R).resource(y).action("infinite").params({...N||{},filters:O,hasPagination:W,...W&&{pagination:H},...s&&{sorters:s},...(e==null?void 0:e.sort)&&{sort:e==null?void 0:e.sort}}).get(I),queryFn:G=>{let J={...H,current:G.pageParam},ne={...z,queryContext:ev(G)};return K({resource:C.name,pagination:J,hasPagination:W,filters:O,sort:F,sorters:F,meta:ne,metaData:ne}).then(({data:ae,total:se,...X})=>({data:ae,total:se,pagination:J,...X}))},getNextPageParam:G=>VIe(G),getPreviousPageParam:G=>zIe(G),...o,onSuccess:G=>{var J;(J=o==null?void 0:o.onSuccess)==null||J.call(o,G);let ne=typeof a=="function"?a(G,$,y):a;D(ne)},onError:G=>{var J;k(G),(J=o==null?void 0:o.onError)==null||J.call(o,G);let ne=typeof l=="function"?l(G,$,y):l;D(ne,{key:`${y}-useInfiniteList-notification`,message:_("notifications.error",{statusCode:G.statusCode},`Error (status code: ${G.statusCode})`),description:G.message,type:"error"})},meta:{...o==null?void 0:o.meta,...Hi("useInfiniteList",I,C==null?void 0:C.name)}}),{elapsedTime:Q}=dl({...m,isLoading:Z.isFetching});return{...Z,overtime:{elapsedTime:Q}}},"useInfiniteList");var Fk=q.createContext({}),lMe=he(({liveProvider:n,children:e})=>q.createElement(Fk.Provider,{value:{liveProvider:n}},e),"LiveContextProvider"),Zd=he(()=>{let{resources:n}=Si(),e=Qd(),{keys:t,preferLegacyKeys:i}=Tr();return M.useCallback(async({resource:r,dataProviderName:s,invalidates:o,id:a,invalidationFilters:l={type:"all",refetchType:"active"},invalidationOptions:c={cancelRefetch:!1}})=>{if(o===!1)return;let u=Oi(r,s,n),d=t().data(u).resource(r??"");await Promise.all(o.map(h=>{switch(h){case"all":return e.invalidateQueries(t().data(u).get(i),l,c);case"list":return e.invalidateQueries(d.action("list").get(i),l,c);case"many":return e.invalidateQueries(d.action("many").get(i),l,c);case"resourceAll":return e.invalidateQueries(d.get(i),l,c);case"detail":return e.invalidateQueries(d.action("one").id(a||"").get(i),l,c);default:return}}))},[])},"useInvalidate"),cMe=he(n=>{let e=M.useRef(n);return Al(e.current,n)||(e.current=n),e.current},"useMemoized"),rpe=he((n,e)=>{let t=cMe(e);return M.useMemo(n,t)},"useDeepMemo"),Bk=q.createContext({resources:[]}),uMe=he(({resources:n,children:e})=>{let t=rpe(()=>WIe(n??[]),[n]);return q.createElement(Bk.Provider,{value:{resources:t}},e)},"ResourceContextProvider"),spe=q.createContext("new"),dMe=spe.Provider,lr=he(()=>q.useContext(spe),"useRouterType"),ope={},Hk=M.createContext(ope),hMe=he(({children:n,router:e})=>q.createElement(Hk.Provider,{value:e??ope},n),"RouterContextProvider"),fMe=he(()=>{let n=M.useContext(Hk);return q.useMemo(()=>(n==null?void 0:n.parse)??(()=>()=>({})),[n==null?void 0:n.parse])()},"useParse"),fl=he(()=>{let n=fMe();return q.useMemo(()=>n(),[n])},"useParsed");function Si(n){let{resources:e}=M.useContext(Bk),t=lr(),i=fl(),r={resourceName:n&&typeof n!="string"?n.resourceName:n,resourceNameOrRouteName:n&&typeof n!="string"?n.resourceNameOrRouteName:n,recordItemId:n&&typeof n!="string"?n.recordItemId:void 0},s=he((d,h=!0)=>{let f=ia(d,e,t==="legacy");if(f)return{resource:f,identifier:f.identifier??f.name};if(h){let p={name:d,identifier:d},m=p.identifier??p.name;return{resource:p,identifier:m}}},"select"),o=gMe(),{useParams:a}=To(),l=a();if(t==="legacy"){let d=r.resourceNameOrRouteName?r.resourceNameOrRouteName:l.resource,h=d?o(d):void 0,f=(r==null?void 0:r.recordItemId)??l.id,p=l.action,m=(r==null?void 0:r.resourceName)??(h==null?void 0:h.name),v=(h==null?void 0:h.identifier)??(h==null?void 0:h.name);return{resources:e,resource:h,resourceName:m,id:f,action:p,select:s,identifier:v}}let c,u=typeof n=="string"?n:r==null?void 0:r.resourceNameOrRouteName;if(u){let d=ia(u,e);d?c=d:c={name:u}}else i!=null&&i.resource&&(c=i.resource);return{resources:e,resource:c,resourceName:c==null?void 0:c.name,id:i.id,action:i.action,select:s,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}he(Si,"useResource");var gMe=he(()=>{let{resources:n}=M.useContext(Bk);return M.useCallback(e=>ia(e,n,!0)||{name:e,route:e},[n])},"useResourceWithRoute"),gN=he(({resource:n,params:e,channel:t,types:i,enabled:r=!0,liveMode:s,onLiveEvent:o,dataProviderName:a,meta:l})=>{var c;let{resource:u,identifier:d}=Si(n),{liveProvider:h}=M.useContext(Fk),{liveMode:f,onLiveEvent:p}=M.useContext(Vf),m=s??f,v=Zd(),C=a??(l==null?void 0:l.dataProviderName)??((c=u==null?void 0:u.meta)==null?void 0:c.dataProviderName);M.useEffect(()=>{let y,w=he(_=>{m==="auto"&&v({resource:d,dataProviderName:C,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),o==null||o(_),p==null||p(_)},"callback");return m&&m!=="off"&&r&&(y=h==null?void 0:h.subscribe({channel:t,params:{resource:u==null?void 0:u.name,...e},types:i,callback:w,dataProviderName:C,meta:{...l,dataProviderName:C}})),()=>{y&&(h==null||h.unsubscribe(y))}},[r])},"useResourceSubscription"),ape=he(n=>{let{liveMode:e}=M.useContext(Vf);return n??e},"useLiveMode");he(({params:n,channel:e,types:t=["*"],enabled:i=!0,onLiveEvent:r,dataProviderName:s="default",meta:o})=>{let{liveProvider:a}=M.useContext(Fk);M.useEffect(()=>{let l;return i&&(l=a==null?void 0:a.subscribe({channel:e,params:n,types:t,callback:r,dataProviderName:s,meta:{...o,dataProviderName:s}})),()=>{l&&(a==null||a.unsubscribe(l))}},[i])},"useSubscription");var b0=he(()=>{let{liveProvider:n}=M.useContext(Fk);return n==null?void 0:n.publish},"usePublish"),lpe=M.createContext({notifications:[],notificationDispatch:()=>!1}),pMe=[],mMe=he((n,e)=>{switch(e.type){case"ADD":return[...n.filter(t=>!(Al(t.id,e.payload.id)&&t.resource===e.payload.resource)),{...e.payload,isRunning:!0}];case"REMOVE":return n.filter(t=>!(Al(t.id,e.payload.id)&&t.resource===e.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return n.map(t=>Al(t.id,e.payload.id)&&t.resource===e.payload.resource?{...t,seconds:e.payload.seconds-1e3}:t);default:return n}},"undoableQueueReducer"),bMe=he(({children:n})=>{let[e,t]=M.useReducer(mMe,pMe),i={notifications:e,notificationDispatch:t};return q.createElement(lpe.Provider,{value:i},n,typeof window<"u"?e.map(r=>q.createElement(vRe,{key:`${r.id}-${r.resource}-queue`,notification:r})):null)},"UndoableQueueContextProvider"),Vk=he(()=>{let{notifications:n,notificationDispatch:e}=M.useContext(lpe);return{notifications:n,notificationDispatch:e}},"useCancelNotification"),aj=M.createContext({}),vMe=he(({open:n,close:e,children:t})=>q.createElement(aj.Provider,{value:{open:n,close:e}},t),"NotificationContextProvider"),Dv=he(()=>{let{open:n,close:e}=M.useContext(aj);return{open:n,close:e}},"useNotification"),Wc=he(()=>{let{open:n}=Dv();return M.useCallback((e,t)=>{e!==!1&&(e?n==null||n(e):t&&(n==null||n(t)))},[])},"useHandleNotification"),v0=q.createContext({}),yMe=he(({children:n,i18nProvider:e})=>q.createElement(v0.Provider,{value:{i18nProvider:e}},n),"I18nContextProvider"),CMe=he(()=>{let{i18nProvider:n}=M.useContext(v0);return M.useCallback(e=>n==null?void 0:n.changeLocale(e),[])},"useSetLocale"),Xn=he(()=>{let{i18nProvider:n}=M.useContext(v0);return M.useMemo(()=>{function e(t,i,r){return(n==null?void 0:n.translate(t,i,r))??r??(typeof i=="string"&&typeof r>"u"?i:t)}return he(e,"translate"),e},[n])},"useTranslate"),_Me=he(()=>{let{i18nProvider:n}=M.useContext(v0);return M.useCallback(()=>n==null?void 0:n.getLocale(),[])},"useGetLocale");he(()=>{let n=Xn(),e=CMe(),t=_Me();return{translate:n,changeLocale:e,getLocale:t}},"useTranslation");he(({resourceName:n,resource:e,sorter:t,sorters:i,filters:r,maxItemCount:s,pageSize:o=20,mapData:a=he(m=>m,"mapData"),exportOptions:l,unparseConfig:c,meta:u,metaData:d,dataProviderName:h,onError:f,download:p}={})=>{let[m,v]=M.useState(!1),C=hl(),y=Io(),{resource:w,resources:_,identifier:x}=Si(Wt(e,n)),k=`${Xd()(x,"plural")}-${new Date().toLocaleString()}`,{getList:D}=C(Oi(x,h,_)),T=y({resource:w,meta:Wt(u,d)});return{isLoading:m,triggerExport:he(async()=>{v(!0);let L=[],I=1,R=!0;for(;R;)try{let{data:A,total:H}=await D({resource:(w==null?void 0:w.name)??"",filters:r,sort:Wt(i,t),sorters:Wt(i,t),pagination:{current:I,pageSize:o,mode:"server"},meta:T,metaData:T});I++,L.push(...A),s&&L.length>=s&&(L=L.slice(0,s),R=!1),H===L.length&&(R=!1)}catch(A){v(!1),R=!1,f==null||f(A);return}let N=typeof c<"u"&&c!==null;Fd(N&&typeof l<"u"&&l!==null,`[useExport]: resource: "${x}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let O={filename:k,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...l};Fd((l==null?void 0:l.decimalSeparator)!==void 0,`[useExport]: resource: "${x}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),N?c={quotes:!0,...c}:c={columns:O.useKeysAsHeaders?void 0:O.headers,delimiter:O.fieldSeparator,header:O.showLabels||O.useKeysAsHeaders,quoteChar:O.quoteStrings,quotes:!0};let F=Cge.unparse(L.map(a),c);if(O.showTitle&&(F=`${O.title}\r

${F}`),typeof window<"u"&&F.length>0&&(p??!0)){let A=O.useTextFile?".txt":".csv",H=`text/${O.useTextFile?"plain":"csv"};charset=utf8;`,W=`${(O.filename??"download").replace(/ /g,"_")}${A}`;QIe(W,`${O!=null&&O.useBom?"\uFEFF":""}${F}`,H)}return v(!1),F},"triggerExport")}},"useExport");var wMe=he((n={})=>{var e,t,i;let r=Io(),s=Zd(),{redirect:o}=bN(),{mutationMode:a}=kv(),{setWarnWhen:l}=Lv(),c=DMe(),u=Wt(n.meta,n.metaData),d=n.mutationMode??a,{id:h,setId:f,resource:p,identifier:m,formAction:v}=Wp({resource:n.resource,id:n.id,action:n.action}),[C,y]=q.useState(!1),w=v==="edit",_=v==="clone",x=v==="create",k=r({resource:p,meta:u}),D=(w||_)&&!!n.resource,T=typeof n.id<"u",L=((e=n.queryOptions)==null?void 0:e.enabled)===!1;Fd(D&&!T&&!L,EMe(v,m,h));let I=HIe({redirectFromProps:n.redirect,action:v,redirectOptions:o}),R=he((Z=w?"list":"edit",Q=h,G={})=>{c({redirect:Z,resource:p,id:Q,meta:{...u,...G}})},"redirect"),N=Ev({resource:m,id:h,queryOptions:{enabled:!x&&h!==void 0,...n.queryOptions},liveMode:n.liveMode,onLiveEvent:n.onLiveEvent,liveParams:n.liveParams,meta:{...k,...n.queryMeta},dataProviderName:n.dataProviderName,overtimeOptions:{enabled:!1}}),O=tpe({mutationOptions:n.createMutationOptions,overtimeOptions:{enabled:!1}}),F=epe({mutationOptions:n.updateMutationOptions,overtimeOptions:{enabled:!1}}),A=w?F:O,H=A.isLoading||N.isFetching,{elapsedTime:W}=dl({...n.overtimeOptions,isLoading:H});q.useEffect(()=>()=>{var Z;(Z=n.autoSave)!=null&&Z.invalidateOnUnmount&&C&&m&&typeof h<"u"&&s({id:h,invalidates:n.invalidates||["list","many","detail"],dataProviderName:n.dataProviderName,resource:m})},[(t=n.autoSave)==null?void 0:t.invalidateOnUnmount,C]);let $=he(async(Z,{isAutosave:Q=!1}={})=>{let G=d==="pessimistic";l(!1);let J=he(ne=>R(I,ne),"onSuccessRedirect");return new Promise((ne,ae)=>{if(!p)return ae(SMe);if(_&&!h)return ae(xMe);if(!Z)return ae(kMe);if(Q&&!w)return ae(LMe);!G&&!Q&&($J(()=>J()),ne());let se={values:Z,resource:m??p.name,meta:{...k,...n.mutationMeta},metaData:{...k,...n.mutationMeta},dataProviderName:n.dataProviderName,invalidates:Q?[]:n.invalidates,successNotification:Q?!1:n.successNotification,errorNotification:Q?!1:n.errorNotification,...w?{id:h??"",mutationMode:d,undoableTimeout:n.undoableTimeout,optimisticUpdateMap:n.optimisticUpdateMap}:{}},{mutateAsync:X}=w?F:O;X(se,{onSuccess:n.onMutationSuccess?(oe,ve,me)=>{var ye;(ye=n.onMutationSuccess)==null||ye.call(n,oe,Z,me,Q)}:void 0,onError:n.onMutationError?(oe,ve,me)=>{var ye;(ye=n.onMutationError)==null||ye.call(n,oe,Z,me,Q)}:void 0}).then(oe=>{G&&!Q&&$J(()=>{var ve;return J((ve=oe==null?void 0:oe.data)==null?void 0:ve.id)}),Q&&y(!0),ne(oe)}).catch(ae)})},"onFinish"),U=YIe(Z=>$(Z,{isAutosave:!0}),((i=n.autoSave)==null?void 0:i.debounce)||1e3,"Cancelled by debounce"),z={elapsedTime:W},K={status:F.status,data:F.data,error:F.error};return{onFinish:$,onFinishAutoSave:U,formLoading:H,mutationResult:A,mutation:A,queryResult:N,query:N,autoSaveProps:K,id:h,setId:f,redirect:R,overtime:z}},"useForm"),SMe=new Error("[useForm]: `resource` is not defined or not matched but is required"),xMe=new Error("[useForm]: `id` is not defined but is required in edit and clone actions"),kMe=new Error("[useForm]: `values` is not provided but is required"),LMe=new Error("[useForm]: `autoSave` is only allowed in edit action"),EMe=he((n,e,t)=>`[useForm]: action: "${n}", resource: "${e}", id: ${t}

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL with custom resource provided.

See https://refine.dev/docs/data/hooks/use-form/#id-`,"idWarningMessage"),DMe=he(()=>{let{show:n,edit:e,list:t,create:i}=Ko();return M.useCallback(({redirect:r,resource:s,id:o,meta:a={}})=>{if(r&&s)return s.show&&r==="show"&&o?n(s,o,void 0,a):s.edit&&r==="edit"&&o?e(s,o,void 0,a):s.create&&r==="create"?i(s,void 0,a):t(s,"push",a)},[])},"useRedirectionAfterSubmission"),pN=he(()=>{let n=M.useContext(Hk);return q.useMemo(()=>(n==null?void 0:n.back)??(()=>()=>{}),[n==null?void 0:n.back])()},"useBack"),zk=he(()=>{let n=lr(),{resource:e,resources:t}=Si(),i=fl();return q.useCallback(({resource:r,action:s,meta:o})=>{var a;let l=r||e;if(!l)return;let c=(a=kl(l,t,n==="legacy").find(u=>u.action===s))==null?void 0:a.route;return c?lc(c,l==null?void 0:l.meta,i,o):void 0},[t,e,i])},"useGetToPath"),Go=he(()=>{let n=M.useContext(Hk),{select:e}=Si(),t=zk(),i=q.useMemo(()=>(n==null?void 0:n.go)??(()=>()=>{}),[n==null?void 0:n.go])();return M.useCallback(r=>{if(typeof r.to!="object")return i({...r,to:r.to});let{resource:s}=e(r.to.resource);TMe(r.to,s);let o=t({resource:s,action:r.to.action,meta:{id:r.to.id,...r.to.meta}});return i({...r,to:o})},[e,i])},"useGo"),TMe=he((n,e)=>{if(!(n!=null&&n.action)||!(n!=null&&n.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(n==null?void 0:n.action)&&!n.id)throw new Error(`[useGo]: [action: ${n.action}] requires an "id" for resource [resource: ${n.resource}]`);if(!e[n.action])throw new Error(`[useGo]: [action: ${n.action}] is not defined for [resource: ${n.resource}]`)},"handleResourceErrors"),Ko=he(()=>{let{resources:n}=Si(),e=lr(),{useHistory:t}=To(),i=t(),r=fl(),s=Go(),o=pN(),a=he((f,p="push")=>{e==="legacy"?i[p](f):s({to:f,type:p})},"handleUrl"),l=he((f,p={})=>{var m;if(e==="legacy"){let y=typeof f=="string"?ia(f,n,!0)??{name:f,route:f}:f,w=kl(y,n,!0).find(_=>_.action==="create");return w?lc(w.route,y==null?void 0:y.meta,r,p):""}let v=typeof f=="string"?ia(f,n)??{name:f}:f,C=(m=kl(v,n).find(y=>y.action==="create"))==null?void 0:m.route;return C?s({to:lc(C,v==null?void 0:v.meta,r,p),type:"path",query:p.query}):""},"createUrl"),c=he((f,p,m={})=>{var v;let C=encodeURIComponent(p);if(e==="legacy"){let _=typeof f=="string"?ia(f,n,!0)??{name:f,route:f}:f,x=kl(_,n,!0).find(k=>k.action==="edit");return x?lc(x.route,_==null?void 0:_.meta,r,{...m,id:C}):""}let y=typeof f=="string"?ia(f,n)??{name:f}:f,w=(v=kl(y,n).find(_=>_.action==="edit"))==null?void 0:v.route;return w?s({to:lc(w,y==null?void 0:y.meta,r,{...m,id:C}),type:"path",query:m.query}):""},"editUrl"),u=he((f,p,m={})=>{var v;let C=encodeURIComponent(p);if(e==="legacy"){let _=typeof f=="string"?ia(f,n,!0)??{name:f,route:f}:f,x=kl(_,n,!0).find(k=>k.action==="clone");return x?lc(x.route,_==null?void 0:_.meta,r,{...m,id:C}):""}let y=typeof f=="string"?ia(f,n)??{name:f}:f,w=(v=kl(y,n).find(_=>_.action==="clone"))==null?void 0:v.route;return w?s({to:lc(w,y==null?void 0:y.meta,r,{...m,id:C}),type:"path",query:m.query}):""},"cloneUrl"),d=he((f,p,m={})=>{var v;let C=encodeURIComponent(p);if(e==="legacy"){let _=typeof f=="string"?ia(f,n,!0)??{name:f,route:f}:f,x=kl(_,n,!0).find(k=>k.action==="show");return x?lc(x.route,_==null?void 0:_.meta,r,{...m,id:C}):""}let y=typeof f=="string"?ia(f,n)??{name:f}:f,w=(v=kl(y,n).find(_=>_.action==="show"))==null?void 0:v.route;return w?s({to:lc(w,y==null?void 0:y.meta,r,{...m,id:C}),type:"path",query:m.query}):""},"showUrl"),h=he((f,p={})=>{var m;if(e==="legacy"){let y=typeof f=="string"?ia(f,n,!0)??{name:f,route:f}:f,w=kl(y,n,!0).find(_=>_.action==="list");return w?lc(w.route,y==null?void 0:y.meta,r,p):""}let v=typeof f=="string"?ia(f,n)??{name:f}:f,C=(m=kl(v,n).find(y=>y.action==="list"))==null?void 0:m.route;return C?s({to:lc(C,v==null?void 0:v.meta,r,p),type:"path",query:p.query}):""},"listUrl");return{create:he((f,p="push",m={})=>{a(l(f,m),p)},"create"),createUrl:l,edit:he((f,p,m="push",v={})=>{a(c(f,p,v),m)},"edit"),editUrl:c,clone:he((f,p,m="push",v={})=>{a(u(f,p,v),m)},"clone"),cloneUrl:u,show:he((f,p,m="push",v={})=>{a(d(f,p,v),m)},"show"),showUrl:d,list:he((f,p="push",m={})=>{a(h(f,m),p)},"list"),listUrl:h,push:he((f,...p)=>{e==="legacy"?i.push(f,...p):s({to:f,type:"push"})},"push"),replace:he((f,...p)=>{e==="legacy"?i.replace(f,...p):s({to:f,type:"replace"})},"replace"),goBack:he(()=>{e==="legacy"?i.goBack():o()},"goBack")}},"useNavigation"),y0=he(({resource:n,id:e,meta:t,metaData:i,queryOptions:r,overtimeOptions:s,...o}={})=>{let{resource:a,identifier:l,id:c,setId:u}=Wp({id:e,resource:n}),d=Io()({resource:a,meta:Wt(t,i)});Fd(!!n&&!c,IMe(l,c));let h=Ev({resource:l,id:c??"",queryOptions:{enabled:c!==void 0,...r},meta:d,metaData:d,overtimeOptions:s,...o});return{queryResult:h,query:h,showId:c,setShowId:u,overtime:h.overtime}},"useShow"),IMe=he((n,e)=>`[useShow]: resource: "${n}", id: ${e} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/data/hooks/use-show/#resource`,"idWarningMessage");he(({resourceName:n,resource:e,mapData:t=he(u=>u,"mapData"),paparseOptions:i,batchSize:r=Number.MAX_SAFE_INTEGER,onFinish:s,meta:o,metaData:a,onProgress:l,dataProviderName:c}={})=>{let[u,d]=M.useState(0),[h,f]=M.useState(0),[p,m]=M.useState(!1),{resource:v,identifier:C}=Si(e??n),y=Io(),w=oMe(),_=tpe(),x=y({resource:v,meta:Wt(o,a)}),k;r===1?k=_:k=w;let D=he(()=>{f(0),d(0),m(!1)},"handleCleanup"),T=he(I=>{let R={succeeded:I.filter(N=>N.type==="success"),errored:I.filter(N=>N.type==="error")};s==null||s(R),m(!1)},"handleFinish");M.useEffect(()=>{l==null||l({totalAmount:h,processedAmount:u})},[h,u]);let L=he(({file:I})=>(D(),new Promise(R=>{m(!0),Cge.parse(I,{complete:async({data:N})=>{let O=DIe(N,t);if(f(O.length),r===1){let F=O.map(H=>he(async()=>({response:await _.mutateAsync({resource:C??"",values:H,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:x,metaData:x}),value:H}),"fn")),A=await VJ(F,({response:H,value:W})=>(d($=>$+1),{response:[H.data],type:"success",request:[W]}),(H,W)=>({response:[H],type:"error",request:[O[W]]}));R(A)}else{let F=uIe(O,r),A=F.map(W=>he(async()=>({response:await w.mutateAsync({resource:C??"",values:W,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:x,metaData:x}),value:W,currentBatchLength:W.length}),"fn")),H=await VJ(A,({response:W,currentBatchLength:$,value:U})=>(d(z=>z+$),{response:W.data,type:"success",request:U}),(W,$)=>({response:[W],type:"error",request:F[$]}));R(H)}},...i})}).then(R=>(T(R),R))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:I=>{I.target.files&&I.target.files.length>0&&L({file:I.target.files[0]})}},mutationResult:k,isLoading:p,handleChange:L}},"useImport");var MMe=he(({defaultVisible:n=!1}={})=>{let[e,t]=M.useState(n),i=M.useCallback(()=>t(!0),[e]),r=M.useCallback(()=>t(!1),[e]);return{visible:e,show:i,close:r}},"useModal"),cpe=he(({resource:n,action:e,meta:t,legacy:i})=>zk()({resource:n,action:e,meta:t,legacy:i}),"useToPath"),RMe=he((n,e)=>{let t=M.useContext(Hk),i=t==null?void 0:t.Link,r=Go(),s="";return"go"in n&&(t!=null&&t.go||Fd(!0,"[Link]: `routerProvider` is not found. To use `go`, Please make sure that you have provided the `routerProvider` for `<Refine />` https://refine.dev/docs/routing/router-provider/ \n"),s=r({...n.go,type:"path"})),"to"in n&&(s=n.to),i?q.createElement(i,{ref:e,...n,to:s,go:void 0}):q.createElement("a",{ref:e,href:s,...n,to:void 0,go:void 0})},"LinkComponent"),NMe=M.forwardRef(RMe),Tv=he(()=>NMe,"useLink"),Bg={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},lj=q.createContext(Bg),AMe=he(({children:n,useHistory:e,useLocation:t,useParams:i,Prompt:r,Link:s,routes:o})=>q.createElement(lj.Provider,{value:{useHistory:e??Bg.useHistory,useLocation:t??Bg.useLocation,useParams:i??Bg.useParams,Prompt:r??Bg.Prompt,Link:s??Bg.Link,routes:o??Bg.routes}},n),"LegacyRouterContextProvider"),To=he(()=>{let n=M.useContext(lj),{useHistory:e,useLocation:t,useParams:i,Prompt:r,Link:s,routes:o}=n??Bg;return{useHistory:e,useLocation:t,useParams:i,Prompt:r,Link:s,routes:o}},"useRouterContext"),Wk=q.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),PMe=he(({can:n,children:e,options:t})=>q.createElement(Wk.Provider,{value:{can:n,options:t?{...t,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...t.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},e),"AccessControlContextProvider"),cj=he(n=>{if(!n)return;let{icon:e,list:t,edit:i,create:r,show:s,clone:o,children:a,meta:l,options:c,...u}=n,{icon:d,...h}=l??{},{icon:f,...p}=c??{};return{...u,...l?{meta:h}:{},...c?{options:p}:{}}},"sanitizeResource"),upe=he(({action:n,resource:e,params:t,queryOptions:i})=>{let{can:r,options:s}=M.useContext(Wk),{keys:o,preferLegacyKeys:a}=Tr(),{queryOptions:l}=s||{},c={...l,...i},{resource:u,...d}=t??{},h=cj(u),f=Ic({queryKey:o().access().resource(e).action(n).params({params:{...d,resource:h},enabled:c==null?void 0:c.enabled}).get(a),queryFn:()=>(r==null?void 0:r({action:n,resource:e,params:{...d,resource:h}}))??Promise.resolve({can:!0}),enabled:typeof r<"u",...c,meta:{...c==null?void 0:c.meta,...Hi()},retry:!1});return typeof r>"u"?{data:{can:!0}}:f},"useCan"),OMe=he(()=>{let{can:n}=q.useContext(Wk);return{can:q.useMemo(()=>n?he(async({params:e,...t})=>{let i=e!=null&&e.resource?cj(e.resource):void 0;return n({...t,...e?{params:{...e,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[n])}},"useCanWithoutCache"),FMe=he(n=>{let[e,t]=M.useState([]),[i,r]=M.useState([]),[s,o]=M.useState([]),{resource:a,sort:l,sorters:c,filters:u=[],optionLabel:d="title",optionValue:h="id",searchField:f=typeof d=="string"?d:"title",debounce:p=300,successNotification:m,errorNotification:v,defaultValueQueryOptions:C,queryOptions:y,fetchSize:w,pagination:_,hasPagination:x=!1,liveMode:k,defaultValue:D=[],selectedOptionsOrder:T="in-place",onLiveEvent:L,onSearch:I,liveParams:R,meta:N,metaData:O,dataProviderName:F,overtimeOptions:A}=n,H=M.useCallback(ve=>typeof d=="string"?FT(ve,d):d(ve),[d]),W=M.useCallback(ve=>typeof h=="string"?FT(ve,h):h(ve),[h]),{resource:$,identifier:U}=Si(a),z=Io()({resource:$,meta:Wt(N,O)}),K=Array.isArray(D)?D:[D],Z=M.useCallback(ve=>{o(ve.data.map(me=>({label:H(me),value:W(me)})))},[d,h]),Q=C??y,G=Bd({resource:U,ids:K,queryOptions:{...Q,enabled:K.length>0&&((Q==null?void 0:Q.enabled)??!0),onSuccess:ve=>{var me;Z(ve),(me=Q==null?void 0:Q.onSuccess)==null||me.call(Q,ve)}},overtimeOptions:{enabled:!1},meta:z,metaData:z,liveMode:"off",dataProviderName:F}),J=M.useCallback(ve=>{r(ve.data.map(me=>({label:H(me),value:W(me)})))},[d,h]),ne=Jge({resource:U,sorters:Wt(c,l),filters:u.concat(e),pagination:{current:_==null?void 0:_.current,pageSize:(_==null?void 0:_.pageSize)??w,mode:_==null?void 0:_.mode},hasPagination:x,queryOptions:{...y,onSuccess:ve=>{var me;J(ve),(me=y==null?void 0:y.onSuccess)==null||me.call(y,ve)}},overtimeOptions:{enabled:!1},successNotification:m,errorNotification:v,meta:z,metaData:z,liveMode:k,liveParams:R,onLiveEvent:L,dataProviderName:F}),{elapsedTime:ae}=dl({...A,isLoading:ne.isFetching||G.isFetching}),se=M.useMemo(()=>xIe(T==="in-place"?[...i,...s]:[...s,...i],"value"),[i,s]),X=M.useRef(I),oe=M.useMemo(()=>fge(ve=>{if(X.current){t(X.current(ve));return}if(!ve){t([]);return}t([{field:f,operator:"contains",value:ve}])},p),[f,p]);return M.useEffect(()=>{X.current=I},[I]),{queryResult:ne,defaultValueQueryResult:G,query:ne,defaultValueQuery:G,options:se,onSearch:oe,overtime:{elapsedTime:ae}}},"useSelect"),KJ=[],QJ=[];function dpe({initialCurrent:n,initialPageSize:e,hasPagination:t=!0,pagination:i,initialSorter:r,permanentSorter:s=QJ,defaultSetFilterBehavior:o,initialFilter:a,permanentFilter:l=KJ,filters:c,sorters:u,syncWithLocation:d,resource:h,successNotification:f,errorNotification:p,queryOptions:m,liveMode:v,onLiveEvent:C,liveParams:y,meta:w,metaData:_,dataProviderName:x,overtimeOptions:k}={}){var D,T,L,I,R;let{syncWithLocation:N}=qIe(),O=d??N,F=ape(v),A=lr(),{useLocation:H}=To(),{search:W,pathname:$}=H(),U=Io(),z=fl(),K=((c==null?void 0:c.mode)||"server")==="server",Z=((u==null?void 0:u.mode)||"server")==="server",Q=t===!1?"off":"server",G=((i==null?void 0:i.mode)??Q)!=="off",J=Wt(i==null?void 0:i.current,n),ne=Wt(i==null?void 0:i.pageSize,e),ae=Wt(w,_),{parsedCurrent:se,parsedPageSize:X,parsedSorter:oe,parsedFilters:ve}=Uge(W??"?"),me=Wt(c==null?void 0:c.initial,a),ye=Wt(c==null?void 0:c.permanent,l)??KJ,Le=Wt(u==null?void 0:u.initial,r),ie=Wt(u==null?void 0:u.permanent,s)??QJ,Ee=Wt(c==null?void 0:c.defaultBehavior,o)??"merge",Ue,re,fe,Ce;O?(Ue=((D=z==null?void 0:z.params)==null?void 0:D.current)||se||J||1,re=((T=z==null?void 0:z.params)==null?void 0:T.pageSize)||X||ne||10,fe=((L=z==null?void 0:z.params)==null?void 0:L.sorters)||(oe.length?oe:Le),Ce=((I=z==null?void 0:z.params)==null?void 0:I.filters)||(ve.length?ve:me)):(Ue=J||1,re=ne||10,fe=Le,Ce=me);let{replace:Me}=Ko(),Te=Go(),{resource:Ae,identifier:Ne}=Si(h),Ge=U({resource:Ae,meta:ae});q.useEffect(()=>{Fd(typeof Ne>"u","useTable: `resource` is not defined.")},[Ne]);let[gt,rt]=M.useState(GJ(ie,fe??[])),[it,Xe]=M.useState(qJ(ye,Ce??[])),[st,Ke]=M.useState(Ue),[kt,Gt]=M.useState(re),Dt=he(()=>{if(A==="new"){let{sorters:ot,filters:le,pageSize:ue,current:pe,...we}=(z==null?void 0:z.params)??{};return we}let{sorter:Qt,filters:He,pageSize:Bt,current:fn,...bn}=Dd.parse(W,{ignoreQueryPrefix:!0});return bn},"getCurrentQueryParams"),xe=he(({pagination:{current:Qt,pageSize:He},sorter:Bt,filters:fn})=>{if(A==="new")return Te({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...G?{current:Qt,pageSize:He}:{},sorters:Bt,filters:fn,...Dt()}})??"";let bn=Dd.parse(W==null?void 0:W.substring(1)),ot=jJ({pagination:{pageSize:He,current:Qt},sorters:gt??Bt,filters:fn,...bn});return`${$??""}?${ot??""}`},"createLinkForSyncWithLocation");M.useEffect(()=>{W===""&&(Ke(Ue),Gt(re),rt(GJ(ie,fe??[])),Xe(qJ(ye,Ce??[])))},[W]),M.useEffect(()=>{if(O){let Qt=Dt();if(A==="new")Te({type:"replace",options:{keepQuery:!0},query:{...G?{pageSize:kt,current:st}:{},sorters:np(gt,ie,Al),filters:np(it,ye,Al)}});else{let He=jJ({...G?{pagination:{pageSize:kt,current:st}}:{},sorters:np(gt,ie,Al),filters:np(it,ye,Al),...Qt});return Me==null?void 0:Me(`${$}?${He}`,void 0,{shallow:!0})}}},[O,st,kt,gt,it]);let Re=Jge({resource:Ne,hasPagination:t,pagination:{current:st,pageSize:kt,mode:i==null?void 0:i.mode},filters:K?nD(ye,it):void 0,sorters:Z?UJ(ie,gt):void 0,queryOptions:m,overtimeOptions:k,successNotification:f,errorNotification:p,meta:Ge,metaData:Ge,liveMode:F,liveParams:y,onLiveEvent:C,dataProviderName:x}),Et=M.useCallback(Qt=>{Xe(He=>nD(ye,Qt,He))},[ye]),Mt=M.useCallback(Qt=>{Xe(nD(ye,Qt))},[ye]),hn=M.useCallback(Qt=>{Xe(He=>nD(ye,Qt(He)))},[ye]),en=M.useCallback((Qt,He=Ee)=>{typeof Qt=="function"?hn(Qt):He==="replace"?Mt(Qt):Et(Qt)},[hn,Mt,Et]),fi=M.useCallback(Qt=>{rt(()=>UJ(ie,Qt))},[ie]);return{tableQueryResult:Re,tableQuery:Re,sorters:gt,setSorters:fi,sorter:gt,setSorter:fi,filters:it,setFilters:en,current:st,setCurrent:Ke,pageSize:kt,setPageSize:Gt,pageCount:kt?Math.ceil((((R=Re.data)==null?void 0:R.total)??0)/kt):1,createLinkForSyncWithLocation:xe,overtime:Re.overtime}}he(dpe,"useTable");var mN=q.createContext({}),BMe=he(({create:n,get:e,update:t,children:i})=>q.createElement(mN.Provider,{value:{create:n,get:e,update:t}},i),"AuditLogContextProvider"),C0=he(({logMutationOptions:n,renameMutationOptions:e}={})=>{let t=Qd(),i=M.useContext(mN),{keys:r,preferLegacyKeys:s}=Tr(),o=no(),{resources:a}=M.useContext(Bk),{data:l,refetch:c,isLoading:u}=fN({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy),queryOptions:{enabled:!!(i!=null&&i.create)}}),d=Es(async f=>{var p,m,v,C,y;let w=ia(f.resource,a),_=Wt((p=w==null?void 0:w.meta)==null?void 0:p.audit,(m=w==null?void 0:w.options)==null?void 0:m.audit,(C=(v=w==null?void 0:w.options)==null?void 0:v.auditLog)==null?void 0:C.permissions);if(_&&!IIe(_,f.action))return;let x;return u&&i!=null&&i.create&&(x=await c()),await((y=i.create)==null?void 0:y.call(i,{...f,author:l??(x==null?void 0:x.data)}))},{mutationKey:r().audit().action("log").get(),...n,meta:{...n==null?void 0:n.meta,...Hi()}}),h=Es(async f=>{var p;return await((p=i.update)==null?void 0:p.call(i,f))},{onSuccess:f=>{f!=null&&f.resource&&t.invalidateQueries(r().audit().resource((f==null?void 0:f.resource)??"").action("list").get(s))},mutationKey:r().audit().action("rename").get(),...e,meta:{...e==null?void 0:e.meta,...Hi()}});return{log:d,rename:h}},"useLog");he(({resource:n,action:e,meta:t,author:i,metaData:r,queryOptions:s})=>{let{get:o}=M.useContext(mN),{keys:a,preferLegacyKeys:l}=Tr();return Ic({queryKey:a().audit().resource(n).action("list").params(t).get(l),queryFn:()=>(o==null?void 0:o({resource:n,action:e,author:i,meta:t,metaData:r}))??Promise.resolve([]),enabled:typeof o<"u",...s,retry:!1,meta:{...s==null?void 0:s.meta,...Hi()}})},"useLogList");var HMe=he(({meta:n={}}={})=>{let e=lr(),{i18nProvider:t}=M.useContext(v0),i=fl(),r=Xn(),{resources:s,resource:o,action:a}=Si(),{options:{textTransformers:l}}=qs(),c=[];if(!(o!=null&&o.name))return{breadcrumbs:c};let u=he(d=>{var h,f,p,m,v,C;let y=typeof d=="string"?ia(d,s,e==="legacy")??{name:d}:d;if(y){let w=Wt((h=y==null?void 0:y.meta)==null?void 0:h.parent,y==null?void 0:y.parentName);w&&u(w);let _=kl(y,s,e==="legacy").find(D=>D.action==="list"),x=(f=_==null?void 0:_.resource)!=null&&f.list?_==null?void 0:_.route:void 0,k=x?e==="legacy"?x:lc(x,y==null?void 0:y.meta,i,n):void 0;c.push({label:Wt((p=y.meta)==null?void 0:p.label,(m=y.options)==null?void 0:m.label)??r(`${y.name}.${y.name}`,l.humanize(y.name)),href:k,icon:Wt((v=y.meta)==null?void 0:v.icon,(C=y.options)==null?void 0:C.icon,y.icon)})}},"addBreadcrumb");if(u(o),a&&a!=="list"){let d=`actions.${a}`,h=r(d);typeof t<"u"&&h===d?(Fd(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${a}" action. Please add "actions.${a}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:r(`buttons.${a}`,l.humanize(a))})):c.push({label:r(d,l.humanize(a))})}return{breadcrumbs:c}},"useBreadcrumb"),P2=he((n,e,t=!1)=>{let i=[],r=kp(n,e);for(;r;)i.push(r),r=kp(r,e);return i.reverse(),`/${[...i,n].map(s=>Df((t?s.route:void 0)??s.identifier??s.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),VMe=he((n,e=!1)=>{let t={item:{name:"__root__"},children:{}};n.forEach(r=>{let s=[],o=kp(r,n);for(;o;)s.push(o),o=kp(o,n);s.reverse();let a=t;s.forEach(c=>{let u=(e?c.route:void 0)??c.identifier??c.name;a.children[u]||(a.children[u]={item:c,children:{}}),a=a.children[u]});let l=(e?r.route:void 0)??r.identifier??r.name;a.children[l]||(a.children[l]={item:r,children:{}})});let i=he(r=>{let s=[];return Object.keys(r.children).forEach(o=>{let a=P2(r.children[o].item,n,e),l={...r.children[o].item,key:a,children:i(r.children[o])};s.push(l)}),s},"flatten");return i(t)},"createTree"),YJ=he(n=>n.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),zMe=he(({meta:n,hideOnMissingParameter:e=!0}={hideOnMissingParameter:!0})=>{let t=Xn(),i=zk(),r=lr(),{resource:s,resources:o}=Si(),{pathname:a}=fl(),{useLocation:l}=To(),{pathname:c}=l(),u=Xd(),d=`/${((r==="legacy"?YJ(c):a?YJ(a):void 0)??"").replace(/^\//,"")}`,h=s?P2(s,o,r==="legacy"):d??"",f=q.useMemo(()=>{if(!s)return[];let v=kp(s,o),C=[P2(s,o)];for(;v;)C.push(P2(v,o)),v=kp(v,o);return C},[]),p=q.useCallback(v=>{var C,y,w,_,x,k;if(Wt((C=v==null?void 0:v.meta)==null?void 0:C.hide,(y=v==null?void 0:v.options)==null?void 0:y.hide)||!(v!=null&&v.list)&&v.children.length===0)return;let D=v.list?i({resource:v,action:"list",legacy:r==="legacy",meta:n}):void 0;if(!(e&&D&&D.match(/(\/|^):(.+?)(\/|$){1}/)))return{...v,route:D,icon:Wt((w=v.meta)==null?void 0:w.icon,(_=v.options)==null?void 0:_.icon,v.icon),label:Wt((x=v==null?void 0:v.meta)==null?void 0:x.label,(k=v==null?void 0:v.options)==null?void 0:k.label)??t(`${v.name}.${v.name}`,u(v.name,"plural"))}},[r,n,i,t,e]),m=q.useMemo(()=>{let v=VMe(o,r==="legacy"),C=he(y=>y.flatMap(w=>{let _=C(w.children),x=p({...w,children:_});return x?[x]:[]}),"prepare");return C(v)},[o,r,p]);return{defaultOpenKeys:f,selectedKey:h,menuItems:m}},"useMenu"),i8=M.createContext({});he(({children:n,value:e})=>{let t=hpe(),i=M.useMemo(()=>({...t,...e}),[t,e]);return q.createElement(i8.Provider,{value:i},n)},"MetaContextProvider");var hpe=he(()=>{if(!M.useContext(i8))throw new Error("useMetaContext must be used within a MetaContextProvider");return M.useContext(i8)},"useMetaContext"),Io=he(()=>{let{params:n}=fl(),e=hpe();return he(({resource:t,meta:i}={})=>{let{meta:r}=cj(t)??{meta:{}},{filters:s,sorters:o,current:a,pageSize:l,...c}=n??{},u={...r,...c,...i};return e!=null&&e.tenantId&&(u.tenantId=e.tenantId),u},"getMetaFn")},"useMeta"),bN=he(()=>{let{options:n}=q.useContext(Vf);return n},"useRefineOptions"),WMe=he(n=>{let e=lr(),{useParams:t}=To(),i=fl(),r=t(),s=e==="legacy"?r.id:i.id;return n??s},"useId"),$Me=he(n=>{let e=lr(),{useParams:t}=To(),i=fl(),r=t(),s=e==="legacy"?r.action:i.action;return n??s},"useAction");function Wp(n){let{select:e,identifier:t}=Si(),i=(n==null?void 0:n.resource)??t,{identifier:r=void 0,resource:s=void 0}=i?e(i,!0):{},o=t===r,a=WMe(),l=$Me(n==null?void 0:n.action),c=q.useMemo(()=>o?(n==null?void 0:n.id)??a:n==null?void 0:n.id,[o,n==null?void 0:n.id,a]),[u,d]=q.useState(c);q.useMemo(()=>d(c),[c]);let h=q.useMemo(()=>!o&&!(n!=null&&n.action)?"create":l==="edit"||l==="clone"?l:"create",[l,o,n==null?void 0:n.action]);return{id:u,setId:d,resource:s,action:l,identifier:r,formAction:h}}he(Wp,"useResourceParams");function vN({type:n}){let e=Xn(),{textTransformers:{humanize:t}}=bN(),i=`buttons.${n}`,r=t(n);return{label:e(i,r)}}he(vN,"useActionableButton");var fpe=he(n=>{var e,t,i;let r=Xn(),s=q.useContext(Wk),o=((e=n.accessControl)==null?void 0:e.enabled)??s.options.buttons.enableAccessControl,a=((t=n.accessControl)==null?void 0:t.hideIfUnauthorized)??s.options.buttons.hideIfUnauthorized,{data:l}=upe({resource:(i=n.resource)==null?void 0:i.name,action:n.action==="clone"?"create":n.action,params:{id:n.id,resource:n.resource},queryOptions:{enabled:o}}),c=q.useMemo(()=>l!=null&&l.can?"":l!=null&&l.reason?l.reason:r("buttons.notAccessTitle","You don't have permission to access"),[l==null?void 0:l.can,l==null?void 0:l.reason,r]),u=o&&a&&!(l!=null&&l.can),d=(l==null?void 0:l.can)===!1;return{title:c,hidden:u,disabled:d,canAccess:l}},"useButtonCanAccess");function _0(n){var e;let t=Ko(),i=lr(),r=Tv(),{Link:s}=To(),o=Xn(),a=Xd(),{textTransformers:{humanize:l}}=bN(),{id:c,resource:u,identifier:d}=Wp({resource:n.resource,id:n.action==="create"?void 0:n.id}),{canAccess:h,title:f,hidden:p,disabled:m}=fpe({action:n.action,accessControl:n.accessControl,id:c,resource:u}),v=i==="legacy"?s:r,C=q.useMemo(()=>{if(!u)return"";switch(n.action){case"create":case"list":return t[`${n.action}Url`](u,n.meta);default:return c?t[`${n.action}Url`](u,c,n.meta):""}},[u,c,n.meta,t[`${n.action}Url`]]),y=n.action==="list"?o(`${d??n.resource}.titles.list`,a(((e=u==null?void 0:u.meta)==null?void 0:e.label)??(u==null?void 0:u.label)??d??n.resource,"plural")):o(`buttons.${n.action}`,l(n.action));return{to:C,label:y,title:f,disabled:m,hidden:p,canAccess:h,LinkComponent:v}}he(_0,"useNavigationButton");function gpe(n){let e=Xn(),{mutate:t,isLoading:i,variables:r}=npe(),{setWarnWhen:s}=Lv(),{mutationMode:o}=kv(n.mutationMode),{id:a,resource:l,identifier:c}=Wp({resource:n.resource,id:n.id}),{title:u,disabled:d,hidden:h,canAccess:f}=fpe({action:"delete",accessControl:n.accessControl,id:a,resource:l}),p=e("buttons.delete","Delete"),m=e("buttons.delete","Delete"),v=e("buttons.confirm","Are you sure?"),C=e("buttons.cancel","Cancel"),y=a===(r==null?void 0:r.id)&&i;return{label:p,title:u,hidden:h,disabled:d,canAccess:f,loading:y,confirmOkLabel:m,cancelLabel:C,confirmTitle:v,onConfirm:he(()=>{a&&c&&(s(!1),t({id:a,resource:c,mutationMode:o,successNotification:n.successNotification,errorNotification:n.errorNotification,meta:n.meta,metaData:n.meta,dataProviderName:n.dataProviderName,invalidates:n.invalidates},{onSuccess:n.onSuccess}))},"onConfirm")}}he(gpe,"useDeleteButton");function ppe(n){let e=Xn(),{keys:t,preferLegacyKeys:i}=Tr(),r=Qd(),s=Zd(),{identifier:o,id:a}=Wp({resource:n.resource,id:n.id}),{resources:l}=Si(),c=!!r.isFetching({queryKey:t().data(Oi(o,n.dataProviderName,l)).resource(o).action("one").get(i)}),u=he(()=>{s({id:a,invalidates:["detail"],dataProviderName:n.dataProviderName,resource:o})},"onClick"),d=e("buttons.refresh","Refresh");return{onClick:u,label:d,loading:c}}he(ppe,"useRefreshButton");var jMe=he(n=>_0({...n,action:"show"}),"useShowButton"),UMe=he(n=>_0({...n,action:"edit"}),"useEditButton");he(n=>_0({...n,action:"clone"}),"useCloneButton");var qMe=he(n=>_0({...n,action:"create"}),"useCreateButton"),GMe=he(n=>_0({...n,action:"list"}),"useListButton"),KMe=he(()=>vN({type:"save"}),"useSaveButton");he(()=>vN({type:"export"}),"useExportButton");he(()=>vN({type:"import"}),"useImportButton");he(()=>{let[n,e]=M.useState(),t=Xn(),{push:i}=Ko(),r=Go(),s=lr(),{resource:o,action:a}=Si();return M.useEffect(()=>{o&&a&&e(t("pages.error.info",{action:a,resource:o.name},`You may have forgotten to add the "${a}" component to "${o.name}" resource.`))},[o,a]),q.createElement(q.Fragment,null,q.createElement("h1",null,t("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),n&&q.createElement("p",null,n),q.createElement("button",{onClick:()=>{s==="legacy"?i("/"):r({to:"/"})}},t("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var QMe=he(()=>{let[n,e]=M.useState(""),[t,i]=M.useState(""),r=Xn(),s=no(),{mutate:o}=sj({v3LegacyAuthProviderCompatible:!!(s!=null&&s.isLegacy)});return q.createElement(q.Fragment,null,q.createElement("h1",null,r("pages.login.title","Sign in your account")),q.createElement("form",{onSubmit:a=>{a.preventDefault(),o({username:n,password:t})}},q.createElement("table",null,q.createElement("tbody",null,q.createElement("tr",null,q.createElement("td",null,r("pages.login.username",void 0,"username"),":"),q.createElement("td",null,q.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:n,onChange:a=>e(a.target.value)}))),q.createElement("tr",null,q.createElement("td",null,r("pages.login.password",void 0,"password"),":"),q.createElement("td",null,q.createElement("input",{type:"password",required:!0,size:20,value:t,onChange:a=>i(a.target.value)}))))),q.createElement("br",null),q.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),YMe=he(({providers:n,registerLink:e,forgotPasswordLink:t,rememberMe:i,contentProps:r,wrapperProps:s,renderContent:o,formProps:a,title:l=void 0,hideForm:c,mutationVariables:u})=>{let d=lr(),h=Tv(),{Link:f}=To(),p=d==="legacy"?f:h,[m,v]=M.useState(""),[C,y]=M.useState(""),[w,_]=M.useState(!1),x=Xn(),k=no(),{mutate:D}=sj({v3LegacyAuthProviderCompatible:!!(k!=null&&k.isLegacy)}),T=he((R,N)=>q.createElement(p,{to:R},N),"renderLink"),L=he(()=>n?n.map(R=>q.createElement("div",{key:R.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},q.createElement("button",{onClick:()=>D({...u,providerName:R.name}),style:{display:"flex",alignItems:"center"}},R==null?void 0:R.icon,R.label??q.createElement("label",null,R.label)))):null,"renderProviders"),I=q.createElement("div",{...r},q.createElement("h1",{style:{textAlign:"center"}},x("pages.login.title","Sign in to your account")),L(),!c&&q.createElement(q.Fragment,null,q.createElement("hr",null),q.createElement("form",{onSubmit:R=>{R.preventDefault(),D({...u,email:m,password:C,remember:w})},...a},q.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},q.createElement("label",{htmlFor:"email-input"},x("pages.login.fields.email","Email")),q.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:R=>v(R.target.value)}),q.createElement("label",{htmlFor:"password-input"},x("pages.login.fields.password","Password")),q.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:C,onChange:R=>y(R.target.value)}),i??q.createElement(q.Fragment,null,q.createElement("label",{htmlFor:"remember-me-input"},x("pages.login.buttons.rememberMe","Remember me"),q.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:w,value:w.toString(),onChange:()=>{_(!w)}}))),q.createElement("br",null),t??T("/forgot-password",x("pages.login.buttons.forgotPassword","Forgot password?")),q.createElement("input",{type:"submit",value:x("pages.login.signin","Sign in")}),e??q.createElement("span",null,x("pages.login.buttons.noAccount","Dont have an account?")," ",T("/register",x("pages.login.register","Sign up")))))),e!==!1&&c&&q.createElement("div",{style:{textAlign:"center"}},x("pages.login.buttons.noAccount","Dont have an account?")," ",T("/register",x("pages.login.register","Sign up"))));return q.createElement("div",{...s},o?o(I,l):I)},"LoginPage"),XMe=he(({providers:n,loginLink:e,wrapperProps:t,contentProps:i,renderContent:r,formProps:s,title:o=void 0,hideForm:a,mutationVariables:l})=>{let c=lr(),u=Tv(),{Link:d}=To(),h=c==="legacy"?d:u,[f,p]=M.useState(""),[m,v]=M.useState(""),C=Xn(),y=no(),{mutate:w,isLoading:_}=Kge({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),x=he((T,L)=>q.createElement(h,{to:T},L),"renderLink"),k=he(()=>n?n.map(T=>q.createElement("div",{key:T.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},q.createElement("button",{onClick:()=>w({...l,providerName:T.name}),style:{display:"flex",alignItems:"center"}},T==null?void 0:T.icon,T.label??q.createElement("label",null,T.label)))):null,"renderProviders"),D=q.createElement("div",{...i},q.createElement("h1",{style:{textAlign:"center"}},C("pages.register.title","Sign up for your account")),k(),!a&&q.createElement(q.Fragment,null,q.createElement("hr",null),q.createElement("form",{onSubmit:T=>{T.preventDefault(),w({...l,email:f,password:m})},...s},q.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},q.createElement("label",{htmlFor:"email-input"},C("pages.register.fields.email","Email")),q.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:T=>p(T.target.value)}),q.createElement("label",{htmlFor:"password-input"},C("pages.register.fields.password","Password")),q.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:m,onChange:T=>v(T.target.value)}),q.createElement("input",{type:"submit",value:C("pages.register.buttons.submit","Sign up"),disabled:_}),e??q.createElement(q.Fragment,null,q.createElement("span",null,C("pages.login.buttons.haveAccount","Have an account?")," ",x("/login",C("pages.login.signin","Sign in"))))))),e!==!1&&a&&q.createElement("div",{style:{textAlign:"center"}},C("pages.login.buttons.haveAccount","Have an account?")," ",x("/login",C("pages.login.signin","Sign in"))));return q.createElement("div",{...t},r?r(D,o):D)},"RegisterPage"),ZMe=he(({loginLink:n,wrapperProps:e,contentProps:t,renderContent:i,formProps:r,title:s=void 0,mutationVariables:o})=>{let a=Xn(),l=lr(),c=Tv(),{Link:u}=To(),d=l==="legacy"?u:c,[h,f]=M.useState(""),{mutate:p,isLoading:m}=Qge(),v=he((y,w)=>q.createElement(d,{to:y},w),"renderLink"),C=q.createElement("div",{...t},q.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),q.createElement("hr",null),q.createElement("form",{onSubmit:y=>{y.preventDefault(),p({...o,email:h})},...r},q.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},q.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),q.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:h,onChange:y=>f(y.target.value)}),q.createElement("input",{type:"submit",disabled:m,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),q.createElement("br",null),n??q.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",v("/login",a("pages.login.signin","Sign in"))))));return q.createElement("div",{...e},i?i(C,s):C)},"ForgotPasswordPage"),JMe=he(({wrapperProps:n,contentProps:e,renderContent:t,formProps:i,title:r=void 0,mutationVariables:s})=>{let o=Xn(),a=no(),{mutate:l,isLoading:c}=Yge({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[u,d]=M.useState(""),[h,f]=M.useState(""),p=q.createElement("div",{...e},q.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),q.createElement("hr",null),q.createElement("form",{onSubmit:m=>{m.preventDefault(),l({...s,password:u,confirmPassword:h})},...i},q.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},q.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),q.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:u,onChange:m=>d(m.target.value)}),q.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),q.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:h,onChange:m=>f(m.target.value)}),q.createElement("input",{type:"submit",disabled:c,value:o("pages.updatePassword.buttons.submit","Update")}))));return q.createElement("div",{...n},t?t(p,r):p)},"UpdatePasswordPage");he(n=>{let{type:e}=n;return q.createElement(q.Fragment,null,he(()=>{switch(e){case"register":return q.createElement(XMe,{...n});case"forgotPassword":return q.createElement(ZMe,{...n});case"updatePassword":return q.createElement(JMe,{...n});default:return q.createElement(YMe,{...n})}},"renderView")())},"AuthPage");var eRe=he(()=>q.createElement(q.Fragment,null,q.createElement("h1",null,"Welcome on board"),q.createElement("p",null,"Your configuration is completed."),q.createElement("p",null,"Now you can get started by adding your resources to the"," ",q.createElement("code",null,"`resources`")," property of ",q.createElement("code",null,"`<Refine>`")),q.createElement("div",{style:{display:"flex",gap:8}},q.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},q.createElement("button",null,"Documentation")),q.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},q.createElement("button",null,"Examples")),q.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},q.createElement("button",null,"Community")))),"ReadyPage"),tRe=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],nRe=he(()=>{let n=zJ("(max-width: 1010px)"),e=zJ("(max-width: 650px)"),t=he(()=>e?"1, 280px":n?"2, 280px":"4, 1fr","getGridTemplateColumns"),i=he(()=>e?"32px":n?"40px":"48px","getHeaderFontSize"),r=he(()=>e?"16px":n?"20px":"24px","getSubHeaderFontSize");return q.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},q.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":n?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},q.createElement("div",{style:{zIndex:2,position:"absolute",width:e?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),q.createElement("div",{style:{height:e?"40px":"80px"}}),q.createElement("div",{style:{display:"flex",justifyContent:"center"}},q.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:e?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:e?112:224,height:e?58:116}})),q.createElement("div",{style:{height:e?"120px":n?"200px":"30vh",minHeight:e?"120px":"200px"}}),q.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},q.createElement("h1",{style:{fontSize:i(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),q.createElement("h4",{style:{fontSize:r(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),q.createElement("div",{style:{height:"64px"}}),q.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${t()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},tRe.map(s=>q.createElement(iRe,{key:`welcome-page-${s.title}`,card:s})))))},"ConfigSuccessPage"),iRe=he(({card:n})=>{let{title:e,description:t,iconUrl:i,link:r}=n,[s,o]=M.useState(!1);return q.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},q.createElement("div",{style:{display:"flex",alignItems:"center"}},q.createElement("a",{onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:r},q.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${i})`}}),q.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},e),q.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...s&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},q.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),q.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},t))},"Card"),rRe=he(()=>q.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},q.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},q.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},q.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},q.createElement(oRe,{style:{position:"absolute",left:0,top:0}}),q.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},q.createElement(aRe,null),q.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),q.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},q.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},q.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),q.createElement("div",null,q.createElement(sRe,null)))))),"ConfigErrorPage"),sRe=he(()=>q.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},q.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",q.createElement("span",{style:{color:"#FF7B72"}},"from")," ",q.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,q.createElement("span",{style:{color:"#FF7B72"}},"export")," ",q.createElement("span",{style:{color:"#FF7B72"}},"default")," ",q.createElement("span",null,q.createElement("span",{style:{color:"#FF7B72"}},"function")," ",q.createElement("span",{style:{color:"#FFA657"}},"App"),"(",q.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",q.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",q.createElement("span",null,q.createElement("span",{style:{color:"#79C0FF"}},"<",q.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",q.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",q.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",q.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",q.createElement("span",{style:{color:"#79C0FF"}},"<",q.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",q.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",q.createElement("span",{style:{color:"#79C0FF"}},"</",q.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),oRe=he(n=>q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...n},q.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),q.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),q.createElement("defs",null,q.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),q.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),q.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),aRe=he(n=>q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...n},q.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),q.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon");he(()=>{let{__initialized:n}=qs();return q.createElement(q.Fragment,null,q.createElement(nRe,null),!n&&q.createElement(rRe,null))},"WelcomePage");var lRe="4.57.5",cRe=he(()=>{var n;let e=Zge(),t=M.useContext(mN),{liveProvider:i}=M.useContext(Fk),r=M.useContext(lj),s=M.useContext(oj),{i18nProvider:o}=M.useContext(v0),a=M.useContext(aj),l=M.useContext(Wk),{resources:c}=Si(),u=qs(),d=!!t.create||!!t.get||!!t.update,h=!!(i!=null&&i.publish)||!!(i!=null&&i.subscribe)||!!(i!=null&&i.unsubscribe),f=!!r.useHistory||!!r.Link||!!r.Prompt||!!r.useLocation||!!r.useParams,p=!!s,m=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),v=!!a.close||!!a.open,C=!!l.can,y=(n=u==null?void 0:u.options)==null?void 0:n.projectId;return{providers:{auth:e,auditLog:d,live:h,router:f,data:p,i18n:m,notification:v,accessControl:C},version:lRe,resourceCount:c.length,projectId:y}},"useTelemetryData"),uRe=he(n=>{try{let e=JSON.stringify(n||{});return typeof btoa<"u"?btoa(e):Buffer.from(e).toString("base64")}catch{return}},"encode"),dRe=he(n=>{let e=new Image;e.src=n},"throughImage"),hRe=he(n=>{fetch(n)},"throughFetch"),fRe=he(n=>{typeof Image<"u"?dRe(n):typeof fetch<"u"&&hRe(n)},"transport"),gRe=he(()=>{let n=cRe(),e=q.useRef(!1);return q.useEffect(()=>{if(e.current)return;let t=uRe(n);t&&(fRe(`https://telemetry.refine.dev/telemetry?payload=${t}`),e.current=!0)},[]),null},"Telemetry"),pRe=he(n=>{let e=["go","parse","back","Link"],t=Object.keys(n).filter(i=>!e.includes(i));return t.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${t.join(", ")}\`. Supported properties are \`${e.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),mRe=he(n=>{let e=q.useRef(!1);q.useEffect(()=>{e.current===!1&&n&&pRe(n)&&(e.current=!0)},[n])},"useRouterMisuseWarning"),bRe=he(({legacyAuthProvider:n,authProvider:e,dataProvider:t,legacyRouterProvider:i,routerProvider:r,notificationProvider:s,accessControlProvider:o,auditLogProvider:a,resources:l,DashboardPage:c,ReadyPage:u,LoginPage:d,catchAll:h,children:f,liveProvider:p,i18nProvider:m,Title:v,Layout:C,Sider:y,Header:w,Footer:_,OffLayoutArea:x,onLiveEvent:k,options:D})=>{let{optionsWithDefaults:T,disableTelemetryWithDefault:L,reactQueryWithDefaults:I}=BIe({options:D}),R=rpe(()=>{var F;return I.clientConfig instanceof mZ?I.clientConfig:new mZ({...I.clientConfig,defaultOptions:{...I.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(F=I.clientConfig.defaultOptions)==null?void 0:F.queries}}})},[I.clientConfig]),N=q.useMemo(()=>typeof s=="function"?s:()=>s,[s])();if(mRe(r),i&&!r&&(l??[]).length===0)return u?q.createElement(u,null):q.createElement(eRe,null);let{RouterComponent:O=q.Fragment}=r?{}:i??{};return q.createElement(VLe,{client:R},q.createElement(vMe,{...N},q.createElement(LIe,{...n??{},isProvided:!!n},q.createElement(EIe,{...e??{},isProvided:!!e},q.createElement(aMe,{dataProvider:t},q.createElement(lMe,{liveProvider:p},q.createElement(dMe,{value:i&&!r?"legacy":"new"},q.createElement(hMe,{router:r},q.createElement(AMe,{...i},q.createElement(uMe,{resources:l??[]},q.createElement(yMe,{i18nProvider:m},q.createElement(PMe,{...o??{}},q.createElement(BMe,{...a??{}},q.createElement(bMe,null,q.createElement(FIe,{mutationMode:T.mutationMode,warnWhenUnsavedChanges:T.warnWhenUnsavedChanges,syncWithLocation:T.syncWithLocation,Title:v,undoableTimeout:T.undoableTimeout,catchAll:h,DashboardPage:c,LoginPage:d,Layout:C,Sider:y,Footer:_,Header:w,OffLayoutArea:x,hasDashboard:!!c,liveMode:T.liveMode,onLiveEvent:k,options:T},q.createElement(UIe,null,q.createElement(O,null,f,!L&&q.createElement(gRe,null),q.createElement(SRe,null))))))))))))))))))},"Refine"),vRe=he(({notification:n})=>{let e=Xn(),{notificationDispatch:t}=Vk(),{open:i}=Dv(),[r,s]=M.useState(),o=he(()=>{if(n.isRunning===!0&&(n.seconds===0&&n.doMutation(),n.isSilent||i==null||i({key:`${n.id}-${n.resource}-notification`,type:"progress",message:e("notifications.undoable",{seconds:R5(n.seconds)},`You have ${R5(n.seconds)} seconds to undo`),cancelMutation:n.cancelMutation,undoableTimeout:R5(n.seconds)}),n.seconds>0)){r&&clearTimeout(r);let a=setTimeout(()=>{t({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:n.id,seconds:n.seconds,resource:n.resource}})},1e3);s(a)}},"cancelNotification");return M.useEffect(()=>{o()},[n]),null},"UndoableQueue");he(({children:n,Layout:e,Sider:t,Header:i,Title:r,Footer:s,OffLayoutArea:o})=>{let{Layout:a,Footer:l,Header:c,Sider:u,Title:d,OffLayoutArea:h}=qs();return q.createElement(e??a,{Sider:t??u,Header:i??c,Footer:s??l,Title:r??d,OffLayoutArea:o??h},n,q.createElement(yRe,null))},"LayoutWrapper");var yRe=he(()=>{let{Prompt:n}=To(),e=Xn(),{warnWhen:t,setWarnWhen:i}=Lv(),r=he(s=>(s.preventDefault(),s.returnValue=e("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),s.returnValue),"warnWhenListener");return M.useEffect(()=>(t&&window.addEventListener("beforeunload",r),window.removeEventListener("beforeunload",r)),[t]),q.createElement(n,{when:t,message:e("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:i})},"UnsavedPrompt");function CRe({redirectOnFail:n=!0,appendCurrentPathToQuery:e=!0,children:t,fallback:i,loading:r,params:s}){var o;let a=no(),l=lr(),c=!!(a!=null&&a.isProvided),u=!!(a!=null&&a.isLegacy),d=l==="legacy",h=fl(),f=Go(),{useLocation:p}=To(),m=p(),{isFetching:v,isSuccess:C,data:{authenticated:y,redirectTo:w}={}}=Xge({v3LegacyAuthProviderCompatible:u,params:s}),_=c?u?C:y:!0;if(!c)return q.createElement(q.Fragment,null,t??null);if(v)return q.createElement(q.Fragment,null,r??null);if(_)return q.createElement(q.Fragment,null,t??null);if(typeof i<"u")return q.createElement(q.Fragment,null,i??null);let x=u?typeof n=="string"?n:"/login":typeof n=="string"?n:w,k=`${d?m==null?void 0:m.pathname:h.pathname}`.replace(/(\?.*|#.*)$/,"");if(x){if(d){let T=e?`?to=${encodeURIComponent(k)}`:"";return q.createElement(wRe,{to:`${x}${T}`})}let D=(o=h.params)!=null&&o.to?h.params.to:f({to:k,options:{keepQuery:!0},type:"path"});return q.createElement(_Re,{config:{to:x,query:e&&(D??"").length>1?{to:D}:void 0,type:"replace"}})}return null}he(CRe,"Authenticated");var _Re=he(({config:n})=>{let e=Go();return q.useEffect(()=>{e(n)},[e,n]),null},"Redirect"),wRe=he(({to:n})=>{let{replace:e}=Ko();return q.useEffect(()=>{e(n)},[e,n]),null},"RedirectLegacy"),SRe=he(()=>{let{useLocation:n}=To(),{checkAuth:e}=Vc(),t=n();return M.useEffect(()=>{e==null||e().catch(()=>!1)},[t==null?void 0:t.pathname]),null},"RouteChangeHandler"),$5=he(({resource:n,action:e,params:t,fallback:i,onUnauthorized:r,children:s,queryOptions:o,...a})=>{let{id:l,resource:c,action:u=""}=Wp({resource:n,id:t==null?void 0:t.id}),d=e??u,h=t??{id:l,resource:c},{data:f}=upe({resource:c==null?void 0:c.name,action:d,params:h,queryOptions:o});return M.useEffect(()=>{r&&(f==null?void 0:f.can)===!1&&r({resource:c==null?void 0:c.name,action:d,reason:f==null?void 0:f.reason,params:h})},[f==null?void 0:f.can]),f!=null&&f.can?q.isValidElement(s)?q.cloneElement(s,a):q.createElement(q.Fragment,null,s):(f==null?void 0:f.can)===!1?q.createElement(q.Fragment,null,i??null):null},"CanAccess"),xRe=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],kRe="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub";he(({containerStyle:n})=>(M.useEffect(()=>{let e=document.createElement("style");document.head.appendChild(e),xRe.forEach(t=>{var i;return(i=e.sheet)==null?void 0:i.insertRule(t,e.sheet.cssRules.length)})},[]),q.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},q.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26",...n}},q.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},q.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},q.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},q.createElement(sD,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),q.createElement(sD,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),q.createElement(XJ,{style:{position:"absolute",right:"10px"},id:"3"})),q.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},q.createElement(sD,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),q.createElement(sD,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),q.createElement(XJ,{style:{position:"absolute",right:"-70px"},id:"6"})))),q.createElement(LRe,{text:kRe})))),"GitHubBanner");var LRe=he(({text:n})=>q.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},q.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},q.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},""),q.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},n),q.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},""))),"Text"),sD=he(({style:n,...e})=>q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...n}},q.createElement("circle",{cx:40,r:40,fill:`url(#${e.id}-a)`,fillOpacity:.5}),q.createElement("defs",null,q.createElement("radialGradient",{id:`${e.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#47EBEB"}),q.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),XJ=he(({style:n,...e})=>q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...e,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...n}},q.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${e.id}-a)`,fillOpacity:.5}),q.createElement("defs",null,q.createElement("radialGradient",{id:`${e.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#47EBEB"}),q.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),ERe=he(({status:n,elements:{success:e=q.createElement(oD,{translationKey:"autoSave.success",defaultMessage:"saved"}),error:t=q.createElement(oD,{translationKey:"autoSave.error",defaultMessage:"auto save failure"}),loading:i=q.createElement(oD,{translationKey:"autoSave.loading",defaultMessage:"saving..."}),idle:r=q.createElement(oD,{translationKey:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(n){case"success":return q.createElement(q.Fragment,null,e);case"error":return q.createElement(q.Fragment,null,t);case"loading":return q.createElement(q.Fragment,null,i);default:return q.createElement(q.Fragment,null,r)}},"AutoSaveIndicator"),oD=he(({translationKey:n,defaultMessage:e})=>{let t=Xn();return q.createElement("span",null,t(n,e))},"Message"),DRe=()=>null,TRe=({children:n})=>n,aw={},Ui={},ZJ;function Iv(){if(ZJ)return Ui;ZJ=1;var n=Ui.__assign||function(){return n=Object.assign||function(y){for(var w,_=1,x=arguments.length;_<x;_++){w=arguments[_];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(y[k]=w[k])}return y},n.apply(this,arguments)},e=Ui.__createBinding||(Object.create?function(y,w,_,x){x===void 0&&(x=_),Object.defineProperty(y,x,{enumerable:!0,get:function(){return w[_]}})}:function(y,w,_,x){x===void 0&&(x=_),y[x]=w[_]}),t=Ui.__setModuleDefault||(Object.create?function(y,w){Object.defineProperty(y,"default",{enumerable:!0,value:w})}:function(y,w){y.default=w}),i=Ui.__importStar||function(y){if(y&&y.__esModule)return y;var w={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&e(w,y,_);return t(w,y),w},r=Ui.__spreadArray||function(y,w,_){if(_||arguments.length===2)for(var x=0,k=w.length,D;x<k;x++)(D||!(x in w))&&(D||(D=Array.prototype.slice.call(w,0,x)),D[x]=w[x]);return y.concat(D||Array.prototype.slice.call(w))};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Priority=Ui.isModKey=Ui.shouldRejectKeystrokes=Ui.useThrottledValue=Ui.getScrollbarWidth=Ui.useIsomorphicLayout=Ui.noop=Ui.createAction=Ui.randomId=Ui.usePointerMovedSinceMount=Ui.useOuterClick=Ui.swallowEvent=void 0;var s=i(Wr());function o(y){y.stopPropagation(),y.preventDefault()}Ui.swallowEvent=o;function a(y,w){var _=s.useRef(w);_.current=w,s.useEffect(function(){function x(k){var D,T;!((D=y.current)===null||D===void 0)&&D.contains(k.target)||k.target===((T=y.current)===null||T===void 0?void 0:T.getRootNode().host)||(k.preventDefault(),k.stopPropagation(),_.current())}return window.addEventListener("pointerdown",x,!0),function(){return window.removeEventListener("pointerdown",x,!0)}},[y])}Ui.useOuterClick=a;function l(){var y=s.useState(!1),w=y[0],_=y[1];return s.useEffect(function(){function x(){_(!0)}if(!w)return window.addEventListener("pointermove",x),function(){return window.removeEventListener("pointermove",x)}},[w]),w}Ui.usePointerMovedSinceMount=l;function c(){return Math.random().toString(36).substring(2,9)}Ui.randomId=c;function u(y){return n({id:c()},y)}Ui.createAction=u;function d(){}Ui.noop=d,Ui.useIsomorphicLayout=typeof window>"u"?d:s.useLayoutEffect;function h(){var y=document.createElement("div");y.style.visibility="hidden",y.style.overflow="scroll",document.body.appendChild(y);var w=document.createElement("div");y.appendChild(w);var _=y.offsetWidth-w.offsetWidth;return y.parentNode.removeChild(y),_}Ui.getScrollbarWidth=h;function f(y,w){w===void 0&&(w=100);var _=s.useState(y),x=_[0],k=_[1],D=s.useRef(Date.now());return s.useEffect(function(){if(w!==0){var T=setTimeout(function(){k(y),D.current=Date.now()},D.current-(Date.now()-w));return function(){clearTimeout(T)}}},[w,y]),w===0?y:x}Ui.useThrottledValue=f;function p(y){var w,_,x,k=y===void 0?{ignoreWhenFocused:[]}:y,D=k.ignoreWhenFocused,T=r(["input","textarea"],D,!0).map(function(R){return R.toLowerCase()}),L=document.activeElement,I=L&&(T.indexOf(L.tagName.toLowerCase())!==-1||((w=L.attributes.getNamedItem("role"))===null||w===void 0?void 0:w.value)==="textbox"||((_=L.attributes.getNamedItem("contenteditable"))===null||_===void 0?void 0:_.value)==="true"||((x=L.attributes.getNamedItem("contenteditable"))===null||x===void 0?void 0:x.value)==="plaintext-only");return I}Ui.shouldRejectKeystrokes=p;var m=typeof window>"u",v=!m&&window.navigator.platform==="MacIntel";function C(y){return v?y.metaKey:y.ctrlKey}return Ui.isModKey=C,Ui.Priority={HIGH:1,NORMAL:0,LOW:-1},Ui}var wm={},wh={},A1={},Ku={},Jw={exports:{}},IRe=Jw.exports,JJ;function MRe(){return JJ||(JJ=1,function(n,e){(function(t,i){i(e)})(IRe,function(t){var i=typeof WeakSet=="function",r=Object.keys;function s(I,R){return I===R||I!==I&&R!==R}function o(I){return I.constructor===Object||I.constructor==null}function a(I){return!!I&&typeof I.then=="function"}function l(I){return!!(I&&I.$$typeof)}function c(){var I=[];return{add:function(R){I.push(R)},has:function(R){return I.indexOf(R)!==-1}}}var u=function(I){return I?function(){return new WeakSet}:c}(i);function d(I){return function(N){var O=I||N;return function(A,H,W){W===void 0&&(W=u());var $=!!A&&typeof A=="object",U=!!H&&typeof H=="object";if($||U){var z=$&&W.has(A),K=U&&W.has(H);if(z||K)return z&&K;$&&W.add(A),U&&W.add(H)}return O(A,H,W)}}}function h(I,R,N,O){var F=I.length;if(R.length!==F)return!1;for(;F-- >0;)if(!N(I[F],R[F],O))return!1;return!0}function f(I,R,N,O){var F=I.size===R.size;if(F&&I.size){var A={};I.forEach(function(H,W){if(F){var $=!1,U=0;R.forEach(function(z,K){!$&&!A[U]&&($=N(W,K,O)&&N(H,z,O),$&&(A[U]=!0)),U++}),F=$}})}return F}var p="_owner",m=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function v(I,R,N,O){var F=r(I),A=F.length;if(r(R).length!==A)return!1;if(A)for(var H=void 0;A-- >0;){if(H=F[A],H===p){var W=l(I),$=l(R);if((W||$)&&W!==$)return!1}if(!m(R,H)||!N(I[H],R[H],O))return!1}return!0}function C(I,R){return I.source===R.source&&I.global===R.global&&I.ignoreCase===R.ignoreCase&&I.multiline===R.multiline&&I.unicode===R.unicode&&I.sticky===R.sticky&&I.lastIndex===R.lastIndex}function y(I,R,N,O){var F=I.size===R.size;if(F&&I.size){var A={};I.forEach(function(H){if(F){var W=!1,$=0;R.forEach(function(U){!W&&!A[$]&&(W=N(H,U,O),W&&(A[$]=!0)),$++}),F=W}})}return F}var w=typeof Map=="function",_=typeof Set=="function";function x(I){var R=typeof I=="function"?I(N):N;function N(O,F,A){if(O===F)return!0;if(O&&F&&typeof O=="object"&&typeof F=="object"){if(o(O)&&o(F))return v(O,F,R,A);var H=Array.isArray(O),W=Array.isArray(F);return H||W?H===W&&h(O,F,R,A):(H=O instanceof Date,W=F instanceof Date,H||W?H===W&&s(O.getTime(),F.getTime()):(H=O instanceof RegExp,W=F instanceof RegExp,H||W?H===W&&C(O,F):a(O)||a(F)?O===F:w&&(H=O instanceof Map,W=F instanceof Map,H||W)?H===W&&f(O,F,R,A):_&&(H=O instanceof Set,W=F instanceof Set,H||W)?H===W&&y(O,F,R,A):v(O,F,R,A)))}return O!==O&&F!==F}return N}var k=x(),D=x(function(){return s}),T=x(d()),L=x(d(s));t.circularDeepEqual=T,t.circularShallowEqual=L,t.createCustomEqual=x,t.deepEqual=k,t.sameValueZeroEqual=s,t.shallowEqual=D,Object.defineProperty(t,"__esModule",{value:!0})})}(Jw,Jw.exports)),Jw.exports}var j5,eee;function uj(){if(eee)return j5;eee=1;var n="Invariant failed";function e(t,i){if(!t)throw new Error(n)}return j5=e,j5}var Sm={},P1={},lw={},tee;function RRe(){if(tee)return lw;tee=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.Command=void 0;var n=function(){function e(t,i){var r=this;i===void 0&&(i={}),this.perform=function(){var s=t.perform();if(typeof s=="function"){var o=i.history;o&&(r.historyItem&&o.remove(r.historyItem),r.historyItem=o.add({perform:t.perform,negate:s}),r.history={undo:function(){return o.undo(r.historyItem)},redo:function(){return o.redo(r.historyItem)}})}}}return e}();return lw.Command=n,lw}var nee;function mpe(){if(nee)return P1;nee=1;var n=P1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(P1,"__esModule",{value:!0}),P1.ActionImpl=void 0;var e=n(uj()),t=RRe(),i=Iv(),r=function(o){var a=o.keywords,l=a===void 0?"":a,c=o.section,u=c===void 0?"":c;return(l+" "+(typeof u=="string"?u:u.name)).trim()},s=function(){function o(a,l){var c=this,u;this.priority=i.Priority.NORMAL,this.ancestors=[],this.children=[],Object.assign(this,a),this.id=a.id,this.name=a.name,this.keywords=r(a);var d=a.perform;if(this.command=d&&new t.Command({perform:function(){return d(c)}},{history:l.history}),this.perform=(u=this.command)===null||u===void 0?void 0:u.perform,a.parent){var h=l.store[a.parent];(0,e.default)(h,"attempted to create an action whos parent: "+a.parent+" does not exist in the store."),h.addChild(this)}}return o.prototype.addChild=function(a){a.ancestors.unshift(this);for(var l=this.parentActionImpl;l;)a.ancestors.unshift(l),l=l.parentActionImpl;this.children.push(a)},o.prototype.removeChild=function(a){var l=this,c=this.children.indexOf(a);c!==-1&&this.children.splice(c,1),a.children&&a.children.forEach(function(u){l.removeChild(u)})},Object.defineProperty(o.prototype,"parentActionImpl",{get:function(){return this.ancestors[this.ancestors.length-1]},enumerable:!1,configurable:!0}),o.create=function(a,l){return new o(a,l)},o}();return P1.ActionImpl=s,P1}var iee;function bpe(){if(iee)return Sm;iee=1;var n=Sm.__assign||function(){return n=Object.assign||function(s){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s},n.apply(this,arguments)},e=Sm.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.ActionInterface=void 0;var t=e(uj()),i=mpe(),r=function(){function s(o,a){o===void 0&&(o=[]),a===void 0&&(a={}),this.actions={},this.options=a,this.add(o)}return s.prototype.add=function(o){for(var a=0;a<o.length;a++){var l=o[a];l.parent&&(0,t.default)(this.actions[l.parent],'Attempted to create action "'+l.name+'" without registering its parent "'+l.parent+'" first.'),this.actions[l.id]=i.ActionImpl.create(l,{history:this.options.historyManager,store:this.actions})}return n({},this.actions)},s.prototype.remove=function(o){var a=this;return o.forEach(function(l){var c=a.actions[l.id];if(c){for(var u=c.children;u.length;){var d=u.pop();if(!d)return;delete a.actions[d.id],d.parentActionImpl&&d.parentActionImpl.removeChild(d),d.children&&u.push.apply(u,d.children)}c.parentActionImpl&&c.parentActionImpl.removeChild(c),delete a.actions[l.id]}}),n({},this.actions)},s}();return Sm.ActionInterface=r,Sm}var xm={},ree;function NRe(){if(ree)return xm;ree=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.history=xm.HistoryItemImpl=void 0;var n=Iv(),e=function(){function r(s){this.perform=s.perform,this.negate=s.negate}return r.create=function(s){return new r(s)},r}();xm.HistoryItemImpl=e;var t=function(){function r(){return this.undoStack=[],this.redoStack=[],r.instance||(r.instance=this,this.init()),r.instance}return r.prototype.init=function(){var s=this;typeof window>"u"||window.addEventListener("keydown",function(o){var a;if(!(!s.redoStack.length&&!s.undoStack.length||(0,n.shouldRejectKeystrokes)())){var l=(a=o.key)===null||a===void 0?void 0:a.toLowerCase();o.metaKey&&l==="z"&&o.shiftKey?s.redo():o.metaKey&&l==="z"&&s.undo()}})},r.prototype.add=function(s){var o=e.create(s);return this.undoStack.push(o),o},r.prototype.remove=function(s){var o=this.undoStack.findIndex(function(l){return l===s});if(o!==-1){this.undoStack.splice(o,1);return}var a=this.redoStack.findIndex(function(l){return l===s});a!==-1&&this.redoStack.splice(a,1)},r.prototype.undo=function(s){if(!s){var o=this.undoStack.pop();return o?(o==null||o.negate(),this.redoStack.push(o),o):void 0}var a=this.undoStack.findIndex(function(l){return l===s});if(a!==-1)return this.undoStack.splice(a,1),s.negate(),this.redoStack.push(s),s},r.prototype.redo=function(s){if(!s){var o=this.redoStack.pop();return o?(o==null||o.perform(),this.undoStack.push(o),o):void 0}var a=this.redoStack.findIndex(function(l){return l===s});if(a!==-1)return this.redoStack.splice(a,1),s.perform(),this.undoStack.push(s),s},r.prototype.reset=function(){this.undoStack.splice(0),this.redoStack.splice(0)},r}(),i=new t;return xm.history=i,Object.freeze(i),xm}var U5={},see;function w0(){return see||(see=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.VisualState=void 0,function(e){e.animatingIn="animating-in",e.showing="showing",e.animatingOut="animating-out",e.hidden="hidden"}(n.VisualState||(n.VisualState={}))}(U5)),U5}var oee;function ARe(){if(oee)return Ku;oee=1;var n=Ku.__assign||function(){return n=Object.assign||function(p){for(var m,v=1,C=arguments.length;v<C;v++){m=arguments[v];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(p[y]=m[y])}return p},n.apply(this,arguments)},e=Ku.__createBinding||(Object.create?function(p,m,v,C){C===void 0&&(C=v),Object.defineProperty(p,C,{enumerable:!0,get:function(){return m[v]}})}:function(p,m,v,C){C===void 0&&(C=v),p[C]=m[v]}),t=Ku.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),i=Ku.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&e(m,p,v);return t(m,p),m},r=Ku.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.useStore=void 0;var s=MRe(),o=i(Wr()),a=r(uj()),l=bpe(),c=NRe(),u=w0();function d(p){var m=o.useRef(n({animations:{enterMs:200,exitMs:100}},p.options)),v=o.useMemo(function(){return new l.ActionInterface(p.actions||[],{historyManager:m.current.enableHistory?c.history:void 0})},[]),C=o.useState({searchQuery:"",currentRootActionId:null,visualState:u.VisualState.hidden,actions:n({},v.actions),activeIndex:0,disabled:!1}),y=C[0],w=C[1],_=o.useRef(y);_.current=y;var x=o.useCallback(function(){return _.current},[]),k=o.useMemo(function(){return new h(x)},[x]);o.useEffect(function(){_.current=y,k.notify()},[y,k]);var D=o.useCallback(function(L){return w(function(I){return n(n({},I),{actions:v.add(L)})}),function(){w(function(R){return n(n({},R),{actions:v.remove(L)})})}},[v]),T=o.useRef(null);return o.useMemo(function(){var L={setCurrentRootAction:function(I){w(function(R){return n(n({},R),{currentRootActionId:I})})},setVisualState:function(I){w(function(R){return n(n({},R),{visualState:typeof I=="function"?I(R.visualState):I})})},setSearch:function(I){return w(function(R){return n(n({},R),{searchQuery:I})})},registerActions:D,toggle:function(){return w(function(I){return n(n({},I),{visualState:[u.VisualState.animatingOut,u.VisualState.hidden].includes(I.visualState)?u.VisualState.animatingIn:u.VisualState.animatingOut})})},setActiveIndex:function(I){return w(function(R){return n(n({},R),{activeIndex:typeof I=="number"?I:I(R.activeIndex)})})},inputRefSetter:function(I){T.current=I},getInput:function(){return(0,a.default)(T.current,"Input ref is undefined, make sure you attach `query.inputRefSetter` to your search input."),T.current},disable:function(I){w(function(R){return n(n({},R),{disabled:I})})}};return{getState:x,query:L,options:m.current,subscribe:function(I,R){return k.subscribe(I,R)}}},[x,k,D])}Ku.useStore=d;var h=function(){function p(m){this.subscribers=[],this.getState=m}return p.prototype.subscribe=function(m,v){var C=this,y=new f(function(){return m(C.getState())},v);return this.subscribers.push(y),this.unsubscribe.bind(this,y)},p.prototype.unsubscribe=function(m){if(this.subscribers.length){var v=this.subscribers.indexOf(m);if(v>-1)return this.subscribers.splice(v,1)}},p.prototype.notify=function(){this.subscribers.forEach(function(m){return m.collect()})},p}(),f=function(){function p(m,v){this.collector=m,this.onChange=v}return p.prototype.collect=function(){try{var m=this.collector();(0,s.deepEqual)(m,this.collected)||(this.collected=m,this.onChange&&this.onChange(this.collected))}catch(v){console.warn(v)}},p}();return Ku}var Sh={},aD={},aee;function PRe(){if(aee)return aD;aee=1,Object.defineProperty(aD,"__esModule",{value:!0});var n=["Shift","Meta","Alt","Control"],e=1e3,t="keydown",i=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function r(l,c){return typeof l.getModifierState=="function"?l.getModifierState(c):!1}function s(l){return l.trim().split(" ").map(function(c){var u=c.split(/\b\+/),d=u.pop();return u=u.map(function(h){return h==="$mod"?i:h}),[u,d]})}function o(l,c){return/^[^A-Za-z0-9]$/.test(l.key)&&c[1]===l.key?!0:!(c[1].toUpperCase()!==l.key.toUpperCase()&&c[1]!==l.code||c[0].find(function(u){return!r(l,u)})||n.find(function(u){return!c[0].includes(u)&&c[1]!==u&&r(l,u)}))}function a(l,c,u){var d,h;u===void 0&&(u={});var f=(d=u.timeout)!==null&&d!==void 0?d:e,p=(h=u.event)!==null&&h!==void 0?h:t,m=Object.keys(c).map(function(w){return[s(w),c[w]]}),v=new Map,C=null,y=function(w){w instanceof KeyboardEvent&&(m.forEach(function(_){var x=_[0],k=_[1],D=v.get(x),T=D||x,L=T[0],I=o(w,L);I?T.length>1?v.set(x,T.slice(1)):(v.delete(x),k(w)):r(w,w.key)||v.delete(x)}),C&&clearTimeout(C),C=setTimeout(v.clear.bind(v),f))};return l.addEventListener(p,y),function(){l.removeEventListener(p,y)}}return aD.default=a,aD}var lee;function ORe(){if(lee)return Sh;lee=1;var n=Sh.__createBinding||(Object.create?function(v,C,y,w){w===void 0&&(w=y),Object.defineProperty(v,w,{enumerable:!0,get:function(){return C[y]}})}:function(v,C,y,w){w===void 0&&(w=y),v[w]=C[y]}),e=Sh.__setModuleDefault||(Object.create?function(v,C){Object.defineProperty(v,"default",{enumerable:!0,value:C})}:function(v,C){v.default=C}),t=Sh.__importStar||function(v){if(v&&v.__esModule)return v;var C={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&n(C,v,y);return e(C,v),C},i=Sh.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.InternalEvents=void 0;var r=t(Wr()),s=i(PRe()),o=w0(),a=$p(),l=Iv();function c(){return u(),d(),p(),m(),null}Sh.InternalEvents=c;function u(){var v,C,y=(0,a.useKBar)(function(I){return{visualState:I.visualState,showing:I.visualState!==o.VisualState.hidden,disabled:I.disabled}}),w=y.query,_=y.options,x=y.visualState,k=y.showing,D=y.disabled;r.useEffect(function(){var I,R=function(){w.setVisualState(function(F){return F===o.VisualState.hidden||F===o.VisualState.animatingOut?F:o.VisualState.animatingOut})};if(D){R();return}var N=_.toggleShortcut||"$mod+k",O=(0,s.default)(window,(I={},I[N]=function(F){var A,H,W,$;F.defaultPrevented||(F.preventDefault(),w.toggle(),k?(H=(A=_.callbacks)===null||A===void 0?void 0:A.onClose)===null||H===void 0||H.call(A):($=(W=_.callbacks)===null||W===void 0?void 0:W.onOpen)===null||$===void 0||$.call(W))},I.Escape=function(F){var A,H;k&&(F.stopPropagation(),F.preventDefault(),(H=(A=_.callbacks)===null||A===void 0?void 0:A.onClose)===null||H===void 0||H.call(A)),R()},I));return function(){O()}},[_.callbacks,_.toggleShortcut,w,k,D]);var T=r.useRef(),L=r.useCallback(function(I){var R,N,O=0;I===o.VisualState.animatingIn&&(O=((R=_.animations)===null||R===void 0?void 0:R.enterMs)||0),I===o.VisualState.animatingOut&&(O=((N=_.animations)===null||N===void 0?void 0:N.exitMs)||0),clearTimeout(T.current),T.current=setTimeout(function(){var F=!1;w.setVisualState(function(){var A=I===o.VisualState.animatingIn?o.VisualState.showing:o.VisualState.hidden;return A===o.VisualState.hidden&&(F=!0),A}),F&&w.setCurrentRootAction(null)},O)},[(v=_.animations)===null||v===void 0?void 0:v.enterMs,(C=_.animations)===null||C===void 0?void 0:C.exitMs,w]);r.useEffect(function(){switch(x){case o.VisualState.animatingIn:case o.VisualState.animatingOut:L(x);break}},[L,x])}function d(){var v=(0,a.useKBar)(function(w){return{visualState:w.visualState}}),C=v.visualState,y=v.options;r.useEffect(function(){if(!y.disableDocumentLock)if(C===o.VisualState.animatingIn){if(document.body.style.overflow="hidden",!y.disableScrollbarManagement){var w=(0,l.getScrollbarWidth)(),_=getComputedStyle(document.body)["margin-right"];_&&(w+=Number(_.replace(/\D/g,""))),document.body.style.marginRight=w+"px"}}else C===o.VisualState.hidden&&(document.body.style.removeProperty("overflow"),y.disableScrollbarManagement||document.body.style.removeProperty("margin-right"))},[y.disableDocumentLock,y.disableScrollbarManagement,C])}var h=new WeakSet;function f(v){return function(C){h.has(C)||(v(C),h.add(C))}}function p(){var v=(0,a.useKBar)(function(k){return{actions:k.actions,open:k.visualState===o.VisualState.showing,disabled:k.disabled}}),C=v.actions,y=v.query,w=v.open,_=v.options,x=v.disabled;r.useEffect(function(){var k;if(!(w||x)){for(var D=Object.keys(C).map(function(W){return C[W]}),T=[],L=0,I=D;L<I.length;L++){var R=I[L];!((k=R.shortcut)===null||k===void 0)&&k.length&&T.push(R)}T=T.sort(function(W,$){return $.shortcut.join(" ").length-W.shortcut.join(" ").length});for(var N={},O=function(W){var $=W.shortcut.join(" ");N[$]=f(function(U){var z,K,Z,Q,G,J;(0,l.shouldRejectKeystrokes)()||(U.preventDefault(),!((z=W.children)===null||z===void 0)&&z.length?(y.setCurrentRootAction(W.id),y.toggle(),(Z=(K=_.callbacks)===null||K===void 0?void 0:K.onOpen)===null||Z===void 0||Z.call(K)):((Q=W.command)===null||Q===void 0||Q.perform(),(J=(G=_.callbacks)===null||G===void 0?void 0:G.onSelectAction)===null||J===void 0||J.call(G,W)))})},F=0,A=T;F<A.length;F++){var R=A[F];O(R)}var H=(0,s.default)(window,N,{timeout:400});return function(){H()}}},[C,w,_.callbacks,y,x])}function m(){var v=r.useRef(!0),C=(0,a.useKBar)(function(x){return{isShowing:x.visualState===o.VisualState.showing||x.visualState===o.VisualState.animatingIn}}),y=C.isShowing,w=C.query,_=r.useRef(null);r.useEffect(function(){if(v.current){v.current=!1;return}if(y){_.current=document.activeElement;return}var x=document.activeElement;(x==null?void 0:x.tagName.toLowerCase())==="input"&&x.blur();var k=_.current;k&&k!==x&&k.focus()},[y]),r.useEffect(function(){function x(k){var D=w.getInput();k.target!==D&&D.focus()}if(y)return window.addEventListener("keydown",x),function(){window.removeEventListener("keydown",x)}},[y,w])}return Sh}var cee;function vpe(){return cee||(cee=1,function(n){var e=A1.__createBinding||(Object.create?function(l,c,u,d){d===void 0&&(d=u),Object.defineProperty(l,d,{enumerable:!0,get:function(){return c[u]}})}:function(l,c,u,d){d===void 0&&(d=u),l[d]=c[u]}),t=A1.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),i=A1.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&e(c,l,u);return t(c,l),c};Object.defineProperty(n,"__esModule",{value:!0}),n.KBarProvider=n.KBarContext=void 0;var r=ARe(),s=i(Wr()),o=ORe();n.KBarContext=s.createContext({});var a=function(l){var c=(0,r.useStore)(l);return s.createElement(n.KBarContext.Provider,{value:c},s.createElement(o.InternalEvents,null),l.children)};n.KBarProvider=a}(A1)),A1}var uee;function $p(){if(uee)return wh;uee=1;var n=wh.__assign||function(){return n=Object.assign||function(a){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])}return a},n.apply(this,arguments)},e=wh.__createBinding||(Object.create?function(a,l,c,u){u===void 0&&(u=c),Object.defineProperty(a,u,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,u){u===void 0&&(u=c),a[u]=l[c]}),t=wh.__setModuleDefault||(Object.create?function(a,l){Object.defineProperty(a,"default",{enumerable:!0,value:l})}:function(a,l){a.default=l}),i=wh.__importStar||function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var c in a)c!=="default"&&Object.prototype.hasOwnProperty.call(a,c)&&e(l,a,c);return t(l,a),l};Object.defineProperty(wh,"__esModule",{value:!0}),wh.useKBar=void 0;var r=i(Wr()),s=vpe();function o(a){var l=r.useContext(s.KBarContext),c=l.query,u=l.getState,d=l.subscribe,h=l.options,f=r.useRef(a==null?void 0:a(u())),p=r.useRef(a),m=r.useCallback(function(w){return n(n({},w),{query:c,options:h})},[c,h]),v=r.useState(m(f.current)),C=v[0],y=v[1];return r.useEffect(function(){var w;return p.current&&(w=d(function(_){return p.current(_)},function(_){return y(m(_))})),function(){w&&w()}},[m,d]),C}return wh.useKBar=o,wh}function Tf(n){return Array.isArray?Array.isArray(n):_pe(n)==="[object Array]"}function FRe(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function BRe(n){return n==null?"":FRe(n)}function Sd(n){return typeof n=="string"}function ype(n){return typeof n=="number"}function HRe(n){return n===!0||n===!1||VRe(n)&&_pe(n)=="[object Boolean]"}function Cpe(n){return typeof n=="object"}function VRe(n){return Cpe(n)&&n!==null}function Tl(n){return n!=null}function q5(n){return!n.trim().length}function _pe(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const zRe="Incorrect 'index' type",WRe=n=>`Invalid value for key ${n}`,$Re=n=>`Pattern length exceeds max of ${n}.`,jRe=n=>`Missing ${n} property in key`,URe=n=>`Property 'weight' in key '${n}' must be a positive integer`,dee=Object.prototype.hasOwnProperty;class qRe{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let r=wpe(i);t+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function wpe(n){let e=null,t=null,i=null,r=1,s=null;if(Sd(n)||Tf(n))i=n,e=hee(n),t=r8(n);else{if(!dee.call(n,"name"))throw new Error(jRe("name"));const o=n.name;if(i=o,dee.call(n,"weight")&&(r=n.weight,r<=0))throw new Error(URe(o));e=hee(o),t=r8(o),s=n.getFn}return{path:e,id:t,weight:r,src:i,getFn:s}}function hee(n){return Tf(n)?n:n.split(".")}function r8(n){return Tf(n)?n.join("."):n}function GRe(n,e){let t=[],i=!1;const r=(s,o,a)=>{if(Tl(s))if(!o[a])t.push(s);else{let l=o[a];const c=s[l];if(!Tl(c))return;if(a===o.length-1&&(Sd(c)||ype(c)||HRe(c)))t.push(BRe(c));else if(Tf(c)){i=!0;for(let u=0,d=c.length;u<d;u+=1)r(c[u],o,a+1)}else o.length&&r(c,o,a+1)}};return r(n,Sd(e)?e.split("."):e,0),i?t:t[0]}const KRe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},QRe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},YRe={location:0,threshold:.6,distance:100},XRe={useExtendedSearch:!1,getFn:GRe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var zn={...QRe,...KRe,...YRe,...XRe};const ZRe=/[^ ]+/g;function JRe(n=1,e=3){const t=new Map,i=Math.pow(10,e);return{get(r){const s=r.match(ZRe).length;if(t.has(s))return t.get(s);const o=1/Math.pow(s,.5*n),a=parseFloat(Math.round(o*i)/i);return t.set(s,a),a},clear(){t.clear()}}}class dj{constructor({getFn:e=zn.getFn,fieldNormWeight:t=zn.fieldNormWeight}={}){this.norm=JRe(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Sd(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Sd(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Tl(e)||q5(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((r,s)=>{let o=r.getFn?r.getFn(e):this.getFn(e,r.path);if(Tl(o)){if(Tf(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Tl(u))if(Sd(u)&&!q5(u)){let d={v:u,i:c,n:this.norm.get(u)};a.push(d)}else Tf(u)&&u.forEach((d,h)=>{l.push({nestedArrIndex:h,value:d})})}i.$[s]=a}else if(Sd(o)&&!q5(o)){let a={v:o,n:this.norm.get(o)};i.$[s]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Spe(n,e,{getFn:t=zn.getFn,fieldNormWeight:i=zn.fieldNormWeight}={}){const r=new dj({getFn:t,fieldNormWeight:i});return r.setKeys(n.map(wpe)),r.setSources(e),r.create(),r}function eNe(n,{getFn:e=zn.getFn,fieldNormWeight:t=zn.fieldNormWeight}={}){const{keys:i,records:r}=n,s=new dj({getFn:e,fieldNormWeight:t});return s.setKeys(i),s.setIndexRecords(r),s}function lD(n,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:r=zn.distance,ignoreLocation:s=zn.ignoreLocation}={}){const o=e/n.length;if(s)return o;const a=Math.abs(i-t);return r?o+a/r:a?1:o}function tNe(n=[],e=zn.minMatchCharLength){let t=[],i=-1,r=-1,s=0;for(let o=n.length;s<o;s+=1){let a=n[s];a&&i===-1?i=s:!a&&i!==-1&&(r=s-1,r-i+1>=e&&t.push([i,r]),i=-1)}return n[s-1]&&s-i>=e&&t.push([i,s-1]),t}const Gm=32;function nNe(n,e,t,{location:i=zn.location,distance:r=zn.distance,threshold:s=zn.threshold,findAllMatches:o=zn.findAllMatches,minMatchCharLength:a=zn.minMatchCharLength,includeMatches:l=zn.includeMatches,ignoreLocation:c=zn.ignoreLocation}={}){if(e.length>Gm)throw new Error($Re(Gm));const u=e.length,d=n.length,h=Math.max(0,Math.min(i,d));let f=s,p=h;const m=a>1||l,v=m?Array(d):[];let C;for(;(C=n.indexOf(e,p))>-1;){let D=lD(e,{currentLocation:C,expectedLocation:h,distance:r,ignoreLocation:c});if(f=Math.min(D,f),p=C+u,m){let T=0;for(;T<u;)v[C+T]=1,T+=1}}p=-1;let y=[],w=1,_=u+d;const x=1<<u-1;for(let D=0;D<u;D+=1){let T=0,L=_;for(;T<L;)lD(e,{errors:D,currentLocation:h+L,expectedLocation:h,distance:r,ignoreLocation:c})<=f?T=L:_=L,L=Math.floor((_-T)/2+T);_=L;let I=Math.max(1,h-L+1),R=o?d:Math.min(h+L,d)+u,N=Array(R+2);N[R+1]=(1<<D)-1;for(let F=R;F>=I;F-=1){let A=F-1,H=t[n.charAt(A)];if(m&&(v[A]=+!!H),N[F]=(N[F+1]<<1|1)&H,D&&(N[F]|=(y[F+1]|y[F])<<1|1|y[F+1]),N[F]&x&&(w=lD(e,{errors:D,currentLocation:A,expectedLocation:h,distance:r,ignoreLocation:c}),w<=f)){if(f=w,p=A,p<=h)break;I=Math.max(1,2*h-p)}}if(lD(e,{errors:D+1,currentLocation:h,expectedLocation:h,distance:r,ignoreLocation:c})>f)break;y=N}const k={isMatch:p>=0,score:Math.max(.001,w)};if(m){const D=tNe(v,a);D.length?l&&(k.indices=D):k.isMatch=!1}return k}function iNe(n){let e={};for(let t=0,i=n.length;t<i;t+=1){const r=n.charAt(t);e[r]=(e[r]||0)|1<<i-t-1}return e}class xpe{constructor(e,{location:t=zn.location,threshold:i=zn.threshold,distance:r=zn.distance,includeMatches:s=zn.includeMatches,findAllMatches:o=zn.findAllMatches,minMatchCharLength:a=zn.minMatchCharLength,isCaseSensitive:l=zn.isCaseSensitive,ignoreLocation:c=zn.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(h,f)=>{this.chunks.push({pattern:h,alphabet:iNe(h),startIndex:f})},d=this.pattern.length;if(d>Gm){let h=0;const f=d%Gm,p=d-f;for(;h<p;)u(this.pattern.substr(h,Gm),h),h+=Gm;if(f){const m=d-Gm;u(this.pattern.substr(m),m)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return i&&(p.indices=[[0,e.length-1]]),p}const{location:r,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,h=!1;this.chunks.forEach(({pattern:p,alphabet:m,startIndex:v})=>{const{isMatch:C,score:y,indices:w}=nNe(e,p,m,{location:r+v,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:i,ignoreLocation:c});C&&(h=!0),d+=y,C&&w&&(u=[...u,...w])});let f={isMatch:h,score:h?d/this.chunks.length:1};return h&&i&&(f.indices=u),f}}class jp{constructor(e){this.pattern=e}static isMultiMatch(e){return fee(e,this.multiRegex)}static isSingleMatch(e){return fee(e,this.singleRegex)}search(){}}function fee(n,e){const t=n.match(e);return t?t[1]:null}class rNe extends jp{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class sNe extends jp{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class oNe extends jp{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class aNe extends jp{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class lNe extends jp{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class cNe extends jp{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class kpe extends jp{constructor(e,{location:t=zn.location,threshold:i=zn.threshold,distance:r=zn.distance,includeMatches:s=zn.includeMatches,findAllMatches:o=zn.findAllMatches,minMatchCharLength:a=zn.minMatchCharLength,isCaseSensitive:l=zn.isCaseSensitive,ignoreLocation:c=zn.ignoreLocation}={}){super(e),this._bitapSearch=new xpe(e,{location:t,threshold:i,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Lpe extends jp{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i;const r=[],s=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+s,r.push([i,t-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const s8=[rNe,Lpe,oNe,aNe,cNe,lNe,sNe,kpe],gee=s8.length,uNe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,dNe="|";function hNe(n,e={}){return n.split(dNe).map(t=>{let i=t.trim().split(uNe).filter(s=>s&&!!s.trim()),r=[];for(let s=0,o=i.length;s<o;s+=1){const a=i[s];let l=!1,c=-1;for(;!l&&++c<gee;){const u=s8[c];let d=u.isMultiMatch(a);d&&(r.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<gee;){const u=s8[c];let d=u.isSingleMatch(a);if(d){r.push(new u(d,e));break}}}return r})}const fNe=new Set([kpe.type,Lpe.type]);class gNe{constructor(e,{isCaseSensitive:t=zn.isCaseSensitive,includeMatches:i=zn.includeMatches,minMatchCharLength:r=zn.minMatchCharLength,ignoreLocation:s=zn.ignoreLocation,findAllMatches:o=zn.findAllMatches,location:a=zn.location,threshold:l=zn.threshold,distance:c=zn.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:r,findAllMatches:o,ignoreLocation:s,location:a,threshold:l,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=hNe(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let s=0,o=[],a=0;for(let l=0,c=t.length;l<c;l+=1){const u=t[l];o.length=0,s=0;for(let d=0,h=u.length;d<h;d+=1){const f=u[d],{isMatch:p,indices:m,score:v}=f.search(e);if(p){if(s+=1,a+=v,i){const C=f.constructor.type;fNe.has(C)?o=[...o,...m]:o.push(m)}}else{a=0,s=0,o.length=0;break}}if(s){let d={isMatch:!0,score:a/s};return i&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const o8=[];function pNe(...n){o8.push(...n)}function a8(n,e){for(let t=0,i=o8.length;t<i;t+=1){let r=o8[t];if(r.condition(n,e))return new r(n,e)}return new xpe(n,e)}const VT={AND:"$and",OR:"$or"},l8={PATH:"$path",PATTERN:"$val"},c8=n=>!!(n[VT.AND]||n[VT.OR]),mNe=n=>!!n[l8.PATH],bNe=n=>!Tf(n)&&Cpe(n)&&!c8(n),pee=n=>({[VT.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function Epe(n,e,{auto:t=!0}={}){const i=r=>{let s=Object.keys(r);const o=mNe(r);if(!o&&s.length>1&&!c8(r))return i(pee(r));if(bNe(r)){const l=o?r[l8.PATH]:s[0],c=o?r[l8.PATTERN]:r[l];if(!Sd(c))throw new Error(WRe(l));const u={keyId:r8(l),pattern:c};return t&&(u.searcher=a8(c,e)),u}let a={children:[],operator:s[0]};return s.forEach(l=>{const c=r[l];Tf(c)&&c.forEach(u=>{a.children.push(i(u))})}),a};return c8(n)||(n=pee(n)),i(n)}function vNe(n,{ignoreFieldNorm:e=zn.ignoreFieldNorm}){n.forEach(t=>{let i=1;t.matches.forEach(({key:r,norm:s,score:o})=>{const a=r?r.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),t.score=i})}function yNe(n,e){const t=n.matches;e.matches=[],Tl(t)&&t.forEach(i=>{if(!Tl(i.indices)||!i.indices.length)return;const{indices:r,value:s}=i;let o={indices:r,value:s};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function CNe(n,e){e.score=n.score}function _Ne(n,e,{includeMatches:t=zn.includeMatches,includeScore:i=zn.includeScore}={}){const r=[];return t&&r.push(yNe),i&&r.push(CNe),n.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return r.length&&r.forEach(l=>{l(s,a)}),a})}class S0{constructor(e,t={},i){this.options={...zn,...t},this.options.useExtendedSearch,this._keyStore=new qRe(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof dj))throw new Error(zRe);this._myIndex=t||Spe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Tl(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,r=this._docs.length;i<r;i+=1){const s=this._docs[i];e(s,i)&&(this.removeAt(i),i-=1,r-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:r,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Sd(e)?Sd(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return vNe(l,{ignoreFieldNorm:a}),s&&l.sort(o),ype(t)&&t>-1&&(l=l.slice(0,t)),_Ne(l,this._docs,{includeMatches:i,includeScore:r})}_searchStringList(e){const t=a8(e,this.options),{records:i}=this._myIndex,r=[];return i.forEach(({v:s,i:o,n:a})=>{if(!Tl(s))return;const{isMatch:l,score:c,indices:u}=t.searchIn(s);l&&r.push({item:s,idx:o,matches:[{score:c,value:s,norm:a,indices:u}]})}),r}_searchLogical(e){const t=Epe(e,this.options),i=(a,l,c)=>{if(!a.children){const{keyId:d,searcher:h}=a,f=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:h});return f&&f.length?[{idx:c,item:l,matches:f}]:[]}const u=[];for(let d=0,h=a.children.length;d<h;d+=1){const f=a.children[d],p=i(f,l,c);if(p.length)u.push(...p);else if(a.operator===VT.AND)return[]}return u},r=this._myIndex.records,s={},o=[];return r.forEach(({$:a,i:l})=>{if(Tl(a)){let c=i(t,a,l);c.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),c.forEach(({matches:u})=>{s[l].matches.push(...u)}))}}),o}_searchObjectList(e){const t=a8(e,this.options),{keys:i,records:r}=this._myIndex,s=[];return r.forEach(({$:o,i:a})=>{if(!Tl(o))return;let l=[];i.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:o[u],searcher:t}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:e,value:t,searcher:i}){if(!Tl(t))return[];let r=[];if(Tf(t))t.forEach(({v:s,i:o,n:a})=>{if(!Tl(s))return;const{isMatch:l,score:c,indices:u}=i.searchIn(s);l&&r.push({score:c,key:e,value:s,idx:o,norm:a,indices:u})});else{const{v:s,n:o}=t,{isMatch:a,score:l,indices:c}=i.searchIn(s);a&&r.push({score:l,key:e,value:s,norm:o,indices:c})}return r}}S0.version="6.6.2";S0.createIndex=Spe;S0.parseIndex=eNe;S0.config=zn;S0.parseQuery=Epe;pNe(gNe);const wNe=Object.freeze(Object.defineProperty({__proto__:null,default:S0},Symbol.toStringTag,{value:"Module"})),SNe=j$(wNe);var mee;function xNe(){return mee||(mee=1,function(n){var e=wm.__createBinding||(Object.create?function(f,p,m,v){v===void 0&&(v=m),Object.defineProperty(f,v,{enumerable:!0,get:function(){return p[m]}})}:function(f,p,m,v){v===void 0&&(v=m),f[v]=p[m]}),t=wm.__setModuleDefault||(Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p}),i=wm.__importStar||function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&e(p,f,m);return t(p,f),p},r=wm.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0}),n.useDeepMatches=n.useMatches=n.NO_GROUP=void 0;var s=i(Wr()),o=$p(),a=Iv(),l=r(SNe);n.NO_GROUP={name:"none",priority:a.Priority.NORMAL};var c={keys:[{name:"name",weight:.5},{name:"keywords",getFn:function(f){var p;return((p=f.keywords)!==null&&p!==void 0?p:"").split(",")},weight:.5},"subtitle"],ignoreLocation:!0,includeScore:!0,includeMatches:!0,threshold:.2,minMatchCharLength:1};function u(f,p){return p.priority-f.priority}function d(){var f=(0,o.useKBar)(function(L){return{search:L.searchQuery,actions:L.actions,rootActionId:L.currentRootActionId}}),p=f.search,m=f.actions,v=f.rootActionId,C=s.useMemo(function(){return Object.keys(m).reduce(function(L,I){var R=m[I];if(!R.parent&&!v&&L.push(R),R.id===v)for(var N=0;N<R.children.length;N++)L.push(R.children[N]);return L},[]).sort(u)},[m,v]),y=s.useCallback(function(L){for(var I=[],R=0;R<L.length;R++)I.push(L[R]);return function N(O,F){F===void 0&&(F=I);for(var A=0;A<O.length;A++)if(O[A].children.length>0){for(var H=O[A].children,W=0;W<H.length;W++)F.push(H[W]);N(O[A].children,F)}return F}(L)},[]),w=!p,_=s.useMemo(function(){return w?C:y(C)},[y,C,w]),x=s.useMemo(function(){return new l.default(_,c)},[_]),k=h(_,p,x),D=s.useMemo(function(){for(var L,I,R={},N=[],O=[],F=0;F<k.length;F++){var A=k[F],H=A.action,W=A.score||a.Priority.NORMAL,$={name:typeof H.section=="string"?H.section:((L=H.section)===null||L===void 0?void 0:L.name)||n.NO_GROUP.name,priority:typeof H.section=="string"?W:((I=H.section)===null||I===void 0?void 0:I.priority)||0+W};R[$.name]||(R[$.name]=[],N.push($)),R[$.name].push({priority:H.priority+W,action:H})}O=N.sort(u).map(function(Z){return{name:Z.name,actions:R[Z.name].sort(u).map(function(Q){return Q.action})}});for(var U=[],F=0;F<O.length;F++){var z=O[F];z.name!==n.NO_GROUP.name&&U.push(z.name);for(var K=0;K<z.actions.length;K++)U.push(z.actions[K])}return U},[k]),T=s.useMemo(function(){return v},[D]);return s.useMemo(function(){return{results:D,rootActionId:T}},[T,D])}n.useMatches=d;function h(f,p,m){var v=s.useMemo(function(){return{filtered:f,search:p}},[f,p]),C=(0,a.useThrottledValue)(v),y=C.filtered,w=C.search;return s.useMemo(function(){if(w.trim()==="")return y.map(function(k){return{score:0,action:k}});var _=[],x=m.search(w);return _=x.map(function(k){var D=k.item,T=k.score;return{score:1/((T??0)+1),action:D}}),_},[y,w,m])}n.useDeepMatches=d}(wm)),wm}var wg={},G5,bee;function kNe(){if(bee)return G5;bee=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,o=(m,v)=>{for(var C in v)e(m,C,{get:v[C],enumerable:!0})},a=(m,v,C,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let w of i(v))!s.call(m,w)&&w!==C&&e(m,w,{get:()=>v[w],enumerable:!(y=t(v,w))||y.enumerable});return m},l=(m,v,C)=>(C=m!=null?n(r(m)):{},a(!m||!m.__esModule?e(C,"default",{value:m,enumerable:!0}):C,m)),c=m=>a(e({},"__esModule",{value:!0}),m),u={};o(u,{composeRefs:()=>f,useComposedRefs:()=>p}),G5=c(u);var d=l(Wr());function h(m,v){if(typeof m=="function")return m(v);m!=null&&(m.current=v)}function f(...m){return v=>{let C=!1;const y=m.map(w=>{const _=h(w,v);return!C&&typeof _=="function"&&(C=!0),_});if(C)return()=>{for(let w=0;w<y.length;w++){const _=y[w];typeof _=="function"?_():h(m[w],null)}}}}function p(...m){return d.useCallback(f(...m),m)}return G5}var K5,vee;function LNe(){if(vee)return K5;vee=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,o=(x,k)=>{for(var D in k)e(x,D,{get:k[D],enumerable:!0})},a=(x,k,D,T)=>{if(k&&typeof k=="object"||typeof k=="function")for(let L of i(k))!s.call(x,L)&&L!==D&&e(x,L,{get:()=>k[L],enumerable:!(T=t(k,L))||T.enumerable});return x},l=(x,k,D)=>(D=x!=null?n(r(x)):{},a(!x||!x.__esModule?e(D,"default",{value:x,enumerable:!0}):D,x)),c=x=>a(e({},"__esModule",{value:!0}),x),u={};o(u,{Root:()=>_,Slot:()=>p,Slottable:()=>v}),K5=c(u);var d=l(Wr()),h=kNe(),f=nN(),p=d.forwardRef((x,k)=>{const{children:D,...T}=x,L=d.Children.toArray(D),I=L.find(C);if(I){const R=I.props.children,N=L.map(O=>O===I?d.Children.count(R)>1?d.Children.only(null):d.isValidElement(R)?R.props.children:null:O);return(0,f.jsx)(m,{...T,ref:k,children:d.isValidElement(R)?d.cloneElement(R,void 0,N):null})}return(0,f.jsx)(m,{...T,ref:k,children:D})});p.displayName="Slot";var m=d.forwardRef((x,k)=>{const{children:D,...T}=x;if(d.isValidElement(D)){const L=w(D);return d.cloneElement(D,{...y(T,D.props),ref:k?(0,h.composeRefs)(k,L):L})}return d.Children.count(D)>1?d.Children.only(null):null});m.displayName="SlotClone";var v=({children:x})=>(0,f.jsx)(f.Fragment,{children:x});function C(x){return d.isValidElement(x)&&x.type===v}function y(x,k){const D={...k};for(const T in k){const L=x[T],I=k[T];/^on[A-Z]/.test(T)?L&&I?D[T]=(...N)=>{I(...N),L(...N)}:L&&(D[T]=L):T==="style"?D[T]={...L,...I}:T==="className"&&(D[T]=[L,I].filter(Boolean).join(" "))}return{...x,...D}}function w(x){var T,L;let k=(T=Object.getOwnPropertyDescriptor(x.props,"ref"))==null?void 0:T.get,D=k&&"isReactWarning"in k&&k.isReactWarning;return D?x.ref:(k=(L=Object.getOwnPropertyDescriptor(x,"ref"))==null?void 0:L.get,D=k&&"isReactWarning"in k&&k.isReactWarning,D?x.props.ref:x.props.ref||x.ref)}var _=p;return K5}var Q5,yee;function ENe(){if(yee)return Q5;yee=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,o=(w,_)=>{for(var x in _)e(w,x,{get:_[x],enumerable:!0})},a=(w,_,x,k)=>{if(_&&typeof _=="object"||typeof _=="function")for(let D of i(_))!s.call(w,D)&&D!==x&&e(w,D,{get:()=>_[D],enumerable:!(k=t(_,D))||k.enumerable});return w},l=(w,_,x)=>(x=w!=null?n(r(w)):{},a(!w||!w.__esModule?e(x,"default",{value:w,enumerable:!0}):x,w)),c=w=>a(e({},"__esModule",{value:!0}),w),u={};o(u,{Primitive:()=>v,Root:()=>y,dispatchDiscreteCustomEvent:()=>C}),Q5=c(u);var d=l(Wr()),h=l(iN()),f=LNe(),p=nN(),m=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],v=m.reduce((w,_)=>{const x=d.forwardRef((k,D)=>{const{asChild:T,...L}=k,I=T?f.Slot:_;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,p.jsx)(I,{...L,ref:D})});return x.displayName=`Primitive.${_}`,{...w,[_]:x}},{});function C(w,_){w&&h.flushSync(()=>w.dispatchEvent(_))}var y=v;return Q5}var Y5,Cee;function DNe(){if(Cee)return Y5;Cee=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,o=(f,p)=>{for(var m in p)e(f,m,{get:p[m],enumerable:!0})},a=(f,p,m,v)=>{if(p&&typeof p=="object"||typeof p=="function")for(let C of i(p))!s.call(f,C)&&C!==m&&e(f,C,{get:()=>p[C],enumerable:!(v=t(p,C))||v.enumerable});return f},l=(f,p,m)=>(m=f!=null?n(r(f)):{},a(!f||!f.__esModule?e(m,"default",{value:f,enumerable:!0}):m,f)),c=f=>a(e({},"__esModule",{value:!0}),f),u={};o(u,{useLayoutEffect:()=>h}),Y5=c(u);var d=l(Wr()),h=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{};return Y5}var X5,_ee;function TNe(){if(_ee)return X5;_ee=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,o=(w,_)=>{for(var x in _)e(w,x,{get:_[x],enumerable:!0})},a=(w,_,x,k)=>{if(_&&typeof _=="object"||typeof _=="function")for(let D of i(_))!s.call(w,D)&&D!==x&&e(w,D,{get:()=>_[D],enumerable:!(k=t(_,D))||k.enumerable});return w},l=(w,_,x)=>(x=w!=null?n(r(w)):{},a(!w||!w.__esModule?e(x,"default",{value:w,enumerable:!0}):x,w)),c=w=>a(e({},"__esModule",{value:!0}),w),u={};o(u,{Portal:()=>C,Root:()=>y}),X5=c(u);var d=l(Wr()),h=l(iN()),f=ENe(),p=DNe(),m=nN(),v="Portal",C=d.forwardRef((w,_)=>{var I;const{container:x,...k}=w,[D,T]=d.useState(!1);(0,p.useLayoutEffect)(()=>T(!0),[]);const L=x||D&&((I=globalThis==null?void 0:globalThis.document)==null?void 0:I.body);return L?h.default.createPortal((0,m.jsx)(f.Primitive.div,{...k,ref:_}),L):null});C.displayName=v;var y=C;return X5}var wee;function INe(){if(wee)return wg;wee=1;var n=wg.__createBinding||(Object.create?function(l,c,u,d){d===void 0&&(d=u),Object.defineProperty(l,d,{enumerable:!0,get:function(){return c[u]}})}:function(l,c,u,d){d===void 0&&(d=u),l[d]=c[u]}),e=wg.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),t=wg.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&n(c,l,u);return e(c,l),c};Object.defineProperty(wg,"__esModule",{value:!0}),wg.KBarPortal=void 0;var i=TNe(),r=t(Wr()),s=w0(),o=$p();function a(l){var c=l.children,u=l.container,d=(0,o.useKBar)(function(h){return{showing:h.visualState!==s.VisualState.hidden}}).showing;return d?r.createElement(i.Portal,{container:u},c):null}return wg.KBarPortal=a,wg}var Qu={},See;function MNe(){if(See)return Qu;See=1;var n=Qu.__assign||function(){return n=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},n.apply(this,arguments)},e=Qu.__createBinding||(Object.create?function(l,c,u,d){d===void 0&&(d=u),Object.defineProperty(l,d,{enumerable:!0,get:function(){return c[u]}})}:function(l,c,u,d){d===void 0&&(d=u),l[d]=c[u]}),t=Qu.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),i=Qu.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&e(c,l,u);return t(c,l),c},r=Qu.__rest||function(l,c){var u={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&c.indexOf(d)<0&&(u[d]=l[d]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,d=Object.getOwnPropertySymbols(l);h<d.length;h++)c.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(l,d[h])&&(u[d[h]]=l[d[h]]);return u};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.KBarPositioner=void 0;var s=i(Wr()),o={position:"fixed",display:"flex",alignItems:"flex-start",justifyContent:"center",width:"100%",inset:"0px",padding:"14vh 16px 16px"};function a(l){return l?n(n({},o),l):o}return Qu.KBarPositioner=s.forwardRef(function(l,c){var u=l.style,d=l.children,h=r(l,["style","children"]);return s.createElement("div",n({ref:c,style:a(u)},h),d)}),Qu}var Sg={},xee;function Dpe(){return xee||(xee=1,function(n){var e=Sg.__assign||function(){return e=Object.assign||function(d){for(var h,f=1,p=arguments.length;f<p;f++){h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m])}return d},e.apply(this,arguments)},t=Sg.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f),Object.defineProperty(d,p,{enumerable:!0,get:function(){return h[f]}})}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),i=Sg.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=Sg.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&t(h,d,f);return i(h,d),h},s=Sg.__rest||function(d,h){var f={};for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&h.indexOf(p)<0&&(f[p]=d[p]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(d);m<p.length;m++)h.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(d,p[m])&&(f[p[m]]=d[p[m]]);return f};Object.defineProperty(n,"__esModule",{value:!0}),n.KBarSearch=n.getListboxItemId=n.KBAR_LISTBOX=void 0;var o=r(Wr()),a=w0(),l=$p();n.KBAR_LISTBOX="kbar-listbox";var c=function(d){return"kbar-listbox-item-"+d};n.getListboxItemId=c;function u(d){var h=(0,l.useKBar)(function(I){return{search:I.searchQuery,currentRootActionId:I.currentRootActionId,actions:I.actions,activeIndex:I.activeIndex,showing:I.visualState===a.VisualState.showing}}),f=h.query,p=h.search,m=h.actions,v=h.currentRootActionId,C=h.activeIndex,y=h.showing,w=h.options,_=o.useState(p),x=_[0],k=_[1];o.useEffect(function(){f.setSearch(x)},[x,f]);var D=d.defaultPlaceholder,T=s(d,["defaultPlaceholder"]);o.useEffect(function(){return f.setSearch(""),f.getInput().focus(),function(){return f.setSearch("")}},[v,f]);var L=o.useMemo(function(){var I=D??"Type a command or search";return v&&m[v]?m[v].name:I},[m,v,D]);return o.createElement("input",e({},T,{ref:f.inputRefSetter,autoFocus:!0,autoComplete:"off",role:"combobox",spellCheck:"false","aria-expanded":y,"aria-controls":n.KBAR_LISTBOX,"aria-activedescendant":(0,n.getListboxItemId)(C),value:x,placeholder:L,onChange:function(I){var R,N,O;(R=d.onChange)===null||R===void 0||R.call(d,I),k(I.target.value),(O=(N=w==null?void 0:w.callbacks)===null||N===void 0?void 0:N.onQueryChange)===null||O===void 0||O.call(N,I.target.value)},onKeyDown:function(I){var R;if((R=d.onKeyDown)===null||R===void 0||R.call(d,I),v&&!p&&I.key==="Backspace"){var N=m[v].parent;f.setCurrentRootAction(N)}}}))}n.KBarSearch=u}(Sg)),Sg}var xh={};function Km(){return Km=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Km.apply(this,arguments)}function RNe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var NNe=["bottom","height","left","right","top","width"],ANe=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),NNe.some(function(i){return e[i]!==t[i]})},Mg=new Map,Tpe,PNe=function n(){var e=[];Mg.forEach(function(t,i){var r=i.getBoundingClientRect();ANe(r,t.rect)&&(t.rect=r,e.push(t))}),e.forEach(function(t){t.callbacks.forEach(function(i){return i(t.rect)})}),Tpe=window.requestAnimationFrame(n)};function ONe(n,e){return{observe:function(){var i=Mg.size===0;Mg.has(n)?Mg.get(n).callbacks.push(e):Mg.set(n,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),i&&PNe()},unobserve:function(){var i=Mg.get(n);if(i){var r=i.callbacks.indexOf(e);r>=0&&i.callbacks.splice(r,1),i.callbacks.length||Mg.delete(n),Mg.size||cancelAnimationFrame(Tpe)}}}}var zT=typeof window<"u"?q.useLayoutEffect:q.useEffect;function FNe(n,e){e===void 0&&(e={width:0,height:0});var t=q.useState(n.current),i=t[0],r=t[1],s=q.useReducer(BNe,e),o=s[0],a=s[1],l=q.useRef(!1);return zT(function(){n.current!==i&&r(n.current)}),zT(function(){if(i&&!l.current){l.current=!0;var c=i.getBoundingClientRect();a({rect:c})}},[i]),q.useEffect(function(){if(i){var c=ONe(i,function(u){a({rect:u})});return c.observe(),function(){c.unobserve()}}},[i]),o}function BNe(n,e){var t=e.rect;return n.height!==t.height||n.width!==t.width?t:n}var HNe=function(){return 50},VNe=function(e){return e},zNe=function(e,t){var i=t?"offsetWidth":"offsetHeight";return e[i]},Ipe=function(e){for(var t=Math.max(e.start-e.overscan,0),i=Math.min(e.end+e.overscan,e.size-1),r=[],s=t;s<=i;s++)r.push(s);return r};function WNe(n){var e,t=n.size,i=t===void 0?0:t,r=n.estimateSize,s=r===void 0?HNe:r,o=n.overscan,a=o===void 0?1:o,l=n.paddingStart,c=l===void 0?0:l,u=n.paddingEnd,d=u===void 0?0:u,h=n.parentRef,f=n.horizontal,p=n.scrollToFn,m=n.useObserver,v=n.initialRect,C=n.onScrollElement,y=n.scrollOffsetFn,w=n.keyExtractor,_=w===void 0?VNe:w,x=n.measureSize,k=x===void 0?zNe:x,D=n.rangeExtractor,T=D===void 0?Ipe:D,L=f?"width":"height",I=f?"scrollLeft":"scrollTop",R=q.useRef({scrollOffset:0,measurements:[]}),N=q.useState(0),O=N[0],F=N[1];R.current.scrollOffset=O;var A=m||FNe,H=A(h,v),W=H[L];R.current.outerSize=W;var $=q.useCallback(function(fe){h.current&&(h.current[I]=fe)},[h,I]),U=p||$;p=q.useCallback(function(fe){U(fe,$)},[$,U]);var z=q.useState({}),K=z[0],Z=z[1],Q=q.useCallback(function(){return Z({})},[]),G=q.useRef([]),J=q.useMemo(function(){var fe=G.current.length>0?Math.min.apply(Math,G.current):0;G.current=[];for(var Ce=R.current.measurements.slice(0,fe),Me=fe;Me<i;Me++){var Te=_(Me),Ae=K[Te],Ne=Ce[Me-1]?Ce[Me-1].end:c,Ge=typeof Ae=="number"?Ae:s(Me),gt=Ne+Ge;Ce[Me]={index:Me,start:Ne,size:Ge,end:gt,key:Te}}return Ce},[s,K,c,i,_]),ne=(((e=J[i-1])==null?void 0:e.end)||c)+d;R.current.measurements=J,R.current.totalSize=ne;var ae=C?C.current:h.current,se=q.useRef(y);se.current=y,zT(function(){if(!ae){F(0);return}var fe=function(Me){var Te=se.current?se.current(Me):ae[I];F(Te)};return fe(),ae.addEventListener("scroll",fe,{capture:!1,passive:!0}),function(){ae.removeEventListener("scroll",fe)}},[ae,I]);var X=jNe(R.current),oe=X.start,ve=X.end,me=q.useMemo(function(){return T({start:oe,end:ve,overscan:a,size:J.length})},[oe,ve,a,J.length,T]),ye=q.useRef(k);ye.current=k;var Le=q.useMemo(function(){for(var fe=[],Ce=function(Ne,Ge){var gt=me[Ne],rt=J[gt],it=Km(Km({},rt),{},{measureRef:function(st){if(st){var Ke=ye.current(st,f);if(Ke!==it.size){var kt=R.current.scrollOffset;it.start<kt&&$(kt+(Ke-it.size)),G.current.push(gt),Z(function(Gt){var Dt;return Km(Km({},Gt),{},(Dt={},Dt[it.key]=Ke,Dt))})}}}});fe.push(it)},Me=0,Te=me.length;Me<Te;Me++)Ce(Me);return fe},[me,$,f,J]),ie=q.useRef(!1);zT(function(){ie.current&&Z({}),ie.current=!0},[s]);var Ee=q.useCallback(function(fe,Ce){var Me=Ce===void 0?{}:Ce,Te=Me.align,Ae=Te===void 0?"start":Te,Ne=R.current,Ge=Ne.scrollOffset,gt=Ne.outerSize;Ae==="auto"&&(fe<=Ge?Ae="start":fe>=Ge+gt?Ae="end":Ae="start"),Ae==="start"?p(fe):Ae==="end"?p(fe-gt):Ae==="center"&&p(fe-gt/2)},[p]),Ue=q.useCallback(function(fe,Ce){var Me=Ce===void 0?{}:Ce,Te=Me.align,Ae=Te===void 0?"auto":Te,Ne=RNe(Me,["align"]),Ge=R.current,gt=Ge.measurements,rt=Ge.scrollOffset,it=Ge.outerSize,Xe=gt[Math.max(0,Math.min(fe,i-1))];if(Xe){if(Ae==="auto")if(Xe.end>=rt+it)Ae="end";else if(Xe.start<=rt)Ae="start";else return;var st=Ae==="center"?Xe.start+Xe.size/2:Ae==="end"?Xe.end:Xe.start;Ee(st,Km({align:Ae},Ne))}},[Ee,i]),re=q.useCallback(function(){for(var fe=arguments.length,Ce=new Array(fe),Me=0;Me<fe;Me++)Ce[Me]=arguments[Me];Ue.apply(void 0,Ce),requestAnimationFrame(function(){Ue.apply(void 0,Ce)})},[Ue]);return{virtualItems:Le,totalSize:ne,scrollToOffset:Ee,scrollToIndex:re,measure:Q}}var $Ne=function(e,t,i,r){for(;e<=t;){var s=(e+t)/2|0,o=i(s);if(o<r)e=s+1;else if(o>r)t=s-1;else return s}return e>0?e-1:0};function jNe(n){for(var e=n.measurements,t=n.outerSize,i=n.scrollOffset,r=e.length-1,s=function(c){return e[c].start},o=$Ne(0,r,s,i),a=o;a<r&&e[a].end<i+t;)a++;return{start:o,end:a}}const UNe=Object.freeze(Object.defineProperty({__proto__:null,defaultRangeExtractor:Ipe,useVirtual:WNe},Symbol.toStringTag,{value:"Module"})),qNe=j$(UNe);var kee;function GNe(){if(kee)return xh;kee=1;var n=xh.__assign||function(){return n=Object.assign||function(d){for(var h,f=1,p=arguments.length;f<p;f++){h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m])}return d},n.apply(this,arguments)},e=xh.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f),Object.defineProperty(d,p,{enumerable:!0,get:function(){return h[f]}})}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),t=xh.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),i=xh.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(xh,"__esModule",{value:!0}),xh.KBarResults=void 0;var r=i(Wr()),s=qNe,o=Dpe(),a=$p(),l=Iv(),c=0,u=function(d){var h=r.useRef(null),f=r.useRef(null),p=r.useRef(d.items);p.current=d.items;var m=(0,s.useVirtual)({size:p.current.length,parentRef:f}),v=(0,a.useKBar)(function(L){return{search:L.searchQuery,currentRootActionId:L.currentRootActionId,activeIndex:L.activeIndex}}),C=v.query,y=v.search,w=v.currentRootActionId,_=v.activeIndex,x=v.options;r.useEffect(function(){var L=function(I){var R;I.isComposing||(I.key==="ArrowUp"||I.ctrlKey&&I.key==="p"?(I.preventDefault(),I.stopPropagation(),C.setActiveIndex(function(N){var O=N>c?N-1:N;if(typeof p.current[O]=="string"){if(O===0)return N;O-=1}return O})):I.key==="ArrowDown"||I.ctrlKey&&I.key==="n"?(I.preventDefault(),I.stopPropagation(),C.setActiveIndex(function(N){var O=N<p.current.length-1?N+1:N;if(typeof p.current[O]=="string"){if(O===p.current.length-1)return N;O+=1}return O})):I.key==="Enter"&&(I.preventDefault(),I.stopPropagation(),(R=h.current)===null||R===void 0||R.click()))};return window.addEventListener("keydown",L,{capture:!0}),function(){return window.removeEventListener("keydown",L,{capture:!0})}},[C]);var k=m.scrollToIndex;r.useEffect(function(){k(_,{align:_<=1?"end":"auto"})},[_,k]),r.useEffect(function(){C.setActiveIndex(typeof d.items[c]=="string"?c+1:c)},[y,w,d.items,C]);var D=r.useCallback(function(L){var I,R;typeof L!="string"&&(L.command?(L.command.perform(L),C.toggle()):(C.setSearch(""),C.setCurrentRootAction(L.id)),(R=(I=x.callbacks)===null||I===void 0?void 0:I.onSelectAction)===null||R===void 0||R.call(I,L))},[C,x]),T=(0,l.usePointerMovedSinceMount)();return r.createElement("div",{ref:f,style:{maxHeight:d.maxHeight||400,position:"relative",overflow:"auto"}},r.createElement("div",{role:"listbox",id:o.KBAR_LISTBOX,style:{height:m.totalSize+"px",width:"100%"}},m.virtualItems.map(function(L){var I=p.current[L.index],R=typeof I!="string"&&{onPointerMove:function(){return T&&_!==L.index&&C.setActiveIndex(L.index)},onPointerDown:function(){return C.setActiveIndex(L.index)},onClick:function(){return D(I)}},N=L.index===_;return r.createElement("div",n({ref:N?h:null,id:(0,o.getListboxItemId)(L.index),role:"option","aria-selected":N,key:L.index,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY("+L.start+"px)"}},R),r.cloneElement(d.onRender({item:I,active:N}),{ref:L.measureRef}))})))};return xh.KBarResults=u,xh}var xg={},Lee;function KNe(){if(Lee)return xg;Lee=1;var n=xg.__createBinding||(Object.create?function(o,a,l,c){c===void 0&&(c=l),Object.defineProperty(o,c,{enumerable:!0,get:function(){return a[l]}})}:function(o,a,l,c){c===void 0&&(c=l),o[c]=a[l]}),e=xg.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),t=xg.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&n(a,o,l);return e(a,o),a};Object.defineProperty(xg,"__esModule",{value:!0}),xg.useRegisterActions=void 0;var i=t(Wr()),r=$p();function s(o,a){a===void 0&&(a=[]);var l=(0,r.useKBar)().query,c=i.useMemo(function(){return o},a);i.useEffect(function(){if(c.length){var u=l.registerActions(c);return function(){u()}}},[l,c])}return xg.useRegisterActions=s,xg}var kh={},Eee;function QNe(){if(Eee)return kh;Eee=1;var n=kh.__assign||function(){return n=Object.assign||function(d){for(var h,f=1,p=arguments.length;f<p;f++){h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m])}return d},n.apply(this,arguments)},e=kh.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f),Object.defineProperty(d,p,{enumerable:!0,get:function(){return h[f]}})}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),t=kh.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),i=kh.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(kh,"__esModule",{value:!0}),kh.KBarAnimator=void 0;var r=i(Wr()),s=w0(),o=$p(),a=Iv(),l=[{opacity:0,transform:"scale(.99)"},{opacity:1,transform:"scale(1.01)"},{opacity:1,transform:"scale(1)"}],c=[{transform:"scale(1)"},{transform:"scale(.98)"},{transform:"scale(1)"}],u=function(d){var h,f,p=d.children,m=d.style,v=d.className,C=d.disableCloseOnOuterClick,y=(0,o.useKBar)(function(O){return{visualState:O.visualState,currentRootActionId:O.currentRootActionId}}),w=y.visualState,_=y.currentRootActionId,x=y.query,k=y.options,D=r.useRef(null),T=r.useRef(null),L=((h=k==null?void 0:k.animations)===null||h===void 0?void 0:h.enterMs)||0,I=((f=k==null?void 0:k.animations)===null||f===void 0?void 0:f.exitMs)||0;r.useEffect(function(){if(w!==s.VisualState.showing){var O=w===s.VisualState.animatingIn?L:I,F=D.current;F==null||F.animate(l,{duration:O,easing:w===s.VisualState.animatingOut?"ease-in":"ease-out",direction:w===s.VisualState.animatingOut?"reverse":"normal",fill:"forwards"})}},[k,w,L,I]);var R=r.useRef();r.useEffect(function(){if(w===s.VisualState.showing){var O=D.current,F=T.current;if(!O||!F)return;var A=new ResizeObserver(function(H){for(var W=0,$=H;W<$.length;W++){var U=$[W],z=U.contentRect;R.current||(R.current=z.height),O.animate([{height:R.current+"px"},{height:z.height+"px"}],{duration:L/2,easing:"ease-out",fill:"forwards"}),R.current=z.height}});return A.observe(F),function(){A.unobserve(F)}}},[w,k,L,I]);var N=r.useRef(!0);return r.useEffect(function(){if(N.current){N.current=!1;return}var O=D.current;O&&O.animate(c,{duration:L,easing:"ease-out"})},[_,L]),(0,a.useOuterClick)(D,function(){var O,F;C||(x.setVisualState(s.VisualState.animatingOut),(F=(O=k.callbacks)===null||O===void 0?void 0:O.onClose)===null||F===void 0||F.call(O))}),r.createElement("div",{ref:D,style:n(n(n({},l[0]),m),{pointerEvents:"auto"}),className:v},r.createElement("div",{ref:T},p))};return kh.KBarAnimator=u,kh}var cw={},Dee;function YNe(){return Dee||(Dee=1,function(n){var e=cw.__createBinding||(Object.create?function(i,r,s,o){o===void 0&&(o=s),Object.defineProperty(i,o,{enumerable:!0,get:function(){return r[s]}})}:function(i,r,s,o){o===void 0&&(o=s),i[o]=r[s]}),t=cw.__exportStar||function(i,r){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&e(r,i,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(bpe(),n),t(mpe(),n)}(cw)),cw}var Tee;function XNe(){return Tee||(Tee=1,function(n){var e=aw.__createBinding||(Object.create?function(r,s,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return s[o]}})}:function(r,s,o,a){a===void 0&&(a=o),r[a]=s[o]}),t=aw.__exportStar||function(r,s){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),n.Priority=n.createAction=void 0;var i=Iv();Object.defineProperty(n,"createAction",{enumerable:!0,get:function(){return i.createAction}}),Object.defineProperty(n,"Priority",{enumerable:!0,get:function(){return i.Priority}}),t(xNe(),n),t(INe(),n),t(MNe(),n),t(Dpe(),n),t(GNe(),n),t($p(),n),t(KNe(),n),t(vpe(),n),t(QNe(),n),t(w0(),n),t(YNe(),n)}(aw)),aw}var ra=XNe(),ZNe=Object.defineProperty,lf=(n,e)=>ZNe(n,"name",{value:e,configurable:!0}),O1=lf(n=>n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),"capitalize"),JNe=lf(()=>{let n=Xn(),{resource:e,resources:t,id:i,action:r}=Si(),s=lr(),o=zk(),a=Go(),{mutate:l}=npe(),{push:c,list:u,create:d,show:h,edit:f}=Ko(),p=Xd(),m=M.useContext(ra.KBarContext),{can:v}=OMe(),[C,y]=M.useState([]);M.useEffect(()=>{lf(async()=>await Promise.all(w().flatMap(x=>_(x))),"preaparedActions")().then(x=>y(x.flatMap(k=>k)))},[t,i,e,r]),M.useEffect(()=>{C.length===0&&m.query.setVisualState(ra.VisualState.hidden)},[C]);let w=lf(()=>{let x=[...t],k=x==null?void 0:x.findIndex(D=>(D.identifier??(D==null?void 0:D.name))===((e==null?void 0:e.identifier)??(e==null?void 0:e.name)));if(k>0){let D=x[k];x.splice(k,1),x.splice(0,0,D)}return x},"moveActionToFirst"),_=lf(async x=>{var k,D,T,L,I,R;let{name:N,label:O,list:F,create:A,canCreate:H,canEdit:W,canShow:$,icon:U,show:z,canDelete:K,edit:Z,route:Q}=x,G=((k=x==null?void 0:x.meta)==null?void 0:k.label)??((D=x==null?void 0:x.options)==null?void 0:D.label)??O,J=((T=x==null?void 0:x.meta)==null?void 0:T.icon)??((L=x==null?void 0:x.options)==null?void 0:L.icon)??U,ne=((I=x==null?void 0:x.meta)==null?void 0:I.canDelete)??((R=x==null?void 0:x.options)==null?void 0:R.canDelete)??K,ae=G??n(`${x.name}.${x.name}`,p(x.name,"plural")),se=[];if(F&&(e!==void 0&&(e==null?void 0:e.name)!==N||r!==void 0&&(e==null?void 0:e.name)===N)){let{can:X}=await(v==null?void 0:v({resource:N,action:"list",params:{id:i,resource:x}}))||{can:!0};X&&se.push(ra.createAction({name:n("actions.list",O1("list")),section:ae,icon:J,perform:()=>{let oe=o({resource:x,action:"list",legacy:s==="legacy"});oe&&(s==="legacy"?c(oe):a({to:oe}))}}))}if((H||A)&&A&&(r!=="create"||(e==null?void 0:e.name)!==N)){let{can:X}=await(v==null?void 0:v({resource:N,action:"create",params:{resource:x}}))||{can:!0};X&&se.push(ra.createAction({name:n("actions.create",O1("create")),section:ae,icon:J,keywords:"new",perform:()=>{let oe=o({resource:x,action:"create",legacy:s==="legacy"});oe&&(s==="legacy"?c(oe):a({to:oe}))}}))}if((e==null?void 0:e.name)===N&&i){if(($||z)&&z&&r!=="show"){let{can:X}=await(v==null?void 0:v({resource:N,action:"show",params:{id:i,resource:x}}))||{can:!0};X&&se.push(ra.createAction({name:n("actions.show",O1("show")),section:ae,icon:J,perform:()=>{let oe=o({resource:x,action:"show",legacy:s==="legacy",meta:{id:i}});oe&&(s==="legacy"?c(oe):a({to:oe}))}}))}if((W||Z)&&Z&&r!=="edit"){let{can:X}=await(v==null?void 0:v({resource:N,action:"edit",params:{id:i,resource:x}}))||{can:!0};X&&se.push(ra.createAction({name:n("actions.edit",O1("edit")),section:ae,icon:J,perform:()=>{let oe=o({resource:x,action:"edit",legacy:s==="legacy",meta:{id:i}});oe&&(s==="legacy"?c(oe):a({to:oe}))}}))}if(ne){let{can:X}=await(v==null?void 0:v({resource:N,action:"delete",params:{id:i,resource:x}}))||{can:!0};X&&se.push({id:"delete",name:n("actions.delete",O1("delete")),section:ae,icon:J},ra.createAction({name:n("buttons.delete",O1("delete")),section:n("buttons.confirm","Are you sure?"),parent:"delete",perform:()=>{l({resource:x.name,id:i},{onSuccess:()=>{let oe=o({resource:x,action:"list",legacy:s==="legacy"});oe&&(s==="legacy"?c(oe):a({to:oe}))}})}}),ra.createAction({name:n("buttons.cancel","Cancel"),parent:"delete",perform:()=>null}))}}return se},"createActionWithResource");ra.useRegisterActions(C,[C])},"useRefineKbar"),eAe=lf(()=>q.createElement(ra.KBarPortal,null,q.createElement(ra.KBarPositioner,{style:{opacity:1,transition:"background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s",backdropFilter:"saturate(180%) blur(1px)",background:"rgba(0, 0, 0, 0.1)",zIndex:"9999"}},q.createElement(ra.KBarAnimator,{style:{maxWidth:"600px",width:"100%",background:"white",color:"black",borderRadius:"8px",overflow:"hidden",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"}},q.createElement(ra.KBarSearch,{style:{padding:"12px 16px",fontSize:"16px",width:"100%",boxSizing:"border-box",outline:"none",border:"none",background:"rgb(252 252 252)",color:"black"}}),q.createElement(nAe,null)))),"CommandBar"),tAe={padding:"8px 16px",fontSize:"14px",textTransform:"uppercase",fontWeight:"bold",opacity:.5},nAe=lf(()=>{let{results:n,rootActionId:e}=ra.useMatches();return q.createElement(ra.KBarResults,{items:n,onRender:({item:t,active:i})=>typeof t=="string"?q.createElement("div",{style:tAe},t):q.createElement(Mpe,{action:t,active:i,currentRootActionId:e})})},"RenderResults"),Mpe=q.forwardRef(({action:n,active:e,currentRootActionId:t},i)=>{var r;let s=q.useMemo(()=>{if(!t)return n.ancestors;let o=n.ancestors.findIndex(a=>a.id===t);return n.ancestors.slice(o+1)},[n.ancestors,t]);return q.createElement("div",{ref:i,style:{padding:"12px 16px",background:e?"rgba(0 0 0 / 0.05)":"transparent",borderLeft:`2px solid ${e?"rgb(28 28 29)":"transparent"}`,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"}},q.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:14}},n.icon&&n.icon,q.createElement("div",{style:{display:"flex",flexDirection:"column"}},q.createElement("div",null,s.length>0&&s.map(o=>q.createElement(q.Fragment,{key:o.id},q.createElement("span",{style:{opacity:.5,marginRight:8}},o.name),q.createElement("span",{style:{marginRight:8}},""))),q.createElement("span",{style:{color:n.name.toLocaleUpperCase()==="DELETE"?"red":"black"}},n.name)),n.subtitle&&q.createElement("span",{style:{fontSize:12}},n.subtitle))),(r=n.shortcut)!=null&&r.length?q.createElement("div",{"aria-hidden":!0,style:{display:"grid",gridAutoFlow:"column",gap:"4px"}},n.shortcut.map(o=>q.createElement("kbd",{key:o,style:{padding:"4px 6px",background:"rgba(0 0 0 / .1)",borderRadius:"4px",fontSize:14}},o))):null)});Mpe.displayName="ResultItem";var iAe=lf(({commandBarProps:n})=>{let e=M.useContext(Rpe);JNe();let t={...e,...n};return q.createElement(eAe,{...t})},"RefineKbar"),Rpe=M.createContext({}),rAe=lf(({children:n,commandBarProps:e})=>q.createElement(Rpe.Provider,{value:e??{}},q.createElement(ra.KBarProvider,null,n)),"RefineKbarProvider");function Npe(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Npe(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Tx(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=Npe(n))&&(i&&(i+=" "),i+=e);return i}var Z5={exports:{}},J5,Iee;function sAe(){if(Iee)return J5;Iee=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J5=n,J5}var eF,Mee;function oAe(){if(Mee)return eF;Mee=1;var n=sAe();function e(){}function t(){}return t.resetWarningCache=e,eF=function(){function i(o,a,l,c,u,d){if(d!==n){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},eF}var Ree;function Ape(){return Ree||(Ree=1,Z5.exports=oAe()()),Z5.exports}var aAe=Ape();const Ve=Kd(aAe);function te(){return te=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},te.apply(null,arguments)}function rn(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function u8(n,e){return u8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},u8(n,e)}function Ppe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,u8(n,e)}const Nee={disabled:!1},WT=q.createContext(null);var lAe=function(e){return e.scrollTop},eS="unmounted",Fm="exited",Bm="entering",ly="entered",d8="exiting",$c=function(n){Ppe(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var o=r,a=o&&!o.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?a?(l=Fm,s.appearStatus=Bm):l=ly:i.unmountOnExit||i.mountOnEnter?l=eS:l=Fm,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===eS?{status:Fm}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Bm&&o!==ly&&(s=Bm):(o===Bm||o===ly)&&(s=d8)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,o,a;return s=o=a=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Bm){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:eD.findDOMNode(this);o&&lAe(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fm&&this.setState({status:eS})},t.performEnter=function(r){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[eD.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!r&&!o||Nee.disabled){this.safeSetState({status:ly},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Bm},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:ly},function(){s.props.onEntered(c,u)})})})},t.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:eD.findDOMNode(this);if(!s||Nee.disabled){this.safeSetState({status:Fm},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:d8},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Fm},function(){r.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:eD.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===eS)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=rn(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return q.createElement(WT.Provider,{value:null},typeof o=="function"?o(r,a):q.cloneElement(q.Children.only(o),a))},e}(q.Component);$c.contextType=WT;$c.propTypes={};function F1(){}$c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:F1,onEntering:F1,onEntered:F1,onExit:F1,onExiting:F1,onExited:F1};$c.UNMOUNTED=eS;$c.EXITED=Fm;$c.ENTERING=Bm;$c.ENTERED=ly;$c.EXITING=d8;function cAe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hj(n,e){var t=function(s){return e&&M.isValidElement(s)?e(s):s},i=Object.create(null);return n&&M.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function uAe(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var i=Object.create(null),r=[];for(var s in n)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var o,a={};for(var l in e){if(i[l])for(o=0;o<i[l].length;o++){var c=i[l][o];a[i[l][o]]=t(c)}a[l]=t(l)}for(o=0;o<r.length;o++)a[r[o]]=t(r[o]);return a}function bb(n,e,t){return t[e]!=null?t[e]:n.props[e]}function dAe(n,e){return hj(n.children,function(t){return M.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:bb(t,"appear",n),enter:bb(t,"enter",n),exit:bb(t,"exit",n)})})}function hAe(n,e,t){var i=hj(n.children),r=uAe(e,i);return Object.keys(r).forEach(function(s){var o=r[s];if(M.isValidElement(o)){var a=s in e,l=s in i,c=e[s],u=M.isValidElement(c)&&!c.props.in;l&&(!a||u)?r[s]=M.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:bb(o,"exit",n),enter:bb(o,"enter",n)}):!l&&a&&!u?r[s]=M.cloneElement(o,{in:!1}):l&&a&&M.isValidElement(c)&&(r[s]=M.cloneElement(o,{onExited:t.bind(null,o),in:c.props.in,exit:bb(o,"exit",n),enter:bb(o,"enter",n)}))}}),r}var fAe=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},gAe={component:"div",childFactory:function(e){return e}},fj=function(n){Ppe(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var o=s.handleExited.bind(cAe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?dAe(r,a):hAe(r,o,a),firstRender:!1}},t.handleExited=function(r,s){var o=hj(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(a){var l=te({},a.children);return delete l[r.key],{children:l}}))},t.render=function(){var r=this.props,s=r.component,o=r.childFactory,a=rn(r,["component","childFactory"]),l=this.state.contextValue,c=fAe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?q.createElement(WT.Provider,{value:l},c):q.createElement(WT.Provider,{value:l},q.createElement(s,a,c))},e}(q.Component);fj.propTypes={};fj.defaultProps=gAe;function Up(n){var e;return parseInt(M.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function gj(n,e=166){let t;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(s,e)}return i.clear=()=>{clearTimeout(t)},i}function $T(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Wi(...n){return M.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{$T(t,e)})},n)}function If(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function nt(n){if(typeof n!="string")throw new Error(If(7));return n.charAt(0).toUpperCase()+n.slice(1)}var tF={exports:{}},dr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aee;function pAe(){if(Aee)return dr;Aee=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),f=Symbol.for("react.client.reference");function p(m){if(typeof m=="object"&&m!==null){var v=m.$$typeof;switch(v){case n:switch(m=m.type,m){case t:case r:case i:case l:case c:return m;default:switch(m=m&&m.$$typeof,m){case o:case a:case d:case u:return m;case s:return m;default:return v}}case e:return v}}}return dr.ContextConsumer=s,dr.ContextProvider=o,dr.Element=n,dr.ForwardRef=a,dr.Fragment=t,dr.Lazy=d,dr.Memo=u,dr.Portal=e,dr.Profiler=r,dr.StrictMode=i,dr.Suspense=l,dr.SuspenseList=c,dr.isContextConsumer=function(m){return p(m)===s},dr.isContextProvider=function(m){return p(m)===o},dr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===n},dr.isForwardRef=function(m){return p(m)===a},dr.isFragment=function(m){return p(m)===t},dr.isLazy=function(m){return p(m)===d},dr.isMemo=function(m){return p(m)===u},dr.isPortal=function(m){return p(m)===e},dr.isProfiler=function(m){return p(m)===r},dr.isStrictMode=function(m){return p(m)===i},dr.isSuspense=function(m){return p(m)===l},dr.isSuspenseList=function(m){return p(m)===c},dr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===t||m===r||m===i||m===l||m===c||m===h||typeof m=="object"&&m!==null&&(m.$$typeof===d||m.$$typeof===u||m.$$typeof===o||m.$$typeof===s||m.$$typeof===a||m.$$typeof===f||m.getModuleId!==void 0)},dr.typeOf=p,dr}var Pee;function mAe(){return Pee||(Pee=1,tF.exports=pAe()),tF.exports}var Ope=mAe();function vd(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Fpe(n){if(M.isValidElement(n)||Ope.isValidElementType(n)||!vd(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Fpe(n[t])}),e}function ko(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return vd(n)&&vd(e)&&Object.keys(e).forEach(r=>{M.isValidElement(e[r])||Ope.isValidElementType(e[r])?i[r]=e[r]:vd(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&vd(n[r])?i[r]=ko(n[r],e[r],t):t.clone?i[r]=vd(e[r])?Fpe(e[r]):e[r]:i[r]=e[r]}),i}function _S(n,e){return e?ko(n,e,{clone:!1}):n}function bAe(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=i.match(s))==null?void 0:o[1])||0)-+(((a=r.match(s))==null?void 0:a[1])||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function vAe(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function yAe(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function CAe(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...a)=>e(n.breakpoints.up(...a),o),s.down=(...a)=>e(n.breakpoints.down(...a),o),s.between=(...a)=>e(n.breakpoints.between(...a),o),s.only=(...a)=>e(n.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(n.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const yN={xs:0,sm:600,md:900,lg:1200,xl:1536},Oee={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${yN[n]}px)`},_Ae={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:yN[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Eu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||Oee;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=i.breakpoints||Oee;return Object.keys(e).reduce((o,a)=>{if(vAe(s.keys,a)){const l=yAe(i.containerQueries?i:_Ae,a);l&&(o[l]=t(e[a],a))}else if(Object.keys(s.values||yN).includes(a)){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function Bpe(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const s=n.up(r);return i[s]={},i},{}))||{}}function Hpe(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function wAe(n,...e){const t=Bpe(n),i=[t,...e].reduce((r,s)=>ko(r,s),{});return Hpe(Object.keys(t),i)}function SAe(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,s)=>{s<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function nF({values:n,breakpoints:e,base:t}){const i=t||SAe(n,e),r=Object.keys(i);if(r.length===0)return n;let s;return r.reduce((o,a,l)=>(Array.isArray(n)?(o[a]=n[l]!=null?n[l]:n[s],s=l):typeof n=="object"?(o[a]=n[a]!=null?n[a]:n[s],s=a):o[a]=n,o),{})}function ip(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function jT(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=ip(n,t)||i,e&&(r=e(r,i,n)),r}function Ts(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=ip(l,i)||{};return Eu(o,a,d=>{let h=jT(c,r,d);return d===h&&typeof d=="string"&&(h=jT(c,r,`${e}${d==="default"?"":nt(d)}`,d)),t===!1?h:{[t]:h}})};return s.propTypes={},s.filterProps=[e],s}function xAe(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const kAe={m:"margin",p:"padding"},LAe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Fee={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},EAe=xAe(n=>{if(n.length>2)if(Fee[n])n=Fee[n];else return[n];const[e,t]=n.split(""),i=kAe[e],r=LAe[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),pj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],mj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...pj,...mj];function $k(n,e,t,i){const r=ip(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=r[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof r=="function"?r:()=>{}}function CN(n){return $k(n,"spacing",8)}function tv(n,e){return typeof e=="string"||e==null?e:n(e)}function DAe(n,e){return t=>n.reduce((i,r)=>(i[r]=tv(e,t),i),{})}function TAe(n,e,t,i){if(!e.includes(t))return null;const r=EAe(t),s=DAe(r,i),o=n[t];return Eu(n,o,s)}function Vpe(n,e){const t=CN(n.theme);return Object.keys(n).map(i=>TAe(n,e,i,t)).reduce(_S,{})}function ss(n){return Vpe(n,pj)}ss.propTypes={};ss.filterProps=pj;function os(n){return Vpe(n,mj)}os.propTypes={};os.filterProps=mj;function _N(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?_S(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function bc(n){return typeof n!="number"?n:`${n}px solid`}function jc(n,e){return Ts({prop:n,themeKey:"borders",transform:e})}const IAe=jc("border",bc),MAe=jc("borderTop",bc),RAe=jc("borderRight",bc),NAe=jc("borderBottom",bc),AAe=jc("borderLeft",bc),PAe=jc("borderColor"),OAe=jc("borderTopColor"),FAe=jc("borderRightColor"),BAe=jc("borderBottomColor"),HAe=jc("borderLeftColor"),VAe=jc("outline",bc),zAe=jc("outlineColor"),wN=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=$k(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:tv(e,i)});return Eu(n,n.borderRadius,t)}return null};wN.propTypes={};wN.filterProps=["borderRadius"];_N(IAe,MAe,RAe,NAe,AAe,PAe,OAe,FAe,BAe,HAe,wN,VAe,zAe);const SN=n=>{if(n.gap!==void 0&&n.gap!==null){const e=$k(n.theme,"spacing",8),t=i=>({gap:tv(e,i)});return Eu(n,n.gap,t)}return null};SN.propTypes={};SN.filterProps=["gap"];const xN=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=$k(n.theme,"spacing",8),t=i=>({columnGap:tv(e,i)});return Eu(n,n.columnGap,t)}return null};xN.propTypes={};xN.filterProps=["columnGap"];const kN=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=$k(n.theme,"spacing",8),t=i=>({rowGap:tv(e,i)});return Eu(n,n.rowGap,t)}return null};kN.propTypes={};kN.filterProps=["rowGap"];const WAe=Ts({prop:"gridColumn"}),$Ae=Ts({prop:"gridRow"}),jAe=Ts({prop:"gridAutoFlow"}),UAe=Ts({prop:"gridAutoColumns"}),qAe=Ts({prop:"gridAutoRows"}),GAe=Ts({prop:"gridTemplateColumns"}),KAe=Ts({prop:"gridTemplateRows"}),QAe=Ts({prop:"gridTemplateAreas"}),YAe=Ts({prop:"gridArea"});_N(SN,xN,kN,WAe,$Ae,jAe,UAe,qAe,GAe,KAe,QAe,YAe);function Zy(n,e){return e==="grey"?e:n}const XAe=Ts({prop:"color",themeKey:"palette",transform:Zy}),ZAe=Ts({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Zy}),JAe=Ts({prop:"backgroundColor",themeKey:"palette",transform:Zy});_N(XAe,ZAe,JAe);function Il(n){return n<=1&&n!==0?`${n*100}%`:n}const ePe=Ts({prop:"width",transform:Il}),bj=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,s,o,a,l;const i=((o=(s=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:s.values)==null?void 0:o[t])||yN[t];return i?((l=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Il(t)}};return Eu(n,n.maxWidth,e)}return null};bj.filterProps=["maxWidth"];const tPe=Ts({prop:"minWidth",transform:Il}),nPe=Ts({prop:"height",transform:Il}),iPe=Ts({prop:"maxHeight",transform:Il}),rPe=Ts({prop:"minHeight",transform:Il});Ts({prop:"size",cssProperty:"width",transform:Il});Ts({prop:"size",cssProperty:"height",transform:Il});const sPe=Ts({prop:"boxSizing"});_N(ePe,bj,tPe,nPe,iPe,rPe,sPe);const jk={border:{themeKey:"borders",transform:bc},borderTop:{themeKey:"borders",transform:bc},borderRight:{themeKey:"borders",transform:bc},borderBottom:{themeKey:"borders",transform:bc},borderLeft:{themeKey:"borders",transform:bc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:bc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wN},color:{themeKey:"palette",transform:Zy},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Zy},backgroundColor:{themeKey:"palette",transform:Zy},p:{style:os},pt:{style:os},pr:{style:os},pb:{style:os},pl:{style:os},px:{style:os},py:{style:os},padding:{style:os},paddingTop:{style:os},paddingRight:{style:os},paddingBottom:{style:os},paddingLeft:{style:os},paddingX:{style:os},paddingY:{style:os},paddingInline:{style:os},paddingInlineStart:{style:os},paddingInlineEnd:{style:os},paddingBlock:{style:os},paddingBlockStart:{style:os},paddingBlockEnd:{style:os},m:{style:ss},mt:{style:ss},mr:{style:ss},mb:{style:ss},ml:{style:ss},mx:{style:ss},my:{style:ss},margin:{style:ss},marginTop:{style:ss},marginRight:{style:ss},marginBottom:{style:ss},marginLeft:{style:ss},marginX:{style:ss},marginY:{style:ss},marginInline:{style:ss},marginInlineStart:{style:ss},marginInlineEnd:{style:ss},marginBlock:{style:ss},marginBlockStart:{style:ss},marginBlockEnd:{style:ss},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:SN},rowGap:{style:kN},columnGap:{style:xN},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Il},maxWidth:{style:bj},minWidth:{transform:Il},height:{transform:Il},maxHeight:{transform:Il},minHeight:{transform:Il},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function oPe(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function aPe(n,e){return typeof n=="function"?n(e):n}function lPe(){function n(t,i,r,s){const o={[t]:i,theme:r},a=s[t];if(!a)return{[t]:i};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(i==null)return null;if(c==="typography"&&i==="inherit")return{[t]:i};const h=ip(r,c)||{};return d?d(o):Eu(o,i,p=>{let m=jT(h,u,p);return p===m&&typeof p=="string"&&(m=jT(h,u,`${t}${p==="default"?"":nt(p)}`,p)),l===!1?m:{[l]:m}})}function e(t){const{sx:i,theme:r={}}=t||{};if(!i)return null;const s=r.unstable_sxConfig??jk;function o(a){let l=a;if(typeof a=="function")l=a(r);else if(typeof a!="object")return a;if(!l)return null;const c=Bpe(r.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const f=aPe(l[h],r);if(f!=null)if(typeof f=="object")if(s[h])d=_S(d,n(h,f,r,s));else{const p=Eu({theme:r},f,m=>({[h]:m}));oPe(p,f)?d[h]=e({sx:f,theme:r}):d=_S(d,p)}else d=_S(d,n(h,f,r,s))}),bAe(r,Hpe(u,d))}return Array.isArray(i)?i.map(o):o(i)}return e}const Lp=lPe();Lp.filterProps=["sx"];const cPe=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??jk;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function LN(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=cPe(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return vd(a)?{...i,...a}:i}:s={...i,...e},{...r,sx:s}}function uPe(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function dPe(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hPe=function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dPe(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=uPe(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ea="-ms-",UT="-moz-",Yi="-webkit-",zpe="comm",vj="rule",yj="decl",fPe="@import",Wpe="@keyframes",gPe="@layer",pPe=Math.abs,EN=String.fromCharCode,mPe=Object.assign;function bPe(n,e){return Fo(n,0)^45?(((e<<2^Fo(n,0))<<2^Fo(n,1))<<2^Fo(n,2))<<2^Fo(n,3):0}function $pe(n){return n.trim()}function vPe(n,e){return(n=e.exec(n))?n[0]:n}function Xi(n,e,t){return n.replace(e,t)}function h8(n,e){return n.indexOf(e)}function Fo(n,e){return n.charCodeAt(e)|0}function Ix(n,e,t){return n.slice(e,t)}function fd(n){return n.length}function Cj(n){return n.length}function cD(n,e){return e.push(n),n}function yPe(n,e){return n.map(e).join("")}var DN=1,AC=1,jpe=0,cl=0,zs=0,x0="";function TN(n,e,t,i,r,s,o){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:DN,column:AC,length:o,return:""}}function uw(n,e){return mPe(TN("",null,null,"",null,null,0),n,{length:-n.length},e)}function CPe(){return zs}function _Pe(){return zs=cl>0?Fo(x0,--cl):0,AC--,zs===10&&(AC=1,DN--),zs}function Hl(){return zs=cl<jpe?Fo(x0,cl++):0,AC++,zs===10&&(AC=1,DN++),zs}function Td(){return Fo(x0,cl)}function O2(){return cl}function Uk(n,e){return Ix(x0,n,e)}function Mx(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Upe(n){return DN=AC=1,jpe=fd(x0=n),cl=0,[]}function qpe(n){return x0="",n}function F2(n){return $pe(Uk(cl-1,f8(n===91?n+2:n===40?n+1:n)))}function wPe(n){for(;(zs=Td())&&zs<33;)Hl();return Mx(n)>2||Mx(zs)>3?"":" "}function SPe(n,e){for(;--e&&Hl()&&!(zs<48||zs>102||zs>57&&zs<65||zs>70&&zs<97););return Uk(n,O2()+(e<6&&Td()==32&&Hl()==32))}function f8(n){for(;Hl();)switch(zs){case n:return cl;case 34:case 39:n!==34&&n!==39&&f8(zs);break;case 40:n===41&&f8(n);break;case 92:Hl();break}return cl}function xPe(n,e){for(;Hl()&&n+zs!==57;)if(n+zs===84&&Td()===47)break;return"/*"+Uk(e,cl-1)+"*"+EN(n===47?n:Hl())}function kPe(n){for(;!Mx(Td());)Hl();return Uk(n,cl)}function LPe(n){return qpe(B2("",null,null,null,[""],n=Upe(n),0,[0],n))}function B2(n,e,t,i,r,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,m=1,v=1,C=1,y=0,w="",_=r,x=s,k=i,D=w;v;)switch(p=y,y=Hl()){case 40:if(p!=108&&Fo(D,d-1)==58){h8(D+=Xi(F2(y),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:D+=F2(y);break;case 9:case 10:case 13:case 32:D+=wPe(p);break;case 92:D+=SPe(O2()-1,7);continue;case 47:switch(Td()){case 42:case 47:cD(EPe(xPe(Hl(),O2()),e,t),l);break;default:D+="/"}break;case 123*m:a[c++]=fd(D)*C;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:C==-1&&(D=Xi(D,/\f/g,"")),f>0&&fd(D)-d&&cD(f>32?Hee(D+";",i,t,d-1):Hee(Xi(D," ","")+";",i,t,d-2),l);break;case 59:D+=";";default:if(cD(k=Bee(D,e,t,c,u,r,a,w,_=[],x=[],d),s),y===123)if(u===0)B2(D,e,k,k,_,s,d,a,x);else switch(h===99&&Fo(D,3)===110?100:h){case 100:case 108:case 109:case 115:B2(n,k,k,i&&cD(Bee(n,k,k,0,0,r,a,w,r,_=[],d),x),r,x,d,a,i?_:x);break;default:B2(D,k,k,k,[""],x,0,a,x)}}c=u=f=0,m=C=1,w=D="",d=o;break;case 58:d=1+fd(D),f=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&_Pe()==125)continue}switch(D+=EN(y),y*m){case 38:C=u>0?1:(D+="\f",-1);break;case 44:a[c++]=(fd(D)-1)*C,C=1;break;case 64:Td()===45&&(D+=F2(Hl())),h=Td(),u=d=fd(w=D+=kPe(O2())),y++;break;case 45:p===45&&fd(D)==2&&(m=0)}}return s}function Bee(n,e,t,i,r,s,o,a,l,c,u){for(var d=r-1,h=r===0?s:[""],f=Cj(h),p=0,m=0,v=0;p<i;++p)for(var C=0,y=Ix(n,d+1,d=pPe(m=o[p])),w=n;C<f;++C)(w=$pe(m>0?h[C]+" "+y:Xi(y,/&\f/g,h[C])))&&(l[v++]=w);return TN(n,e,t,r===0?vj:a,l,c,u)}function EPe(n,e,t){return TN(n,e,t,zpe,EN(CPe()),Ix(n,2,-2),0)}function Hee(n,e,t,i){return TN(n,e,t,yj,Ix(n,0,i),Ix(n,i+1,-1),i)}function Jy(n,e){for(var t="",i=Cj(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function DPe(n,e,t,i){switch(n.type){case gPe:if(n.children.length)break;case fPe:case yj:return n.return=n.return||n.value;case zpe:return"";case Wpe:return n.return=n.value+"{"+Jy(n.children,i)+"}";case vj:n.value=n.props.join(",")}return fd(t=Jy(n.children,i))?n.return=n.value+"{"+t+"}":""}function TPe(n){var e=Cj(n);return function(t,i,r,s){for(var o="",a=0;a<e;a++)o+=n[a](t,i,r,s)||"";return o}}function IPe(n){return function(e){e.root||(e=e.return)&&n(e)}}function Gpe(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var MPe=function(e,t,i){for(var r=0,s=0;r=s,s=Td(),r===38&&s===12&&(t[i]=1),!Mx(s);)Hl();return Uk(e,cl)},RPe=function(e,t){var i=-1,r=44;do switch(Mx(r)){case 0:r===38&&Td()===12&&(t[i]=1),e[i]+=MPe(cl-1,t,i);break;case 2:e[i]+=F2(r);break;case 4:if(r===44){e[++i]=Td()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=EN(r)}while(r=Hl());return e},NPe=function(e,t){return qpe(RPe(Upe(e),t))},Vee=new WeakMap,APe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Vee.get(i))&&!r){Vee.set(e,!0);for(var s=[],o=NPe(t,s),a=i.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},PPe=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Kpe(n,e){switch(bPe(n,e)){case 5103:return Yi+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yi+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Yi+n+UT+n+ea+n+n;case 6828:case 4268:return Yi+n+ea+n+n;case 6165:return Yi+n+ea+"flex-"+n+n;case 5187:return Yi+n+Xi(n,/(\w+).+(:[^]+)/,Yi+"box-$1$2"+ea+"flex-$1$2")+n;case 5443:return Yi+n+ea+"flex-item-"+Xi(n,/flex-|-self/,"")+n;case 4675:return Yi+n+ea+"flex-line-pack"+Xi(n,/align-content|flex-|-self/,"")+n;case 5548:return Yi+n+ea+Xi(n,"shrink","negative")+n;case 5292:return Yi+n+ea+Xi(n,"basis","preferred-size")+n;case 6060:return Yi+"box-"+Xi(n,"-grow","")+Yi+n+ea+Xi(n,"grow","positive")+n;case 4554:return Yi+Xi(n,/([^-])(transform)/g,"$1"+Yi+"$2")+n;case 6187:return Xi(Xi(Xi(n,/(zoom-|grab)/,Yi+"$1"),/(image-set)/,Yi+"$1"),n,"")+n;case 5495:case 3959:return Xi(n,/(image-set\([^]*)/,Yi+"$1$`$1");case 4968:return Xi(Xi(n,/(.+:)(flex-)?(.*)/,Yi+"box-pack:$3"+ea+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yi+n+n;case 4095:case 3583:case 4068:case 2532:return Xi(n,/(.+)-inline(.+)/,Yi+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fd(n)-1-e>6)switch(Fo(n,e+1)){case 109:if(Fo(n,e+4)!==45)break;case 102:return Xi(n,/(.+:)(.+)-([^]+)/,"$1"+Yi+"$2-$3$1"+UT+(Fo(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~h8(n,"stretch")?Kpe(Xi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Fo(n,e+1)!==115)break;case 6444:switch(Fo(n,fd(n)-3-(~h8(n,"!important")&&10))){case 107:return Xi(n,":",":"+Yi)+n;case 101:return Xi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yi+(Fo(n,14)===45?"inline-":"")+"box$3$1"+Yi+"$2$3$1"+ea+"$2box$3")+n}break;case 5936:switch(Fo(n,e+11)){case 114:return Yi+n+ea+Xi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Yi+n+ea+Xi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Yi+n+ea+Xi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Yi+n+ea+n+n}return n}var OPe=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case yj:e.return=Kpe(e.value,e.length);break;case Wpe:return Jy([uw(e,{value:Xi(e.value,"@","@"+Yi)})],r);case vj:if(e.length)return yPe(e.props,function(s){switch(vPe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jy([uw(e,{props:[Xi(s,/:(read-\w+)/,":"+UT+"$1")]})],r);case"::placeholder":return Jy([uw(e,{props:[Xi(s,/:(plac\w+)/,":"+Yi+"input-$1")]}),uw(e,{props:[Xi(s,/:(plac\w+)/,":"+UT+"$1")]}),uw(e,{props:[Xi(s,/:(plac\w+)/,ea+"input-$1")]})],r)}return""})}},FPe=[OPe],BPe=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var r=e.stylisPlugins||FPe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),C=1;C<v.length;C++)s[v[C]]=!0;a.push(m)});var l,c=[APe,PPe];{var u,d=[DPe,IPe(function(m){u.insert(m)})],h=TPe(c.concat(r,d)),f=function(v){return Jy(LPe(v),h)};l=function(v,C,y,w){u=y,f(v?v+"{"+C.styles+"}":C.styles),w&&(p.inserted[C.name]=!0)}}var p={key:t,sheet:new hPe({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},iF={exports:{}},Ji={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zee;function HPe(){if(zee)return Ji;zee=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,u=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,p=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(x){if(typeof x=="object"&&x!==null){var k=x.$$typeof;switch(k){case e:switch(x=x.type,x){case l:case c:case i:case s:case r:case d:return x;default:switch(x=x&&x.$$typeof,x){case a:case u:case p:case f:case o:return x;default:return k}}case t:return k}}}function _(x){return w(x)===c}return Ji.AsyncMode=l,Ji.ConcurrentMode=c,Ji.ContextConsumer=a,Ji.ContextProvider=o,Ji.Element=e,Ji.ForwardRef=u,Ji.Fragment=i,Ji.Lazy=p,Ji.Memo=f,Ji.Portal=t,Ji.Profiler=s,Ji.StrictMode=r,Ji.Suspense=d,Ji.isAsyncMode=function(x){return _(x)||w(x)===l},Ji.isConcurrentMode=_,Ji.isContextConsumer=function(x){return w(x)===a},Ji.isContextProvider=function(x){return w(x)===o},Ji.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Ji.isForwardRef=function(x){return w(x)===u},Ji.isFragment=function(x){return w(x)===i},Ji.isLazy=function(x){return w(x)===p},Ji.isMemo=function(x){return w(x)===f},Ji.isPortal=function(x){return w(x)===t},Ji.isProfiler=function(x){return w(x)===s},Ji.isStrictMode=function(x){return w(x)===r},Ji.isSuspense=function(x){return w(x)===d},Ji.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===i||x===c||x===s||x===r||x===d||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===o||x.$$typeof===a||x.$$typeof===u||x.$$typeof===v||x.$$typeof===C||x.$$typeof===y||x.$$typeof===m)},Ji.typeOf=w,Ji}var Wee;function VPe(){return Wee||(Wee=1,iF.exports=HPe()),iF.exports}var rF,$ee;function zPe(){if($ee)return rF;$ee=1;var n=VPe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function o(p){return n.isMemo(p)?r:s[p.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function f(p,m,v){if(typeof m!="string"){if(h){var C=d(m);C&&C!==h&&f(p,C,v)}var y=l(m);c&&(y=y.concat(c(m)));for(var w=o(p),_=o(m),x=0;x<y.length;++x){var k=y[x];if(!t[k]&&!(v&&v[k])&&!(_&&_[k])&&!(w&&w[k])){var D=u(m,k);try{a(p,k,D)}catch{}}}}return p}return rF=f,rF}zPe();var WPe=!0;function Qpe(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var _j=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||WPe===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},wj=function(e,t,i){_j(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function $Pe(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jPe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UPe=/[A-Z]|^ms/g,qPe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ype=function(e){return e.charCodeAt(1)===45},jee=function(e){return e!=null&&typeof e!="boolean"},sF=Gpe(function(n){return Ype(n)?n:n.replace(UPe,"-$&").toLowerCase()}),Uee=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(qPe,function(i,r,s){return gd={name:r,styles:s,next:gd},r})}return jPe[e]!==1&&!Ype(e)&&typeof t=="number"&&t!==0?t+"px":t};function Rx(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return gd={name:r.name,styles:r.styles,next:gd},r.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)gd={name:o.name,styles:o.styles,next:gd},o=o.next;var a=s.styles+";";return a}return GPe(n,e,t)}case"function":{if(n!==void 0){var l=gd,c=t(n);return gd=l,Rx(n,e,c)}break}}var u=t;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function GPe(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Rx(n,e,t[r])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?i+=s+"{"+e[a]+"}":jee(a)&&(i+=sF(s)+":"+Uee(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)jee(o[l])&&(i+=sF(s)+":"+Uee(s,o[l])+";");else{var c=Rx(n,e,o);switch(s){case"animation":case"animationName":{i+=sF(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var qee=/label:\s*([^\s;{]+)\s*(;|$)/g,gd;function qk(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";gd=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=Rx(t,e,s);else{var o=s;r+=o[0]}for(var a=1;a<n.length;a++)if(r+=Rx(t,e,n[a]),i){var l=s;r+=l[a]}qee.lastIndex=0;for(var c="",u;(u=qee.exec(r))!==null;)c+="-"+u[1];var d=$Pe(r)+c;return{name:d,styles:r,next:gd}}var KPe=function(e){return e()},Xpe=U6.useInsertionEffect?U6.useInsertionEffect:!1,Zpe=Xpe||KPe,Gee=Xpe||M.useLayoutEffect,Jpe=M.createContext(typeof HTMLElement<"u"?BPe({key:"css"}):null);Jpe.Provider;var Sj=function(e){return M.forwardRef(function(t,i){var r=M.useContext(Jpe);return e(t,r,i)})},Gk=M.createContext({}),xj={}.hasOwnProperty,g8="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QPe=function(e,t){var i={};for(var r in t)xj.call(t,r)&&(i[r]=t[r]);return i[g8]=e,i},YPe=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return _j(t,i,r),Zpe(function(){return wj(t,i,r)}),null},XPe=Sj(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[g8],s=[i],o="";typeof n.className=="string"?o=Qpe(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=qk(s,void 0,M.useContext(Gk));o+=e.key+"-"+a.name;var l={};for(var c in n)xj.call(n,c)&&c!=="css"&&c!==g8&&(l[c]=n[c]);return l.className=o,t&&(l.ref=t),M.createElement(M.Fragment,null,M.createElement(YPe,{cache:e,serialized:a,isStringTag:typeof r=="string"}),M.createElement(r,l))}),ZPe=XPe,JPe=function(e,t){var i=arguments;if(t==null||!xj.call(t,"css"))return M.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=ZPe,s[1]=QPe(e,t);for(var o=2;o<r;o++)s[o]=i[o];return M.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(JPe);var eOe=Sj(function(n,e){var t=n.styles,i=qk([t],void 0,M.useContext(Gk)),r=M.useRef();return Gee(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),r.current=[o,a],function(){o.flush()}},[e]),Gee(function(){var s=r.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(i.next!==void 0&&wj(e,i.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function qp(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return qk(e)}function Jd(){var n=qp.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var tOe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nOe=Gpe(function(n){return tOe.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),iOe=nOe,rOe=function(e){return e!=="theme"},Kee=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?iOe:rOe},Qee=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},sOe=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return _j(t,i,r),Zpe(function(){return wj(t,i,r)}),null},oOe=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=Qee(e,t,i),l=a||Kee(r),c=!l("as");return function(){var u=arguments,d=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var h=u[0];d.push(h[0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],h[p])}var m=Sj(function(v,C,y){var w=c&&v.as||r,_="",x=[],k=v;if(v.theme==null){k={};for(var D in v)k[D]=v[D];k.theme=M.useContext(Gk)}typeof v.className=="string"?_=Qpe(C.registered,x,v.className):v.className!=null&&(_=v.className+" ");var T=qk(d.concat(x),C.registered,k);_+=C.key+"-"+T.name,o!==void 0&&(_+=" "+o);var L=c&&a===void 0?Kee(w):l,I={};for(var R in v)c&&R==="as"||L(R)&&(I[R]=v[R]);return I.className=_,y&&(I.ref=y),M.createElement(M.Fragment,null,M.createElement(sOe,{cache:C,serialized:T,isStringTag:typeof w=="string"}),M.createElement(w,I))});return m.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=r,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(v,C){var y=n(v,te({},t,C,{shouldForwardProp:Qee(m,C,!0)}));return y.apply(void 0,d)},m}},aOe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],p8=oOe.bind(null);aOe.forEach(function(n){p8[n]=p8(n)});function lOe(n){return n==null||Object.keys(n).length===0}function eme(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(lOe(r)?t:r):e;return V.jsx(eOe,{styles:i})}/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function tme(n,e){return p8(n,e)}function cOe(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Yee=[];function Xee(n){return Yee[0]=n,qk(Yee)}const uOe=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function dOe(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=uOe(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-i/100}${t})`}function c(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-i/100}${t})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:t,...r}}const hOe={borderRadius:4};function nme(n=8,e=CN({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function fOe(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function Kk(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...o}=n,a=dOe(t),l=nme(r);let c=ko({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:l,shape:{...hOe,...s}},o);return c=CAe(c),c.applyStyles=fOe,c=e.reduce((u,d)=>ko(u,d),c),c.unstable_sxConfig={...jk,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(d){return Lp({sx:d,theme:this})},c}function gOe(n){return Object.keys(n).length===0}function ime(n=null){const e=M.useContext(Gk);return!e||gOe(e)?n:e}const pOe=Kk();function Qk(n=pOe){return ime(n)}function mOe({styles:n,themeId:e,defaultTheme:t={}}){const i=Qk(t),r=typeof n=="function"?n(e&&i[e]||i):n;return V.jsx(eme,{styles:r})}const Zee=n=>n,bOe=()=>{let n=Zee;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Zee}}},rme=bOe();function sme(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=sme(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function lt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=sme(n))&&(i&&(i+=" "),i+=e);return i}function vOe(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=tme("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Lp);return M.forwardRef(function(l,c){const u=Qk(t),{className:d,component:h="div",...f}=LN(l);return V.jsx(s,{as:h,ref:c,className:lt(d,r?r(i):i),theme:e&&u[e]||u,...f})})}const yOe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zt(n,e,t="Mui"){const i=yOe[e];return i?`${t}-${i}`:`${rme.generate(n)}-${e}`}function Jt(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=Zt(n,r,t)}),i}function ome(n){const{variants:e,...t}=n,i={variants:e,style:Xee(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Xee(r.style))}),i}const COe=Kk();function oF(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function _Oe(n){return n?(e,t)=>t[n]:null}function wOe(n,e,t){n.theme=xOe(n.theme)?t:n.theme[e]||n.theme}function H2(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>H2(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:r,...s}=t;i=s}return ame(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function ame(n,e,t=[]){var r;let i;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const a in o.props)if(n[a]!==o.props[a]&&((r=n.ownerState)==null?void 0:r[a])!==o.props[a])continue e;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(i))):t.push(o.style)}return t}function lme(n={}){const{themeId:e,defaultTheme:t=COe,rootShouldForwardProp:i=oF,slotShouldForwardProp:r=oF}=n;function s(a){wOe(a,e,t)}return(a,l={})=>{cOe(a,x=>x.filter(k=>k!==Lp));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:f=_Oe(LOe(u)),...p}=l,m=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,v=h||!1;let C=oF;u==="Root"||u==="root"?C=i:u?C=r:kOe(a)&&(C=void 0);const y=tme(a,{shouldForwardProp:C,label:SOe(),...p}),w=x=>{if(typeof x=="function"&&x.__emotion_real!==x)return function(D){return H2(D,x)};if(vd(x)){const k=ome(x);return k.variants?function(T){return H2(T,k)}:k.style}return x},_=(...x)=>{const k=[],D=x.map(w),T=[];if(k.push(s),c&&f&&T.push(function(N){var H,W;const F=(W=(H=N.theme.components)==null?void 0:H[c])==null?void 0:W.styleOverrides;if(!F)return null;const A={};for(const $ in F)A[$]=H2(N,F[$]);return f(N,A)}),c&&!m&&T.push(function(N){var A,H;const O=N.theme,F=(H=(A=O==null?void 0:O.components)==null?void 0:A[c])==null?void 0:H.variants;return F?ame(N,F):null}),v||T.push(Lp),Array.isArray(D[0])){const R=D.shift(),N=new Array(k.length).fill(""),O=new Array(T.length).fill("");let F;F=[...N,...R,...O],F.raw=[...N,...R.raw,...O],k.unshift(F)}const L=[...k,...D,...T],I=y(...L);return a.muiName&&(I.muiName=a.muiName),I};return y.withConfig&&(_.withConfig=y.withConfig),_}}function SOe(n,e){return void 0}function xOe(n){for(const e in n)return!1;return!0}function kOe(n){return typeof n=="string"&&n.charCodeAt(0)>96}function LOe(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const ir=lme();function nv(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=i;if(r==="components"||r==="slots")t[r]={...n[r],...t[r]};else if(r==="componentsProps"||r==="slotProps"){const s=n[r],o=e[r];if(!o)t[r]=s||{};else if(!s)t[r]=o;else{t[r]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;t[r][l]=nv(s[l],o[l])}}}else t[r]===void 0&&(t[r]=n[r])}return t}function EOe(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:nv(e.components[t].defaultProps,i)}function kj({props:n,name:e,defaultTheme:t,themeId:i}){let r=Qk(t);return i&&(r=r[i]||r),EOe({theme:r,name:e,props:n})}const ar=typeof window<"u"?M.useLayoutEffect:M.useEffect;function DOe(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Lj(n,e=0,t=1){return DOe(n,e,t)}function TOe(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Hd(n){if(n.type)return n;if(n.charAt(0)==="#")return Hd(TOe(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(If(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(If(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const IOe=n=>{const e=Hd(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},tS=(n,e)=>{try{return IOe(n)}catch{return n}};function Yk(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function cme(n){n=Hd(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),o=(c,u=(c+t/30)%12)=>r-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),Yk({type:a,values:l})}function m8(n){n=Hd(n);let e=n.type==="hsl"||n.type==="hsla"?Hd(cme(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MOe(n,e){const t=m8(n),i=m8(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function wn(n,e){return n=Hd(n),e=Lj(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Yk(n)}function uD(n,e,t){try{return wn(n,e)}catch{return n}}function k0(n,e){if(n=Hd(n),e=Lj(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Yk(n)}function Cr(n,e,t){try{return k0(n,e)}catch{return n}}function L0(n,e){if(n=Hd(n),e=Lj(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Yk(n)}function _r(n,e,t){try{return L0(n,e)}catch{return n}}function qT(n,e=.15){return m8(n)>.5?k0(n,e):L0(n,e)}function dD(n,e,t){try{return qT(n,e)}catch{return n}}function Jee(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function V2(n,e){var t,i,r;return M.isValidElement(n)&&e.indexOf(n.type.muiName??((r=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}function Jr(n){return n&&n.ownerDocument||document}function Mc(n){return Jr(n).defaultView||window}let ete=0;function ROe(n){const[e,t]=M.useState(n),i=n||e;return M.useEffect(()=>{e==null&&(ete+=1,t(`mui-${ete}`))},[e]),i}const NOe={...U6},tte=NOe.useId;function Gi(n){if(tte!==void 0){const e=tte();return n??e}return ROe(n)}function Tb({controlled:n,default:e,name:t,state:i="value"}){const{current:r}=M.useRef(n!==void 0),[s,o]=M.useState(e),a=r?n:s,l=M.useCallback(c=>{r||o(c)},[]);return[a,l]}function li(n){const e=M.useRef(n);return ar(()=>{e.current=n}),M.useRef((...t)=>(0,e.current)(...t)).current}const nte={};function Uc(n,e){const t=M.useRef(nte);return t.current===nte&&(t.current=n(e)),t}const AOe=[];function Xk(n){M.useEffect(n,AOe)}class IN{constructor(){Zi(this,"currentId",null);Zi(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Zi(this,"disposeEffect",()=>this.clear)}static create(){return new IN}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function Pl(){const n=Uc(IN.create).current;return Xk(n.disposeEffect),n}function PC(n){try{return n.matches(":focus-visible")}catch{}return!1}function ume(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}const Ej=n=>{const e=M.useRef({});return M.useEffect(()=>{e.current=n}),e.current};function _t(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,t&&t[c]&&(o+=" "+t[c]))}i[r]=o}return i}function POe(n){return typeof n=="string"}function dme(n,e,t){return n===void 0||POe(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function hme(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function ite(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function fme(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!e){const f=lt(t==null?void 0:t.className,s,r==null?void 0:r.className,i==null?void 0:i.className),p={...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},m={...t,...r,...i};return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=hme({...r,...i}),a=ite(i),l=ite(r),c=e(o),u=lt(c==null?void 0:c.className,t==null?void 0:t.className,s,r==null?void 0:r.className,i==null?void 0:i.className),d={...c==null?void 0:c.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},h={...c,...t,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function gme(n,e,t){return typeof n=="function"?n(e,t):n}function OC(n){var d;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,o=r?{}:gme(t,i),{props:a,internalRef:l}=fme({...s,externalSlotProps:o}),c=Wi(l,o==null?void 0:o.ref,(d=n.additionalProps)==null?void 0:d.ref);return dme(e,{...a,ref:c},i)}const pme=M.createContext(null);function Dj(){return M.useContext(pme)}const OOe=typeof Symbol=="function"&&Symbol.for,FOe=OOe?Symbol.for("mui.nested"):"__THEME_NESTED__";function BOe(n,e){return typeof e=="function"?e(n):{...n,...e}}function HOe(n){const{children:e,theme:t}=n,i=Dj(),r=M.useMemo(()=>{const s=i===null?{...t}:BOe(i,t);return s!=null&&(s[FOe]=i!==null),s},[t,i]);return V.jsx(pme.Provider,{value:r,children:e})}const mme=M.createContext();function VOe({value:n,...e}){return V.jsx(mme.Provider,{value:n??!0,...e})}const ba=()=>M.useContext(mme)??!1,bme=M.createContext(void 0);function zOe({value:n,children:e}){return V.jsx(bme.Provider,{value:n,children:e})}function WOe(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?nv(r.defaultProps,i):!r.styleOverrides&&!r.variants?nv(r,i):i}function $Oe({props:n,name:e}){const t=M.useContext(bme);return WOe({props:n,name:e,theme:{components:t}})}const rte={};function ste(n,e,t,i=!1){return M.useMemo(()=>{const r=n&&e[n]||e;if(typeof t=="function"){const s=t(r),o=n?{...e,[n]:s}:s;return i?()=>o:o}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function vme(n){const{children:e,theme:t,themeId:i}=n,r=ime(rte),s=Dj()||rte,o=ste(i,r,t),a=ste(i,s,t,!0),l=(i?o[i]:o).direction==="rtl";return V.jsx(HOe,{theme:a,children:V.jsx(Gk.Provider,{value:o,children:V.jsx(VOe,{value:l,children:V.jsx(zOe,{value:i?o[i].components:o.components,children:e})})})})}const ote={theme:void 0};function jOe(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(ote.theme=r.theme,s=ome(n(ote)),e=s,t=r.theme),s}}const Tj="mode",Ij="color-scheme",UOe="data-color-scheme";function qOe(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:r=Tj,colorSchemeStorageKey:s=Ij,attribute:o=UOe,colorSchemeNode:a="document.documentElement",nonce:l}=n;let c="",u=o;if(o==="class"&&(u=".%s"),o==="data"&&(u="[data-%s]"),u.startsWith(".")){const h=u.substring(1);c+=`${a}.classList.remove('${h}'.replace('%s', light), '${h}'.replace('%s', dark));
      ${a}.classList.add('${h}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[h,f]=d[1].split("=");f||(c+=`${a}.removeAttribute('${h}'.replace('%s', light));
      ${a}.removeAttribute('${h}'.replace('%s', dark));`),c+=`
      ${a}.setAttribute('${h}'.replace('%s', colorScheme), ${f?`${f}.replace('%s', colorScheme)`:'""'});`}else c+=`${a}.setAttribute('${u}', colorScheme);`;return V.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${e}';
  const dark = localStorage.getItem('${s}-dark') || '${i}';
  const light = localStorage.getItem('${s}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ate(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function yme(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function GOe(n){return yme(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function aF(n,e){if(typeof window>"u")return;let t;try{t=localStorage.getItem(n)||void 0,t||localStorage.setItem(n,e)}catch{}return t||e}function KOe(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:r=[],modeStorageKey:s=Tj,colorSchemeStorageKey:o=Ij,storageWindow:a=typeof window>"u"?void 0:window,noSsr:l=!1}=n,c=r.join(","),u=r.length>1,[d,h]=M.useState(()=>{const _=aF(s,e),x=aF(`${o}-light`,t),k=aF(`${o}-dark`,i);return{mode:_,systemMode:ate(_),lightColorScheme:x,darkColorScheme:k}}),[f,p]=M.useState(l||!u);M.useEffect(()=>{p(!0)},[]);const m=GOe(d),v=M.useCallback(_=>{h(x=>{if(_===x.mode)return x;const k=_??e;try{localStorage.setItem(s,k)}catch{}return{...x,mode:k,systemMode:ate(k)}})},[s,e]),C=M.useCallback(_=>{_?typeof _=="string"?_&&!c.includes(_)?console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`):h(x=>{const k={...x};return yme(x,D=>{try{localStorage.setItem(`${o}-${D}`,_)}catch{}D==="light"&&(k.lightColorScheme=_),D==="dark"&&(k.darkColorScheme=_)}),k}):h(x=>{const k={...x},D=_.light===null?t:_.light,T=_.dark===null?i:_.dark;if(D)if(!c.includes(D))console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`);else{k.lightColorScheme=D;try{localStorage.setItem(`${o}-light`,D)}catch{}}if(T)if(!c.includes(T))console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`);else{k.darkColorScheme=T;try{localStorage.setItem(`${o}-dark`,T)}catch{}}return k}):h(x=>{try{localStorage.setItem(`${o}-light`,t),localStorage.setItem(`${o}-dark`,i)}catch{}return{...x,lightColorScheme:t,darkColorScheme:i}})},[c,o,t,i]),y=M.useCallback(_=>{d.mode==="system"&&h(x=>{const k=_!=null&&_.matches?"dark":"light";return x.systemMode===k?x:{...x,systemMode:k}})},[d.mode]),w=M.useRef(y);return w.current=y,M.useEffect(()=>{if(typeof window.matchMedia!="function"||!u)return;const _=(...k)=>w.current(...k),x=window.matchMedia("(prefers-color-scheme: dark)");return x.addListener(_),_(x),()=>{x.removeListener(_)}},[u]),M.useEffect(()=>{if(a&&u){const _=x=>{const k=x.newValue;typeof x.key=="string"&&x.key.startsWith(o)&&(!k||c.match(k))&&(x.key.endsWith("light")&&C({light:k}),x.key.endsWith("dark")&&C({dark:k})),x.key===s&&(!k||["light","dark","system"].includes(k))&&v(k||e)};return a.addEventListener("storage",_),()=>{a.removeEventListener("storage",_)}}},[C,v,s,o,c,e,a,u]),{...d,mode:f?d.mode:void 0,systemMode:f?d.systemMode:void 0,colorScheme:f?m:void 0,setMode:v,setColorScheme:C}}const QOe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function YOe(n){const{themeId:e,theme:t={},modeStorageKey:i=Tj,colorSchemeStorageKey:r=Ij,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=n,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=M.createContext(void 0),u=()=>M.useContext(c)||l,d={},h={};function f(C){var Ae,Ne,Ge,gt;const{children:y,theme:w,modeStorageKey:_=i,colorSchemeStorageKey:x=r,disableTransitionOnChange:k=s,storageWindow:D=typeof window>"u"?void 0:window,documentNode:T=typeof document>"u"?void 0:document,colorSchemeNode:L=typeof document>"u"?void 0:document.documentElement,disableNestedContext:I=!1,disableStyleSheetGeneration:R=!1,defaultMode:N="system",noSsr:O}=C,F=M.useRef(!1),A=Dj(),H=M.useContext(c),W=!!H&&!I,$=M.useMemo(()=>w||(typeof t=="function"?t():t),[w]),U=$[e],z=U||$,{colorSchemes:K=d,components:Z=h,cssVarPrefix:Q}=z,G=Object.keys(K).filter(rt=>!!K[rt]).join(","),J=M.useMemo(()=>G.split(","),[G]),ne=typeof o=="string"?o:o.light,ae=typeof o=="string"?o:o.dark,se=K[ne]&&K[ae]?N:((Ne=(Ae=K[z.defaultColorScheme])==null?void 0:Ae.palette)==null?void 0:Ne.mode)||((Ge=z.palette)==null?void 0:Ge.mode),{mode:X,setMode:oe,systemMode:ve,lightColorScheme:me,darkColorScheme:ye,colorScheme:Le,setColorScheme:ie}=KOe({supportedColorSchemes:J,defaultLightColorScheme:ne,defaultDarkColorScheme:ae,modeStorageKey:_,colorSchemeStorageKey:x,defaultMode:se,storageWindow:D,noSsr:O});let Ee=X,Ue=Le;W&&(Ee=H.mode,Ue=H.colorScheme);const re=M.useMemo(()=>{var st;const rt=Ue||z.defaultColorScheme,it=((st=z.generateThemeVars)==null?void 0:st.call(z))||z.vars,Xe={...z,components:Z,colorSchemes:K,cssVarPrefix:Q,vars:it};if(typeof Xe.generateSpacing=="function"&&(Xe.spacing=Xe.generateSpacing()),rt){const Ke=K[rt];Ke&&typeof Ke=="object"&&Object.keys(Ke).forEach(kt=>{Ke[kt]&&typeof Ke[kt]=="object"?Xe[kt]={...Xe[kt],...Ke[kt]}:Xe[kt]=Ke[kt]})}return a?a(Xe):Xe},[z,Ue,Z,K,Q]),fe=z.colorSchemeSelector;ar(()=>{if(Ue&&L&&fe&&fe!=="media"){const rt=fe;let it=fe;if(rt==="class"&&(it=".%s"),rt==="data"&&(it="[data-%s]"),rt!=null&&rt.startsWith("data-")&&!rt.includes("%s")&&(it=`[${rt}="%s"]`),it.startsWith("."))L.classList.remove(...J.map(Xe=>it.substring(1).replace("%s",Xe))),L.classList.add(it.substring(1).replace("%s",Ue));else{const Xe=it.replace("%s",Ue).match(/\[([^\]]+)\]/);if(Xe){const[st,Ke]=Xe[1].split("=");Ke||J.forEach(kt=>{L.removeAttribute(st.replace(Ue,kt))}),L.setAttribute(st,Ke?Ke.replace(/"|'/g,""):"")}else L.setAttribute(it,Ue)}}},[Ue,fe,L,J]),M.useEffect(()=>{let rt;if(k&&F.current&&T){const it=T.createElement("style");it.appendChild(T.createTextNode(QOe)),T.head.appendChild(it),window.getComputedStyle(T.body),rt=setTimeout(()=>{T.head.removeChild(it)},1)}return()=>{clearTimeout(rt)}},[Ue,k,T]),M.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const Ce=M.useMemo(()=>({allColorSchemes:J,colorScheme:Ue,darkColorScheme:ye,lightColorScheme:me,mode:Ee,setColorScheme:ie,setMode:oe,systemMode:ve}),[J,Ue,ye,me,Ee,ie,oe,ve,re.colorSchemeSelector]);let Me=!0;(R||z.cssVariables===!1||W&&(A==null?void 0:A.cssVarPrefix)===Q)&&(Me=!1);const Te=V.jsxs(M.Fragment,{children:[V.jsx(vme,{themeId:U?e:void 0,theme:re,children:y}),Me&&V.jsx(eme,{styles:((gt=re.generateStyleSheets)==null?void 0:gt.call(re))||[]})]});return W?Te:V.jsx(c.Provider,{value:Ce,children:Te})}const p=typeof o=="string"?o:o.light,m=typeof o=="string"?o:o.dark;return{CssVarsProvider:f,useColorScheme:u,getInitColorSchemeScript:C=>qOe({colorSchemeStorageKey:r,defaultLightColorScheme:p,defaultDarkColorScheme:m,modeStorageKey:i,...C})}}function XOe(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const lte=(n,e,t,i=[])=>{let r=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},ZOe=(n,e,t)=>{function i(r,s=[],o=[]){Object.entries(r).forEach(([a,l])=>{(!t||!t([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?i(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}i(n)},JOe=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function lF(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},o={};return ZOe(n,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!i||!i(a,l))){const u=`--${t?`${t}-`:""}${a.join("-")}`,d=JOe(a,l);Object.assign(r,{[u]:d}),lte(s,a,`var(${u})`,c),lte(o,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:r,vars:s,varsWithDefaults:o}}function e4e(n,e={}){const{getSelector:t=v,disableCssColorScheme:i,colorSchemeSelector:r}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=n,{vars:c,css:u,varsWithDefaults:d}=lF(l,e);let h=d;const f={},{[a]:p,...m}=s;if(Object.entries(m||{}).forEach(([w,_])=>{const{vars:x,css:k,varsWithDefaults:D}=lF(_,e);h=ko(h,D),f[w]={css:k,vars:x}}),p){const{css:w,vars:_,varsWithDefaults:x}=lF(p,e);h=ko(h,x),f[a]={css:w,vars:_}}function v(w,_){var k,D;let x=r;if(r==="class"&&(x=".%s"),r==="data"&&(x="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(x=`[${r}="%s"]`),w){if(x==="media")return n.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((D=(k=s[w])==null?void 0:k.palette)==null?void 0:D.mode)||w})`]:{":root":_}};if(x)return n.defaultColorScheme===w?`:root, ${x.replace("%s",String(w))}`:x.replace("%s",String(w))}return":root"}return{vars:h,generateThemeVars:()=>{let w={...c};return Object.entries(f).forEach(([,{vars:_}])=>{w=ko(w,_)}),w},generateStyleSheets:()=>{var T,L;const w=[],_=n.defaultColorScheme||"light";function x(I,R){Object.keys(R).length&&w.push(typeof I=="string"?{[I]:{...R}}:I)}x(t(void 0,{...u}),u);const{[_]:k,...D}=f;if(k){const{css:I}=k,R=(L=(T=s[_])==null?void 0:T.palette)==null?void 0:L.mode,N=!i&&R?{colorScheme:R,...I}:{...I};x(t(_,{...N}),N)}return Object.entries(D).forEach(([I,{css:R}])=>{var F,A;const N=(A=(F=s[I])==null?void 0:F.palette)==null?void 0:A.mode,O=!i&&N?{colorScheme:N,...R}:{...R};x(t(I,{...O}),O)}),w}}}function t4e(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const n4e=(n,e)=>n.filter(t=>e.includes(t)),E0=(n,e,t)=>{const i=n.keys[0];Array.isArray(e)?e.forEach((r,s)=>{t((o,a)=>{s<=n.keys.length-1&&(s===0?Object.assign(o,a):o[n.up(n.keys[s])]=a)},r)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:n4e(n.keys,Object.keys(e))).forEach(s=>{if(n.keys.includes(s)){const o=e[s];o!==void 0&&t((a,l)=>{i===s?Object.assign(a,l):a[n.up(s)]=l},o)}}):(typeof e=="number"||typeof e=="string")&&t((r,s)=>{Object.assign(r,s)},e)};function GT(n){return`--Grid-${n}Spacing`}function MN(n){return`--Grid-parent-${n}Spacing`}const cte="--Grid-columns",eC="--Grid-parent-columns",i4e=({theme:n,ownerState:e})=>{const t={};return E0(n.breakpoints,e.size,(i,r)=>{let s={};r==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${eC}) - (var(${eC}) - ${r}) * (var(${MN("column")}) / var(${eC})))`}),i(t,s)}),t},r4e=({theme:n,ownerState:e})=>{const t={};return E0(n.breakpoints,e.offset,(i,r)=>{let s={};r==="auto"&&(s={marginLeft:"auto"}),typeof r=="number"&&(s={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${eC}) + var(${MN("column")}) * ${r} / var(${eC}))`}),i(t,s)}),t},s4e=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[cte]:12};return E0(n.breakpoints,e.columns,(i,r)=>{const s=r??12;i(t,{[cte]:s,"> *":{[eC]:s}})}),t},o4e=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return E0(n.breakpoints,e.rowSpacing,(i,r)=>{var o;const s=typeof r=="string"?r:(o=n.spacing)==null?void 0:o.call(n,r);i(t,{[GT("row")]:s,"> *":{[MN("row")]:s}})}),t},a4e=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return E0(n.breakpoints,e.columnSpacing,(i,r)=>{var o;const s=typeof r=="string"?r:(o=n.spacing)==null?void 0:o.call(n,r);i(t,{[GT("column")]:s,"> *":{[MN("column")]:s}})}),t},l4e=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return E0(n.breakpoints,e.direction,(i,r)=>{i(t,{flexDirection:r})}),t},c4e=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${GT("row")}) var(${GT("column")})`}}),u4e=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${t}-${String(i)}`)}),e},d4e=(n,e="xs")=>{function t(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const i=[];return Object.entries(n).forEach(([r,s])=>{t(s)&&i.push(`spacing-${r}-${String(s)}`)}),i}return[]},h4e=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`],f4e=Kk(),g4e=ir("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>e.root});function p4e(n){return kj({props:n,name:"MuiGrid",defaultTheme:f4e})}function m4e(n={}){const{createStyledComponent:e=g4e,useThemeProps:t=p4e,useTheme:i=Qk,componentName:r="MuiGrid"}=n,s=(c,u)=>{const{container:d,direction:h,spacing:f,wrap:p,size:m}=c,v={root:["root",d&&"container",p!=="wrap"&&`wrap-xs-${String(p)}`,...h4e(h),...u4e(m),...d?d4e(f,u.breakpoints.keys[0]):[]]};return _t(v,C=>Zt(r,C),{})};function o(c,u,d=()=>!0){const h={};return c===null||(Array.isArray(c)?c.forEach((f,p)=>{f!==null&&d(f)&&u.keys[p]&&(h[u.keys[p]]=f)}):typeof c=="object"?Object.keys(c).forEach(f=>{const p=c[f];p!=null&&d(p)&&(h[f]=p)}):h[u.keys[0]]=c),h}const a=e(s4e,a4e,o4e,i4e,l4e,c4e,r4e),l=M.forwardRef(function(u,d){const h=i(),f=t(u),p=LN(f),{className:m,children:v,columns:C=12,container:y=!1,component:w="div",direction:_="row",wrap:x="wrap",size:k={},offset:D={},spacing:T=0,rowSpacing:L=T,columnSpacing:I=T,unstable_level:R=0,...N}=p,O=o(k,h.breakpoints,K=>K!==!1),F=o(D,h.breakpoints),A=u.columns??(R?void 0:C),H=u.spacing??(R?void 0:T),W=u.rowSpacing??u.spacing??(R?void 0:L),$=u.columnSpacing??u.spacing??(R?void 0:I),U={...p,level:R,columns:A,container:y,direction:_,wrap:x,spacing:H,rowSpacing:W,columnSpacing:$,size:O,offset:F},z=s(U,h);return V.jsx(a,{ref:d,as:w,ownerState:U,className:lt(z.root,m),...N,children:M.Children.map(v,K=>{var Z;return M.isValidElement(K)&&V2(K,["Grid"])&&y&&K.props.container?M.cloneElement(K,{unstable_level:((Z=K.props)==null?void 0:Z.unstable_level)??R+1}):K})})});return l.muiName="Grid",l}const b4e=Kk(),v4e=ir("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root});function y4e(n){return kj({props:n,name:"MuiStack",defaultTheme:b4e})}function C4e(n,e){const t=M.Children.toArray(n).filter(Boolean);return t.reduce((i,r,s)=>(i.push(r),s<t.length-1&&i.push(M.cloneElement(e,{key:`separator-${s}`})),i),[])}const _4e=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],w4e=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...Eu({theme:e},nF({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=CN(e),r=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof n.spacing=="object"&&n.spacing[c]!=null||typeof n.direction=="object"&&n.direction[c]!=null)&&(l[c]=!0),l),{}),s=nF({values:n.direction,base:r}),o=nF({values:n.spacing,base:r});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const h=c>0?s[u[c-1]]:"column";s[l]=h}}),t=ko(t,Eu({theme:e},o,(l,c)=>n.useFlexGap?{gap:tv(i,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${_4e(c?s[c]:n.direction)}`]:tv(i,l)}}))}return t=wAe(e.breakpoints,t),t};function S4e(n={}){const{createStyledComponent:e=v4e,useThemeProps:t=y4e,componentName:i="MuiStack"}=n,r=()=>_t({root:["root"]},l=>Zt(i,l),{}),s=e(w4e);return M.forwardRef(function(l,c){const u=t(l),d=LN(u),{component:h="div",direction:f="column",spacing:p=0,divider:m,children:v,className:C,useFlexGap:y=!1,...w}=d,_={direction:f,spacing:p,useFlexGap:y},x=r();return V.jsx(s,{as:h,ownerState:_,ref:c,className:lt(x.root,C),...w,children:m?C4e(v,m):v})})}const Nx={black:"#000",white:"#fff"},x4e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},B1={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},H1={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},dw={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},V1={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},z1={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},W1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Cme(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Nx.white,default:Nx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const k4e=Cme();function _me(){return{text:{primary:Nx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Nx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ute=_me();function dte(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=L0(n.main,r):e==="dark"&&(n.dark=k0(n.main,s)))}function L4e(n="light"){return n==="dark"?{main:V1[200],light:V1[50],dark:V1[400]}:{main:V1[700],light:V1[400],dark:V1[800]}}function E4e(n="light"){return n==="dark"?{main:B1[200],light:B1[50],dark:B1[400]}:{main:B1[500],light:B1[300],dark:B1[700]}}function D4e(n="light"){return n==="dark"?{main:H1[500],light:H1[300],dark:H1[700]}:{main:H1[700],light:H1[400],dark:H1[800]}}function T4e(n="light"){return n==="dark"?{main:z1[400],light:z1[300],dark:z1[700]}:{main:z1[700],light:z1[500],dark:z1[900]}}function I4e(n="light"){return n==="dark"?{main:W1[400],light:W1[300],dark:W1[700]}:{main:W1[800],light:W1[500],dark:W1[900]}}function M4e(n="light"){return n==="dark"?{main:dw[400],light:dw[300],dark:dw[700]}:{main:"#ed6c02",light:dw[500],dark:dw[900]}}function Mj(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...r}=n,s=n.primary||L4e(e),o=n.secondary||E4e(e),a=n.error||D4e(e),l=n.info||T4e(e),c=n.success||I4e(e),u=n.warning||M4e(e);function d(m){return MOe(m,ute.text.primary)>=t?ute.text.primary:k4e.text.primary}const h=({color:m,name:v,mainShade:C=500,lightShade:y=300,darkShade:w=700})=>{if(m={...m},!m.main&&m[C]&&(m.main=m[C]),!m.hasOwnProperty("main"))throw new Error(If(11,v?` (${v})`:"",C));if(typeof m.main!="string")throw new Error(If(12,v?` (${v})`:"",JSON.stringify(m.main)));return dte(m,"light",y,i),dte(m,"dark",w,i),m.contrastText||(m.contrastText=d(m.main)),m};let f;return e==="light"?f=Cme():e==="dark"&&(f=_me()),ko({common:{...Nx},mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:x4e,contrastThreshold:t,getContrastText:d,augmentColor:h,tonalOffset:i,...f},r)}function R4e(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function N4e(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function A4e(n){return Math.round(n*1e5)/1e5}const hte={textTransform:"uppercase"},fte='"Roboto", "Helvetica", "Arial", sans-serif';function wme(n,e){const{fontFamily:t=fte,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof e=="function"?e(n):e,h=i/14,f=u||(v=>`${v/l*h}rem`),p=(v,C,y,w,_)=>({fontFamily:t,fontWeight:v,fontSize:f(C),lineHeight:y,...t===fte?{letterSpacing:`${A4e(w/C)}em`}:{},..._,...c}),m={h1:p(r,96,1.167,-1.5),h2:p(r,60,1.2,-.5),h3:p(s,48,1.167,0),h4:p(s,34,1.235,.25),h5:p(s,24,1.334,0),h6:p(o,20,1.6,.15),subtitle1:p(s,16,1.75,.15),subtitle2:p(o,14,1.57,.1),body1:p(s,16,1.5,.15),body2:p(s,14,1.43,.15),button:p(o,14,1.75,.4,hte),caption:p(s,12,1.66,.4),overline:p(s,12,2.66,1,hte),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ko({htmlFontSize:l,pxToRem:f,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...m},d,{clone:!1})}const P4e=.2,O4e=.14,F4e=.12;function Hr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${P4e})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${O4e})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${F4e})`].join(",")}const B4e=["none",Hr(0,2,1,-1,0,1,1,0,0,1,3,0),Hr(0,3,1,-2,0,2,2,0,0,1,5,0),Hr(0,3,3,-2,0,3,4,0,0,1,8,0),Hr(0,2,4,-1,0,4,5,0,0,1,10,0),Hr(0,3,5,-1,0,5,8,0,0,1,14,0),Hr(0,3,5,-1,0,6,10,0,0,1,18,0),Hr(0,4,5,-2,0,7,10,1,0,2,16,1),Hr(0,5,5,-3,0,8,10,1,0,3,14,2),Hr(0,5,6,-3,0,9,12,1,0,3,16,2),Hr(0,6,6,-3,0,10,14,1,0,4,18,3),Hr(0,6,7,-4,0,11,15,1,0,4,20,3),Hr(0,7,8,-4,0,12,17,2,0,5,22,4),Hr(0,7,8,-4,0,13,19,2,0,5,24,4),Hr(0,7,9,-4,0,14,21,2,0,5,26,4),Hr(0,8,9,-5,0,15,22,2,0,6,28,5),Hr(0,8,10,-5,0,16,24,2,0,6,30,5),Hr(0,8,11,-5,0,17,26,2,0,6,32,5),Hr(0,9,11,-5,0,18,28,2,0,7,34,6),Hr(0,9,12,-6,0,19,29,2,0,7,36,6),Hr(0,10,13,-6,0,20,31,3,0,8,38,7),Hr(0,10,13,-6,0,21,33,3,0,8,40,7),Hr(0,10,14,-6,0,22,35,3,0,8,42,7),Hr(0,11,14,-7,0,23,36,3,0,9,44,8),Hr(0,11,15,-7,0,24,38,3,0,9,46,8)],H4e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Sme={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gte(n){return`${Math.round(n)}ms`}function V4e(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function z4e(n){const e={...H4e,...n.easing},t={...Sme,...n.duration};return{getAutoHeightDuration:V4e,create:(r=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof o=="string"?o:gte(o)} ${a} ${typeof l=="string"?l:gte(l)}`).join(",")},...n,easing:e,duration:t}}const W4e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function $4e(n){return vd(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function xme(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[o,a]=r[s];!$4e(a)||o.startsWith("unstable_")?delete i[o]:vd(a)&&(i[o]={...a},t(i[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function b8(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:o={},typography:a={},shape:l,...c}=n;if(n.vars)throw new Error(If(20));const u=Mj(s),d=Kk(n);let h=ko(d,{mixins:N4e(d.breakpoints,i),palette:u,shadows:B4e.slice(),typography:wme(u,a),transitions:z4e(o),zIndex:{...W4e}});return h=ko(h,c),h=e.reduce((f,p)=>ko(f,p),h),h.unstable_sxConfig={...jk,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(p){return Lp({sx:p,theme:this})},h.toRuntimeSource=xme,h}function v8(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const j4e=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=v8(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function kme(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Lme(n){return n==="dark"?j4e:[]}function U4e(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...r}=n,s=Mj(e);return{palette:s,opacity:{...kme(s.mode),...t},overlays:i||Lme(s.mode),...r}}function q4e(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const G4e=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],K4e=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return G4e(n.cssVarPrefix).forEach(a=>{o[a]=t[a],delete t[a]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:o}}:s?{[s.replace("%s",e)]:o,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...o}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function Q4e(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function dt(n,e,t){!n[e]&&t&&(n[e]=t)}function nS(n){return typeof n!="string"||!n.startsWith("hsl")?n:cme(n)}function Lh(n,e){`${e}Channel`in n||(n[`${e}Channel`]=tS(nS(n[e])))}function Y4e(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Yu=n=>{try{return n()}catch{}},X4e=(n="mui")=>XOe(n);function cF(n,e,t,i){if(!e)return;e=e===!0?{}:e;const r=i==="dark"?"dark":"light";if(!t){n[i]=U4e({...e,palette:{mode:r,...e==null?void 0:e.palette}});return}const{palette:s,...o}=b8({...t,palette:{mode:r,...e==null?void 0:e.palette}});return n[i]={...e,palette:s,opacity:{...kme(r),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Lme(r)},o}function Z4e(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=q4e,colorSchemeSelector:a=t.light&&t.dark?"media":void 0,rootSelector:l=":root",...c}=n,u=Object.keys(t)[0],d=i||(t.light&&u!=="light"?"light":u),h=X4e(s),{[d]:f,light:p,dark:m,...v}=t,C={...v};let y=f;if((d==="dark"&&!("dark"in t)||d==="light"&&!("light"in t))&&(y=!0),!y)throw new Error(If(21,d));const w=cF(C,y,c,d);p&&!C.light&&cF(C,p,void 0,"light"),m&&!C.dark&&cF(C,m,void 0,"dark");let _={defaultColorScheme:d,...w,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:C,font:{...R4e(w.typography),...w.font},spacing:Y4e(c.spacing)};Object.keys(_.colorSchemes).forEach(L=>{const I=_.colorSchemes[L].palette,R=N=>{const O=N.split("-"),F=O[1],A=O[2];return h(N,I[F][A])};if(I.mode==="light"&&(dt(I.common,"background","#fff"),dt(I.common,"onBackground","#000")),I.mode==="dark"&&(dt(I.common,"background","#000"),dt(I.common,"onBackground","#fff")),Q4e(I,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),I.mode==="light"){dt(I.Alert,"errorColor",Cr(I.error.light,.6)),dt(I.Alert,"infoColor",Cr(I.info.light,.6)),dt(I.Alert,"successColor",Cr(I.success.light,.6)),dt(I.Alert,"warningColor",Cr(I.warning.light,.6)),dt(I.Alert,"errorFilledBg",R("palette-error-main")),dt(I.Alert,"infoFilledBg",R("palette-info-main")),dt(I.Alert,"successFilledBg",R("palette-success-main")),dt(I.Alert,"warningFilledBg",R("palette-warning-main")),dt(I.Alert,"errorFilledColor",Yu(()=>I.getContrastText(I.error.main))),dt(I.Alert,"infoFilledColor",Yu(()=>I.getContrastText(I.info.main))),dt(I.Alert,"successFilledColor",Yu(()=>I.getContrastText(I.success.main))),dt(I.Alert,"warningFilledColor",Yu(()=>I.getContrastText(I.warning.main))),dt(I.Alert,"errorStandardBg",_r(I.error.light,.9)),dt(I.Alert,"infoStandardBg",_r(I.info.light,.9)),dt(I.Alert,"successStandardBg",_r(I.success.light,.9)),dt(I.Alert,"warningStandardBg",_r(I.warning.light,.9)),dt(I.Alert,"errorIconColor",R("palette-error-main")),dt(I.Alert,"infoIconColor",R("palette-info-main")),dt(I.Alert,"successIconColor",R("palette-success-main")),dt(I.Alert,"warningIconColor",R("palette-warning-main")),dt(I.AppBar,"defaultBg",R("palette-grey-100")),dt(I.Avatar,"defaultBg",R("palette-grey-400")),dt(I.Button,"inheritContainedBg",R("palette-grey-300")),dt(I.Button,"inheritContainedHoverBg",R("palette-grey-A100")),dt(I.Chip,"defaultBorder",R("palette-grey-400")),dt(I.Chip,"defaultAvatarColor",R("palette-grey-700")),dt(I.Chip,"defaultIconColor",R("palette-grey-700")),dt(I.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),dt(I.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),dt(I.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),dt(I.LinearProgress,"primaryBg",_r(I.primary.main,.62)),dt(I.LinearProgress,"secondaryBg",_r(I.secondary.main,.62)),dt(I.LinearProgress,"errorBg",_r(I.error.main,.62)),dt(I.LinearProgress,"infoBg",_r(I.info.main,.62)),dt(I.LinearProgress,"successBg",_r(I.success.main,.62)),dt(I.LinearProgress,"warningBg",_r(I.warning.main,.62)),dt(I.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),dt(I.Slider,"primaryTrack",_r(I.primary.main,.62)),dt(I.Slider,"secondaryTrack",_r(I.secondary.main,.62)),dt(I.Slider,"errorTrack",_r(I.error.main,.62)),dt(I.Slider,"infoTrack",_r(I.info.main,.62)),dt(I.Slider,"successTrack",_r(I.success.main,.62)),dt(I.Slider,"warningTrack",_r(I.warning.main,.62));const N=dD(I.background.default,.8);dt(I.SnackbarContent,"bg",N),dt(I.SnackbarContent,"color",Yu(()=>I.getContrastText(N))),dt(I.SpeedDialAction,"fabHoverBg",dD(I.background.paper,.15)),dt(I.StepConnector,"border",R("palette-grey-400")),dt(I.StepContent,"border",R("palette-grey-400")),dt(I.Switch,"defaultColor",R("palette-common-white")),dt(I.Switch,"defaultDisabledColor",R("palette-grey-100")),dt(I.Switch,"primaryDisabledColor",_r(I.primary.main,.62)),dt(I.Switch,"secondaryDisabledColor",_r(I.secondary.main,.62)),dt(I.Switch,"errorDisabledColor",_r(I.error.main,.62)),dt(I.Switch,"infoDisabledColor",_r(I.info.main,.62)),dt(I.Switch,"successDisabledColor",_r(I.success.main,.62)),dt(I.Switch,"warningDisabledColor",_r(I.warning.main,.62)),dt(I.TableCell,"border",_r(uD(I.divider,1),.88)),dt(I.Tooltip,"bg",uD(I.grey[700],.92))}if(I.mode==="dark"){dt(I.Alert,"errorColor",_r(I.error.light,.6)),dt(I.Alert,"infoColor",_r(I.info.light,.6)),dt(I.Alert,"successColor",_r(I.success.light,.6)),dt(I.Alert,"warningColor",_r(I.warning.light,.6)),dt(I.Alert,"errorFilledBg",R("palette-error-dark")),dt(I.Alert,"infoFilledBg",R("palette-info-dark")),dt(I.Alert,"successFilledBg",R("palette-success-dark")),dt(I.Alert,"warningFilledBg",R("palette-warning-dark")),dt(I.Alert,"errorFilledColor",Yu(()=>I.getContrastText(I.error.dark))),dt(I.Alert,"infoFilledColor",Yu(()=>I.getContrastText(I.info.dark))),dt(I.Alert,"successFilledColor",Yu(()=>I.getContrastText(I.success.dark))),dt(I.Alert,"warningFilledColor",Yu(()=>I.getContrastText(I.warning.dark))),dt(I.Alert,"errorStandardBg",Cr(I.error.light,.9)),dt(I.Alert,"infoStandardBg",Cr(I.info.light,.9)),dt(I.Alert,"successStandardBg",Cr(I.success.light,.9)),dt(I.Alert,"warningStandardBg",Cr(I.warning.light,.9)),dt(I.Alert,"errorIconColor",R("palette-error-main")),dt(I.Alert,"infoIconColor",R("palette-info-main")),dt(I.Alert,"successIconColor",R("palette-success-main")),dt(I.Alert,"warningIconColor",R("palette-warning-main")),dt(I.AppBar,"defaultBg",R("palette-grey-900")),dt(I.AppBar,"darkBg",R("palette-background-paper")),dt(I.AppBar,"darkColor",R("palette-text-primary")),dt(I.Avatar,"defaultBg",R("palette-grey-600")),dt(I.Button,"inheritContainedBg",R("palette-grey-800")),dt(I.Button,"inheritContainedHoverBg",R("palette-grey-700")),dt(I.Chip,"defaultBorder",R("palette-grey-700")),dt(I.Chip,"defaultAvatarColor",R("palette-grey-300")),dt(I.Chip,"defaultIconColor",R("palette-grey-300")),dt(I.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),dt(I.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),dt(I.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),dt(I.LinearProgress,"primaryBg",Cr(I.primary.main,.5)),dt(I.LinearProgress,"secondaryBg",Cr(I.secondary.main,.5)),dt(I.LinearProgress,"errorBg",Cr(I.error.main,.5)),dt(I.LinearProgress,"infoBg",Cr(I.info.main,.5)),dt(I.LinearProgress,"successBg",Cr(I.success.main,.5)),dt(I.LinearProgress,"warningBg",Cr(I.warning.main,.5)),dt(I.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),dt(I.Slider,"primaryTrack",Cr(I.primary.main,.5)),dt(I.Slider,"secondaryTrack",Cr(I.secondary.main,.5)),dt(I.Slider,"errorTrack",Cr(I.error.main,.5)),dt(I.Slider,"infoTrack",Cr(I.info.main,.5)),dt(I.Slider,"successTrack",Cr(I.success.main,.5)),dt(I.Slider,"warningTrack",Cr(I.warning.main,.5));const N=dD(I.background.default,.98);dt(I.SnackbarContent,"bg",N),dt(I.SnackbarContent,"color",Yu(()=>I.getContrastText(N))),dt(I.SpeedDialAction,"fabHoverBg",dD(I.background.paper,.15)),dt(I.StepConnector,"border",R("palette-grey-600")),dt(I.StepContent,"border",R("palette-grey-600")),dt(I.Switch,"defaultColor",R("palette-grey-300")),dt(I.Switch,"defaultDisabledColor",R("palette-grey-600")),dt(I.Switch,"primaryDisabledColor",Cr(I.primary.main,.55)),dt(I.Switch,"secondaryDisabledColor",Cr(I.secondary.main,.55)),dt(I.Switch,"errorDisabledColor",Cr(I.error.main,.55)),dt(I.Switch,"infoDisabledColor",Cr(I.info.main,.55)),dt(I.Switch,"successDisabledColor",Cr(I.success.main,.55)),dt(I.Switch,"warningDisabledColor",Cr(I.warning.main,.55)),dt(I.TableCell,"border",Cr(uD(I.divider,1),.68)),dt(I.Tooltip,"bg",uD(I.grey[700],.92))}Lh(I.background,"default"),Lh(I.background,"paper"),Lh(I.common,"background"),Lh(I.common,"onBackground"),Lh(I,"divider"),Object.keys(I).forEach(N=>{const O=I[N];N!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&dt(I[N],"mainChannel",tS(nS(O.main))),O.light&&dt(I[N],"lightChannel",tS(nS(O.light))),O.dark&&dt(I[N],"darkChannel",tS(nS(O.dark))),O.contrastText&&dt(I[N],"contrastTextChannel",tS(nS(O.contrastText))),N==="text"&&(Lh(I[N],"primary"),Lh(I[N],"secondary")),N==="action"&&(O.active&&Lh(I[N],"active"),O.selected&&Lh(I[N],"selected")))})}),_=e.reduce((L,I)=>ko(L,I),_);const x={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:K4e(_)},{vars:k,generateThemeVars:D,generateStyleSheets:T}=e4e(_,x);return _.vars=k,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach(([L,I])=>{_[L]=I}),_.generateThemeVars=D,_.generateStyleSheets=T,_.generateSpacing=function(){return nme(c.spacing,CN(this))},_.getColorSchemeSelector=t4e(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=o,_.unstable_sxConfig={...jk,...c==null?void 0:c.unstable_sxConfig},_.unstable_sx=function(I){return Lp({sx:I,theme:this})},_.toRuntimeSource=xme,_}function pte(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Mj({...t===!0?{}:t.palette,mode:e})})}function D0(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...o}=n,a=s||"light",l=r==null?void 0:r[a],c={...r,...t?{[a]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return b8(n,...e);let u=t;"palette"in n||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=b8({...n,palette:u},...e);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},pte(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},pte(d,"light",c.light)),d}return!t&&!("light"in c)&&a==="light"&&(c.light=!0),Z4e({...o,colorSchemes:c,defaultColorScheme:a,...typeof i!="boolean"&&i},...e)}const RN=D0(),wu="$$material";function eh(){const n=Qk(RN);return n[wu]||n}function Eme(n){return V.jsx(mOe,{...n,defaultTheme:RN,themeId:wu})}function Dme(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const va=n=>Dme(n)&&n!=="classes",$e=lme({themeId:wu,defaultTheme:RN,rootShouldForwardProp:va});function Rj(n){return function(t){return V.jsx(Eme,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function J4e(){return LN}const Nj=n=>n.scrollTop;function Ep(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}const sn=jOe;function on(n){return $Oe(n)}function e5e(n){return Zt("MuiSvgIcon",n)}Jt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const t5e=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${nt(e)}`,`fontSize${nt(t)}`]};return _t(r,e5e,i)},n5e=$e("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${nt(t.color)}`],e[`fontSize${nt(t.fontSize)}`]]}})(sn(({theme:n})=>{var e,t,i,r,s,o,a,l,c,u,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,m])=>m&&m.main).map(([m])=>{var v,C;return{props:{color:m},style:{color:(C=(v=(n.vars??n).palette)==null?void 0:v[m])==null?void 0:C.main}}}),{props:{color:"action"},style:{color:(h=(d=(n.vars??n).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(p=(f=(n.vars??n).palette)==null?void 0:f.action)==null?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Dp=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...f}=i,p=M.isValidElement(r)&&r.type==="svg",m={...i,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:p},v={};u||(v.viewBox=h);const C=t5e(m);return V.jsxs(n5e,{as:a,className:lt(C.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t,...v,...f,...p&&r.props,ownerState:m,children:[p?r.props.children:r,d?V.jsx("title",{children:d}):null]})});Dp.muiName="SvgIcon";function Ut(n,e){function t(i,r){return V.jsx(Dp,{"data-testid":`${e}Icon`,ref:r,...i,children:n})}return t.muiName=Dp.muiName,M.memo(M.forwardRef(t))}function i5e(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Mc(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return n==="left"?r?`translateX(${r.right+a-i.left}px)`:`translateX(${s.innerWidth+a-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-a}px)`:`translateX(-${i.left+i.width-a}px)`:n==="up"?r?`translateY(${r.bottom+l-i.top}px)`:`translateY(${s.innerHeight+l-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}function r5e(n){return typeof n=="function"?n():n}function hD(n,e,t){const i=r5e(t),r=i5e(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const Tme=M.forwardRef(function(e,t){const i=eh(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=r,in:h,onEnter:f,onEntered:p,onEntering:m,onExit:v,onExited:C,onExiting:y,style:w,timeout:_=s,TransitionComponent:x=$c,...k}=e,D=M.useRef(null),T=Wi(Up(l),D,t),L=$=>U=>{$&&(U===void 0?$(D.current):$(D.current,U))},I=L(($,U)=>{hD(u,$,c),Nj($),f&&f($,U)}),R=L(($,U)=>{const z=Ep({timeout:_,style:w,easing:d},{mode:"enter"});$.style.webkitTransition=i.transitions.create("-webkit-transform",{...z}),$.style.transition=i.transitions.create("transform",{...z}),$.style.webkitTransform="none",$.style.transform="none",m&&m($,U)}),N=L(p),O=L(y),F=L($=>{const U=Ep({timeout:_,style:w,easing:d},{mode:"exit"});$.style.webkitTransition=i.transitions.create("-webkit-transform",U),$.style.transition=i.transitions.create("transform",U),hD(u,$,c),v&&v($)}),A=L($=>{$.style.webkitTransition="",$.style.transition="",C&&C($)}),H=$=>{o&&o(D.current,$)},W=M.useCallback(()=>{D.current&&hD(u,D.current,c)},[u,c]);return M.useEffect(()=>{if(h||u==="down"||u==="right")return;const $=gj(()=>{D.current&&hD(u,D.current,c)}),U=Mc(D.current);return U.addEventListener("resize",$),()=>{$.clear(),U.removeEventListener("resize",$)}},[u,h,c]),M.useEffect(()=>{h||W()},[h,W]),V.jsx(x,{nodeRef:D,onEnter:I,onEntered:N,onEntering:R,onExit:F,onExited:A,onExiting:O,addEndListener:H,appear:a,in:h,timeout:_,...k,children:($,{ownerState:U,...z})=>M.cloneElement(l,{ref:T,style:{visibility:$==="exited"&&!h?"hidden":void 0,...w,...l.props.style},...z})})});function s5e(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function o5e(n){return parseFloat(n)}function Ime({props:n,name:e}){return kj({props:n,name:e,defaultTheme:RN,themeId:wu})}function mte({theme:n,...e}){const t=wu in n?n[wu]:void 0;return V.jsx(vme,{...e,themeId:t?wu:void 0,theme:t||n})}const fD={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:a5e,useColorScheme:QEt,getInitColorSchemeScript:YEt}=YOe({themeId:wu,theme:()=>D0({cssVariables:!0}),colorSchemeStorageKey:fD.colorSchemeStorageKey,modeStorageKey:fD.modeStorageKey,defaultColorScheme:{light:fD.defaultLightColorScheme,dark:fD.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:wme(n.palette,n.typography)};return e.unstable_sx=function(i){return Lp({sx:i,theme:this})},e}}),l5e=a5e;function c5e({theme:n,...e}){return typeof n=="function"?V.jsx(mte,{theme:n,...e}):"colorSchemes"in(wu in n?n[wu]:n)?V.jsx(l5e,{theme:n,...e}):V.jsx(mte,{theme:n,...e})}function u5e(n){return Zt("MuiCollapse",n)}Jt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const d5e=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return _t(i,u5e,t)},h5e=$e("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(sn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),f5e=$e("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),g5e=$e("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),KT=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:o,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:v,orientation:C="vertical",style:y,timeout:w=Sme.standard,TransitionComponent:_=$c,...x}=i,k={...i,orientation:C,collapsedSize:a},D=d5e(k),T=eh(),L=Pl(),I=M.useRef(null),R=M.useRef(),N=typeof a=="number"?`${a}px`:a,O=C==="horizontal",F=O?"width":"height",A=M.useRef(null),H=Wi(t,A),W=ne=>ae=>{if(ne){const se=A.current;ae===void 0?ne(se):ne(se,ae)}},$=()=>I.current?I.current[O?"clientWidth":"clientHeight"]:0,U=W((ne,ae)=>{I.current&&O&&(I.current.style.position="absolute"),ne.style[F]=N,d&&d(ne,ae)}),z=W((ne,ae)=>{const se=$();I.current&&O&&(I.current.style.position="");const{duration:X,easing:oe}=Ep({style:y,timeout:w,easing:c},{mode:"enter"});if(w==="auto"){const ve=T.transitions.getAutoHeightDuration(se);ne.style.transitionDuration=`${ve}ms`,R.current=ve}else ne.style.transitionDuration=typeof X=="string"?X:`${X}ms`;ne.style[F]=`${se}px`,ne.style.transitionTimingFunction=oe,f&&f(ne,ae)}),K=W((ne,ae)=>{ne.style[F]="auto",h&&h(ne,ae)}),Z=W(ne=>{ne.style[F]=`${$()}px`,p&&p(ne)}),Q=W(m),G=W(ne=>{const ae=$(),{duration:se,easing:X}=Ep({style:y,timeout:w,easing:c},{mode:"exit"});if(w==="auto"){const oe=T.transitions.getAutoHeightDuration(ae);ne.style.transitionDuration=`${oe}ms`,R.current=oe}else ne.style.transitionDuration=typeof se=="string"?se:`${se}ms`;ne.style[F]=N,ne.style.transitionTimingFunction=X,v&&v(ne)}),J=ne=>{w==="auto"&&L.start(R.current||0,ne),r&&r(A.current,ne)};return V.jsx(_,{in:u,onEnter:U,onEntered:K,onEntering:z,onExit:Z,onExited:Q,onExiting:G,addEndListener:J,nodeRef:A,timeout:w==="auto"?null:w,...x,children:(ne,{ownerState:ae,...se})=>V.jsx(h5e,{as:l,className:lt(D.root,o,{entered:D.entered,exited:!u&&N==="0px"&&D.hidden}[ne]),style:{[O?"minWidth":"minHeight"]:N,...y},ref:H,ownerState:{...k,state:ne},...se,children:V.jsx(f5e,{ownerState:{...k,state:ne},className:D.wrapper,ref:I,children:V.jsx(g5e,{ownerState:{...k,state:ne},className:D.wrapperInner,children:s})})})})});KT&&(KT.muiSupportAuto=!0);function bte(n){return n.substring(2).toLowerCase()}function p5e(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function Aj(n){const{children:e,disableReactTree:t=!1,mouseEvent:i="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=n,o=M.useRef(!1),a=M.useRef(null),l=M.useRef(!1),c=M.useRef(!1);M.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Wi(Up(e),a),d=li(p=>{const m=c.current;c.current=!1;const v=Jr(a.current);if(!l.current||!a.current||"clientX"in p&&p5e(p,v))return;if(o.current){o.current=!1;return}let C;p.composedPath?C=p.composedPath().includes(a.current):C=!v.documentElement.contains(p.target)||a.current.contains(p.target),!C&&(t||!m)&&r(p)}),h=p=>m=>{c.current=!0;const v=e.props[p];v&&v(m)},f={ref:u};return s!==!1&&(f[s]=h(s)),M.useEffect(()=>{if(s!==!1){const p=bte(s),m=Jr(a.current),v=()=>{o.current=!0};return m.addEventListener(p,d),m.addEventListener("touchmove",v),()=>{m.removeEventListener(p,d),m.removeEventListener("touchmove",v)}}},[d,s]),i!==!1&&(f[i]=h(i)),M.useEffect(()=>{if(i!==!1){const p=bte(i),m=Jr(a.current);return m.addEventListener(p,d),()=>{m.removeEventListener(p,d)}}},[d,i]),M.cloneElement(e,f)}function m5e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function b5e(n,e,t){return m5e(n.prototype,e),n}function Ar(){return Ar=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ar.apply(this,arguments)}function v5e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function fp(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function vte(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Mme=q.createContext(),y5e={mui:{root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},container:{containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}}},Eh={view:{default:20,dense:4},snackbar:{default:6,dense:2}},vb={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Tme,transitionDuration:{enter:225,exit:195}},wS=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},C5e=function(e){return""+wS(e.vertical)+wS(e.horizontal)},_5e=function(e){return Object.keys(e).filter(function(t){return!y5e.container[t]}).reduce(function(t,i){var r;return Ar({},t,(r={},r[i]=e[i],r))},{})},Gg={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},z2={toContainerAnchorOrigin:function(e){return"containerAnchorOrigin"+e},toAnchorOrigin:function(e){var t=e.vertical,i=e.horizontal;return"anchorOrigin"+wS(t)+wS(i)},toVariant:function(e){return"variant"+wS(e)}},gD=function(e){return!!e||e===0},yte=function(e){return typeof e=="number"||e===null},w5e=function(e,t,i){return function(r){return r==="autoHideDuration"?yte(e.autoHideDuration)?e.autoHideDuration:yte(t.autoHideDuration)?t.autoHideDuration:vb.autoHideDuration:e[r]||t[r]||i[r]}};function uF(n,e,t){return n===void 0&&(n={}),e===void 0&&(e={}),t===void 0&&(t={}),Ar({},t,{},e,{},n)}var S5e="SnackbarContent",Rme={root:S5e+"-root"},x5e=$e("div")(function(n){var e,t,i=n.theme;return t={},t["&."+Rme.root]=(e={display:"flex",flexWrap:"wrap",flexGrow:1},e[i.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},e),t}),k5e=M.forwardRef(function(n,e){var t=n.className,i=fp(n,["className"]);return q.createElement(x5e,Object.assign({ref:e,className:Tx(Rme.root,t)},i))}),Cte={right:"left",left:"right",bottom:"up",top:"down"},L5e=function(e){return e.horizontal!=="center"?Cte[e.horizontal]:Cte[e.vertical]},E5e=function(e){return q.createElement(Dp,Object.assign({},e),q.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},D5e=function(e){return q.createElement(Dp,Object.assign({},e),q.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},T5e=function(e){return q.createElement(Dp,Object.assign({},e),q.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},I5e=function(e){return q.createElement(Dp,Object.assign({},e),q.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},pD={fontSize:20,marginInlineEnd:8},M5e={default:void 0,success:q.createElement(E5e,{style:pD}),warning:q.createElement(D5e,{style:pD}),error:q.createElement(T5e,{style:pD}),info:q.createElement(I5e,{style:pD})};function SS(n,e){return n.reduce(function(t,i){return i==null?t:function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var l=[].concat(o);e&&l.indexOf(e)===-1&&l.push(e),t.apply(this,l),i.apply(this,l)}},function(){})}var R5e=typeof window<"u"?M.useLayoutEffect:M.useEffect;function _te(n){var e=M.useRef(n);return R5e(function(){e.current=n}),M.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var N5e=M.forwardRef(function(n,e){var t=n.children,i=n.autoHideDuration,r=n.ClickAwayListenerProps,s=n.disableWindowBlurListener,o=s===void 0?!1:s,a=n.onClose,l=n.onMouseEnter,c=n.onMouseLeave,u=n.open,d=n.resumeHideDuration,h=fp(n,["children","autoHideDuration","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration"]),f=M.useRef(),p=_te(function(){a&&a.apply(void 0,arguments)}),m=_te(function(x){!a||x==null||(clearTimeout(f.current),f.current=setTimeout(function(){p(null,Gg.TIMEOUT)},x))});M.useEffect(function(){return u&&m(i),function(){clearTimeout(f.current)}},[u,i,m]);var v=function(){clearTimeout(f.current)},C=M.useCallback(function(){i!=null&&m(d??i*.5)},[i,d,m]),y=function(k){l&&l(k),v()},w=function(k){c&&c(k),C()},_=function(k){a&&a(k,Gg.CLICKAWAY)};return M.useEffect(function(){if(!o&&u)return window.addEventListener("focus",C),window.addEventListener("blur",v),function(){window.removeEventListener("focus",C),window.removeEventListener("blur",v)}},[o,C,u]),M.createElement(Aj,Ar({onClickAway:_},r),M.createElement("div",Ar({onMouseEnter:y,onMouseLeave:w,ref:e},h),t))}),Dh="SnackbarItem",Ea={contentRoot:Dh+"-contentRoot",lessPadding:Dh+"-lessPadding",variantSuccess:Dh+"-variantSuccess",variantError:Dh+"-variantError",variantInfo:Dh+"-variantInfo",variantWarning:Dh+"-variantWarning",message:Dh+"-message",action:Dh+"-action",wrappedRoot:Dh+"-wrappedRoot"},A5e=$e(N5e)(function(n){var e,t=n.theme,i=t.palette.mode||t.palette.type,r=qT(t.palette.background.default,i==="light"?.8:.98);return e={},e["&."+Ea.wrappedRoot]={position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},e["."+Ea.contentRoot]=Ar({},t.typography.body2,{backgroundColor:r,color:t.palette.getContrastText(r),alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}),e["."+Ea.lessPadding]={paddingLeft:8*2.5},e["."+Ea.variantSuccess]={backgroundColor:"#43a047",color:"#fff"},e["."+Ea.variantError]={backgroundColor:"#d32f2f",color:"#fff"},e["."+Ea.variantInfo]={backgroundColor:"#2196f3",color:"#fff"},e["."+Ea.variantWarning]={backgroundColor:"#ff9800",color:"#fff"},e["."+Ea.message]={display:"flex",alignItems:"center",padding:"8px 0"},e["."+Ea.action]={display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8},e}),P5e=function(e){var t=e.classes,i=fp(e,["classes"]),r=M.useRef(),s=M.useState(!0),o=s[0],a=s[1];M.useEffect(function(){return function(){r.current&&clearTimeout(r.current)}},[]);var l=SS([i.snack.onClose,i.onClose],i.snack.key),c=function(){i.snack.requestClose&&l(null,Gg.INSTRCUTED)},u=function(){r.current=setTimeout(function(){a(!o)},125)},d=i.style,h=i.ariaAttributes,f=i.className,p=i.hideIconVariant,m=i.iconVariant,v=i.snack,C=i.action,y=i.content,w=i.TransitionComponent,_=i.TransitionProps,x=i.transitionDuration,k=fp(i,["style","dense","ariaAttributes","className","hideIconVariant","iconVariant","snack","action","content","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),D=v.key,T=v.open,L=v.className,I=v.variant,R=v.content,N=v.action,O=v.ariaAttributes,F=v.anchorOrigin,A=v.message,H=v.TransitionComponent,W=v.TransitionProps,$=v.transitionDuration,U=fp(v,["persist","key","open","entered","requestClose","className","variant","content","action","ariaAttributes","anchorOrigin","message","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),z=Ar({},M5e,{},m)[I],K=Ar({"aria-describedby":"notistack-snackbar"},uF(O,h)),Z=H||w||vb.TransitionComponent,Q=uF($,x,vb.transitionDuration),G=Ar({direction:L5e(F)},uF(W,_)),J=N||C;typeof J=="function"&&(J=J(D));var ne=R||y;typeof ne=="function"&&(ne=ne(D,v.message));var ae=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce(function(se,X){var oe;return Ar({},se,(oe={},oe[X]=SS([i.snack[X],i[X]],i.snack.key),oe))},{});return q.createElement(KT,{unmountOnExit:!0,timeout:175,in:o,onExited:ae.onExited},q.createElement(A5e,Object.assign({},k,U,{open:T,className:Tx(t.root,Ea.wrappedRoot,t[z2.toAnchorOrigin(F)]),onClose:l}),q.createElement(Z,Object.assign({appear:!0,in:T,timeout:Q},G,{onExit:ae.onExit,onExiting:ae.onExiting,onExited:u,onEnter:ae.onEnter,onEntering:ae.onEntering,onEntered:SS([ae.onEntered,c])}),ne||q.createElement(k5e,Object.assign({},K,{role:"alert",style:d,className:Tx(Ea.contentRoot,Ea[z2.toVariant(I)],t[z2.toVariant(I)],f,L,!p&&z&&Ea.lessPadding)}),q.createElement("div",{id:K["aria-describedby"],className:Ea.message},p?null:z,A),J&&q.createElement("div",{className:Ea.action},J)))))},dF={container:"& > .MuiCollapse-container, & > .MuiCollapse-root",wrapper:"& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper"},hF=16,km="SnackbarContainer",pu={root:km+"-root",rootDense:km+"-rootDense",top:km+"-top",bottom:km+"-bottom",left:km+"-left",right:km+"-right",center:km+"-center"},O5e=$e("div")(function(n){var e,t,i,r,s,o,a=n.theme;return o={},o["&."+pu.root]=(e={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:a.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"},e[dF.container]={pointerEvents:"all"},e[dF.wrapper]={padding:Eh.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},e.maxWidth="calc(100% - "+Eh.view.default*2+"px)",e[a.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - "+hF*2+"px)"},e),o["&."+pu.rootDense]=(t={},t[dF.wrapper]={padding:Eh.snackbar.dense+"px 0px"},t),o["&."+pu.top]={top:Eh.view.default-Eh.snackbar.default,flexDirection:"column"},o["&."+pu.bottom]={bottom:Eh.view.default-Eh.snackbar.default,flexDirection:"column-reverse"},o["&."+pu.left]=(i={left:Eh.view.default},i[a.breakpoints.up("sm")]={alignItems:"flex-start"},i[a.breakpoints.down("sm")]={left:hF+"px"},i),o["&."+pu.right]=(r={right:Eh.view.default},r[a.breakpoints.up("sm")]={alignItems:"flex-end"},r[a.breakpoints.down("sm")]={right:hF+"px"},r),o["&."+pu.center]=(s={left:"50%",transform:"translateX(-50%)"},s[a.breakpoints.up("sm")]={alignItems:"center"},s),o}),F5e=function(e){var t=e.className,i=e.anchorOrigin,r=e.dense,s=fp(e,["className","anchorOrigin","dense"]),o=Tx(pu[i.vertical],pu[i.horizontal],pu.root,t,r&&pu.rootDense);return q.createElement(O5e,Object.assign({className:o},s))},B5e=q.memo(F5e),H5e=function(n){v5e(e,n);function e(i){var r;return r=n.call(this,i)||this,r.enqueueSnackbar=function(s,o){o===void 0&&(o={});var a=o,l=a.key,c=a.preventDuplicate,u=fp(a,["key","preventDuplicate"]),d=gD(l),h=d?l:new Date().getTime()+Math.random(),f=w5e(u,r.props,vb),p=Ar({key:h},u,{message:s,open:!0,entered:!1,requestClose:!1,variant:f("variant"),anchorOrigin:f("anchorOrigin"),autoHideDuration:f("autoHideDuration")});return u.persist&&(p.autoHideDuration=void 0),r.setState(function(m){if(c===void 0&&r.props.preventDuplicate||c){var v=function(_){return d?_.key===l:_.message===s},C=m.queue.findIndex(v)>-1,y=m.snacks.findIndex(v)>-1;if(C||y)return m}return r.handleDisplaySnack(Ar({},m,{queue:[].concat(m.queue,[p])}))}),h},r.handleDisplaySnack=function(s){var o=s.snacks;return o.length>=r.maxSnack?r.handleDismissOldest(s):r.processQueue(s)},r.processQueue=function(s){var o=s.queue,a=s.snacks;return o.length>0?Ar({},s,{snacks:[].concat(a,[o[0]]),queue:o.slice(1,o.length)}):s},r.handleDismissOldest=function(s){if(s.snacks.some(function(u){return!u.open||u.requestClose}))return s;var o=!1,a=!1,l=s.snacks.reduce(function(u,d){return u+(d.open&&d.persist?1:0)},0);l===r.maxSnack&&(a=!0);var c=s.snacks.map(function(u){return!o&&(!u.persist||a)?(o=!0,u.entered?(u.onClose&&u.onClose(null,Gg.MAXSNACK,u.key),r.props.onClose&&r.props.onClose(null,Gg.MAXSNACK,u.key),Ar({},u,{open:!1})):Ar({},u,{requestClose:!0})):Ar({},u)});return Ar({},s,{snacks:c})},r.handleEnteredSnack=function(s,o,a){if(!gD(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");r.setState(function(l){var c=l.snacks;return{snacks:c.map(function(u){return u.key===a?Ar({},u,{entered:!0}):Ar({},u)})}})},r.handleCloseSnack=function(s,o,a){if(r.props.onClose&&r.props.onClose(s,o,a),o!==Gg.CLICKAWAY){var l=a===void 0;r.setState(function(c){var u=c.snacks,d=c.queue;return{snacks:u.map(function(h){return!l&&h.key!==a?Ar({},h):h.entered?Ar({},h,{open:!1}):Ar({},h,{requestClose:!0})}),queue:d.filter(function(h){return h.key!==a})}})}},r.closeSnackbar=function(s){var o=r.state.snacks.find(function(a){return a.key===s});gD(s)&&o&&o.onClose&&o.onClose(null,Gg.INSTRUCTED,s),r.handleCloseSnack(null,Gg.INSTRUCTED,s)},r.handleExitedSnack=function(s,o,a){var l=o||a;if(!gD(l))throw new Error("handleExitedSnack Cannot be called with undefined key");r.setState(function(c){var u=r.processQueue(Ar({},c,{snacks:c.snacks.filter(function(d){return d.key!==l})}));return u.queue.length===0?u:r.handleDismissOldest(u)})},r.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:r.enqueueSnackbar.bind(vte(r)),closeSnackbar:r.closeSnackbar.bind(vte(r))}},r}var t=e.prototype;return t.render=function(){var r=this,s=this.state.contextValue,o=this.props,a=o.iconVariant,l=o.dense,c=l===void 0?vb.dense:l,u=o.hideIconVariant,d=u===void 0?vb.hideIconVariant:u,h=o.domRoot,f=o.children,p=o.classes,m=p===void 0?{}:p,v=fp(o,["maxSnack","preventDuplicate","variant","anchorOrigin","iconVariant","dense","hideIconVariant","domRoot","children","classes"]),C=this.state.snacks.reduce(function(w,_){var x,k=C5e(_.anchorOrigin),D=w[k]||[];return Ar({},w,(x={},x[k]=[].concat(D,[_]),x))},{}),y=Object.keys(C).map(function(w){var _=C[w];return q.createElement(B5e,{key:w,dense:c,anchorOrigin:_[0].anchorOrigin,className:Tx(m.containerRoot,m[z2.toContainerAnchorOrigin(w)])},_.map(function(x){return q.createElement(P5e,Object.assign({},v,{key:x.key,snack:x,dense:c,iconVariant:a,hideIconVariant:d,classes:_5e(m),onClose:r.handleCloseSnack,onExited:SS([r.handleExitedSnack,r.props.onExited]),onEntered:SS([r.handleEnteredSnack,r.props.onEntered])}))}))});return q.createElement(Mme.Provider,{value:s},f,h?sN.createPortal(y,h):y)},b5e(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||vb.maxSnack}}]),e}(M.Component),V5e=function(){return M.useContext(Mme)};const z5e=Jt("MuiBox",["root"]),W5e=D0(),Fi=vOe({themeId:wu,defaultTheme:W5e,defaultClassName:z5e.root,generateClassName:rme.generate});function $5e(n){const e=Jr(n);return e.body===n?Mc(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function xS(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function wte(n){return parseInt(Mc(n).getComputedStyle(n).paddingRight,10)||0}function j5e(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function Ste(n,e,t,i,r){const s=[e,t,...i];[].forEach.call(n.children,o=>{const a=!s.includes(o),l=!j5e(o);a&&l&&xS(o,r)})}function fF(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function U5e(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if($5e(i)){const o=ume(Mc(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${wte(i)+o}px`;const a=Jr(i).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${wte(l)+o}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=Jr(i).body;else{const o=i.parentElement,a=Mc(i);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:i}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function q5e(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class G5e{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&xS(e.modalRef,!1);const r=q5e(t);Ste(t,e.mount,e.modalRef,r,!0);const s=fF(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=fF(this.containers,s=>s.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=U5e(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=fF(this.containers,o=>o.modals.includes(e)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&xS(e.modalRef,t),Ste(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&xS(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const K5e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Q5e(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function Y5e(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function X5e(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||Y5e(n))}function Z5e(n){const e=[],t=[];return Array.from(n.querySelectorAll(K5e)).forEach((i,r)=>{const s=Q5e(i);s===-1||!X5e(i)||(s===0?e.push(i):t.push({documentOrder:r,tabIndex:s,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function J5e(){return!0}function Nme(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=Z5e,isEnabled:o=J5e,open:a}=n,l=M.useRef(!1),c=M.useRef(null),u=M.useRef(null),d=M.useRef(null),h=M.useRef(null),f=M.useRef(!1),p=M.useRef(null),m=Wi(Up(e),p),v=M.useRef(null);M.useEffect(()=>{!a||!p.current||(f.current=!t)},[t,a]),M.useEffect(()=>{if(!a||!p.current)return;const w=Jr(p.current);return p.current.contains(w.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{r||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),M.useEffect(()=>{if(!a||!p.current)return;const w=Jr(p.current),_=D=>{v.current=D,!(i||!o()||D.key!=="Tab")&&w.activeElement===p.current&&D.shiftKey&&(l.current=!0,u.current&&u.current.focus())},x=()=>{var L,I;const D=p.current;if(D===null)return;if(!w.hasFocus()||!o()||l.current){l.current=!1;return}if(D.contains(w.activeElement)||i&&w.activeElement!==c.current&&w.activeElement!==u.current)return;if(w.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let T=[];if((w.activeElement===c.current||w.activeElement===u.current)&&(T=s(p.current)),T.length>0){const R=!!((L=v.current)!=null&&L.shiftKey&&((I=v.current)==null?void 0:I.key)==="Tab"),N=T[0],O=T[T.length-1];typeof N!="string"&&typeof O!="string"&&(R?O.focus():N.focus())}else D.focus()};w.addEventListener("focusin",x),w.addEventListener("keydown",_,!0);const k=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(k),w.removeEventListener("focusin",x),w.removeEventListener("keydown",_,!0)}},[t,i,r,o,a,s]);const C=w=>{d.current===null&&(d.current=w.relatedTarget),f.current=!0,h.current=w.target;const _=e.props.onFocus;_&&_(w)},y=w=>{d.current===null&&(d.current=w.relatedTarget),f.current=!0};return V.jsxs(M.Fragment,{children:[V.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),M.cloneElement(e,{ref:m,onFocus:C}),V.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})}function eFe(n){return typeof n=="function"?n():n}const Ame=M.forwardRef(function(e,t){const{children:i,container:r,disablePortal:s=!1}=e,[o,a]=M.useState(null),l=Wi(M.isValidElement(i)?Up(i):null,t);if(ar(()=>{s||a(eFe(r)||document.body)},[r,s]),ar(()=>{if(o&&!s)return $T(t,o),()=>{$T(t,null)}},[t,o,s]),s){if(M.isValidElement(i)){const c={ref:l};return M.cloneElement(i,c)}return i}return o&&sN.createPortal(i,o)});function oi(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[n]:void 0},slotProps:d={[n]:void 0},...h}=s,f=u[n]||i,p=gme(d[n],r),{props:{component:m,...v},internalRef:C}=fme({className:t,...l,externalForwardedProps:n==="root"?h:void 0,externalSlotProps:p}),y=Wi(C,p==null?void 0:p.ref,e.ref),w=n==="root"?m||c:m,_=dme(f,{...n==="root"&&!c&&!u[n]&&o,...n!=="root"&&!u[n]&&o,...v,...w&&!a&&{as:w},...w&&a&&{component:w},ref:y},r);return[f,_]}const tFe={entering:{opacity:1},entered:{opacity:1}},y8=M.forwardRef(function(e,t){const i=eh(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:v,timeout:C=r,TransitionComponent:y=$c,...w}=e,_=M.useRef(null),x=Wi(_,Up(a),t),k=F=>A=>{if(F){const H=_.current;A===void 0?F(H):F(H,A)}},D=k(h),T=k((F,A)=>{Nj(F);const H=Ep({style:v,timeout:C,easing:l},{mode:"enter"});F.style.webkitTransition=i.transitions.create("opacity",H),F.style.transition=i.transitions.create("opacity",H),u&&u(F,A)}),L=k(d),I=k(m),R=k(F=>{const A=Ep({style:v,timeout:C,easing:l},{mode:"exit"});F.style.webkitTransition=i.transitions.create("opacity",A),F.style.transition=i.transitions.create("opacity",A),f&&f(F)}),N=k(p),O=F=>{s&&s(_.current,F)};return V.jsx(y,{appear:o,in:c,nodeRef:_,onEnter:T,onEntered:L,onEntering:D,onExit:R,onExited:N,onExiting:I,addEndListener:O,timeout:C,...w,children:(F,{ownerState:A,...H})=>M.cloneElement(a,{style:{opacity:0,visibility:F==="exited"&&!c?"hidden":void 0,...tFe[F],...v,...a.props.style},ref:x,...H})})});function nFe(n){return Zt("MuiBackdrop",n)}Jt("MuiBackdrop",["root","invisible"]);const iFe=n=>{const{classes:e,invisible:t}=n;return _t({root:["root",t&&"invisible"]},nFe,e)},rFe=$e("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Pme=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiBackdrop"}),{children:r,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:f,transitionDuration:p,...m}=i,v={...i,component:o,invisible:a},C=iFe(v),y={transition:f,root:c.Root,...h},w={...u,...d},_={slots:y,slotProps:w},[x,k]=oi("root",{elementType:rFe,externalForwardedProps:_,className:lt(C.root,s),ownerState:v}),[D,T]=oi("transition",{elementType:y8,externalForwardedProps:_,ownerState:v});return V.jsx(D,{in:l,timeout:p,...m,...T,children:V.jsx(x,{"aria-hidden":!0,...k,classes:C,ref:t,children:r})})});function sFe(n){return typeof n=="function"?n():n}function oFe(n){return n?n.props.hasOwnProperty("in"):!1}const xte=()=>{},mD=new G5e;function aFe(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:u}=n,d=M.useRef({}),h=M.useRef(null),f=M.useRef(null),p=Wi(f,u),[m,v]=M.useState(!c),C=oFe(a);let y=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(y=!1);const w=()=>Jr(h.current),_=()=>(d.current.modalRef=f.current,d.current.mount=h.current,d.current),x=()=>{mD.mount(_(),{disableScrollLock:i}),f.current&&(f.current.scrollTop=0)},k=li(()=>{const A=sFe(e)||w().body;mD.add(_(),A),f.current&&x()}),D=()=>mD.isTopModal(_()),T=li(A=>{h.current=A,A&&(c&&D()?x():f.current&&xS(f.current,y))}),L=M.useCallback(()=>{mD.remove(_(),y)},[y]);M.useEffect(()=>()=>{L()},[L]),M.useEffect(()=>{c?k():(!C||!r)&&L()},[c,L,C,r,k]);const I=A=>H=>{var W;(W=A.onKeyDown)==null||W.call(A,H),!(H.key!=="Escape"||H.which===229||!D())&&(t||(H.stopPropagation(),l&&l(H,"escapeKeyDown")))},R=A=>H=>{var W;(W=A.onClick)==null||W.call(A,H),H.target===H.currentTarget&&l&&l(H,"backdropClick")};return{getRootProps:(A={})=>{const H=hme(n);delete H.onTransitionEnter,delete H.onTransitionExited;const W={...H,...A};return{role:"presentation",...W,onKeyDown:I(W),ref:p}},getBackdropProps:(A={})=>{const H=A;return{"aria-hidden":!0,...H,onClick:R(H),open:c}},getTransitionProps:()=>{const A=()=>{v(!1),s&&s()},H=()=>{v(!0),o&&o(),r&&L()};return{onEnter:Jee(A,(a==null?void 0:a.props.onEnter)??xte),onExited:Jee(H,(a==null?void 0:a.props.onExited)??xte)}},rootRef:p,portalRef:T,isTopModal:D,exited:m,hasTransition:C}}function lFe(n){return Zt("MuiModal",n)}Jt("MuiModal",["root","hidden","backdrop"]);const cFe=n=>{const{open:e,exited:t,classes:i}=n;return _t({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},lFe,i)},uFe=$e("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(sn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),dFe=$e(Pme,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),Pj=M.forwardRef(function(e,t){const i=on({name:"MuiModal",props:e}),{BackdropComponent:r=dFe,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:f={},disableAutoFocus:p=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:v=!1,disablePortal:C=!1,disableRestoreFocus:y=!1,disableScrollLock:w=!1,hideBackdrop:_=!1,keepMounted:x=!1,onBackdropClick:k,onClose:D,onTransitionEnter:T,onTransitionExited:L,open:I,slotProps:R={},slots:N={},theme:O,...F}=i,A={...i,closeAfterTransition:l,disableAutoFocus:p,disableEnforceFocus:m,disableEscapeKeyDown:v,disablePortal:C,disableRestoreFocus:y,disableScrollLock:w,hideBackdrop:_,keepMounted:x},{getRootProps:H,getBackdropProps:W,getTransitionProps:$,portalRef:U,isTopModal:z,exited:K,hasTransition:Z}=aFe({...A,rootRef:t}),Q={...A,exited:K},G=cFe(Q),J={};if(c.props.tabIndex===void 0&&(J.tabIndex="-1"),Z){const{onEnter:me,onExited:ye}=$();J.onEnter=me,J.onExited=ye}const ne={...F,slots:{root:h.Root,backdrop:h.Backdrop,...N},slotProps:{...f,...R}},[ae,se]=oi("root",{elementType:uFe,externalForwardedProps:ne,getSlotProps:H,additionalProps:{ref:t,as:d},ownerState:Q,className:lt(a,G==null?void 0:G.root,!Q.open&&Q.exited&&(G==null?void 0:G.hidden))}),[X,oe]=oi("backdrop",{elementType:r,externalForwardedProps:ne,additionalProps:s,getSlotProps:me=>W({...me,onClick:ye=>{k&&k(ye),me!=null&&me.onClick&&me.onClick(ye)}}),className:lt(s==null?void 0:s.className,G==null?void 0:G.backdrop),ownerState:Q}),ve=Wi(s==null?void 0:s.ref,oe.ref);return!x&&!I&&(!Z||K)?null:V.jsx(Ame,{ref:U,container:u,disablePortal:C,children:V.jsxs(ae,{...se,children:[!_&&r?V.jsx(X,{...oe,ref:ve}):null,V.jsx(Nme,{disableEnforceFocus:m,disableAutoFocus:p,disableRestoreFocus:y,isEnabled:z,open:I,children:M.cloneElement(c,J)})]})})});function hFe(n){return Zt("MuiPaper",n)}Jt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fFe=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return _t(s,hFe,r)},gFe=$e("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(sn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),qc=M.forwardRef(function(e,t){var f;const i=on({props:e,name:"MuiPaper"}),r=eh(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=i,d={...i,component:o,elevation:a,square:l,variant:c},h=fFe(d);return V.jsx(gFe,{as:o,ownerState:d,className:lt(h.root,s),ref:t,...u,style:{...c==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[a],...r.vars&&{"--Paper-overlay":(f=r.vars.overlays)==null?void 0:f[a]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${wn("#fff",v8(a))}, ${wn("#fff",v8(a))})`}},...u.style}})});function pFe(n){return Zt("MuiDrawer",n)}Jt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ome=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},mFe=n=>{const{classes:e,anchor:t,variant:i}=n,r={root:["root",`anchor${nt(t)}`],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${nt(t)}`,i!=="temporary"&&`paperAnchorDocked${nt(t)}`]};return _t(r,pFe,e)},bFe=$e(Pj,{name:"MuiDrawer",slot:"Root",overridesResolver:Ome})(sn(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),kte=$e("div",{shouldForwardProp:va,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ome})({flex:"0 0 auto"}),vFe=$e(qc,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${nt(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${nt(t.anchor)}`]]}})(sn(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),Fme={left:"right",right:"left",top:"down",bottom:"up"};function yFe(n){return["left","right"].includes(n)}function CFe({direction:n},e){return n==="rtl"&&yFe(e)?Fme[e]:e}const Lte=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiDrawer"}),r=eh(),s=ba(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:f,...p}={},onClose:m,open:v=!1,PaperProps:C={},SlideProps:y,TransitionComponent:w=Tme,transitionDuration:_=o,variant:x="temporary",...k}=i,D=M.useRef(!1);M.useEffect(()=>{D.current=!0},[]);const T=CFe({direction:s?"rtl":"ltr"},a),I={...i,anchor:a,elevation:d,open:v,variant:x,...k},R=mFe(I),N=V.jsx(vFe,{elevation:x==="temporary"?d:0,square:!0,...C,className:lt(R.paper,C.className),ownerState:I,children:c});if(x==="permanent")return V.jsx(kte,{className:lt(R.root,R.docked,u),ownerState:I,ref:t,...k,children:N});const O=V.jsx(w,{in:v,direction:Fme[T],timeout:_,appear:D.current,...y,children:N});return x==="persistent"?V.jsx(kte,{className:lt(R.root,R.docked,u),ownerState:I,ref:t,...k,children:O}):V.jsx(bFe,{BackdropProps:{...l,...f,transitionDuration:_},className:lt(R.root,R.modal,u),open:v,ownerState:I,onClose:m,hideBackdrop:h,ref:t,...k,...p,children:O})}),iv=M.createContext({});function _Fe(n){return Zt("MuiList",n)}Jt("MuiList",["root","padding","dense","subheader"]);const wFe=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return _t({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},_Fe,e)},SFe=$e("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),C8=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiList"}),{children:r,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=i,d=M.useMemo(()=>({dense:a}),[a]),h={...i,component:o,dense:a,disablePadding:l},f=wFe(h);return V.jsx(iv.Provider,{value:d,children:V.jsxs(SFe,{as:o,className:lt(f.root,s),ref:t,ownerState:h,...u,children:[c,r]})})});class QT{constructor(){Zi(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new QT}static use(){const e=Uc(QT.create).current,[t,i]=M.useState(!1);return e.shouldMount=t,e.setShouldMount=i,M.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=kFe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function xFe(){return QT.use()}function kFe(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function LFe(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=n,[u,d]=M.useState(!1),h=lt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+r},p=lt(t.child,u&&t.childLeaving,i&&t.childPulsate);return!a&&!u&&d(!0),M.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),V.jsx("span",{className:h,style:f,children:V.jsx("span",{className:p})})}const pc=Jt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_8=550,EFe=80,DFe=Jd`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,TFe=Jd`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,IFe=Jd`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,MFe=$e("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),RFe=$e(LFe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${pc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${DFe};
    animation-duration: ${_8}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${pc.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${pc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${pc.childLeaving} {
    opacity: 0;
    animation-name: ${TFe};
    animation-duration: ${_8}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${pc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${IFe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,NFe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:o,...a}=i,[l,c]=M.useState([]),u=M.useRef(0),d=M.useRef(null);M.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=M.useRef(!1),f=Pl(),p=M.useRef(null),m=M.useRef(null),v=M.useCallback(_=>{const{pulsate:x,rippleX:k,rippleY:D,rippleSize:T,cb:L}=_;c(I=>[...I,V.jsx(RFe,{classes:{ripple:lt(s.ripple,pc.ripple),rippleVisible:lt(s.rippleVisible,pc.rippleVisible),ripplePulsate:lt(s.ripplePulsate,pc.ripplePulsate),child:lt(s.child,pc.child),childLeaving:lt(s.childLeaving,pc.childLeaving),childPulsate:lt(s.childPulsate,pc.childPulsate)},timeout:_8,pulsate:x,rippleX:k,rippleY:D,rippleSize:T},u.current)]),u.current+=1,d.current=L},[s]),C=M.useCallback((_={},x={},k=()=>{})=>{const{pulsate:D=!1,center:T=r||x.pulsate,fakeElement:L=!1}=x;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const I=L?null:m.current,R=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,O,F;if(T||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)N=Math.round(R.width/2),O=Math.round(R.height/2);else{const{clientX:A,clientY:H}=_.touches&&_.touches.length>0?_.touches[0]:_;N=Math.round(A-R.left),O=Math.round(H-R.top)}if(T)F=Math.sqrt((2*R.width**2+R.height**2)/3),F%2===0&&(F+=1);else{const A=Math.max(Math.abs((I?I.clientWidth:0)-N),N)*2+2,H=Math.max(Math.abs((I?I.clientHeight:0)-O),O)*2+2;F=Math.sqrt(A**2+H**2)}_!=null&&_.touches?p.current===null&&(p.current=()=>{v({pulsate:D,rippleX:N,rippleY:O,rippleSize:F,cb:k})},f.start(EFe,()=>{p.current&&(p.current(),p.current=null)})):v({pulsate:D,rippleX:N,rippleY:O,rippleSize:F,cb:k})},[r,v,f]),y=M.useCallback(()=>{C({},{pulsate:!0})},[C]),w=M.useCallback((_,x)=>{if(f.clear(),(_==null?void 0:_.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{w(_,x)});return}p.current=null,c(k=>k.length>0?k.slice(1):k),d.current=x},[f]);return M.useImperativeHandle(t,()=>({pulsate:y,start:C,stop:w}),[y,C,w]),V.jsx(MFe,{className:lt(pc.root,s.root,o),ref:m,...a,children:V.jsx(fj,{component:null,exit:!0,children:l})})});function AFe(n){return Zt("MuiButtonBase",n)}const PFe=Jt("MuiButtonBase",["root","disabled","focusVisible"]),OFe=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,o=_t({root:["root",e&&"disabled",t&&"focusVisible"]},AFe,r);return t&&i&&(o.root+=` ${i}`),o},FFe=$e("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${PFe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tp=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:f,LinkComponent:p="a",onBlur:m,onClick:v,onContextMenu:C,onDragLeave:y,onFocus:w,onFocusVisible:_,onKeyDown:x,onKeyUp:k,onMouseDown:D,onMouseLeave:T,onMouseUp:L,onTouchEnd:I,onTouchMove:R,onTouchStart:N,tabIndex:O=0,TouchRippleProps:F,touchRippleRef:A,type:H,...W}=i,$=M.useRef(null),U=xFe(),z=Wi(U.ref,A),[K,Z]=M.useState(!1);c&&K&&Z(!1),M.useImperativeHandle(r,()=>({focusVisible:()=>{Z(!0),$.current.focus()}}),[]);const Q=U.shouldMount&&!u&&!c;M.useEffect(()=>{K&&h&&!u&&U.pulsate()},[u,h,K,U]);const G=Th(U,"start",D,d),J=Th(U,"stop",C,d),ne=Th(U,"stop",y,d),ae=Th(U,"stop",L,d),se=Th(U,"stop",Te=>{K&&Te.preventDefault(),T&&T(Te)},d),X=Th(U,"start",N,d),oe=Th(U,"stop",I,d),ve=Th(U,"stop",R,d),me=Th(U,"stop",Te=>{PC(Te.target)||Z(!1),m&&m(Te)},!1),ye=li(Te=>{$.current||($.current=Te.currentTarget),PC(Te.target)&&(Z(!0),_&&_(Te)),w&&w(Te)}),Le=()=>{const Te=$.current;return l&&l!=="button"&&!(Te.tagName==="A"&&Te.href)},ie=li(Te=>{h&&!Te.repeat&&K&&Te.key===" "&&U.stop(Te,()=>{U.start(Te)}),Te.target===Te.currentTarget&&Le()&&Te.key===" "&&Te.preventDefault(),x&&x(Te),Te.target===Te.currentTarget&&Le()&&Te.key==="Enter"&&!c&&(Te.preventDefault(),v&&v(Te))}),Ee=li(Te=>{h&&Te.key===" "&&K&&!Te.defaultPrevented&&U.stop(Te,()=>{U.pulsate(Te)}),k&&k(Te),v&&Te.target===Te.currentTarget&&Le()&&Te.key===" "&&!Te.defaultPrevented&&v(Te)});let Ue=l;Ue==="button"&&(W.href||W.to)&&(Ue=p);const re={};Ue==="button"?(re.type=H===void 0?"button":H,re.disabled=c):(!W.href&&!W.to&&(re.role="button"),c&&(re["aria-disabled"]=c));const fe=Wi(t,$),Ce={...i,centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:O,focusVisible:K},Me=OFe(Ce);return V.jsxs(FFe,{as:Ue,className:lt(Me.root,a),ownerState:Ce,onBlur:me,onClick:v,onContextMenu:J,onFocus:ye,onKeyDown:ie,onKeyUp:Ee,onMouseDown:G,onMouseLeave:se,onMouseUp:ae,onDragLeave:ne,onTouchEnd:oe,onTouchMove:ve,onTouchStart:X,ref:fe,tabIndex:c?-1:O,type:H,...re,...W,children:[o,Q?V.jsx(NFe,{ref:z,center:s,...F}):null]})});function Th(n,e,t,i=!1){return li(r=>(t&&t(r),i||n[e](r),!0))}function BFe(n){return Zt("MuiListItemButton",n)}const hw=Jt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),HFe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters]},VFe=n=>{const{alignItems:e,classes:t,dense:i,disabled:r,disableGutters:s,divider:o,selected:a}=n,c=_t({root:["root",i&&"dense",!s&&"gutters",o&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},BFe,t);return{...t,...c}},zFe=$e(Tp,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:HFe})(sn(({theme:n})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hw.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:wn(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${hw.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${hw.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:wn(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${hw.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${hw.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),bD=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:f,...p}=i,m=M.useContext(iv),v=M.useMemo(()=>({dense:l||m.dense||!1,alignItems:r,disableGutters:c}),[r,m.dense,l,c]),C=M.useRef(null);ar(()=>{s&&C.current&&C.current.focus()},[s]);const y={...i,alignItems:r,dense:v.dense,disableGutters:c,divider:u,selected:h},w=VFe(y),_=Wi(C,t);return V.jsx(iv.Provider,{value:v,children:V.jsx(zFe,{ref:_,href:p.href||p.to,component:(p.href||p.to)&&o==="div"?"button":o,focusVisibleClassName:lt(w.focusVisible,d),ownerState:y,className:lt(w.root,f),...p,classes:w,children:a})})});function WFe(n){return Zt("MuiListItemIcon",n)}const Ete=Jt("MuiListItemIcon",["root","alignItemsFlexStart"]),$Fe=n=>{const{alignItems:e,classes:t}=n;return _t({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},WFe,t)},jFe=$e("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(sn(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),xd=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiListItemIcon"}),{className:r,...s}=i,o=M.useContext(iv),a={...i,alignItems:o.alignItems},l=$Fe(a);return V.jsx(jFe,{className:lt(l.root,r),ownerState:a,ref:t,...s})});function UFe(n){return typeof n.main=="string"}function qFe(n,e=[]){if(!UFe(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Qr(n=[]){return([,e])=>e&&qFe(e,n)}function GFe(n){return Zt("MuiTypography",n)}const YT=Jt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),KFe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},QFe=J4e(),YFe=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${nt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return _t(a,GFe,o)},XFe=$e("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${nt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(sn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${nt(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),Dte={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},nn=M.forwardRef(function(e,t){const{color:i,...r}=on({props:e,name:"MuiTypography"}),s=!KFe[i],o=QFe({...r,...s&&{color:i}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:f="body1",variantMapping:p=Dte,...m}=o,v={...o,align:a,color:i,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:f,variantMapping:p},C=c||(h?"p":p[f]||Dte[f])||"span",y=YFe(v);return V.jsx(XFe,{as:C,ref:t,className:lt(y.root,l),...m,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...m.style}})});function ZFe(n){return Zt("MuiListItemText",n)}const gy=Jt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),JFe=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return _t({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},ZFe,e)},e3e=$e("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${gy.primary}`]:e.primary},{[`& .${gy.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${YT.root}:where(& .${gy.primary})`]:{display:"block"},[`.${YT.root}:where(& .${gy.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),kd=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:h={},slotProps:f={},...p}=i,{dense:m}=M.useContext(iv);let v=l??r,C=u;const y={...i,disableTypography:o,inset:a,primary:!!v,secondary:!!C,dense:m},w=JFe(y),_={slots:h,slotProps:{primary:c,secondary:d,...f}},[x,k]=oi("primary",{className:w.primary,elementType:nn,externalForwardedProps:_,ownerState:y}),[D,T]=oi("secondary",{className:w.secondary,elementType:nn,externalForwardedProps:_,ownerState:y});return v!=null&&v.type!==nn&&!o&&(v=V.jsx(x,{variant:m?"body2":"body1",component:k!=null&&k.variant?void 0:"span",...k,children:v})),C!=null&&C.type!==nn&&!o&&(C=V.jsx(D,{variant:"body2",color:"textSecondary",...T,children:C})),V.jsxs(e3e,{className:lt(w.root,s),ownerState:y,ref:t,...p,children:[v,C]})});function w8(n){return`scale(${n}, ${n**2})`}const t3e={entering:{opacity:1,transform:w8(1)},entered:{opacity:1,transform:"none"}},gF=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ax=M.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:v=$c,...C}=e,y=Pl(),w=M.useRef(),_=eh(),x=M.useRef(null),k=Wi(x,Up(s),t),D=A=>H=>{if(A){const W=x.current;H===void 0?A(W):A(W,H)}},T=D(u),L=D((A,H)=>{Nj(A);const{duration:W,delay:$,easing:U}=Ep({style:p,timeout:m,easing:o},{mode:"enter"});let z;m==="auto"?(z=_.transitions.getAutoHeightDuration(A.clientHeight),w.current=z):z=W,A.style.transition=[_.transitions.create("opacity",{duration:z,delay:$}),_.transitions.create("transform",{duration:gF?z:z*.666,delay:$,easing:U})].join(","),l&&l(A,H)}),I=D(c),R=D(f),N=D(A=>{const{duration:H,delay:W,easing:$}=Ep({style:p,timeout:m,easing:o},{mode:"exit"});let U;m==="auto"?(U=_.transitions.getAutoHeightDuration(A.clientHeight),w.current=U):U=H,A.style.transition=[_.transitions.create("opacity",{duration:U,delay:W}),_.transitions.create("transform",{duration:gF?U:U*.666,delay:gF?W:W||U*.333,easing:$})].join(","),A.style.opacity=0,A.style.transform=w8(.75),d&&d(A)}),O=D(h),F=A=>{m==="auto"&&y.start(w.current||0,A),i&&i(x.current,A)};return V.jsx(v,{appear:r,in:a,nodeRef:x,onEnter:L,onEntered:I,onEntering:T,onExit:N,onExited:O,onExiting:R,addEndListener:F,timeout:m==="auto"?null:m,...C,children:(A,{ownerState:H,...W})=>M.cloneElement(s,{style:{opacity:0,transform:w8(.75),visibility:A==="exited"&&!a?"hidden":void 0,...t3e[A],...p,...s.props.style},ref:k,...W})})});Ax&&(Ax.muiSupportAuto=!0);var nl="top",Rc="bottom",Nc="right",il="left",Oj="auto",Zk=[nl,Rc,Nc,il],FC="start",Px="end",n3e="clippingParents",Bme="viewport",fw="popper",i3e="reference",Tte=Zk.reduce(function(n,e){return n.concat([e+"-"+FC,e+"-"+Px])},[]),Hme=[].concat(Zk,[Oj]).reduce(function(n,e){return n.concat([e,e+"-"+FC,e+"-"+Px])},[]),r3e="beforeRead",s3e="read",o3e="afterRead",a3e="beforeMain",l3e="main",c3e="afterMain",u3e="beforeWrite",d3e="write",h3e="afterWrite",f3e=[r3e,s3e,o3e,a3e,l3e,c3e,u3e,d3e,h3e];function Vd(n){return n?(n.nodeName||"").toLowerCase():null}function jl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function rv(n){var e=jl(n).Element;return n instanceof e||n instanceof Element}function Lc(n){var e=jl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Fj(n){if(typeof ShadowRoot>"u")return!1;var e=jl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function g3e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Lc(s)||!Vd(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function p3e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Lc(r)||!Vd(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const m3e={name:"applyStyles",enabled:!0,phase:"write",fn:g3e,effect:p3e,requires:["computeStyles"]};function Id(n){return n.split("-")[0]}var Ib=Math.max,XT=Math.min,BC=Math.round;function S8(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vme(){return!/^((?!chrome|android).)*safari/i.test(S8())}function HC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&Lc(n)&&(r=n.offsetWidth>0&&BC(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&BC(i.height)/n.offsetHeight||1);var o=rv(n)?jl(n):window,a=o.visualViewport,l=!Vme()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,h=i.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function Bj(n){var e=HC(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function zme(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Fj(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Mf(n){return jl(n).getComputedStyle(n)}function b3e(n){return["table","td","th"].indexOf(Vd(n))>=0}function Gp(n){return((rv(n)?n.ownerDocument:n.document)||window.document).documentElement}function NN(n){return Vd(n)==="html"?n:n.assignedSlot||n.parentNode||(Fj(n)?n.host:null)||Gp(n)}function Ite(n){return!Lc(n)||Mf(n).position==="fixed"?null:n.offsetParent}function v3e(n){var e=/firefox/i.test(S8()),t=/Trident/i.test(S8());if(t&&Lc(n)){var i=Mf(n);if(i.position==="fixed")return null}var r=NN(n);for(Fj(r)&&(r=r.host);Lc(r)&&["html","body"].indexOf(Vd(r))<0;){var s=Mf(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Jk(n){for(var e=jl(n),t=Ite(n);t&&b3e(t)&&Mf(t).position==="static";)t=Ite(t);return t&&(Vd(t)==="html"||Vd(t)==="body"&&Mf(t).position==="static")?e:t||v3e(n)||e}function Hj(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function kS(n,e,t){return Ib(n,XT(e,t))}function y3e(n,e,t){var i=kS(n,e,t);return i>t?t:i}function Wme(){return{top:0,right:0,bottom:0,left:0}}function $me(n){return Object.assign({},Wme(),n)}function jme(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var C3e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,$me(typeof e!="number"?e:jme(e,Zk))};function _3e(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Id(t.placement),l=Hj(a),c=[il,Nc].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=C3e(r.padding,t),h=Bj(s),f=l==="y"?nl:il,p=l==="y"?Rc:Nc,m=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],v=o[l]-t.rects.reference[l],C=Jk(s),y=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,w=m/2-v/2,_=d[f],x=y-h[u]-d[p],k=y/2-h[u]/2+w,D=kS(_,k,x),T=l;t.modifiersData[i]=(e={},e[T]=D,e.centerOffset=D-k,e)}}function w3e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||zme(e.elements.popper,r)&&(e.elements.arrow=r))}const S3e={name:"arrow",enabled:!0,phase:"main",fn:_3e,effect:w3e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function VC(n){return n.split("-")[1]}var x3e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function k3e(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:BC(t*r)/r||0,y:BC(i*r)/r||0}}function Mte(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,v=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var C=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),w=il,_=nl,x=window;if(c){var k=Jk(t),D="clientHeight",T="clientWidth";if(k===jl(t)&&(k=Gp(t),Mf(k).position!=="static"&&a==="absolute"&&(D="scrollHeight",T="scrollWidth")),k=k,r===nl||(r===il||r===Nc)&&s===Px){_=Rc;var L=d&&k===x&&x.visualViewport?x.visualViewport.height:k[D];m-=L-i.height,m*=l?1:-1}if(r===il||(r===nl||r===Rc)&&s===Px){w=Nc;var I=d&&k===x&&x.visualViewport?x.visualViewport.width:k[T];f-=I-i.width,f*=l?1:-1}}var R=Object.assign({position:a},c&&x3e),N=u===!0?k3e({x:f,y:m},jl(t)):{x:f,y:m};if(f=N.x,m=N.y,l){var O;return Object.assign({},R,(O={},O[_]=y?"0":"",O[w]=C?"0":"",O.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",O))}return Object.assign({},R,(e={},e[_]=y?m+"px":"",e[w]=C?f+"px":"",e.transform="",e))}function L3e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Id(e.placement),variation:VC(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mte(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mte(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const E3e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L3e,data:{}};var vD={passive:!0};function D3e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=jl(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",t.update,vD)}),a&&l.addEventListener("resize",t.update,vD),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",t.update,vD)}),a&&l.removeEventListener("resize",t.update,vD)}}const T3e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:D3e,data:{}};var I3e={left:"right",right:"left",bottom:"top",top:"bottom"};function W2(n){return n.replace(/left|right|bottom|top/g,function(e){return I3e[e]})}var M3e={start:"end",end:"start"};function Rte(n){return n.replace(/start|end/g,function(e){return M3e[e]})}function Vj(n){var e=jl(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function zj(n){return HC(Gp(n)).left+Vj(n).scrollLeft}function R3e(n,e){var t=jl(n),i=Gp(n),r=t.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=Vme();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+zj(n),y:l}}function N3e(n){var e,t=Gp(n),i=Vj(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Ib(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Ib(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+zj(n),l=-i.scrollTop;return Mf(r||t).direction==="rtl"&&(a+=Ib(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Wj(n){var e=Mf(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Ume(n){return["html","body","#document"].indexOf(Vd(n))>=0?n.ownerDocument.body:Lc(n)&&Wj(n)?n:Ume(NN(n))}function LS(n,e){var t;e===void 0&&(e=[]);var i=Ume(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=jl(i),o=r?[s].concat(s.visualViewport||[],Wj(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(LS(NN(o)))}function x8(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function A3e(n,e){var t=HC(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Nte(n,e,t){return e===Bme?x8(R3e(n,t)):rv(e)?A3e(e,t):x8(N3e(Gp(n)))}function P3e(n){var e=LS(NN(n)),t=["absolute","fixed"].indexOf(Mf(n).position)>=0,i=t&&Lc(n)?Jk(n):n;return rv(i)?e.filter(function(r){return rv(r)&&zme(r,i)&&Vd(r)!=="body"}):[]}function O3e(n,e,t,i){var r=e==="clippingParents"?P3e(n):[].concat(e),s=[].concat(r,[t]),o=s[0],a=s.reduce(function(l,c){var u=Nte(n,c,i);return l.top=Ib(u.top,l.top),l.right=XT(u.right,l.right),l.bottom=XT(u.bottom,l.bottom),l.left=Ib(u.left,l.left),l},Nte(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function qme(n){var e=n.reference,t=n.element,i=n.placement,r=i?Id(i):null,s=i?VC(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case nl:l={x:o,y:e.y-t.height};break;case Rc:l={x:o,y:e.y+e.height};break;case Nc:l={x:e.x+e.width,y:a};break;case il:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?Hj(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case FC:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Px:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function Ox(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?n3e:a,c=t.rootBoundary,u=c===void 0?Bme:c,d=t.elementContext,h=d===void 0?fw:d,f=t.altBoundary,p=f===void 0?!1:f,m=t.padding,v=m===void 0?0:m,C=$me(typeof v!="number"?v:jme(v,Zk)),y=h===fw?i3e:fw,w=n.rects.popper,_=n.elements[p?y:h],x=O3e(rv(_)?_:_.contextElement||Gp(n.elements.popper),l,u,o),k=HC(n.elements.reference),D=qme({reference:k,element:w,strategy:"absolute",placement:r}),T=x8(Object.assign({},w,D)),L=h===fw?T:k,I={top:x.top-L.top+C.top,bottom:L.bottom-x.bottom+C.bottom,left:x.left-L.left+C.left,right:L.right-x.right+C.right},R=n.modifiersData.offset;if(h===fw&&R){var N=R[r];Object.keys(I).forEach(function(O){var F=[Nc,Rc].indexOf(O)>=0?1:-1,A=[nl,Rc].indexOf(O)>=0?"y":"x";I[O]+=N[A]*F})}return I}function F3e(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Hme:l,u=VC(i),d=u?a?Tte:Tte.filter(function(p){return VC(p)===u}):Zk,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=Ox(n,{placement:m,boundary:r,rootBoundary:s,padding:o})[Id(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function B3e(n){if(Id(n)===Oj)return[];var e=W2(n);return[Rte(n),e,Rte(e)]}function H3e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,h=t.altBoundary,f=t.flipVariations,p=f===void 0?!0:f,m=t.allowedAutoPlacements,v=e.options.placement,C=Id(v),y=C===v,w=l||(y||!p?[W2(v)]:B3e(v)),_=[v].concat(w).reduce(function(G,J){return G.concat(Id(J)===Oj?F3e(e,{placement:J,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):J)},[]),x=e.rects.reference,k=e.rects.popper,D=new Map,T=!0,L=_[0],I=0;I<_.length;I++){var R=_[I],N=Id(R),O=VC(R)===FC,F=[nl,Rc].indexOf(N)>=0,A=F?"width":"height",H=Ox(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),W=F?O?Nc:il:O?Rc:nl;x[A]>k[A]&&(W=W2(W));var $=W2(W),U=[];if(s&&U.push(H[N]<=0),a&&U.push(H[W]<=0,H[$]<=0),U.every(function(G){return G})){L=R,T=!1;break}D.set(R,U)}if(T)for(var z=p?3:1,K=function(J){var ne=_.find(function(ae){var se=D.get(ae);if(se)return se.slice(0,J).every(function(X){return X})});if(ne)return L=ne,"break"},Z=z;Z>0;Z--){var Q=K(Z);if(Q==="break")break}e.placement!==L&&(e.modifiersData[i]._skip=!0,e.placement=L,e.reset=!0)}}const V3e={name:"flip",enabled:!0,phase:"main",fn:H3e,requiresIfExists:["offset"],data:{_skip:!1}};function Ate(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Pte(n){return[nl,Nc,Rc,il].some(function(e){return n[e]>=0})}function z3e(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ox(e,{elementContext:"reference"}),a=Ox(e,{altBoundary:!0}),l=Ate(o,i),c=Ate(a,r,s),u=Pte(l),d=Pte(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const W3e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:z3e};function $3e(n,e,t){var i=Id(n),r=[il,nl].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[il,Nc].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function j3e(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,o=Hme.reduce(function(u,d){return u[d]=$3e(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const U3e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:j3e};function q3e(n){var e=n.state,t=n.name;e.modifiersData[t]=qme({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const G3e={name:"popperOffsets",enabled:!0,phase:"read",fn:q3e,data:{}};function K3e(n){return n==="x"?"y":"x"}function Q3e(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,h=t.tether,f=h===void 0?!0:h,p=t.tetherOffset,m=p===void 0?0:p,v=Ox(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),C=Id(e.placement),y=VC(e.placement),w=!y,_=Hj(C),x=K3e(_),k=e.modifiersData.popperOffsets,D=e.rects.reference,T=e.rects.popper,L=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,I=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(k){if(s){var O,F=_==="y"?nl:il,A=_==="y"?Rc:Nc,H=_==="y"?"height":"width",W=k[_],$=W+v[F],U=W-v[A],z=f?-T[H]/2:0,K=y===FC?D[H]:T[H],Z=y===FC?-T[H]:-D[H],Q=e.elements.arrow,G=f&&Q?Bj(Q):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Wme(),ne=J[F],ae=J[A],se=kS(0,D[H],G[H]),X=w?D[H]/2-z-se-ne-I.mainAxis:K-se-ne-I.mainAxis,oe=w?-D[H]/2+z+se+ae+I.mainAxis:Z+se+ae+I.mainAxis,ve=e.elements.arrow&&Jk(e.elements.arrow),me=ve?_==="y"?ve.clientTop||0:ve.clientLeft||0:0,ye=(O=R==null?void 0:R[_])!=null?O:0,Le=W+X-ye-me,ie=W+oe-ye,Ee=kS(f?XT($,Le):$,W,f?Ib(U,ie):U);k[_]=Ee,N[_]=Ee-W}if(a){var Ue,re=_==="x"?nl:il,fe=_==="x"?Rc:Nc,Ce=k[x],Me=x==="y"?"height":"width",Te=Ce+v[re],Ae=Ce-v[fe],Ne=[nl,il].indexOf(C)!==-1,Ge=(Ue=R==null?void 0:R[x])!=null?Ue:0,gt=Ne?Te:Ce-D[Me]-T[Me]-Ge+I.altAxis,rt=Ne?Ce+D[Me]+T[Me]-Ge-I.altAxis:Ae,it=f&&Ne?y3e(gt,Ce,rt):kS(f?gt:Te,Ce,f?rt:Ae);k[x]=it,N[x]=it-Ce}e.modifiersData[i]=N}}const Y3e={name:"preventOverflow",enabled:!0,phase:"main",fn:Q3e,requiresIfExists:["offset"]};function X3e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Z3e(n){return n===jl(n)||!Lc(n)?Vj(n):X3e(n)}function J3e(n){var e=n.getBoundingClientRect(),t=BC(e.width)/n.offsetWidth||1,i=BC(e.height)/n.offsetHeight||1;return t!==1||i!==1}function eBe(n,e,t){t===void 0&&(t=!1);var i=Lc(e),r=Lc(e)&&J3e(e),s=Gp(e),o=HC(n,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Vd(e)!=="body"||Wj(s))&&(a=Z3e(e)),Lc(e)?(l=HC(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=zj(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function tBe(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function nBe(n){var e=tBe(n);return f3e.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function iBe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function rBe(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Ote={placement:"bottom",modifiers:[],strategy:"absolute"};function Fte(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function sBe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?Ote:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ote,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(C){var y=typeof C=="function"?C(u.options):C;m(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:rv(a)?LS(a):a.contextElement?LS(a.contextElement):[],popper:LS(l)};var w=nBe(rBe([].concat(i,u.options.modifiers)));return u.orderedModifiers=w.filter(function(_){return _.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var C=u.elements,y=C.reference,w=C.popper;if(Fte(y,w)){u.rects={reference:eBe(y,Jk(w),u.options.strategy==="fixed"),popper:Bj(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var x=u.orderedModifiers[_],k=x.fn,D=x.options,T=D===void 0?{}:D,L=x.name;typeof k=="function"&&(u=k({state:u,options:T,name:L,instance:f})||u)}}}},update:iBe(function(){return new Promise(function(v){f.forceUpdate(),v(u)})}),destroy:function(){m(),h=!0}};if(!Fte(a,l))return f;f.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var C=v.name,y=v.options,w=y===void 0?{}:y,_=v.effect;if(typeof _=="function"){var x=_({state:u,name:C,instance:f,options:w}),k=function(){};d.push(x||k)}})}function m(){d.forEach(function(v){return v()}),d=[]}return f}}var oBe=[T3e,G3e,E3e,m3e,U3e,V3e,Y3e,S3e,W3e],aBe=sBe({defaultModifiers:oBe});function lBe(n){return Zt("MuiPopper",n)}Jt("MuiPopper",["root"]);function cBe(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function k8(n){return typeof n=="function"?n():n}function uBe(n){return n.nodeType!==void 0}const dBe=n=>{const{classes:e}=n;return _t({root:["root"]},lBe,e)},hBe={},fBe=M.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:s,disablePortal:o,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:h={},slots:f={},TransitionProps:p,ownerState:m,...v}=e,C=M.useRef(null),y=Wi(C,t),w=M.useRef(null),_=Wi(w,d),x=M.useRef(_);ar(()=>{x.current=_},[_]),M.useImperativeHandle(d,()=>w.current,[]);const k=cBe(c,s),[D,T]=M.useState(k),[L,I]=M.useState(k8(i));M.useEffect(()=>{w.current&&w.current.forceUpdate()}),M.useEffect(()=>{i&&I(k8(i))},[i]),ar(()=>{if(!L||!l)return;const A=$=>{T($.placement)};let H=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{A($)}}];a!=null&&(H=H.concat(a)),u&&u.modifiers!=null&&(H=H.concat(u.modifiers));const W=aBe(L,C.current,{placement:k,...u,modifiers:H});return x.current(W),()=>{W.destroy(),x.current(null)}},[L,o,a,l,u,k]);const R={placement:D};p!==null&&(R.TransitionProps=p);const N=dBe(e),O=f.root??"div",F=OC({elementType:O,externalSlotProps:h.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:N.root});return V.jsx(O,{...F,children:typeof r=="function"?r(R):r})}),gBe=M.forwardRef(function(e,t){const{anchorEl:i,children:r,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=hBe,popperRef:f,style:p,transition:m=!1,slotProps:v={},slots:C={},...y}=e,[w,_]=M.useState(!0),x=()=>{_(!1)},k=()=>{_(!0)};if(!l&&!u&&(!m||w))return null;let D;if(s)D=s;else if(i){const I=k8(i);D=I&&uBe(I)?Jr(I).body:Jr(null).body}const T=!u&&l&&(!m||w)?"none":void 0,L=m?{in:u,onEnter:x,onExited:k}:void 0;return V.jsx(Ame,{disablePortal:a,container:D,children:V.jsx(fBe,{anchorEl:i,direction:o,disablePortal:a,modifiers:c,ref:t,open:m?!w:u,placement:d,popperOptions:h,popperRef:f,slotProps:v,slots:C,...y,style:{position:"fixed",top:0,left:0,display:T,...p},TransitionProps:L,children:r})})}),pBe=$e(gBe,{name:"MuiPopper",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Mv=M.forwardRef(function(e,t){const i=ba(),r=on({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:v,transition:C,slots:y,slotProps:w,..._}=r,x=(y==null?void 0:y.root)??(a==null?void 0:a.Root),k={anchorEl:s,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:v,transition:C,..._};return V.jsx(pBe,{as:o,direction:i?"rtl":"ltr",slots:{root:x},slotProps:w??l,...k,ref:t})});function mBe(n){return Zt("MuiTooltip",n)}const as=Jt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function bBe(n){return Math.round(n*1e5)/1e5}const vBe=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:r,placement:s}=n,o={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${nt(s.split("-")[0])}`],arrow:["arrow"]};return _t(o,mBe,e)},yBe=$e(Mv,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(sn(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${as.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${as.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${as.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${as.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${as.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${as.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${as.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${as.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),CBe=$e("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${nt(t.placement.split("-")[0])}`]]}})(sn(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:wn(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${as.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${as.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${as.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${as.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${bBe(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${as.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${as.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${as.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${as.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${as.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${as.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${as.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${as.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${as.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${as.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),_Be=$e("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(sn(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:wn(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let yD=!1;const Bte=new IN;let gw={x:0,y:0};function CD(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const yb=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:s,classes:o,components:a={},componentsProps:l={},describeChild:c=!1,disableFocusListener:u=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:f=!1,enterDelay:p=100,enterNextDelay:m=0,enterTouchDelay:v=700,followCursor:C=!1,id:y,leaveDelay:w=0,leaveTouchDelay:_=1500,onClose:x,onOpen:k,open:D,placement:T="bottom",PopperComponent:L,PopperProps:I={},slotProps:R={},slots:N={},title:O,TransitionComponent:F,TransitionProps:A,...H}=i,W=M.isValidElement(s)?s:V.jsx("span",{children:s}),$=eh(),U=ba(),[z,K]=M.useState(),[Z,Q]=M.useState(null),G=M.useRef(!1),J=h||C,ne=Pl(),ae=Pl(),se=Pl(),X=Pl(),[oe,ve]=Tb({controlled:D,default:!1,name:"Tooltip",state:"open"});let me=oe;const ye=Gi(y),Le=M.useRef(),ie=li(()=>{Le.current!==void 0&&(document.body.style.WebkitUserSelect=Le.current,Le.current=void 0),X.clear()});M.useEffect(()=>ie,[ie]);const Ee=ot=>{Bte.clear(),yD=!0,ve(!0),k&&!me&&k(ot)},Ue=li(ot=>{Bte.start(800+w,()=>{yD=!1}),ve(!1),x&&me&&x(ot),ne.start($.transitions.duration.shortest,()=>{G.current=!1})}),re=ot=>{G.current&&ot.type!=="touchstart"||(z&&z.removeAttribute("title"),ae.clear(),se.clear(),p||yD&&m?ae.start(yD?m:p,()=>{Ee(ot)}):Ee(ot))},fe=ot=>{ae.clear(),se.start(w,()=>{Ue(ot)})},[,Ce]=M.useState(!1),Me=ot=>{PC(ot.target)||(Ce(!1),fe(ot))},Te=ot=>{z||K(ot.currentTarget),PC(ot.target)&&(Ce(!0),re(ot))},Ae=ot=>{G.current=!0;const le=W.props;le.onTouchStart&&le.onTouchStart(ot)},Ne=ot=>{Ae(ot),se.clear(),ne.clear(),ie(),Le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",X.start(v,()=>{document.body.style.WebkitUserSelect=Le.current,re(ot)})},Ge=ot=>{W.props.onTouchEnd&&W.props.onTouchEnd(ot),ie(),se.start(_,()=>{Ue(ot)})};M.useEffect(()=>{if(!me)return;function ot(le){le.key==="Escape"&&Ue(le)}return document.addEventListener("keydown",ot),()=>{document.removeEventListener("keydown",ot)}},[Ue,me]);const gt=Wi(Up(W),K,t);!O&&O!==0&&(me=!1);const rt=M.useRef(),it=ot=>{const le=W.props;le.onMouseMove&&le.onMouseMove(ot),gw={x:ot.clientX,y:ot.clientY},rt.current&&rt.current.update()},Xe={},st=typeof O=="string";c?(Xe.title=!me&&st&&!d?O:null,Xe["aria-describedby"]=me?ye:null):(Xe["aria-label"]=st?O:null,Xe["aria-labelledby"]=me&&!st?ye:null);const Ke={...Xe,...H,...W.props,className:lt(H.className,W.props.className),onTouchStart:Ae,ref:gt,...C?{onMouseMove:it}:{}},kt={};f||(Ke.onTouchStart=Ne,Ke.onTouchEnd=Ge),d||(Ke.onMouseOver=CD(re,Ke.onMouseOver),Ke.onMouseLeave=CD(fe,Ke.onMouseLeave),J||(kt.onMouseOver=re,kt.onMouseLeave=fe)),u||(Ke.onFocus=CD(Te,Ke.onFocus),Ke.onBlur=CD(Me,Ke.onBlur),J||(kt.onFocus=Te,kt.onBlur=Me));const Gt={...i,isRtl:U,arrow:r,disableInteractive:J,placement:T,PopperComponentProp:L,touch:G.current},Dt=typeof R.popper=="function"?R.popper(Gt):R.popper,xe=M.useMemo(()=>{var le,ue;let ot=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return(le=I.popperOptions)!=null&&le.modifiers&&(ot=ot.concat(I.popperOptions.modifiers)),(ue=Dt==null?void 0:Dt.popperOptions)!=null&&ue.modifiers&&(ot=ot.concat(Dt.popperOptions.modifiers)),{...I.popperOptions,...Dt==null?void 0:Dt.popperOptions,modifiers:ot}},[Z,I.popperOptions,Dt==null?void 0:Dt.popperOptions]),Re=vBe(Gt),Et=typeof R.transition=="function"?R.transition(Gt):R.transition,Mt={slots:{popper:a.Popper,transition:a.Transition??F,tooltip:a.Tooltip,arrow:a.Arrow,...N},slotProps:{arrow:R.arrow??l.arrow,popper:{...I,...Dt??l.popper},tooltip:R.tooltip??l.tooltip,transition:{...A,...Et??l.transition}}},[hn,en]=oi("popper",{elementType:yBe,externalForwardedProps:Mt,ownerState:Gt,className:lt(Re.popper,I==null?void 0:I.className)}),[fi,Qt]=oi("transition",{elementType:Ax,externalForwardedProps:Mt,ownerState:Gt}),[He,Bt]=oi("tooltip",{elementType:CBe,className:Re.tooltip,externalForwardedProps:Mt,ownerState:Gt}),[fn,bn]=oi("arrow",{elementType:_Be,className:Re.arrow,externalForwardedProps:Mt,ownerState:Gt,ref:Q});return V.jsxs(M.Fragment,{children:[M.cloneElement(W,Ke),V.jsx(hn,{as:L??Mv,placement:T,anchorEl:C?{getBoundingClientRect:()=>({top:gw.y,left:gw.x,right:gw.x,bottom:gw.y,width:0,height:0})}:z,popperRef:rt,open:z?me:!1,id:ye,transition:!0,...kt,...en,popperOptions:xe,children:({TransitionProps:ot})=>V.jsx(fi,{timeout:$.transitions.duration.shorter,...ot,...Qt,children:V.jsxs(He,{...Bt,children:[O,r?V.jsx(fn,{...bn}):null]})})})]})});function wBe(n){return Zt("MuiCircularProgress",n)}Jt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const kg=44,L8=Jd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,E8=Jd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,SBe=typeof L8!="string"?qp`
        animation: ${L8} 1.4s linear infinite;
      `:null,xBe=typeof E8!="string"?qp`
        animation: ${E8} 1.4s ease-in-out infinite;
      `:null,kBe=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${nt(i)}`],svg:["svg"],circle:["circle",`circle${nt(t)}`,r&&"circleDisableShrink"]};return _t(s,wBe,e)},LBe=$e("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${nt(t.color)}`]]}})(sn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:SBe||{animation:`${L8} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),EBe=$e("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),DBe=$e("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${nt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(sn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:xBe||{animation:`${E8} 1.4s ease-in-out infinite`}}]}))),Kp=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=i,f={...i,color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d},p=kBe(f),m={},v={},C={};if(d==="determinate"){const y=2*Math.PI*((kg-c)/2);m.strokeDasharray=y.toFixed(3),C["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,v.transform="rotate(-90deg)"}return V.jsx(LBe,{className:lt(p.root,r),style:{width:a,height:a,...v,...l},ownerState:f,ref:t,role:"progressbar",...C,...h,children:V.jsx(EBe,{className:p.svg,ownerState:f,viewBox:`${kg/2} ${kg/2} ${kg} ${kg}`,children:V.jsx(DBe,{className:p.circle,style:m,ownerState:f,cx:kg,cy:kg,r:(kg-c)/2,fill:"none",strokeWidth:c})})})});function TBe(n){return Zt("MuiIconButton",n)}const Hte=Jt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),IBe=n=>{const{classes:e,disabled:t,color:i,edge:r,size:s,loading:o}=n,a={root:["root",o&&"loading",t&&"disabled",i!=="default"&&`color${nt(i)}`,r&&`edge${nt(r)}`,`size${nt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return _t(a,TBe,e)},MBe=$e(Tp,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${nt(t.color)}`],t.edge&&e[`edge${nt(t.edge)}`],e[`size${nt(t.size)}`]]}})(sn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),sn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:wn((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${Hte.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${Hte.loading}`]:{color:"transparent"}}))),RBe=$e("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ua=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:d,loading:h=null,loadingIndicator:f,...p}=i,m=Gi(d),v=f??V.jsx(Kp,{"aria-labelledby":m,color:"inherit",size:16}),C={...i,edge:r,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:v,size:u},y=IBe(C);return V.jsxs(MBe,{id:m,className:lt(y.root,o),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:t,...p,ownerState:C,children:[typeof h=="boolean"&&V.jsx("span",{className:y.loadingWrapper,style:{display:"contents"},children:V.jsx(RBe,{className:y.loadingIndicator,ownerState:C,children:h&&v})}),s]})}),ZT=Ut(V.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7zm-4 6h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"ListOutlined"),NBe=Ut(V.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),ABe=Ut(V.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),PBe=Ut(V.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),OBe=Ut(V.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),FBe=Ut(V.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),Gme=M.createContext(void 0);function Zn(){const n=M.useContext(Gme);if(n===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return n}const Kme=M.createContext(void 0),Kt=()=>{const n=M.useContext(Kme);if(!n)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return n},BBe=parseInt(M.version,10),Mi=n=>{if(BBe>=19){const e=t=>n(t,t.ref??null);return e.displayName=n.displayName??n.name,e}return M.forwardRef(n)},HBe=Object.is;function Qme(n,e){if(n===e)return!0;if(!(n instanceof Object)||!(e instanceof Object))return!1;let t=0,i=0;for(const r in n)if(t+=1,!HBe(n[r],e[r])||!(r in e))return!1;for(const r in e)i+=1;return t===i}function zf(n){return M.memo(n,Qme)}const VBe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:n=>n!==1?`${n} active filters`:`${n} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:n=>n!==1?`${n} active filters`:`${n} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:n=>n!==1?`${n.toLocaleString()} rows selected`:`${n.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(n,e)=>`${n.toLocaleString()} of ${e.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:n=>`Group by ${n}`,unGroupColumn:n=>`Stop grouping by ${n}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function ci(n){return Zt("MuiDataGrid",n)}const be=Jt("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),Vte=1e3;class zBe{constructor(e=Vte){this.timeouts=new Map,this.cleanupTimeout=Vte,this.cleanupTimeout=e}register(e,t,i){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof t=="function"&&t(),this.timeouts.delete(i.cleanupToken)},this.cleanupTimeout);this.timeouts.set(i.cleanupToken,r)}unregister(e){const t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach((e,t)=>{this.unregister({cleanupToken:t})}),this.timeouts=void 0)}}class WBe{constructor(){this.registry=new FinalizationRegistry(e=>{typeof e=="function"&&e()})}register(e,t,i){this.registry.register(e,t,i)}unregister(e){this.registry.unregister(e)}reset(){}}var Ec=function(n){return n.DataGrid="DataGrid",n.DataGridPro="DataGridPro",n.DataGridPremium="DataGridPremium",n}(Ec||{});class $Be{}function jBe(n){let e=0;return function(i,r,s,o){n.registry===null&&(n.registry=typeof FinalizationRegistry<"u"?new WBe:new zBe);const[a]=M.useState(new $Be),l=M.useRef(null),c=M.useRef(null);c.current=s;const u=M.useRef(null);if(!l.current&&c.current){const d=(h,f,p)=>{var m;f.defaultMuiPrevented||(m=c.current)==null||m.call(c,h,f,p)};l.current=i.current.subscribeEvent(r,d,o),e+=1,u.current={cleanupToken:e},n.registry.register(a,()=>{var h;(h=l.current)==null||h.call(l),l.current=null,u.current=null},u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(n.registry.unregister(u.current),u.current=null));M.useEffect(()=>{if(!l.current&&c.current){const d=(h,f,p)=>{var m;f.defaultMuiPrevented||(m=c.current)==null||m.call(c,h,f,p)};l.current=i.current.subscribeEvent(r,d,o)}return u.current&&n.registry&&(n.registry.unregister(u.current),u.current=null),()=>{var d;(d=l.current)==null||d.call(l),l.current=null}},[i,r,o])}}const UBe={registry:null},$t=jBe(UBe),qBe={isFirst:!0};function pr(n,e,t){$t(n,e,t,qBe)}function Yme(n){return n.acceptsApiRef}function zte(n,e){return Yme(e)?e(n):e(n.current.state)}function pF(n,e,t,i){return Yme(e)?e(n,t):e(n.current.state,i)}const Xme=Object.is,AN=Qme,GBe=(n,e)=>n===e?!0:n.length===e.length&&n.every((t,i)=>t===e[i]),KBe=(n,e)=>{let t=Object.is;return e instanceof Array?t=GBe:e instanceof Object&&(t=AN),t(n,e)},Zme=()=>({state:null,equals:null,selector:null,args:null}),bt=(n,e,t=Xme)=>{const i=Uc(Zme),r=i.current.selector!==null,[s,o]=M.useState(r?null:zte(n,e));return i.current.state=s,i.current.equals=t,i.current.selector=e,Xk(()=>n.current.store.subscribe(()=>{const a=zte(n,i.current.selector);i.current.equals(i.current.state,a)||(i.current.state=a,o(a))})),s},QBe=(n,e,t=void 0,i=Xme)=>{const r=Uc(Zme),s=r.current.selector!==null,[o,a]=M.useState(s?null:pF(n,e,t,n.current.instanceId));r.current.state=o,r.current.equals=i,r.current.selector=e;const l=r.current.args;if(r.current.args=t,s&&!KBe(l,t)){const c=pF(n,r.current.selector,r.current.args,n.current.instanceId);r.current.equals(r.current.state,c)||(r.current.state=c,a(c))}return Xk(()=>n.current.store.subscribe(()=>{const c=pF(n,r.current.selector,r.current.args,n.current.instanceId);r.current.equals(r.current.state,c)||(r.current.state=c,a(c))})),o},fa=n=>n.dimensions;var JT=Symbol("NOT_FOUND");function YBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function XBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function ZBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var Wte=n=>Array.isArray(n)?n:[n];function JBe(n){const e=Array.isArray(n[0])?n[0]:n;return ZBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function e9e(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}function t9e(n){let e;return{get(t){return e&&n(e.key,t)?e.value:JT},put(t,i){e={key:t,value:i}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function n9e(n,e){let t=[];function i(a){const l=t.findIndex(c=>e(a,c.key));if(l>-1){const c=t[l];return l>0&&(t.splice(l,1),t.unshift(c)),c.value}return JT}function r(a,l){i(a)===JT&&(t.unshift({key:a,value:l}),t.length>n&&t.pop())}function s(){return t}function o(){t=[]}return{get:i,put:r,getEntries:s,clear:o}}var i9e=(n,e)=>n===e;function r9e(n){return function(t,i){if(t===null||i===null||t.length!==i.length)return!1;const{length:r}=t;for(let s=0;s<r;s++)if(!n(t[s],i[s]))return!1;return!0}}function Jme(n,e){const t=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:i=i9e,maxSize:r=1,resultEqualityCheck:s}=t,o=r9e(i);let a=0;const l=r<=1?t9e(o):n9e(r,o);function c(){let u=l.get(arguments);if(u===JT){if(u=n.apply(null,arguments),a++,s){const h=l.getEntries().find(f=>s(f.value,u));h&&(u=h.value,a!==0&&a--)}l.put(arguments,u)}return u}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}var s9e=class{constructor(n){this.value=n}deref(){return this.value}},o9e=typeof WeakRef<"u"?WeakRef:s9e,a9e=0,$te=1;function _D(){return{s:a9e,v:void 0,o:null,p:null}}function ebe(n,e={}){let t=_D();const{resultEqualityCheck:i}=e;let r,s=0;function o(){var d;let a=t;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const v=m.get(p);v===void 0?(a=_D(),m.set(p,a)):a=v}else{let m=a.p;m===null&&(a.p=m=new Map);const v=m.get(p);v===void 0?(a=_D(),m.set(p,a)):a=v}}const c=a;let u;if(a.s===$te)u=a.v;else if(u=n.apply(null,arguments),s++,i){const h=((d=r==null?void 0:r.deref)==null?void 0:d.call(r))??r;h!=null&&i(h,u)&&(u=h,s!==0&&s--),r=typeof u=="object"&&u!==null||typeof u=="function"?new o9e(u):u}return c.s=$te,c.v=u,u}return o.clearCache=()=>{t=_D(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function tbe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,o=0,a,l={},c=r.pop();typeof c=="object"&&(l=c,c=r.pop()),YBe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...t,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=ebe,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,v=Wte(h),C=Wte(p),y=JBe(r),w=d(function(){return s++,c.apply(null,arguments)},...v),_=f(function(){o++;const k=e9e(y,arguments);return a=w.apply(null,k),a},...C);return Object.assign(_,{resultFunc:c,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(i,{withTypes:()=>i}),i}var nbe=tbe(ebe),l9e=Object.assign((n,e=nbe)=>{XBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((o,a,l)=>(o[t[l]]=a,o),{}))},{withTypes:()=>l9e});const c9e=tbe({memoize:Jme,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),jte=new WeakMap;function Qm(n){return"current"in n&&"instanceId"in n.current}const Ym={id:"default"},yn=(n,e,t,i,r,s,...o)=>{if(o.length>0)throw new Error("Unsupported number of selectors");let a;if(n&&e&&t&&i&&r&&s)a=(l,c)=>{const u=Qm(l),d=c??(u?l.current.instanceId:Ym),h=u?l.current.state:l,f=n(h,d),p=e(h,d),m=t(h,d),v=i(h,d),C=r(h,d);return s(f,p,m,v,C)};else if(n&&e&&t&&i&&r)a=(l,c)=>{const u=Qm(l),d=c??(u?l.current.instanceId:Ym),h=u?l.current.state:l,f=n(h,d),p=e(h,d),m=t(h,d),v=i(h,d);return r(f,p,m,v)};else if(n&&e&&t&&i)a=(l,c)=>{const u=Qm(l),d=c??(u?l.current.instanceId:Ym),h=u?l.current.state:l,f=n(h,d),p=e(h,d),m=t(h,d);return i(f,p,m)};else if(n&&e&&t)a=(l,c)=>{const u=Qm(l),d=c??(u?l.current.instanceId:Ym),h=u?l.current.state:l,f=n(h,d),p=e(h,d);return t(f,p)};else if(n&&e)a=(l,c)=>{const u=Qm(l),d=c??(u?l.current.instanceId:Ym),h=u?l.current.state:l,f=n(h,d);return e(f)};else throw new Error("Missing arguments");return a.acceptsApiRef=!0,a},u9e=(n,e,t,i,r,s,...o)=>{if(o.length>0)throw new Error("Unsupported number of selectors");let a;return a=(l,c,u)=>{const d=Qm(l),h=u??(d?l.current.instanceId:Ym),f=d?l.current.state:l,p=n(f,c,h);return e(p,c)},a.acceptsApiRef=!0,a},Qi=(...n)=>{const e=(t,i)=>{const r=Qm(t),s=r?t.current.instanceId:i??Ym,o=r?t.current.state:t,a=jte.get(s),l=a??new Map,c=l==null?void 0:l.get(n);if(l&&c)return c(o,s);const u=c9e(...n);return a||jte.set(s,l),l.set(n,u),u(o,s)};return e.acceptsApiRef=!0,e},d9e=.7,h9e=1.3,f9e={compact:d9e,comfortable:h9e,standard:1},py=n=>n.density,eL=yn(py,n=>f9e[n]);let Hg=function(n){return n.LEFT="left",n.RIGHT="right",n}({});const D8={left:[],right:[]},g9e=n=>n.isRtl,Md=n=>n.columns,bf=yn(Md,n=>n.orderedFields),Wf=yn(Md,n=>n.lookup),Su=Qi(bf,Wf,(n,e)=>n.map(t=>e[t])),wc=yn(Md,n=>n.columnVisibilityModel),ps=Qi(Su,wc,(n,e)=>n.filter(t=>e[t.field]!==!1)),T0=Qi(ps,n=>n.map(e=>e.field)),p9e=n=>n.pinnedColumns,tL=Qi(Md,p9e,T0,g9e,(n,e,t,i)=>{const r=m9e(e,t,i);return{left:r.left.map(o=>n.lookup[o]),right:r.right.map(o=>n.lookup[o])}});function m9e(n,e,t){var a,l;if(!Array.isArray(n.left)&&!Array.isArray(n.right)||((a=n.left)==null?void 0:a.length)===0&&((l=n.right)==null?void 0:l.length)===0)return D8;const i=(c,u)=>Array.isArray(c)?c.filter(d=>u.includes(d)):[],r=i(n.left,e),s=e.filter(c=>!r.includes(c)),o=i(n.right,s);return t?{left:o,right:r}:{left:r,right:o}}const Qp=Qi(ps,n=>{const e=[];let t=0;for(let i=0;i<n.length;i+=1)e.push(t),t+=n[i].computedWidth;return e}),$j=yn(ps,Qp,(n,e)=>{const t=n.length;return t===0?0:e[t-1]+n[t-1].computedWidth}),ibe=Qi(Su,n=>n.filter(e=>e.filterable)),b9e=Qi(Su,n=>n.reduce((e,t)=>(t.filterable&&(e[t.field]=t),e),{})),v9e=Qi(Su,n=>n.some(e=>e.colSpan!==void 0));function wD(n){return parseInt(n,10)||0}const y9e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function C9e(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const _9e=M.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:s=1,style:o,value:a,...l}=e,{current:c}=M.useRef(a!=null),u=M.useRef(null),d=Wi(t,u),h=M.useRef(null),f=M.useRef(null),p=M.useCallback(()=>{const C=u.current,w=Mc(C).getComputedStyle(C);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};const _=f.current;_.style.width=w.width,_.value=C.value||e.placeholder||"x",_.value.slice(-1)===`
`&&(_.value+=" ");const x=w.boxSizing,k=wD(w.paddingBottom)+wD(w.paddingTop),D=wD(w.borderBottomWidth)+wD(w.borderTopWidth),T=_.scrollHeight;_.value="x";const L=_.scrollHeight;let I=T;s&&(I=Math.max(Number(s)*L,I)),r&&(I=Math.min(Number(r)*L,I)),I=Math.max(I,L);const R=I+(x==="border-box"?k+D:0),N=Math.abs(I-T)<=1;return{outerHeightStyle:R,overflowing:N}},[r,s,e.placeholder]),m=M.useCallback(()=>{const C=p();if(C9e(C))return;const y=C.outerHeightStyle,w=u.current;h.current!==y&&(h.current=y,w.style.height=`${y}px`),w.style.overflow=C.overflowing?"hidden":""},[p]);ar(()=>{const C=()=>{m()};let y;const w=gj(C),_=u.current,x=Mc(_);x.addEventListener("resize",w);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(C),k.observe(_)),()=>{w.clear(),cancelAnimationFrame(y),x.removeEventListener("resize",w),k&&k.disconnect()}},[p,m]),ar(()=>{m()});const v=C=>{c||m(),i&&i(C)};return V.jsxs(M.Fragment,{children:[V.jsx("textarea",{value:a,onChange:v,ref:d,rows:s,style:o,...l}),V.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:{...y9e.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function T8(n){return typeof n=="string"}function Rv({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const PN=M.createContext(void 0);function $f(){return M.useContext(PN)}function Ute(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function eI(n,e=!1){return n&&(Ute(n.value)&&n.value!==""||e&&Ute(n.defaultValue)&&n.defaultValue!=="")}function w9e(n){return n.startAdornment}function S9e(n){return Zt("MuiInputBase",n)}const _o=Jt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var qte;const ON=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${nt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},FN=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},x9e=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=n,m={root:["root",`color${nt(t)}`,i&&"disabled",r&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${nt(h)}`,u&&"multiline",f&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",i&&"disabled",p==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return _t(m,S9e,e)},BN=$e("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ON})(sn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${_o.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),HN=$e("input",{name:"MuiInputBase",slot:"Input",overridesResolver:FN})(sn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${_o.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${_o.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Gte=Rj({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),I0=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:o,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,error:m,fullWidth:v=!1,id:C,inputComponent:y="input",inputProps:w={},inputRef:_,margin:x,maxRows:k,minRows:D,multiline:T=!1,name:L,onBlur:I,onChange:R,onClick:N,onFocus:O,onKeyDown:F,onKeyUp:A,placeholder:H,readOnly:W,renderSuffix:$,rows:U,size:z,slotProps:K={},slots:Z={},startAdornment:Q,type:G="text",value:J,...ne}=i,ae=w.value!=null?w.value:J,{current:se}=M.useRef(ae!=null),X=M.useRef(),oe=M.useCallback(Ke=>{},[]),ve=Wi(X,_,w.ref,oe),[me,ye]=M.useState(!1),Le=$f(),ie=Rv({props:i,muiFormControl:Le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=Le?Le.focused:me,M.useEffect(()=>{!Le&&h&&me&&(ye(!1),I&&I())},[Le,h,me,I]);const Ee=Le&&Le.onFilled,Ue=Le&&Le.onEmpty,re=M.useCallback(Ke=>{eI(Ke)?Ee&&Ee():Ue&&Ue()},[Ee,Ue]);ar(()=>{se&&re({value:ae})},[ae,re,se]);const fe=Ke=>{O&&O(Ke),w.onFocus&&w.onFocus(Ke),Le&&Le.onFocus?Le.onFocus(Ke):ye(!0)},Ce=Ke=>{I&&I(Ke),w.onBlur&&w.onBlur(Ke),Le&&Le.onBlur?Le.onBlur(Ke):ye(!1)},Me=(Ke,...kt)=>{if(!se){const Gt=Ke.target||X.current;if(Gt==null)throw new Error(If(1));re({value:Gt.value})}w.onChange&&w.onChange(Ke,...kt),R&&R(Ke,...kt)};M.useEffect(()=>{re(X.current)},[]);const Te=Ke=>{X.current&&Ke.currentTarget===Ke.target&&X.current.focus(),N&&N(Ke)};let Ae=y,Ne=w;T&&Ae==="input"&&(U?Ne={type:void 0,minRows:U,maxRows:U,...Ne}:Ne={type:void 0,maxRows:k,minRows:D,...Ne},Ae=_9e);const Ge=Ke=>{re(Ke.animationName==="mui-auto-fill-cancel"?X.current:{value:"x"})};M.useEffect(()=>{Le&&Le.setAdornedStart(!!Q)},[Le,Q]);const gt={...i,color:ie.color||"primary",disabled:ie.disabled,endAdornment:p,error:ie.error,focused:ie.focused,formControl:Le,fullWidth:v,hiddenLabel:ie.hiddenLabel,multiline:T,size:ie.size,startAdornment:Q,type:G},rt=x9e(gt),it=Z.root||c.Root||BN,Xe=K.root||u.root||{},st=Z.input||c.Input||HN;return Ne={...Ne,...K.input??u.input},V.jsxs(M.Fragment,{children:[!f&&typeof Gte=="function"&&(qte||(qte=V.jsx(Gte,{}))),V.jsxs(it,{...Xe,ref:t,onClick:Te,...ne,...!T8(it)&&{ownerState:{...gt,...Xe.ownerState}},className:lt(rt.root,Xe.className,a,W&&"MuiInputBase-readOnly"),children:[Q,V.jsx(PN.Provider,{value:null,children:V.jsx(st,{"aria-invalid":ie.error,"aria-describedby":r,autoComplete:s,autoFocus:o,defaultValue:d,disabled:ie.disabled,id:C,onAnimationStart:Ge,name:L,placeholder:H,readOnly:W,required:ie.required,rows:U,value:ae,onKeyDown:F,onKeyUp:A,type:G,...Ne,...!T8(st)&&{as:Ae,ownerState:{...gt,...Ne.ownerState}},ref:ve,className:lt(rt.input,Ne.className,W&&"MuiInputBase-readOnly"),onBlur:Ce,onChange:Me,onFocus:fe})}),p,$?$({...ie,startAdornment:Q}):null]})]})}),k9e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],L9e=n=>{const{classes:e}=n;return _t({root:["editInputCell"]},ci,e)},E9e=$e(I0,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(n,e)=>e.editInputCell})(({theme:n})=>te({},n.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),D9e=Mi((n,e)=>{const t=Kt(),{id:i,value:r,field:s,colDef:o,hasFocus:a,debounceMs:l=200,isProcessingProps:c,onValueChange:u}=n,d=rn(n,k9e),h=Zn(),f=M.useRef(null),[p,m]=M.useState(r),v=L9e(t),C=M.useCallback(async w=>{const _=w.target.value;u&&await u(w,_);const x=h.current.getColumn(s);let k=_;x.valueParser&&(k=x.valueParser(_,h.current.getRow(i),x,h)),m(k),h.current.setEditCellValue({id:i,field:s,value:k,debounceMs:l,unstable_skipValueParser:!0},w)},[h,l,s,i,u]),y=h.current.unstable_getEditCellMeta(i,s);return M.useEffect(()=>{(y==null?void 0:y.changeReason)!=="debouncedSetEditCellValue"&&m(r)},[y,r]),ar(()=>{a&&f.current.focus()},[a]),V.jsx(E9e,te({inputRef:f,className:v.root,ownerState:t,fullWidth:!0,type:o.type==="number"?o.type:"text",value:p??"",onChange:C,endAdornment:c?V.jsx(t.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},d,{ref:e}))}),T9e=n=>V.jsx(D9e,te({},n)),rbe=(n,e)=>e&&n.length>1?[n[0]]:n,Kte=(n,e)=>t=>te({},t,{sorting:te({},t.sorting,{sortModel:rbe(n,e)})}),I9e=n=>n==="desc",M9e=(n,e)=>{const t=e.current.getColumn(n.field);if(!t||n.sort===null)return null;let i;return t.getSortComparator?i=t.getSortComparator(n.sort):i=I9e(n.sort)?(...s)=>-1*t.sortComparator(...s):t.sortComparator,i?{getSortCellParams:s=>({id:s,field:t.field,rowNode:e.current.getRowNode(s),value:e.current.getCellValue(s,t.field),api:e.current}),comparator:i}:null},R9e=(n,e,t)=>n.reduce((i,r,s)=>{if(i!==0)return i;const o=e.params[s],a=t.params[s];return i=r.comparator(o.value,a.value,o,a),i},0),N9e=(n,e)=>{const t=n.map(i=>M9e(i,e)).filter(i=>!!i);return t.length===0?null:i=>i.map(r=>({node:r,params:t.map(s=>s.getSortCellParams(r.id))})).sort((r,s)=>R9e(t,r,s)).map(r=>r.node.id)},Qte=(n,e)=>{const t=n.indexOf(e);return!e||t===-1||t+1===n.length?n[0]:n[t+1]},jj=(n,e)=>n==null&&e!=null?-1:e==null&&n!=null?1:n==null&&e==null?0:null,A9e=new Intl.Collator,P9e=(n,e)=>{const t=jj(n,e);return t!==null?t:typeof n=="string"?A9e.compare(n.toString(),e.toString()):n-e},sbe=(n,e)=>{const t=jj(n,e);return t!==null?t:Number(n)-Number(e)},obe=(n,e)=>{const t=jj(n,e);return t!==null?t:n>e?1:n<e?-1:0},O9e=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function vc(n){var _;const{item:e,applyValue:t,type:i,apiRef:r,focusElementRef:s,tabIndex:o,disabled:a,clearButton:l,InputProps:c,variant:u="standard"}=n,d=rn(n,O9e),h=Pl(),[f,p]=M.useState(mF(e.value)),[m,v]=M.useState(!1),C=Gi(),y=Kt(),w=M.useCallback(x=>{const k=mF(x.target.value);p(k),v(!0),h.start(y.filterDebounceMs,()=>{const D=te({},e,{value:i==="number"&&!Number.isNaN(Number(k))?Number(k):k,fromInput:C});t(D),v(!1)})},[h,y.filterDebounceMs,e,i,C,t]);return M.useEffect(()=>{(e.fromInput!==C||e.value==null)&&p(mF(e.value))},[C,e]),V.jsx(y.slots.baseTextField,te({id:C,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:f??"",onChange:w,variant:u,type:i||"text",InputProps:te({},m||l?{endAdornment:m?V.jsx(y.slots.loadIcon,{fontSize:"small",color:"action"}):l}:{},{disabled:a},c,{inputProps:te({tabIndex:o},c==null?void 0:c.inputProps)}),InputLabelProps:{shrink:!0},inputRef:s},d,(_=y.slotProps)==null?void 0:_.baseTextField))}function mF(n){if(!(n==null||n===""))return String(n)}function F9e(n){return typeof n=="number"&&!Number.isNaN(n)}function abe(n){return typeof n=="function"}function Uj(n){return typeof n=="object"&&n!==null}function B9e(){try{const n="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(n,n),window.localStorage.removeItem(n),!0}catch{return!1}}function tI(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Rd=(n,e,t)=>Math.max(e,Math.min(t,n));function Yte(n,e){return Array.from({length:e-n}).map((t,i)=>n+i)}function tC(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;if(Array.isArray(n)){const r=n.length;if(r!==e.length)return!1;for(let s=0;s<r;s+=1)if(!tC(n[s],e[s]))return!1;return!0}if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;const r=Array.from(n.entries());for(let s=0;s<r.length;s+=1)if(!e.has(r[s][0]))return!1;for(let s=0;s<r.length;s+=1){const o=r[s];if(!tC(o[1],e.get(o[0])))return!1}return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;const r=Array.from(n.entries());for(let s=0;s<r.length;s+=1)if(!e.has(r[s][0]))return!1;return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){const r=n.length;if(r!==e.length)return!1;for(let s=0;s<r;s+=1)if(n[s]!==e[s])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const t=Object.keys(n),i=t.length;if(i!==Object.keys(e).length)return!1;for(let r=0;r<i;r+=1)if(!Object.prototype.hasOwnProperty.call(e,t[r]))return!1;for(let r=0;r<i;r+=1){const s=t[r];if(!tC(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function H9e(n){return()=>{let e=n+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function V9e(n){const e=H9e(n);return(t,i)=>t+(i-t)*e()}function lbe(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function Xte(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function cbe(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:i,matchFrom:r="any",stringify:s,trim:o=!1}=n;return(a,{inputValue:l,getOptionLabel:c})=>{let u=o?l.trim():l;t&&(u=u.toLowerCase()),e&&(u=Xte(u));const d=u?a.filter(h=>{let f=(s||c)(h);return t&&(f=f.toLowerCase()),e&&(f=Xte(f)),r==="start"?f.startsWith(u):f.includes(u)}):a;return typeof i=="number"?d.slice(0,i):d}}const z9e=cbe(),W9e=5,$9e=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))},j9e=[];function U9e(n){const{unstable_isActiveElementInListbox:e=$9e,unstable_classNamePrefix:t="Mui",autoComplete:i=!1,autoHighlight:r=!1,autoSelect:s=!1,blurOnSelect:o=!1,clearOnBlur:a=!n.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=n.multiple?j9e:null,disableClearable:d=!1,disableCloseOnSelect:h=!1,disabled:f,disabledItemsFocusable:p=!1,disableListWrap:m=!1,filterOptions:v=z9e,filterSelectedOptions:C=!1,freeSolo:y=!1,getOptionDisabled:w,getOptionKey:_,getOptionLabel:x=Ye=>Ye.label??Ye,groupBy:k,handleHomeEndKeys:D=!n.freeSolo,id:T,includeInputInList:L=!1,inputValue:I,isOptionEqualToValue:R=(Ye,et)=>Ye===et,multiple:N=!1,onChange:O,onClose:F,onHighlightChange:A,onInputChange:H,onOpen:W,open:$,openOnFocus:U=!1,options:z,readOnly:K=!1,selectOnFocus:Z=!n.freeSolo,value:Q}=n,G=Gi(T);let J=x;J=Ye=>{const et=x(Ye);return typeof et!="string"?String(et):et};const ne=M.useRef(!1),ae=M.useRef(!0),se=M.useRef(null),X=M.useRef(null),[oe,ve]=M.useState(null),[me,ye]=M.useState(-1),Le=r?0:-1,ie=M.useRef(Le),[Ee,Ue]=Tb({controlled:Q,default:u,name:c}),[re,fe]=Tb({controlled:I,default:"",name:c,state:"inputValue"}),[Ce,Me]=M.useState(!1),Te=M.useCallback((Ye,et,Rt)=>{if(!(N?Ee.length<et.length:et!==null)&&!a)return;let yt;if(N)yt="";else if(et==null)yt="";else{const Ie=J(et);yt=typeof Ie=="string"?Ie:""}re!==yt&&(fe(yt),H&&H(Ye,yt,Rt))},[J,re,N,H,fe,a,Ee]),[Ae,Ne]=Tb({controlled:$,default:!1,name:c,state:"open"}),[Ge,gt]=M.useState(!0),rt=!N&&Ee!=null&&re===J(Ee),it=Ae&&!K,Xe=it?v(z.filter(Ye=>!(C&&(N?Ee:[Ee]).some(et=>et!==null&&R(Ye,et)))),{inputValue:rt&&Ge?"":re,getOptionLabel:J}):[],st=Ej({filteredOptions:Xe,value:Ee,inputValue:re});M.useEffect(()=>{const Ye=Ee!==st.value;Ce&&!Ye||y&&!Ye||Te(null,Ee,"reset")},[Ee,Te,Ce,st.value,y]);const Ke=Ae&&Xe.length>0&&!K,kt=li(Ye=>{Ye===-1?se.current.focus():oe.querySelector(`[data-tag-index="${Ye}"]`).focus()});M.useEffect(()=>{N&&me>Ee.length-1&&(ye(-1),kt(-1))},[Ee,N,me,kt]);function Gt(Ye,et){if(!X.current||Ye<0||Ye>=Xe.length)return-1;let Rt=Ye;for(;;){const pn=X.current.querySelector(`[data-option-index="${Rt}"]`),yt=p?!1:!pn||pn.disabled||pn.getAttribute("aria-disabled")==="true";if(pn&&pn.hasAttribute("tabindex")&&!yt)return Rt;if(et==="next"?Rt=(Rt+1)%Xe.length:Rt=(Rt-1+Xe.length)%Xe.length,Rt===Ye)return-1}}const Dt=li(({event:Ye,index:et,reason:Rt="auto"})=>{if(ie.current=et,et===-1?se.current.removeAttribute("aria-activedescendant"):se.current.setAttribute("aria-activedescendant",`${G}-option-${et}`),A&&A(Ye,et===-1?null:Xe[et],Rt),!X.current)return;const pn=X.current.querySelector(`[role="option"].${t}-focused`);pn&&(pn.classList.remove(`${t}-focused`),pn.classList.remove(`${t}-focusVisible`));let yt=X.current;if(X.current.getAttribute("role")!=="listbox"&&(yt=X.current.parentElement.querySelector('[role="listbox"]')),!yt)return;if(et===-1){yt.scrollTop=0;return}const Ie=X.current.querySelector(`[data-option-index="${et}"]`);if(Ie&&(Ie.classList.add(`${t}-focused`),Rt==="keyboard"&&Ie.classList.add(`${t}-focusVisible`),yt.scrollHeight>yt.clientHeight&&Rt!=="mouse"&&Rt!=="touch")){const ct=Ie,Pt=yt.clientHeight+yt.scrollTop,gi=ct.offsetTop+ct.offsetHeight;gi>Pt?yt.scrollTop=gi-yt.clientHeight:ct.offsetTop-ct.offsetHeight*(k?1.3:0)<yt.scrollTop&&(yt.scrollTop=ct.offsetTop-ct.offsetHeight*(k?1.3:0))}}),xe=li(({event:Ye,diff:et,direction:Rt="next",reason:pn="auto"})=>{if(!it)return;const Ie=Gt((()=>{const ct=Xe.length-1;if(et==="reset")return Le;if(et==="start")return 0;if(et==="end")return ct;const Pt=ie.current+et;return Pt<0?Pt===-1&&L?-1:m&&ie.current!==-1||Math.abs(et)>1?0:ct:Pt>ct?Pt===ct+1&&L?-1:m||Math.abs(et)>1?ct:0:Pt})(),Rt);if(Dt({index:Ie,reason:pn,event:Ye}),i&&et!=="reset")if(Ie===-1)se.current.value=re;else{const ct=J(Xe[Ie]);se.current.value=ct,ct.toLowerCase().indexOf(re.toLowerCase())===0&&re.length>0&&se.current.setSelectionRange(re.length,ct.length)}}),Re=()=>{const Ye=(et,Rt)=>{const pn=et?J(et):"",yt=Rt?J(Rt):"";return pn===yt};if(ie.current!==-1&&st.filteredOptions&&st.filteredOptions.length!==Xe.length&&st.inputValue===re&&(N?Ee.length===st.value.length&&st.value.every((et,Rt)=>J(Ee[Rt])===J(et)):Ye(st.value,Ee))){const et=st.filteredOptions[ie.current];if(et)return Xe.findIndex(Rt=>J(Rt)===J(et))}return-1},Et=M.useCallback(()=>{if(!it)return;const Ye=Re();if(Ye!==-1){ie.current=Ye;return}const et=N?Ee[0]:Ee;if(Xe.length===0||et==null){xe({diff:"reset"});return}if(X.current){if(et!=null){const Rt=Xe[ie.current];if(N&&Rt&&Ee.findIndex(yt=>R(Rt,yt))!==-1)return;const pn=Xe.findIndex(yt=>R(yt,et));pn===-1?xe({diff:"reset"}):Dt({index:pn});return}if(ie.current>=Xe.length-1){Dt({index:Xe.length-1});return}Dt({index:ie.current})}},[Xe.length,N?!1:Ee,C,xe,Dt,it,re,N]),Mt=li(Ye=>{$T(X,Ye),Ye&&Et()});M.useEffect(()=>{Et()},[Et]);const hn=Ye=>{Ae||(Ne(!0),gt(!0),W&&W(Ye))},en=(Ye,et)=>{Ae&&(Ne(!1),F&&F(Ye,et))},fi=(Ye,et,Rt,pn)=>{if(N){if(Ee.length===et.length&&Ee.every((yt,Ie)=>yt===et[Ie]))return}else if(Ee===et)return;O&&O(Ye,et,Rt,pn),Ue(et)},Qt=M.useRef(!1),He=(Ye,et,Rt="selectOption",pn="options")=>{let yt=Rt,Ie=et;if(N){Ie=Array.isArray(Ee)?Ee.slice():[];const ct=Ie.findIndex(Pt=>R(et,Pt));ct===-1?Ie.push(et):pn!=="freeSolo"&&(Ie.splice(ct,1),yt="removeOption")}Te(Ye,Ie,yt),fi(Ye,Ie,yt,{option:et}),!h&&(!Ye||!Ye.ctrlKey&&!Ye.metaKey)&&en(Ye,yt),(o===!0||o==="touch"&&Qt.current||o==="mouse"&&!Qt.current)&&se.current.blur()};function Bt(Ye,et){if(Ye===-1)return-1;let Rt=Ye;for(;;){if(et==="next"&&Rt===Ee.length||et==="previous"&&Rt===-1)return-1;const pn=oe.querySelector(`[data-tag-index="${Rt}"]`);if(!pn||!pn.hasAttribute("tabindex")||pn.disabled||pn.getAttribute("aria-disabled")==="true")Rt+=et==="next"?1:-1;else return Rt}}const fn=(Ye,et)=>{if(!N)return;re===""&&en(Ye,"toggleInput");let Rt=me;me===-1?re===""&&et==="previous"&&(Rt=Ee.length-1):(Rt+=et==="next"?1:-1,Rt<0&&(Rt=0),Rt===Ee.length&&(Rt=-1)),Rt=Bt(Rt,et),ye(Rt),kt(Rt)},bn=Ye=>{ne.current=!0,fe(""),H&&H(Ye,"","clear"),fi(Ye,N?[]:null,"clear")},ot=Ye=>et=>{if(Ye.onKeyDown&&Ye.onKeyDown(et),!et.defaultMuiPrevented&&(me!==-1&&!["ArrowLeft","ArrowRight"].includes(et.key)&&(ye(-1),kt(-1)),et.which!==229))switch(et.key){case"Home":it&&D&&(et.preventDefault(),xe({diff:"start",direction:"next",reason:"keyboard",event:et}));break;case"End":it&&D&&(et.preventDefault(),xe({diff:"end",direction:"previous",reason:"keyboard",event:et}));break;case"PageUp":et.preventDefault(),xe({diff:-5,direction:"previous",reason:"keyboard",event:et}),hn(et);break;case"PageDown":et.preventDefault(),xe({diff:W9e,direction:"next",reason:"keyboard",event:et}),hn(et);break;case"ArrowDown":et.preventDefault(),xe({diff:1,direction:"next",reason:"keyboard",event:et}),hn(et);break;case"ArrowUp":et.preventDefault(),xe({diff:-1,direction:"previous",reason:"keyboard",event:et}),hn(et);break;case"ArrowLeft":fn(et,"previous");break;case"ArrowRight":fn(et,"next");break;case"Enter":if(ie.current!==-1&&it){const Rt=Xe[ie.current],pn=w?w(Rt):!1;if(et.preventDefault(),pn)return;He(et,Rt,"selectOption"),i&&se.current.setSelectionRange(se.current.value.length,se.current.value.length)}else y&&re!==""&&rt===!1&&(N&&et.preventDefault(),He(et,re,"createOption","freeSolo"));break;case"Escape":it?(et.preventDefault(),et.stopPropagation(),en(et,"escape")):l&&(re!==""||N&&Ee.length>0)&&(et.preventDefault(),et.stopPropagation(),bn(et));break;case"Backspace":if(N&&!K&&re===""&&Ee.length>0){const Rt=me===-1?Ee.length-1:me,pn=Ee.slice();pn.splice(Rt,1),fi(et,pn,"removeOption",{option:Ee[Rt]})}break;case"Delete":if(N&&!K&&re===""&&Ee.length>0&&me!==-1){const Rt=me,pn=Ee.slice();pn.splice(Rt,1),fi(et,pn,"removeOption",{option:Ee[Rt]})}break}},le=Ye=>{Me(!0),U&&!ne.current&&hn(Ye)},ue=Ye=>{if(e(X)){se.current.focus();return}Me(!1),ae.current=!0,ne.current=!1,s&&ie.current!==-1&&it?He(Ye,Xe[ie.current],"blur"):s&&y&&re!==""?He(Ye,re,"blur","freeSolo"):a&&Te(Ye,Ee,"blur"),en(Ye,"blur")},pe=Ye=>{const et=Ye.target.value;re!==et&&(fe(et),gt(!1),H&&H(Ye,et,"input")),et===""?!d&&!N&&fi(Ye,null,"clear"):hn(Ye)},we=Ye=>{const et=Number(Ye.currentTarget.getAttribute("data-option-index"));ie.current!==et&&Dt({event:Ye,index:et,reason:"mouse"})},De=Ye=>{Dt({event:Ye,index:Number(Ye.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Qt.current=!0},Oe=Ye=>{const et=Number(Ye.currentTarget.getAttribute("data-option-index"));He(Ye,Xe[et],"selectOption"),Qt.current=!1},Qe=Ye=>et=>{const Rt=Ee.slice();Rt.splice(Ye,1),fi(et,Rt,"removeOption",{option:Ee[Ye]})},Ct=Ye=>{Ae?en(Ye,"toggleInput"):hn(Ye)},At=Ye=>{Ye.currentTarget.contains(Ye.target)&&Ye.target.getAttribute("id")!==G&&Ye.preventDefault()},qt=Ye=>{Ye.currentTarget.contains(Ye.target)&&(se.current.focus(),Z&&ae.current&&se.current.selectionEnd-se.current.selectionStart===0&&se.current.select(),ae.current=!1)},Vt=Ye=>{!f&&(re===""||!Ae)&&Ct(Ye)};let zt=y&&re.length>0;zt=zt||(N?Ee.length>0:Ee!==null);let Mn=Xe;return k&&(Mn=Xe.reduce((Ye,et,Rt)=>{const pn=k(et);return Ye.length>0&&Ye[Ye.length-1].group===pn?Ye[Ye.length-1].options.push(et):Ye.push({key:Rt,index:Rt,group:pn,options:[et]}),Ye},[])),f&&Ce&&ue(),{getRootProps:(Ye={})=>({"aria-owns":Ke?`${G}-listbox`:null,...Ye,onKeyDown:ot(Ye),onMouseDown:At,onClick:qt}),getInputLabelProps:()=>({id:`${G}-label`,htmlFor:G}),getInputProps:()=>({id:G,value:re,onBlur:ue,onFocus:le,onChange:pe,onMouseDown:Vt,"aria-activedescendant":it?"":null,"aria-autocomplete":i?"both":"list","aria-controls":Ke?`${G}-listbox`:void 0,"aria-expanded":Ke,autoComplete:"off",ref:se,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:f}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:bn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ct}),getTagProps:({index:Ye})=>({key:Ye,"data-tag-index":Ye,tabIndex:-1,...!K&&{onDelete:Qe(Ye)}}),getListboxProps:()=>({role:"listbox",id:`${G}-listbox`,"aria-labelledby":`${G}-label`,ref:Mt,onMouseDown:Ye=>{Ye.preventDefault()}}),getOptionProps:({index:Ye,option:et})=>{const Rt=(N?Ee:[Ee]).some(yt=>yt!=null&&R(et,yt)),pn=w?w(et):!1;return{key:(_==null?void 0:_(et))??J(et),tabIndex:-1,role:"option",id:`${G}-option-${Ye}`,onMouseMove:we,onClick:Oe,onTouchStart:De,"data-option-index":Ye,"aria-disabled":pn,"aria-selected":Rt}},id:G,inputValue:re,value:Ee,dirty:zt,expanded:it&&oe,popupOpen:it,focused:Ce||me!==-1,anchorEl:oe,setAnchorEl:ve,focusedTag:me,groupedOptions:Mn}}function q9e(n){return Zt("MuiListSubheader",n)}Jt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const G9e=n=>{const{classes:e,color:t,disableGutters:i,inset:r,disableSticky:s}=n,o={root:["root",t!=="default"&&`color${nt(t)}`,!i&&"gutters",r&&"inset",!s&&"sticky"]};return _t(o,q9e,e)},K9e=$e("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${nt(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(sn(({theme:n})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(n.vars||n).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper}}]}))),I8=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiListSubheader"}),{className:r,color:s="default",component:o="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=i,d={...i,color:s,component:o,disableGutters:a,disableSticky:l,inset:c},h=G9e(d);return V.jsx(K9e,{as:o,className:lt(h.root,r),ref:t,ownerState:d,...u})});I8&&(I8.muiSkipListHighlight=!0);const Q9e=Ut(V.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Y9e(n){return Zt("MuiChip",n)}const mi=Jt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),X9e=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:s,onDelete:o,clickable:a,variant:l}=n,c={root:["root",l,t&&"disabled",`size${nt(i)}`,`color${nt(r)}`,a&&"clickable",a&&`clickableColor${nt(r)}`,o&&"deletable",o&&`deletableColor${nt(r)}`,`${l}${nt(r)}`],label:["label",`label${nt(i)}`],avatar:["avatar",`avatar${nt(i)}`,`avatarColor${nt(r)}`],icon:["icon",`icon${nt(i)}`,`iconColor${nt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${nt(i)}`,`deleteIconColor${nt(r)}`,`deleteIcon${nt(l)}Color${nt(r)}`]};return _t(c,Y9e,e)},Z9e=$e("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:s,onDelete:o,size:a,variant:l}=t;return[{[`& .${mi.avatar}`]:e.avatar},{[`& .${mi.avatar}`]:e[`avatar${nt(a)}`]},{[`& .${mi.avatar}`]:e[`avatarColor${nt(i)}`]},{[`& .${mi.icon}`]:e.icon},{[`& .${mi.icon}`]:e[`icon${nt(a)}`]},{[`& .${mi.icon}`]:e[`iconColor${nt(r)}`]},{[`& .${mi.deleteIcon}`]:e.deleteIcon},{[`& .${mi.deleteIcon}`]:e[`deleteIcon${nt(a)}`]},{[`& .${mi.deleteIcon}`]:e[`deleteIconColor${nt(i)}`]},{[`& .${mi.deleteIcon}`]:e[`deleteIcon${nt(l)}Color${nt(i)}`]},e.root,e[`size${nt(a)}`],e[`color${nt(i)}`],s&&e.clickable,s&&i!=="default"&&e[`clickableColor${nt(i)})`],o&&e.deletable,o&&i!=="default"&&e[`deletableColor${nt(i)}`],e[l],e[`${l}${nt(i)}`]]}})(sn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${mi.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${mi.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${mi.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${mi.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${mi.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${mi.icon}`]:{marginLeft:5,marginRight:-6},[`& .${mi.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:wn(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:wn(n.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${mi.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${mi.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(Qr(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${mi.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].contrastTextChannel} / 0.7)`:wn(n.palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${mi.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${mi.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${mi.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:wn(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}},...Object.entries(n.palette).filter(Qr(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${mi.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:wn(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${mi.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:wn(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(Qr(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${mi.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${mi.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${mi.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${mi.avatar}`]:{marginLeft:4},[`& .${mi.avatarSmall}`]:{marginLeft:2},[`& .${mi.icon}`]:{marginLeft:4},[`& .${mi.iconSmall}`]:{marginLeft:2},[`& .${mi.deleteIcon}`]:{marginRight:5},[`& .${mi.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(Qr()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:wn(n.palette[t].main,.7)}`,[`&.${mi.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette[t].main,n.palette.action.hoverOpacity)},[`&.${mi.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.focusOpacity})`:wn(n.palette[t].main,n.palette.action.focusOpacity)},[`& .${mi.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:wn(n.palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),J9e=$e("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${nt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Zte(n){return n.key==="Backspace"||n.key==="Delete"}const qj=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiChip"}),{avatar:r,className:s,clickable:o,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:f,onDelete:p,onKeyDown:m,onKeyUp:v,size:C="medium",variant:y="filled",tabIndex:w,skipFocusWhenDisabled:_=!1,...x}=i,k=M.useRef(null),D=Wi(k,t),T=U=>{U.stopPropagation(),p&&p(U)},L=U=>{U.currentTarget===U.target&&Zte(U)&&U.preventDefault(),m&&m(U)},I=U=>{U.currentTarget===U.target&&p&&Zte(U)&&p(U),v&&v(U)},R=o!==!1&&f?!0:o,N=R||p?Tp:l||"div",O={...i,component:N,disabled:u,size:C,color:a,iconColor:M.isValidElement(d)&&d.props.color||a,onDelete:!!p,clickable:R,variant:y},F=X9e(O),A=N===Tp?{component:l||"div",focusVisibleClassName:F.focusVisible,...p&&{disableRipple:!0}}:{};let H=null;p&&(H=c&&M.isValidElement(c)?M.cloneElement(c,{className:lt(c.props.className,F.deleteIcon),onClick:T}):V.jsx(Q9e,{className:lt(F.deleteIcon),onClick:T}));let W=null;r&&M.isValidElement(r)&&(W=M.cloneElement(r,{className:lt(F.avatar,r.props.className)}));let $=null;return d&&M.isValidElement(d)&&($=M.cloneElement(d,{className:lt(F.icon,d.props.className)})),V.jsxs(Z9e,{as:N,className:lt(F.root,s),disabled:R&&u?!0:void 0,onClick:f,onKeyDown:L,onKeyUp:I,ref:D,tabIndex:_&&u?-1:w,ownerState:O,...A,...x,children:[W||$,V.jsx(J9e,{className:lt(F.label),ownerState:O,children:h}),H]})});function e7e(n){return Zt("MuiInput",n)}const Kg={..._o,...Jt("MuiInput",["root","underline","input"])};function t7e(n){return Zt("MuiOutlinedInput",n)}const cc={..._o,...Jt("MuiOutlinedInput",["root","notchedOutline","input"])};function n7e(n){return Zt("MuiFilledInput",n)}const El={..._o,...Jt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},i7e=Ut(V.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ube=Ut(V.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function r7e(n){return Zt("MuiAutocomplete",n)}const ri=Jt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Jte,ene;const s7e=n=>{const{classes:e,disablePortal:t,expanded:i,focused:r,fullWidth:s,hasClearIcon:o,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=n,d={root:["root",i&&"expanded",r&&"focused",s&&"fullWidth",o&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${nt(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return _t(d,r7e,e)},o7e=$e("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:i,hasClearIcon:r,hasPopupIcon:s,inputFocused:o,size:a}=t;return[{[`& .${ri.tag}`]:e.tag},{[`& .${ri.tag}`]:e[`tagSize${nt(a)}`]},{[`& .${ri.inputRoot}`]:e.inputRoot},{[`& .${ri.input}`]:e.input},{[`& .${ri.input}`]:o&&e.inputFocused},e.root,i&&e.fullWidth,s&&e.hasPopupIcon,r&&e.hasClearIcon]}})({[`&.${ri.focused} .${ri.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ri.clearIndicator}`]:{visibility:"visible"}},[`& .${ri.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ri.inputRoot}`]:{[`.${ri.hasPopupIcon}&, .${ri.hasClearIcon}&`]:{paddingRight:30},[`.${ri.hasPopupIcon}.${ri.hasClearIcon}&`]:{paddingRight:56},[`& .${ri.input}`]:{width:0,minWidth:30}},[`& .${Kg.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Kg.root}.${_o.sizeSmall}`]:{[`& .${Kg.input}`]:{padding:"2px 4px 3px 0"}},[`& .${cc.root}`]:{padding:9,[`.${ri.hasPopupIcon}&, .${ri.hasClearIcon}&`]:{paddingRight:39},[`.${ri.hasPopupIcon}.${ri.hasClearIcon}&`]:{paddingRight:65},[`& .${ri.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ri.endAdornment}`]:{right:9}},[`& .${cc.root}.${_o.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ri.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${El.root}`]:{paddingTop:19,paddingLeft:8,[`.${ri.hasPopupIcon}&, .${ri.hasClearIcon}&`]:{paddingRight:39},[`.${ri.hasPopupIcon}.${ri.hasClearIcon}&`]:{paddingRight:65},[`& .${El.input}`]:{padding:"7px 4px"},[`& .${ri.endAdornment}`]:{right:9}},[`& .${El.root}.${_o.sizeSmall}`]:{paddingBottom:1,[`& .${El.input}`]:{padding:"2.5px 4px"}},[`& .${_o.hiddenLabel}`]:{paddingTop:8},[`& .${El.root}.${_o.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ri.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${El.root}.${_o.hiddenLabel}.${_o.sizeSmall}`]:{[`& .${ri.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ri.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ri.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ri.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ri.inputRoot}`]:{flexWrap:"wrap"}}}]}),a7e=$e("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(n,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),l7e=$e(ua,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(n,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),c7e=$e(ua,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),u7e=$e(Mv,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${ri.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(sn(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),d7e=$e(qc,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(n,e)=>e.paper})(sn(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),h7e=$e("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(n,e)=>e.loading})(sn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),f7e=$e("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(n,e)=>e.noOptions})(sn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),g7e=$e("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(n,e)=>e.listbox})(sn(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ri.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ri.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ri.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:wn(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${ri.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${ri.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),p7e=$e(I8,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(n,e)=>e.groupLabel})(sn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),m7e=$e("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(n,e)=>e.groupUl})({padding:0,[`& .${ri.option}`]:{paddingLeft:24}}),$o=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiAutocomplete"}),{autoComplete:r=!1,autoHighlight:s=!1,autoSelect:o=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=Jte||(Jte=V.jsx(i7e,{fontSize:"small"})),clearOnBlur:d=!i.freeSolo,clearOnEscape:h=!1,clearText:f="Clear",closeText:p="Close",componentsProps:m,defaultValue:v=i.multiple?[]:null,disableClearable:C=!1,disableCloseOnSelect:y=!1,disabled:w=!1,disabledItemsFocusable:_=!1,disableListWrap:x=!1,disablePortal:k=!1,filterOptions:D,filterSelectedOptions:T=!1,forcePopupIcon:L="auto",freeSolo:I=!1,fullWidth:R=!1,getLimitTagsText:N=_n=>`+${_n}`,getOptionDisabled:O,getOptionKey:F,getOptionLabel:A,isOptionEqualToValue:H,groupBy:W,handleHomeEndKeys:$=!i.freeSolo,id:U,includeInputInList:z=!1,inputValue:K,limitTags:Z=-1,ListboxComponent:Q,ListboxProps:G,loading:J=!1,loadingText:ne="Loading",multiple:ae=!1,noOptionsText:se="No options",onChange:X,onClose:oe,onHighlightChange:ve,onInputChange:me,onOpen:ye,open:Le,openOnFocus:ie=!1,openText:Ee="Open",options:Ue,PaperComponent:re,PopperComponent:fe,popupIcon:Ce=ene||(ene=V.jsx(ube,{})),readOnly:Me=!1,renderGroup:Te,renderInput:Ae,renderOption:Ne,renderTags:Ge,selectOnFocus:gt=!i.freeSolo,size:rt="medium",slots:it={},slotProps:Xe={},value:st,...Ke}=i,{getRootProps:kt,getInputProps:Gt,getInputLabelProps:Dt,getPopupIndicatorProps:xe,getClearProps:Re,getTagProps:Et,getListboxProps:Mt,getOptionProps:hn,value:en,dirty:fi,expanded:Qt,id:He,popupOpen:Bt,focused:fn,focusedTag:bn,anchorEl:ot,setAnchorEl:le,inputValue:ue,groupedOptions:pe}=U9e({...i,componentName:"Autocomplete"}),we=!C&&!w&&fi&&!Me,De=(!I||L===!0)&&L!==!1,{onMouseDown:Oe}=Gt(),{ref:Qe,...Ct}=Mt(),qt=A||(_n=>_n.label??_n),Vt={...i,disablePortal:k,expanded:Qt,focused:fn,fullWidth:R,getOptionLabel:qt,hasClearIcon:we,hasPopupIcon:De,inputFocused:bn===-1,popupOpen:Bt,size:rt},zt=s7e(Vt),Mn={slots:{paper:re,popper:fe,...it},slotProps:{chip:l,listbox:G,...m,...Xe}},[Ye,et]=oi("listbox",{elementType:g7e,externalForwardedProps:Mn,ownerState:Vt,className:zt.listbox,additionalProps:Ct,ref:Qe}),[Rt,pn]=oi("paper",{elementType:qc,externalForwardedProps:Mn,ownerState:Vt,className:zt.paper}),[yt,Ie]=oi("popper",{elementType:Mv,externalForwardedProps:Mn,ownerState:Vt,className:zt.popper,additionalProps:{disablePortal:k,style:{width:ot?ot.clientWidth:null},role:"presentation",anchorEl:ot,open:Bt}});let ct;if(ae&&en.length>0){const _n=$r=>({className:zt.tag,disabled:w,...Et($r)});Ge?ct=Ge(en,_n,Vt):ct=en.map(($r,bl)=>{const{key:eg,...qL}=_n({index:bl});return V.jsx(qj,{label:qt($r),size:rt,...qL,...Mn.slotProps.chip},eg)})}if(Z>-1&&Array.isArray(ct)){const _n=ct.length-Z;!fn&&_n>0&&(ct=ct.splice(0,Z),ct.push(V.jsx("span",{className:zt.tag,children:N(_n)},ct.length)))}const gi=Te||(_n=>V.jsxs("li",{children:[V.jsx(p7e,{className:zt.groupLabel,ownerState:Vt,component:"div",children:_n.group}),V.jsx(m7e,{className:zt.groupUl,ownerState:Vt,children:_n.children})]},_n.key)),di=Ne||((_n,$r)=>{const{key:bl,...eg}=_n;return V.jsx("li",{...eg,children:qt($r)},bl)}),Ms=(_n,$r)=>{const bl=hn({option:_n,index:$r});return di({...bl,className:zt.option},_n,{selected:bl["aria-selected"],index:$r,inputValue:ue},Vt)},oo=Mn.slotProps.clearIndicator,ao=Mn.slotProps.popupIndicator;return V.jsxs(M.Fragment,{children:[V.jsx(o7e,{ref:t,className:lt(zt.root,c),ownerState:Vt,...kt(Ke),children:Ae({id:He,disabled:w,fullWidth:!0,size:rt==="small"?"small":void 0,InputLabelProps:Dt(),InputProps:{ref:le,className:zt.inputRoot,startAdornment:ct,onMouseDown:_n=>{_n.target===_n.currentTarget&&Oe(_n)},...(we||De)&&{endAdornment:V.jsxs(a7e,{className:zt.endAdornment,ownerState:Vt,children:[we?V.jsx(l7e,{...Re(),"aria-label":f,title:f,ownerState:Vt,...oo,className:lt(zt.clearIndicator,oo==null?void 0:oo.className),children:u}):null,De?V.jsx(c7e,{...xe(),disabled:w,"aria-label":Bt?p:Ee,title:Bt?p:Ee,ownerState:Vt,...ao,className:lt(zt.popupIndicator,ao==null?void 0:ao.className),children:Ce}):null]})}},inputProps:{className:zt.input,disabled:w,readOnly:Me,...Gt()}})}),ot?V.jsx(u7e,{as:yt,...Ie,children:V.jsxs(d7e,{as:Rt,...pn,children:[J&&pe.length===0?V.jsx(h7e,{className:zt.loading,ownerState:Vt,children:ne}):null,pe.length===0&&!I&&!J?V.jsx(f7e,{className:zt.noOptions,ownerState:Vt,role:"presentation",onMouseDown:_n=>{_n.preventDefault()},children:se}):null,pe.length>0?V.jsx(Ye,{as:Q,...et,children:pe.map((_n,$r)=>W?gi({key:_n.key,group:_n.group,children:_n.options.map((bl,eg)=>Ms(bl,_n.index+eg))}):Ms(_n,$r))}):null]})}):null]})}),b7e=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],v7e=["key"];function dbe(n){const{item:e,applyValue:t,type:i,apiRef:r,focusElementRef:s,color:o,error:a,helperText:l,size:c,variant:u="standard"}=n,d=rn(n,b7e),h={color:o,error:a,helperText:l,size:c,variant:u},[f,p]=M.useState(e.value||[]),m=Gi(),v=Kt();M.useEffect(()=>{const y=e.value??[];p(y.map(String))},[e.value]);const C=M.useCallback((y,w)=>{p(w.map(String)),t(te({},e,{value:[...w.map(_=>i==="number"?Number(_):_)]}))},[t,e,i]);return V.jsx($o,te({multiple:!0,freeSolo:!0,options:[],filterOptions:(y,w)=>{const{inputValue:_}=w;return _==null||_===""?[]:[_]},id:m,value:f,onChange:C,renderTags:(y,w)=>y.map((_,x)=>{const k=w({index:x}),{key:D}=k,T=rn(k,v7e);return V.jsx(v.slots.baseChip,te({variant:"outlined",size:"small",label:_},T),D)}),renderInput:y=>{var w;return V.jsx(v.slots.baseTextField,te({},y,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:te({},y.InputLabelProps,{shrink:!0}),inputRef:s,type:i||"text"},h,(w=v.slotProps)==null?void 0:w.baseTextField))}},d))}var zd=function(n){return n.Cell="cell",n.Row="row",n}(zd||{}),tr=function(n){return n.Edit="edit",n.View="view",n}(tr||{}),fr=function(n){return n.Edit="edit",n.View="view",n}(fr||{}),So=function(n){return n.And="and",n.Or="or",n}(So||{}),Bh=function(n){return n.enterKeyDown="enterKeyDown",n.cellDoubleClick="cellDoubleClick",n.printableKeyDown="printableKeyDown",n.deleteKeyDown="deleteKeyDown",n.pasteKeyDown="pasteKeyDown",n}(Bh||{}),hu=function(n){return n.cellFocusOut="cellFocusOut",n.escapeKeyDown="escapeKeyDown",n.enterKeyDown="enterKeyDown",n.tabKeyDown="tabKeyDown",n.shiftTabKeyDown="shiftTabKeyDown",n}(hu||{}),Rg=function(n){return n.enterKeyDown="enterKeyDown",n.cellDoubleClick="cellDoubleClick",n.printableKeyDown="printableKeyDown",n.deleteKeyDown="deleteKeyDown",n}(Rg||{}),nd=function(n){return n.rowFocusOut="rowFocusOut",n.escapeKeyDown="escapeKeyDown",n.enterKeyDown="enterKeyDown",n.tabKeyDown="tabKeyDown",n.shiftTabKeyDown="shiftTabKeyDown",n}(nd||{});function hbe(n){return n.field!==void 0}const Fx=()=>({items:[],logicOperator:So.And,quickFilterValues:[],quickFilterLogicOperator:So.And});function fbe(n){return{current:n.current.getPublicApi()}}let pw;function y7e(){if(pw!==void 0)return pw;try{pw=new Function("return true")()}catch{pw=!1}return pw}const M8=(n,e)=>{const t=te({},n);if(t.id==null&&(t.id=Math.round(Math.random()*1e5)),t.operator==null){const i=Wf(e)[t.field];t.operator=i&&i.filterOperators[0].value}return t},Gj=(n,e,t)=>{const i=n.items.length>1;let r;i&&e?r=[n.items[0]]:r=n.items;const s=i&&r.some(a=>a.id==null);return r.some(a=>a.operator==null)||s?te({},n,{items:r.map(a=>M8(a,t))}):n.items!==r?te({},n,{items:r}):n},tne=(n,e,t)=>i=>te({},i,{filterModel:Gj(n,e,t)}),Bx=n=>typeof n=="string"?n.normalize("NFD").replace(/[\u0300-\u036f]/g,""):n,gbe=(n,e)=>{var u;if(!n.field||!n.operator)return null;const t=e.current.getColumn(n.field);if(!t)return null;let i;if(t.valueParser){const d=t.valueParser;i=Array.isArray(n.value)?(u=n.value)==null?void 0:u.map(h=>d(h,void 0,t,e)):d(n.value,void 0,t,e)}else i=n.value;const{ignoreDiacritics:r}=e.current.rootProps;r&&(i=Bx(i));const s=te({},n,{value:i}),o=t.filterOperators;if(!(o!=null&&o.length))throw new Error(`MUI X: No filter operators found for column '${t.field}'.`);const a=o.find(d=>d.value===s.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${t.field}' and operator value '${s.operator}'.`);const l=fbe(e),c=a.getApplyFilterFn(s,t);return typeof c!="function"?null:{item:s,fn:d=>{let h=e.current.getRowValue(d,t);return r&&(h=Bx(h)),c(h,d,t,l)}}};let nne=1;const C7e=(n,e,t)=>{const{items:i}=n,r=i.map(a=>gbe(a,e)).filter(a=>!!a);if(r.length===0)return null;if(t||!y7e())return(a,l)=>{const c={};for(let u=0;u<r.length;u+=1){const d=r[u];(!l||l(d.item.field))&&(c[d.item.id]=d.fn(a))}return c};const s=new Function("appliers","row","shouldApplyFilter",`"use strict";
${r.map((a,l)=>`const shouldApply${l} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${r.map((a,l)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${l} ? false : appliers[${l}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(nne)));return nne+=1,(a,l)=>s(r,a,l)},pbe=n=>n.quickFilterExcludeHiddenColumns??!0,_7e=(n,e)=>{var a;const t=((a=n.quickFilterValues)==null?void 0:a.filter(Boolean))??[];if(t.length===0)return null;const i=pbe(n)?T0(e):bf(e),r=[],{ignoreDiacritics:s}=e.current.rootProps,o=fbe(e);return i.forEach(l=>{const c=e.current.getColumn(l),u=c==null?void 0:c.getApplyQuickFilterFn;u&&r.push({column:c,appliers:t.map(d=>{const h=s?Bx(d):d;return{fn:u(h,c,o)}})})}),function(c,u){const d={};e:for(let h=0;h<t.length;h+=1){const f=t[h];for(let p=0;p<r.length;p+=1){const{column:m,appliers:v}=r[p],{field:C}=m;if(u&&!u(C))continue;const y=v[h];let w=e.current.getRowValue(c,m);if(y.fn===null)continue;if(s&&(w=Bx(w)),y.fn(w,c,m,o)){d[f]=!0;continue e}}d[f]=!1}return d}},w7e=(n,e,t)=>{const i=C7e(n,e,t),r=_7e(n,e);return function(o,a,l){l.passingFilterItems=(i==null?void 0:i(o,a))??null,l.passingQuickFilterValues=(r==null?void 0:r(o,a))??null}},ine=n=>n!=null,S7e=(n,e,t)=>(n.cleanedFilterItems||(n.cleanedFilterItems=t.filter(i=>gbe(i,e)!==null)),n.cleanedFilterItems),x7e=(n,e,t,i,r)=>{const s=S7e(r,i,t.items),o=n.filter(ine),a=e.filter(ine);if(o.length>0){const l=u=>o.some(d=>d[u.id]);if((t.logicOperator??Fx().logicOperator)===So.And){if(!s.every(l))return!1}else if(!s.some(l))return!1}if(a.length>0&&t.quickFilterValues!=null){const l=u=>a.some(d=>d[u]);if((t.quickFilterLogicOperator??Fx().quickFilterLogicOperator)===So.And){if(!t.quickFilterValues.every(l))return!1}else if(!t.quickFilterValues.some(l))return!1}return!0},k7e=n=>{if(!n)return null;const e=new RegExp(tI(n),"i");return(t,i,r,s)=>{let o=s.current.getRowFormattedValue(i,r);return s.current.ignoreDiacritics&&(o=Bx(o)),o!=null?e.test(o.toString()):!1}},rne=(n,e)=>t=>{if(!t.value)return null;const i=n?t.value:t.value.trim(),r=new RegExp(tI(i),"i");return s=>{if(s==null)return e;const o=r.test(String(s));return e?!o:o}},sne=(n,e)=>t=>{if(!t.value)return null;const i=n?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return s=>{if(s==null)return e;const o=r.compare(i,s.toString())===0;return e?!o:o}},one=n=>()=>e=>{const t=e===""||e==null;return n?!t:t},L7e=(n=!1)=>[{value:"contains",getApplyFilterFn:rne(n,!1),InputComponent:vc},{value:"doesNotContain",getApplyFilterFn:rne(n,!0),InputComponent:vc},{value:"equals",getApplyFilterFn:sne(n,!1),InputComponent:vc},{value:"doesNotEqual",getApplyFilterFn:sne(n,!0),InputComponent:vc},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=n?e.value:e.value.trim(),i=new RegExp(`^${tI(t)}.*$`,"i");return r=>r!=null?i.test(r.toString()):!1},InputComponent:vc},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=n?e.value:e.value.trim(),i=new RegExp(`.*${tI(t)}$`,"i");return r=>r!=null?i.test(r.toString()):!1},InputComponent:vc},{value:"isEmpty",getApplyFilterFn:one(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:one(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=n?e.value:e.value.map(r=>r.trim()),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return r=>r!=null?t.some(s=>i.compare(s,r.toString()||"")===0):!1},InputComponent:dbe}],xu={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:P9e,type:"string",align:"left",filterOperators:L7e(),renderEditCell:T9e,getApplyQuickFilterFn:k7e};function bF(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function ane(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function mbe(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function mw(n,e,t,i,r,s){let o=!1,a=r(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=i?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!mbe(a,s)||l)a=r(n,a,t);else return a.focus(),!0}return!1}const VN=M.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,f=M.useRef(null),p=M.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ar(()=>{r&&f.current.focus()},[r]),M.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(w,{direction:_})=>{const x=!f.current.style.width;if(w.clientHeight<f.current.clientHeight&&x){const k=`${ume(Mc(w))}px`;f.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=k,f.current.style.width=`calc(100% + ${k})`}return f.current}}),[]);const m=w=>{const _=f.current,x=w.key;if(w.ctrlKey||w.metaKey||w.altKey){u&&u(w);return}const D=Jr(_).activeElement;if(x==="ArrowDown")w.preventDefault(),mw(_,D,c,l,bF);else if(x==="ArrowUp")w.preventDefault(),mw(_,D,c,l,ane);else if(x==="Home")w.preventDefault(),mw(_,null,c,l,bF);else if(x==="End")w.preventDefault(),mw(_,null,c,l,ane);else if(x.length===1){const T=p.current,L=x.toLowerCase(),I=performance.now();T.keys.length>0&&(I-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&L!==T.keys[0]&&(T.repeating=!1)),T.lastTime=I,T.keys.push(L);const R=D&&!T.repeating&&mbe(D,T);T.previousKeyMatched&&(R||mw(_,D,!1,l,bF,T))?w.preventDefault():T.previousKeyMatched=!1}u&&u(w)},v=Wi(f,t);let C=-1;M.Children.forEach(o,(w,_)=>{if(!M.isValidElement(w)){C===_&&(C+=1,C>=o.length&&(C=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||C===-1)&&(C=_),C===_&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(C+=1,C>=o.length&&(C=-1))});const y=M.Children.map(o,(w,_)=>{if(_===C){const x={};return s&&(x.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(x.tabIndex=0),M.cloneElement(w,x)}return w});return V.jsx(C8,{role:"menu",ref:v,className:a,onKeyDown:m,tabIndex:r?0:-1,...h,children:y})}),E7e=["open","target","onClose","children","position","className","onExited"],D7e=n=>{const{classes:e}=n;return _t({root:["menu"]},ci,e)},T7e=$e(Mv,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(n,e)=>e.menu})(({theme:n})=>({zIndex:n.zIndex.modal,[`& .${be.menuList}`]:{outline:0}})),I7e={"bottom-start":"top left","bottom-end":"top right"};function Kj(n){var m;const{open:e,target:t,onClose:i,children:r,position:s,className:o,onExited:a}=n,l=rn(n,E7e),c=Zn(),u=Kt(),d=D7e(u),h=M.useRef(null);ar(()=>{var v,C;e?h.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((C=(v=h.current)==null?void 0:v.focus)==null||C.call(v),h.current=null)},[e]),M.useEffect(()=>{const v=e?"menuOpen":"menuClose";c.current.publishEvent(v,{target:t})},[c,e,t]);const f=v=>C=>{v&&v(),a&&a(C)},p=v=>{v.target&&(t===v.target||t!=null&&t.contains(v.target))||i(v)};return V.jsx(T7e,te({as:u.slots.basePopper,className:lt(d.root,o),ownerState:u,open:e,anchorEl:t,transition:!0,placement:s},l,(m=u.slotProps)==null?void 0:m.basePopper,{children:({TransitionProps:v,placement:C})=>V.jsx(Aj,{onClickAway:p,mouseEvent:"onMouseDown",children:V.jsx(Ax,te({},v,{style:{transformOrigin:I7e[C]},onExited:f(v==null?void 0:v.onExited),children:V.jsx(qc,{children:r})}))})}))}const M7e=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],R7e=n=>typeof n.getActions=="function";function N7e(n){var H;const{colDef:e,id:t,hasFocus:i,tabIndex:r,position:s="bottom-end",focusElementRef:o}=n,a=rn(n,M7e),[l,c]=M.useState(-1),[u,d]=M.useState(!1),h=Zn(),f=M.useRef(null),p=M.useRef(null),m=M.useRef(!1),v=M.useRef({}),C=ba(),y=Gi(),w=Gi(),_=Kt();if(!R7e(e))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const x=e.getActions(h.current.getRowParams(t)),k=x.filter(W=>!W.props.showInMenu),D=x.filter(W=>W.props.showInMenu),T=k.length+(D.length?1:0);M.useLayoutEffect(()=>{i||Object.entries(v.current).forEach(([W,$])=>{$==null||$.stop({},()=>{delete v.current[W]})})},[i]),M.useEffect(()=>{if(l<0||!f.current||l>=f.current.children.length)return;f.current.children[l].focus({preventScroll:!0})},[l]),M.useEffect(()=>{i||(c(-1),m.current=!1)},[i]),M.useImperativeHandle(o,()=>({focus(){if(!m.current){const W=x.findIndex($=>!$.props.disabled);c(W)}}}),[x]),M.useEffect(()=>{l>=T&&c(T-1)},[l,T]);const L=()=>{d(!0),c(T-1),m.current=!0},I=()=>{d(!1)},R=()=>{u?I():L()},N=W=>$=>{v.current[W]=$},O=(W,$)=>U=>{c(W),m.current=!0,$&&$(U)},F=W=>{if(T<=1)return;const $=(z,K)=>{var G;if(z<0||z>x.length)return z;const Q=(K==="left"?-1:1)*(C?-1:1);return(G=x[z+Q])!=null&&G.props.disabled?$(z+Q,K):z+Q};let U=l;W.key==="ArrowRight"?U=$(l,"right"):W.key==="ArrowLeft"&&(U=$(l,"left")),!(U<0||U>=T)&&U!==l&&(W.preventDefault(),W.stopPropagation(),c(U))},A=W=>{W.key==="Tab"&&W.preventDefault(),["Tab","Escape"].includes(W.key)&&I()};return V.jsxs("div",te({role:"menu",ref:f,tabIndex:-1,className:be.actionsCell,onKeyDown:F},a,{children:[k.map((W,$)=>M.cloneElement(W,{key:$,touchRippleRef:N($),onClick:O($,W.props.onClick),tabIndex:l===$?r:-1})),D.length>0&&w&&V.jsx(_.slots.baseIconButton,te({ref:p,id:w,"aria-label":h.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?y:void 0,role:"menuitem",size:"small",onClick:R,touchRippleRef:N(w),tabIndex:l===k.length?r:-1},(H=_.slotProps)==null?void 0:H.baseIconButton,{children:V.jsx(_.slots.moreActionsIcon,{fontSize:"small"})})),D.length>0&&V.jsx(Kj,{open:u,target:p.current,position:s,onClose:I,children:V.jsx(VN,{id:y,className:be.menuList,onKeyDown:A,"aria-labelledby":w,variant:"menu",autoFocusItem:!0,children:D.map((W,$)=>M.cloneElement(W,{key:$,closeMenu:I}))})})]}))}const A7e=n=>V.jsx(N7e,te({},n)),zN="actions",P7e=te({},xu,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:A7e,getApplyQuickFilterFn:void 0}),Gc=n=>n.rows,WN=yn(Gc,n=>n.totalRowCount),O7e=yn(Gc,n=>n.loading),F7e=yn(Gc,n=>n.totalTopLevelRowCount),Ld=yn(Gc,n=>n.dataRowIdToModelLookup),nI=yn(Gc,n=>n.dataRowIdToIdLookup),Bo=yn(Gc,n=>n.tree),B7e=yn(Gc,n=>n.groupsToFetch),H7e=yn(Gc,n=>n.groupingName),lne=yn(Gc,n=>n.treeDepths),Nv=Qi(Gc,n=>{const e=Object.entries(n.treeDepths);return e.length===0?1:(e.filter(([,t])=>t>0).map(([t])=>Number(t)).sort((t,i)=>i-t)[0]??0)+1}),SD=yn(Gc,n=>n.dataRowIds),V7e=yn(Gc,n=>n==null?void 0:n.additionalRowGroups),Av=Qi(V7e,n=>{var t,i;const e=n==null?void 0:n.pinnedRows;return{bottom:((t=e==null?void 0:e.bottom)==null?void 0:t.map(r=>({id:r.id,model:r.model??{}})))??[],top:((i=e==null?void 0:e.top)==null?void 0:i.map(r=>({id:r.id,model:r.model??{}})))??[]}}),bbe=yn(Av,n=>{var e,t;return(((e=n==null?void 0:n.top)==null?void 0:e.length)||0)+(((t=n==null?void 0:n.bottom)==null?void 0:t.length)||0)}),Ho="auto-generated-group-node-root",nC=Symbol("mui.id_autogenerated"),z7e=()=>({type:"group",id:Ho,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function W7e(n,e,t="A row was provided without id in the rows prop:"){if(n==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",t,JSON.stringify(e)].join(`
`))}const $N=(n,e,t)=>{const i=e?e(n):n.id;return W7e(i,n,t),i},$2=({rows:n,getRowId:e,loading:t,rowCount:i})=>{const r={type:"full",rows:[]},s={},o={};for(let a=0;a<n.length;a+=1){const l=n[a],c=$N(l,e);s[c]=l,o[c]=c,r.rows.push(c)}return{rowsBeforePartialUpdates:n,loadingPropBeforePartialUpdates:t,rowCountPropBeforePartialUpdates:i,updates:r,dataRowIdToIdLookup:o,dataRowIdToModelLookup:s}},vbe=({tree:n,rowCountProp:e=0})=>{const t=n[Ho];return Math.max(e,t.children.length+(t.footerId==null?0:1))},ybe=({apiRef:n,rowCountProp:e=0,loadingProp:t,previousTree:i,previousTreeDepths:r,previousGroupsToFetch:s})=>{const o=n.current.caches.rows,{tree:a,treeDepths:l,dataRowIds:c,groupingName:u,groupsToFetch:d=[]}=n.current.applyStrategyProcessor("rowTreeCreation",{previousTree:i,previousTreeDepths:r,updates:o.updates,dataRowIdToIdLookup:o.dataRowIdToIdLookup,dataRowIdToModelLookup:o.dataRowIdToModelLookup,previousGroupsToFetch:s}),h=n.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:l,dataRowIdToIdLookup:o.dataRowIdToIdLookup,dataRowIds:c,dataRowIdToModelLookup:o.dataRowIdToModelLookup});return n.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},te({},h,{totalRowCount:Math.max(e,h.dataRowIds.length),totalTopLevelRowCount:vbe({tree:h.tree,rowCountProp:e}),groupingName:u,loading:t,groupsToFetch:d})},zC=n=>n.type==="skeletonRow"||n.type==="footer"||n.type==="group"&&n.isAutoGenerated||n.type==="pinnedRow"&&n.isAutoGenerated,Qj=(n,e,t)=>{const i=n[e];if(i.type!=="group")return[];const r=[];for(let s=0;s<i.children.length;s+=1){const o=i.children[s];(!t||!zC(n[o]))&&r.push(o);const a=Qj(n,o,t);for(let l=0;l<a.length;l+=1)r.push(a[l])}return!t&&i.footerId!=null&&r.push(i.footerId),r},cne=({previousCache:n,getRowId:e,updates:t,groupKeys:i})=>{if(n.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const r=new Map;t.forEach(u=>{const d=$N(u,e,"A row was provided without id when calling updateRows():");r.has(d)?r.set(d,te({},r.get(d),u)):r.set(d,u)});const s={type:"partial",actions:{insert:[...n.updates.actions.insert??[]],modify:[...n.updates.actions.modify??[]],remove:[...n.updates.actions.remove??[]]},idToActionLookup:te({},n.updates.idToActionLookup),groupKeys:i},o=te({},n.dataRowIdToModelLookup),a=te({},n.dataRowIdToIdLookup),l={insert:{},modify:{},remove:{}};r.forEach((u,d)=>{const h=s.idToActionLookup[d];if(u._action==="delete"){if(h==="remove"||!o[d])return;h!=null&&(l[h][d]=!0),s.actions.remove.push(d),delete o[d],delete a[d];return}const f=o[d];if(f){h==="remove"?(l.remove[d]=!0,s.actions.modify.push(d)):h==null&&s.actions.modify.push(d),o[d]=te({},f,u);return}h==="remove"?(l.remove[d]=!0,s.actions.insert.push(d)):h==null&&s.actions.insert.push(d),o[d]=u,a[d]=d});const c=Object.keys(l);for(let u=0;u<c.length;u+=1){const d=c[u],h=l[d];Object.keys(h).length>0&&(s.actions[d]=s.actions[d].filter(f=>!h[f]))}return{dataRowIdToModelLookup:o,dataRowIdToIdLookup:a,updates:s,rowsBeforePartialUpdates:n.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:n.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:n.rowCountPropBeforePartialUpdates}};function $7e(n){var r,s;const e=Av(n),t=((r=e==null?void 0:e.top)==null?void 0:r.reduce((o,a)=>(o+=n.current.unstable_getRowHeight(a.id),o),0))||0,i=((s=e==null?void 0:e.bottom)==null?void 0:s.reduce((o,a)=>(o+=n.current.unstable_getRowHeight(a.id),o),0))||0;return{top:t,bottom:i}}const Cbe="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function une(n,e,t){const i=[];return e.forEach(r=>{const s=$N(r,t,"A row was provided without id when calling updateRows():"),o=n.current.getRowNode(s);if((o==null?void 0:o.type)==="pinnedRow"){const a=n.current.caches.pinnedRows,l=a.idLookup[s];l&&(a.idLookup[s]=te({},l,r))}else i.push(r)}),i}const _be=(n,e,t)=>typeof n=="number"&&n>0?n:e,j7e="__tree_data_group__",wbe="__row_group_by_columns_group__",jN="__detail_panel_toggle__";let ni=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n[n.VIRTUAL=3]="VIRTUAL",n}({});const U7e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],q7e=n=>{const{classes:e}=n;return _t({root:["booleanCell"]},ci,e)};function G7e(n){const{value:e,rowNode:t}=n,i=rn(n,U7e),r=Zn(),s=Kt(),o={classes:s.classes},a=q7e(o),c=bt(r,Nv)>0&&t.type==="group"&&s.treeData===!1,u=M.useMemo(()=>e?s.slots.booleanCellTrueIcon:s.slots.booleanCellFalseIcon,[s.slots.booleanCellFalseIcon,s.slots.booleanCellTrueIcon,e]);return c&&e===void 0?null:V.jsx(u,te({fontSize:"small",className:a.root,titleAccess:r.current.getLocaleText(e?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!e},i))}const K7e=M.memo(G7e),Q7e=n=>n.field!==wbe&&zC(n.rowNode)?"":V.jsx(K7e,te({},n)),Y7e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],X7e=n=>{const{classes:e}=n;return _t({root:["editBooleanCell"]},ci,e)};function Z7e(n){var C;const{id:e,value:t,field:i,className:r,hasFocus:s,onValueChange:o}=n,a=rn(n,Y7e),l=Zn(),c=M.useRef(null),u=Gi(),[d,h]=M.useState(t),f=Kt(),p={classes:f.classes},m=X7e(p),v=M.useCallback(async y=>{const w=y.target.checked;o&&await o(y,w),h(w),await l.current.setEditCellValue({id:e,field:i,value:w},y)},[l,i,e,o]);return M.useEffect(()=>{h(t)},[t]),ar(()=>{s&&c.current.focus()},[s]),V.jsx("label",te({htmlFor:u,className:lt(m.root,r)},a,{children:V.jsx(f.slots.baseCheckbox,te({id:u,inputRef:c,checked:!!d,onChange:v,size:"small"},(C=f.slotProps)==null?void 0:C.baseCheckbox))}))}const J7e=n=>V.jsx(Z7e,te({},n)),e6e=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],j2=n=>{if(String(n).toLowerCase()==="true")return!0;if(String(n).toLowerCase()==="false")return!1},t6e=$e("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function n6e(n){var _,x,k;const{item:e,applyValue:t,apiRef:i,focusElementRef:r,clearButton:s,tabIndex:o,label:a,variant:l="standard"}=n,c=rn(n,e6e),[u,d]=M.useState(j2(e.value)),h=Kt(),f=Gi(),p=Gi(),m=((_=h.slotProps)==null?void 0:_.baseSelect)||{},v=m.native??!1,C=((x=h.slotProps)==null?void 0:x.baseSelectOption)||{},y=M.useCallback(D=>{const T=j2(D.target.value);d(T),t(te({},e,{value:T}))},[t,e]);M.useEffect(()=>{d(j2(e.value))},[e.value]);const w=a??i.current.getLocaleText("filterPanelInputLabel");return V.jsxs(t6e,{children:[V.jsxs(h.slots.baseFormControl,{fullWidth:!0,children:[V.jsx(h.slots.baseInputLabel,te({},(k=h.slotProps)==null?void 0:k.baseInputLabel,{id:f,shrink:!0,variant:l,children:w})),V.jsxs(h.slots.baseSelect,te({labelId:f,id:p,label:w,value:u===void 0?"":String(u),onChange:y,variant:l,notched:l==="outlined"?!0:void 0,native:v,displayEmpty:!0,inputProps:{ref:r,tabIndex:o}},c,m,{children:[V.jsx(h.slots.baseSelectOption,te({},C,{native:v,value:"",children:i.current.getLocaleText("filterValueAny")})),V.jsx(h.slots.baseSelectOption,te({},C,{native:v,value:"true",children:i.current.getLocaleText("filterValueTrue")})),V.jsx(h.slots.baseSelectOption,te({},C,{native:v,value:"false",children:i.current.getLocaleText("filterValueFalse")}))]}))]}),s]})}const i6e=()=>[{value:"is",getApplyFilterFn:n=>{const e=j2(n.value);return e===void 0?null:t=>!!t===e},InputComponent:n6e}],r6e=(n,e,t,i)=>n?i.current.getLocaleText("booleanCellTrueLabel"):i.current.getLocaleText("booleanCellFalseLabel"),s6e=n=>{switch(n.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},Sbe=te({},xu,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:Q7e,renderEditCell:J7e,sortComparator:sbe,valueFormatter:r6e,filterOperators:i6e(),getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:n=>s6e(n)}),xbe=n=>n.sorting,M0=yn(xbe,n=>n.sortedRows),Yj=Qi(M0,Ld,Bo,(n,e,t)=>n.reduce((i,r)=>{const s=e[r];s&&i.push({id:r,model:s});const o=t[r];return o&&zC(o)&&i.push({id:r,model:{[nC]:r}}),i},[])),hc=yn(xbe,n=>n.sortModel),o6e=Qi(hc,n=>n.reduce((t,i,r)=>(t[i.field]={sortDirection:i.sort,sortIndex:n.length>1?r+1:void 0},t),{}));Qi(M0,n=>n.reduce((e,t,i)=>(e[t]=i,e),Object.create(null)));const UN=n=>n.filter,bo=yn(UN,n=>n.filterModel),a6e=yn(bo,n=>n.quickFilterValues),l6e=n=>n.visibleRowsLookup,R0=yn(UN,n=>n.filteredRowsLookup);yn(UN,n=>n.filteredChildrenCountLookup);yn(UN,n=>n.filteredDescendantCountLookup);const Yp=Qi(l6e,Yj,Nv,bo,a6e,(n,e,t,i,r)=>t<2&&!i.items.length&&!(r!=null&&r.length)?e:e.filter(s=>n[s.id]!==!1)),iC=Qi(Yp,n=>n.map(e=>e.id)),kbe=Qi(R0,Yj,(n,e)=>e.filter(t=>n[t.id]!==!1)),Lbe=Qi(kbe,n=>n.map(e=>e.id));Qi(iC,Bo,(n,e)=>{const t={};let i=0;return n.reduce((r,s)=>{const o=e[s];return t[o.depth]||(t[o.depth]=0),o.depth>i&&(t[o.depth]=0),i=o.depth,t[o.depth]+=1,r[s]=t[o.depth],r},{})});const Ebe=Qi(Yp,Bo,Nv,(n,e,t)=>t<2?n:n.filter(i=>{var r;return((r=e[i.id])==null?void 0:r.depth)===0})),Xj=yn(Yp,n=>n.length),Zj=yn(Ebe,n=>n.length),c6e=yn(kbe,n=>n.length);yn(c6e,Zj,(n,e)=>n-e);const u6e=Qi(bo,Wf,(n,e)=>{var t;return(t=n.items)==null?void 0:t.filter(i=>{var o,a;if(!i.field)return!1;const r=e[i.field];if(!(r!=null&&r.filterOperators)||((o=r==null?void 0:r.filterOperators)==null?void 0:o.length)===0)return!1;const s=r.filterOperators.find(l=>l.value===i.operator);return s?!s.InputComponent||i.value!=null&&((a=i.value)==null?void 0:a.toString())!=="":!1})}),d6e=Qi(u6e,n=>n.reduce((t,i)=>(t[i.field]?t[i.field].push(i):t[i.field]=[i],t),{})),fc=n=>n.rowSelection,h6e=yn(fc,n=>n.length),f6e=Qi(fc,Ld,(n,e)=>new Map(n.map(t=>[t,e[t]]))),vf=Qi(fc,n=>n.reduce((e,t)=>(e[t]=t,e),{}));function Dbe(n,e){var l;const t=Bo(n),i=M0(n),r=R0(n),s=t[e];if(!s||s.type!=="group")return[];const o=[],a=i.findIndex(c=>c===e)+1;for(let c=a;c<i.length&&((l=t[i[c]])==null?void 0:l.depth)>s.depth;c+=1){const u=i[c];r[u]!==!1&&n.current.isRowSelectable(u)&&o.push(u)}return o}function g6e(n,e){return yn(Bo,M0,R0,vf,(t,i,r,s)=>{var u;const o=t[n];if(!o||o.type!=="group")return{isIndeterminate:!1,isChecked:s[n]===n};if(s[n]===n)return{isIndeterminate:!1,isChecked:!0};let a=0,l=0;const c=i.findIndex(d=>d===n)+1;for(let d=c;d<i.length&&((u=t[i[d]])==null?void 0:u.depth)>o.depth;d+=1){const h=i[d];r[h]!==!1&&(a+=1,s[h]!==void 0&&(l+=1))}return{isIndeterminate:l>0&&(l<a||s[n]===void 0),isChecked:e?l>0:s[n]===n}})}function Jj(n){return n.signature===Ec.DataGrid?n.checkboxSelection&&n.disableMultipleRowSelection!==!0:!n.disableMultipleRowSelection}const p6e=(n,e)=>{const t=[];let i=e;for(;i!=null&&i!==Ho;){const r=n[i];if(!r)return t;t.push(i),i=r.parent}return t},m6e=(n,e,t)=>{const i=n[t];if(!i)return[];const r=i.parent;return r==null?[]:n[r].children.filter(o=>o!==t&&e[o])},xD=(n,e,t,i,r,s)=>{const o=R0(n),a=vf(n),l=new Set([]);if(!(!i&&!r)){if(i){const c=e[t];(c==null?void 0:c.type)==="group"&&Dbe(n,t).forEach(d=>{s(d),l.add(d)})}if(r){const c=d=>{if(a[d]!==d&&!l.has(d))return!1;const h=e[d];return(h==null?void 0:h.type)!=="group"?!0:h.children.every(c)},u=d=>{const h=m6e(e,o,d);if(h.length===0||h.every(c)){const p=e[d].parent;p!=null&&p!==Ho&&n.current.isRowSelectable(p)&&(s(p),l.add(p),u(p))}};u(t)}}},dne=(n,e,t,i,r,s)=>{const o=vf(n);if(!(!r&&!i)&&(r&&p6e(e,t).forEach(l=>{o[l]===l&&s(l)}),i)){const a=e[t];(a==null?void 0:a.type)==="group"&&Dbe(n,t).forEach(c=>{s(c)})}},b6e=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],v6e=n=>{const{classes:e}=n;return _t({root:["checkboxInput"]},ci,e)},y6e=Mi(function(e,t){var T,L;const{field:i,id:r,rowNode:s,hasFocus:o,tabIndex:a}=e,l=rn(e,b6e),c=Zn(),u=Kt(),d={classes:u.classes},h=v6e(d),f=M.useRef(null),p=M.useRef(null),m=Wi(f,t),v=I=>{const R={value:I.target.checked,id:r};c.current.publishEvent("rowSelectionCheckboxChange",R,I)};M.useLayoutEffect(()=>{if(a===0){const I=c.current.getCellElement(r,i);I&&(I.tabIndex=-1)}},[c,a,r,i]),M.useEffect(()=>{var I;if(o){const R=(I=f.current)==null?void 0:I.querySelector("input");R==null||R.focus({preventScroll:!0})}else p.current&&p.current.stop({})},[o]);const C=M.useCallback(I=>{I.key===" "&&I.stopPropagation()},[]),y=c.current.isRowSelectable(r),w=g6e(r,((T=u.rowSelectionPropagation)==null?void 0:T.parents)??!1),{isIndeterminate:_,isChecked:x}=bt(c,w,AN);if(s.type==="footer"||s.type==="pinnedRow")return null;const k=u.indeterminateCheckboxAction==="select"?x&&!_:x,D=c.current.getLocaleText(k?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return V.jsx(u.slots.baseCheckbox,te({tabIndex:a,checked:k,onChange:v,className:h.root,inputProps:{"aria-label":D,name:"select_row"},onKeyDown:C,indeterminate:_,disabled:!y,touchRippleRef:p},(L=u.slotProps)==null?void 0:L.baseCheckbox,l,{ref:m}))}),C6e=y6e,qN=n=>n.focus,Ga=yn(qN,n=>n.cell),_6e=yn(qN,n=>n.columnHeader);yn(qN,n=>n.columnHeaderFilter);const iI=yn(qN,n=>n.columnGroupHeader),GN=n=>n.tabIndex,Tbe=yn(GN,n=>n.cell),Ibe=yn(GN,n=>n.columnHeader);yn(GN,n=>n.columnHeaderFilter);const w6e=yn(GN,n=>n.columnGroupHeader);function qn(n,e,t){const i=M.useRef(!0);ar(()=>{i.current=!1,n.current.register(t,e)},[n,t,e]),i.current&&n.current.register(t,e)}function io(n,e){const t=M.useRef(null);if(t.current)return t.current;const i=n.current.getLogger(e);return t.current=i,i}const Mbe=(n,e,t,i,r)=>{const s=io(n,"useNativeEventListener"),[o,a]=M.useState(!1),l=M.useRef(i),c=abe(e)?e():(e==null?void 0:e.current)??null,u=M.useCallback(d=>l.current&&l.current(d),[]);M.useEffect(()=>{l.current=i},[i]),M.useEffect(()=>{if(c&&t&&!o){s.debug(`Binding native ${t} event`),c.addEventListener(t,u,r),a(!0);const d=()=>{s.debug(`Clearing native ${t} event`),c.removeEventListener(t,u,r)};n.current.subscribeEvent("unmount",d)}},[c,u,t,o,s,r,n])},nL=n=>{const e=M.useRef(!0);e.current&&(e.current=!1,n())},S6e=()=>{},x6e=(n,e)=>{const t=M.useRef(!1);ar(()=>t.current||!n?S6e:(t.current=!0,e()),[t.current||n])},k6e=100,L6e=n=>n?0:100,Rbe=(n,e,t)=>e>0&&n>0?Math.ceil(n/e):n===-1?t+2:0,Nbe=n=>({page:0,pageSize:n?0:100}),E6e=(n,e=0)=>e===0?n:Math.max(Math.min(n,e-1),0),Abe=(n,e)=>{if(e===Ec.DataGrid&&n>k6e)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},D6e=-1,iL=n=>n.pagination,Pbe=yn(iL,n=>n.enabled&&n.paginationMode==="client"),Da=yn(iL,n=>n.paginationModel),my=yn(iL,n=>n.rowCount),iS=yn(iL,n=>n.meta),T6e=yn(Da,n=>n.page),I6e=yn(Da,n=>n.pageSize),Obe=yn(Da,my,(n,e)=>Rbe(e,n.pageSize,n.page)),eU=Qi(Pbe,Da,Bo,Nv,Yp,Ebe,(n,e,t,i,r,s)=>{var p;if(!n)return null;const o=s.length,a=Math.min(e.pageSize*e.page,o-1),l=e.pageSize===D6e?o-1:Math.min(a+e.pageSize-1,o-1);if(a===-1||l===-1)return null;if(i<2)return{firstRowIndex:a,lastRowIndex:l};const c=s[a],u=l-a+1,d=r.findIndex(m=>m.id===c.id);let h=d,f=0;for(;h<r.length&&f<=u;){const m=r[h],v=(p=t[m.id])==null?void 0:p.depth;v===void 0?h+=1:((f<u||v>0)&&(h+=1),v===0&&(f+=1))}return{firstRowIndex:d,lastRowIndex:h-1}}),M6e=Qi(Yp,eU,(n,e)=>e?n.slice(e.firstRowIndex,e.lastRowIndex+1):[]),Fbe=Qi(iC,eU,(n,e)=>e?n.slice(e.firstRowIndex,e.lastRowIndex+1):[]),KN=Qi(Pbe,eU,M6e,Yp,(n,e,t,i)=>n?{rows:t,range:e,rowToIndexMap:t.reduce((r,s,o)=>(r.set(s.model,o),r),new Map)}:{rows:i,range:i.length===0?null:{firstRowIndex:0,lastRowIndex:i.length-1},rowToIndexMap:i.reduce((r,s,o)=>(r.set(s.model,o),r),new Map)}),R6e=["field","colDef"],N6e=n=>{const{classes:e}=n;return _t({root:["checkboxInput"]},ci,e)},A6e=Mi(function(e,t){var T;const i=rn(e,R6e),[,r]=M.useState(!1),s=Zn(),o=Kt(),a={classes:o.classes},l=N6e(a),c=bt(s,Ibe),u=bt(s,fc),d=bt(s,iC),h=bt(s,Fbe),f=M.useMemo(()=>typeof o.isRowSelectable!="function"?u:u.filter(L=>o.keepNonExistentRowsSelected?!0:s.current.getRow(L)?o.isRowSelectable(s.current.getRowParams(L)):!1),[s,o.isRowSelectable,u,o.keepNonExistentRowsSelected]),p=M.useMemo(()=>(!o.pagination||!o.checkboxSelectionVisibleOnly?d:h).reduce((I,R)=>(I[R]=!0,I),{}),[o.pagination,o.checkboxSelectionVisibleOnly,h,d]),m=M.useMemo(()=>f.filter(L=>p[L]).length,[f,p]),v=m>0&&m<Object.keys(p).length,C=m>0,y=L=>{const I={value:L.target.checked};s.current.publishEvent("headerSelectionCheckboxChange",I)},w=c!==null&&c.field===e.field?0:-1;M.useLayoutEffect(()=>{const L=s.current.getColumnHeaderElement(e.field);w===0&&L&&(L.tabIndex=-1)},[w,s,e.field]);const _=M.useCallback(L=>{L.key===" "&&s.current.publishEvent("headerSelectionCheckboxChange",{value:!C})},[s,C]),x=M.useCallback(()=>{r(L=>!L)},[]);M.useEffect(()=>s.current.subscribeEvent("rowSelectionChange",x),[s,x]);const k=o.indeterminateCheckboxAction==="select"?C&&!v:C,D=s.current.getLocaleText(k?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return V.jsx(o.slots.baseCheckbox,te({indeterminate:v,checked:k,onChange:y,className:l.root,inputProps:{"aria-label":D,name:"select_all_rows"},tabIndex:w,onKeyDown:_,disabled:!Jj(o)},(T=o.slotProps)==null?void 0:T.baseCheckbox,i,{ref:t}))}),zh="__check__",N0=te({},Sbe,{type:"custom",field:zh,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(n,e,t,i)=>{const r=vf(i),s=i.current.getRowId(e);return r[s]!==void 0},renderHeader:n=>V.jsx(A6e,te({},n)),renderCell:n=>V.jsx(C6e,te({},n))}),P6e=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function hne(n,e){if(n==null)return"";const t=new Date(n);return Number.isNaN(t.getTime())?"":e==="date"?t.toISOString().substring(0,10):e==="datetime-local"?(t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().substring(0,19)):t.toISOString().substring(0,10)}function $1(n){var w;const{item:e,applyValue:t,type:i,apiRef:r,focusElementRef:s,InputProps:o,clearButton:a,tabIndex:l,disabled:c}=n,u=rn(n,P6e),d=Pl(),[h,f]=M.useState(()=>hne(e.value,i)),[p,m]=M.useState(!1),v=Gi(),C=Kt(),y=M.useCallback(_=>{d.clear();const x=_.target.value;f(x),m(!0),d.start(C.filterDebounceMs,()=>{const k=new Date(x);t(te({},e,{value:Number.isNaN(k.getTime())?void 0:k})),m(!1)})},[t,e,C.filterDebounceMs,d]);return M.useEffect(()=>{const _=hne(e.value,i);f(_)},[e.value,i]),V.jsx(C.slots.baseTextField,te({fullWidth:!0,id:v,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:h,onChange:y,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:s,InputProps:te({},p||a?{endAdornment:p?V.jsx(C.slots.loadIcon,{fontSize:"small",color:"action"}):a}:{},{disabled:c},o,{inputProps:te({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:l},o==null?void 0:o.inputProps)})},u,(w=C.slotProps)==null?void 0:w.baseTextField))}function j1(n,e,t,i){if(!n.value)return null;const r=new Date(n.value);t?r.setSeconds(0,0):(r.setMinutes(r.getMinutes()+r.getTimezoneOffset()),r.setHours(0,0,0,0));const s=r.getTime();return o=>{if(!o)return!1;if(i)return e(o.getTime(),s);const a=new Date(o);return t?a.setSeconds(0,0):a.setHours(0,0,0,0),e(a.getTime(),s)}}const Bbe=n=>[{value:"is",getApplyFilterFn:e=>j1(e,(t,i)=>t===i,n),InputComponent:$1,InputComponentProps:{type:n?"datetime-local":"date"}},{value:"not",getApplyFilterFn:e=>j1(e,(t,i)=>t!==i,n),InputComponent:$1,InputComponentProps:{type:n?"datetime-local":"date"}},{value:"after",getApplyFilterFn:e=>j1(e,(t,i)=>t>i,n),InputComponent:$1,InputComponentProps:{type:n?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:e=>j1(e,(t,i)=>t>=i,n),InputComponent:$1,InputComponentProps:{type:n?"datetime-local":"date"}},{value:"before",getApplyFilterFn:e=>j1(e,(t,i)=>t<i,n,!n),InputComponent:$1,InputComponentProps:{type:n?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:e=>j1(e,(t,i)=>t<=i,n),InputComponent:$1,InputComponentProps:{type:n?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1}],O6e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],F6e=$e(I0)({fontSize:"inherit"}),B6e=n=>{const{classes:e}=n;return _t({root:["editInputCell"]},ci,e)};function H6e(n){const{id:e,value:t,field:i,colDef:r,hasFocus:s,inputProps:o,onValueChange:a}=n,l=rn(n,O6e),c=r.type==="dateTime",u=Zn(),d=M.useRef(null),h=M.useMemo(()=>{let _;t==null?_=null:t instanceof Date?_=t:_=new Date((t??"").toString());let x;return _==null||Number.isNaN(_.getTime())?x="":x=new Date(_.getTime()-_.getTimezoneOffset()*60*1e3).toISOString().substr(0,c?16:10),{parsed:_,formatted:x}},[t,c]),[f,p]=M.useState(h),v={classes:Kt().classes},C=B6e(v),y=M.useCallback(_=>{if(_==="")return null;const[x,k]=_.split("T"),[D,T,L]=x.split("-"),I=new Date;if(I.setFullYear(Number(D),Number(T)-1,Number(L)),I.setHours(0,0,0,0),k){const[R,N]=k.split(":");I.setHours(Number(R),Number(N),0,0)}return I},[]),w=M.useCallback(async _=>{const x=_.target.value,k=y(x);a&&await a(_,k),p({parsed:k,formatted:x}),u.current.setEditCellValue({id:e,field:i,value:k},_)},[u,i,e,a,y]);return M.useEffect(()=>{p(_=>{var x,k;return h.parsed!==_.parsed&&((x=h.parsed)==null?void 0:x.getTime())!==((k=_.parsed)==null?void 0:k.getTime())?h:_})},[h]),ar(()=>{s&&d.current.focus()},[s]),V.jsx(F6e,te({inputRef:d,fullWidth:!0,className:C.root,type:c?"datetime-local":"date",inputProps:te({max:c?"9999-12-31T23:59":"9999-12-31"},o),value:f.formatted,onChange:w},l))}const Hbe=n=>V.jsx(H6e,te({},n));function Vbe({value:n,columnType:e,rowId:t,field:i}){if(!(n instanceof Date))throw new Error([`MUI X: \`${e}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${t}, field: "${i}".`].join(`
`))}const V6e=(n,e,t,i)=>{if(!n)return"";const r=i.current.getRowId(e);return Vbe({value:n,columnType:"date",rowId:r,field:t.field}),n.toLocaleDateString()},z6e=(n,e,t,i)=>{if(!n)return"";const r=i.current.getRowId(e);return Vbe({value:n,columnType:"dateTime",rowId:r,field:t.field}),n.toLocaleString()},W6e=te({},xu,{type:"date",sortComparator:obe,valueFormatter:V6e,filterOperators:Bbe(),renderEditCell:Hbe,pastedValueParser:n=>new Date(n)}),$6e=te({},xu,{type:"dateTime",sortComparator:obe,valueFormatter:z6e,filterOperators:Bbe(!0),renderEditCell:Hbe,pastedValueParser:n=>new Date(n)}),Vg=n=>n==null?null:Number(n),j6e=n=>n==null||Number.isNaN(n)||n===""?null:e=>Vg(e)===Vg(n),U6e=()=>[{value:"=",getApplyFilterFn:n=>n.value==null||Number.isNaN(n.value)?null:e=>Vg(e)===n.value,InputComponent:vc,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:n=>n.value==null||Number.isNaN(n.value)?null:e=>Vg(e)!==n.value,InputComponent:vc,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:n=>n.value==null||Number.isNaN(n.value)?null:e=>e==null?!1:Vg(e)>n.value,InputComponent:vc,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:n=>n.value==null||Number.isNaN(n.value)?null:e=>e==null?!1:Vg(e)>=n.value,InputComponent:vc,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:n=>n.value==null||Number.isNaN(n.value)?null:e=>e==null?!1:Vg(e)<n.value,InputComponent:vc,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:n=>n.value==null||Number.isNaN(n.value)?null:e=>e==null?!1:Vg(e)<=n.value,InputComponent:vc,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>n=>n==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>n=>n!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:n=>!Array.isArray(n.value)||n.value.length===0?null:e=>e!=null&&n.value.includes(Number(e)),InputComponent:dbe,InputComponentProps:{type:"number"}}],q6e=te({},xu,{type:"number",align:"right",headerAlign:"right",sortComparator:sbe,valueParser:n=>n===""?null:Number(n),valueFormatter:n=>F9e(n)?n.toLocaleString():n||"",filterOperators:U6e(),getApplyQuickFilterFn:j6e});function WC(n){return(n==null?void 0:n.type)==="singleSelect"}function sv(n,e){if(n)return typeof n.valueOptions=="function"?n.valueOptions(te({field:n.field},e)):n.valueOptions}function rI(n,e,t){if(e===void 0)return;const i=e.find(r=>{const s=t(r);return String(s)===String(n)});return t(i)}const G6e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],K6e=["MenuProps"];function Q6e(n){return!!n.key}function Y6e(n){var N,O;const e=Kt(),{id:t,value:i,field:r,row:s,colDef:o,hasFocus:a,error:l,onValueChange:c,initialOpen:u=e.editMode===zd.Cell}=n,d=rn(n,G6e),h=Zn(),f=M.useRef(null),p=M.useRef(null),[m,v]=M.useState(u),y=(((N=e.slotProps)==null?void 0:N.baseSelect)||{}).native??!1,w=((O=e.slotProps)==null?void 0:O.baseSelect)||{},{MenuProps:_}=w,x=rn(w,K6e);if(ar(()=>{var F;a&&((F=p.current)==null||F.focus())},[a]),!WC(o))return null;const k=sv(o,{id:t,row:s});if(!k)return null;const D=o.getOptionValue,T=o.getOptionLabel,L=async F=>{if(!WC(o)||!k)return;v(!1);const A=F.target,H=rI(A.value,k,D);c&&await c(F,H),await h.current.setEditCellValue({id:t,field:r,value:H},F)},I=(F,A)=>{if(e.editMode===zd.Row){v(!1);return}if(A==="backdropClick"||F.key==="Escape"){const H=h.current.getCellParams(t,r);h.current.publishEvent("cellEditStop",te({},H,{reason:F.key==="Escape"?hu.escapeKeyDown:hu.cellFocusOut}))}},R=F=>{Q6e(F)&&F.key==="Enter"||v(!0)};return!k||!o?null:V.jsx(e.slots.baseSelect,te({ref:f,inputRef:p,value:i,onChange:L,open:m,onOpen:R,MenuProps:te({onClose:I},_),error:l,native:y,fullWidth:!0},d,x,{children:k.map(F=>{var H;const A=D(F);return M.createElement(e.slots.baseSelectOption,te({},((H=e.slotProps)==null?void 0:H.baseSelectOption)||{},{native:y,key:A,value:A}),T(F))})}))}const X6e=n=>V.jsx(Y6e,te({},n)),Z6e=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],J6e=({column:n,OptionComponent:e,getOptionLabel:t,getOptionValue:i,isSelectNative:r,baseSelectOptionProps:s})=>["",...sv(n)||[]].map(a=>{const l=i(a);let c=t(a);return c===""&&(c=""),M.createElement(e,te({},s,{native:r,key:l,value:l}),c)}),e8e=$e("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function fne(n){var D,T,L,I,R;const{item:e,applyValue:t,type:i,apiRef:r,focusElementRef:s,placeholder:o,tabIndex:a,label:l,variant:c="standard",clearButton:u}=n,d=rn(n,Z6e),h=e.value??"",f=Gi(),p=Gi(),m=Kt(),v=((T=(D=m.slotProps)==null?void 0:D.baseSelect)==null?void 0:T.native)??!1;let C=null;if(e.field){const N=r.current.getColumn(e.field);WC(N)&&(C=N)}const y=C==null?void 0:C.getOptionValue,w=C==null?void 0:C.getOptionLabel,_=M.useMemo(()=>sv(C),[C]),x=M.useCallback(N=>{let O=N.target.value;O=rI(O,_,y),t(te({},e,{value:O}))},[_,y,t,e]);if(!WC(C))return null;const k=l??r.current.getLocaleText("filterPanelInputLabel");return V.jsxs(e8e,{children:[V.jsxs(m.slots.baseFormControl,{fullWidth:!0,children:[V.jsx(m.slots.baseInputLabel,te({},(L=m.slotProps)==null?void 0:L.baseInputLabel,{id:p,htmlFor:f,shrink:!0,variant:c,children:k})),V.jsx(m.slots.baseSelect,te({id:f,label:k,labelId:p,value:h,onChange:x,variant:c,type:i||"text",inputProps:{tabIndex:a,ref:s,placeholder:o??r.current.getLocaleText("filterPanelInputPlaceholder")},native:v,notched:c==="outlined"?!0:void 0},d,(I=m.slotProps)==null?void 0:I.baseSelect,{children:J6e({column:C,OptionComponent:m.slots.baseSelectOption,getOptionLabel:w,getOptionValue:y,isSelectNative:v,baseSelectOptionProps:(R=m.slotProps)==null?void 0:R.baseSelectOption})}))]}),u]})}const t8e=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],n8e=["key"],i8e=cbe();function r8e(n){const{item:e,applyValue:t,apiRef:i,focusElementRef:r,color:s,error:o,helperText:a,size:l,variant:c="standard"}=n,u=rn(n,t8e),d={color:s,error:o,helperText:a,size:l,variant:c},h=Gi(),f=Kt();let p=null;if(e.field){const x=i.current.getColumn(e.field);WC(x)&&(p=x)}const m=p==null?void 0:p.getOptionValue,v=p==null?void 0:p.getOptionLabel,C=M.useCallback((x,k)=>m(x)===m(k),[m]),y=M.useMemo(()=>sv(p)||[],[p]),w=M.useMemo(()=>Array.isArray(e.value)?e.value.reduce((x,k)=>{const D=y.find(T=>m(T)===k);return D!=null&&x.push(D),x},[]):[],[m,e.value,y]),_=M.useCallback((x,k)=>{t(te({},e,{value:k.map(m)}))},[t,e,m]);return V.jsx($o,te({multiple:!0,options:y,isOptionEqualToValue:C,filterOptions:i8e,id:h,value:w,onChange:_,getOptionLabel:v,renderTags:(x,k)=>x.map((D,T)=>{const L=k({index:T}),{key:I}=L,R=rn(L,n8e);return V.jsx(f.slots.baseChip,te({variant:"outlined",size:"small",label:v(D)},R),I)}),renderInput:x=>{var k;return V.jsx(f.slots.baseTextField,te({},x,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:te({},x.InputLabelProps,{shrink:!0}),inputRef:r,type:"singleSelect"},d,(k=f.slotProps)==null?void 0:k.baseTextField))}},u))}const U1=n=>n==null||!Uj(n)?n:n.value,s8e=()=>[{value:"is",getApplyFilterFn:n=>n.value==null||n.value===""?null:e=>U1(e)===U1(n.value),InputComponent:fne},{value:"not",getApplyFilterFn:n=>n.value==null||n.value===""?null:e=>U1(e)!==U1(n.value),InputComponent:fne},{value:"isAnyOf",getApplyFilterFn:n=>{if(!Array.isArray(n.value)||n.value.length===0)return null;const e=n.value.map(U1);return t=>e.includes(U1(t))},InputComponent:r8e}],o8e=n=>typeof n[0]=="object",a8e=n=>Uj(n)?n.value:n,l8e=n=>Uj(n)?n.label:String(n),c8e=te({},xu,{type:"singleSelect",getOptionLabel:l8e,getOptionValue:a8e,valueFormatter(n,e,t,i){const r=i.current.getRowId(e);if(!WC(t))return"";const s=sv(t,{id:r,row:e});if(n==null)return"";if(!s)return n;if(!o8e(s))return t.getOptionLabel(n);const o=s.find(a=>t.getOptionValue(a)===n);return o?t.getOptionLabel(o):""},renderEditCell:X6e,filterOperators:s8e(),pastedValueParser:(n,e,t)=>{const i=t,r=sv(i)||[],s=i.getOptionValue;if(r.find(a=>s(a)===n))return n}}),u8e="string",d8e=()=>({string:xu,number:q6e,date:W6e,dateTime:$6e,boolean:Sbe,singleSelect:c8e,[zN]:P7e,custom:xu}),tU=n=>n.headerFiltering,h8e=yn(tU,n=>(n==null?void 0:n.enabled)??!1),f8e=yn(tU,n=>n.editing),g8e=yn(tU,n=>n.menuOpen),QN=n=>n.columnGrouping,zbe=Qi(QN,n=>(n==null?void 0:n.unwrappedGroupingModel)??{}),Wbe=Qi(QN,n=>(n==null?void 0:n.lookup)??{}),p8e=Qi(QN,n=>(n==null?void 0:n.headerStructure)??[]),rL=yn(QN,n=>(n==null?void 0:n.maxDepth)??0),$be=["maxWidth","minWidth","width","flex"],vF=d8e();function m8e({initialFreeSpace:n,totalFlexUnits:e,flexColumns:t}){const i=new Set(t.map(o=>o.field)),r={all:{},frozenFields:[],freeze:o=>{const a=r.all[o];a&&a.frozen!==!0&&(r.all[o].frozen=!0,r.frozenFields.push(o))}};function s(){if(r.frozenFields.length===i.size)return;const o={min:{},max:{}};let a=n,l=e,c=0;r.frozenFields.forEach(u=>{a-=r.all[u].computedWidth,l-=r.all[u].flex});for(let u=0;u<t.length;u+=1){const d=t[u];if(r.all[d.field]&&r.all[d.field].frozen===!0)continue;let f=a/l*d.flex;f<d.minWidth?(c+=d.minWidth-f,f=d.minWidth,o.min[d.field]=!0):f>d.maxWidth&&(c+=d.maxWidth-f,f=d.maxWidth,o.max[d.field]=!0),r.all[d.field]={frozen:!1,computedWidth:f,flex:d.flex}}c<0?Object.keys(o.max).forEach(u=>{r.freeze(u)}):c>0?Object.keys(o.min).forEach(u=>{r.freeze(u)}):t.forEach(({field:u})=>{r.freeze(u)}),s()}return s(),r.all}const R8=(n,e)=>{const t={};let i=0,r=0;const s=[];n.orderedFields.forEach(l=>{let c=n.lookup[l],u=0,d=!1;n.columnVisibilityModel[l]!==!1&&(c.flex&&c.flex>0?(i+=c.flex,d=!0):u=Rd(c.width||xu.width,c.minWidth||xu.minWidth,c.maxWidth||xu.maxWidth),r+=u),c.computedWidth!==u&&(c=te({},c,{computedWidth:u})),d&&s.push(c),t[l]=c});const o=e===void 0?0:e.viewportOuterSize.width-(e.hasScrollY?e.scrollbarSize:0),a=Math.max(o-r,0);if(i>0&&o>0){const l=m8e({initialFreeSpace:a,totalFlexUnits:i,flexColumns:s});Object.keys(l).forEach(c=>{t[c].computedWidth=l[c].computedWidth})}return te({},n,{lookup:t})},b8e=(n,e)=>{if(!e)return n;const{orderedFields:t=[],dimensions:i={}}=e,r=Object.keys(i);if(r.length===0&&t.length===0)return n;const s={},o=[];for(let u=0;u<t.length;u+=1){const d=t[u];n.lookup[d]&&(s[d]=!0,o.push(d))}const a=o.length===0?n.orderedFields:[...o,...n.orderedFields.filter(u=>!s[u])],l=te({},n.lookup);for(let u=0;u<r.length;u+=1){const d=r[u],h=te({},l[d],{hasBeenResized:!0});Object.entries(i[d]).forEach(([f,p])=>{h[f]=p===-1?1/0:p}),l[d]=h}return te({},n,{orderedFields:a,lookup:l})};function gne(n){let e=vF[u8e];return n&&vF[n]&&(e=vF[n]),e}const cy=({apiRef:n,columnsToUpsert:e,initialState:t,columnVisibilityModel:i=wc(n),keepOnlyColumnsToUpsert:r=!1})=>{var u,d;const s=!n.current.state.columns;let o;if(s)o={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const h=Md(n.current.state);o={orderedFields:r?[]:[...h.orderedFields],lookup:te({},h.lookup),columnVisibilityModel:i}}let a={};r&&!s&&(a=Object.keys(o.lookup).reduce((h,f)=>te({},h,{[f]:!1}),{})),e.forEach(h=>{const{field:f}=h;a[f]=!0;let p=o.lookup[f];p==null?(p=te({},gne(h.type),{field:f,hasBeenResized:!1}),o.orderedFields.push(f)):r&&o.orderedFields.push(f),p&&p.type!==h.type&&(p=te({},gne(h.type),{field:f}));let m=p.hasBeenResized;$be.forEach(v=>{h[v]!==void 0&&(m=!0,h[v]===-1&&(h[v]=1/0))}),o.lookup[f]=nv(p,te({},h,{hasBeenResized:m}))}),r&&!s&&Object.keys(o.lookup).forEach(h=>{a[h]||delete o.lookup[h]});const l=n.current.unstable_applyPipeProcessors("hydrateColumns",o),c=b8e(l,t);return R8(c,((d=(u=n.current).getRootDimensions)==null?void 0:d.call(u))??void 0)};function v8e({firstColumnToRender:n,apiRef:e,firstRowToRender:t,lastRowToRender:i,visibleRows:r}){let s=n;for(let o=t;o<i;o+=1)if(r[o]){const l=r[o].id,c=e.current.unstable_getCellColSpanInfo(l,n);c&&c.spannedByColSpan&&(s=c.leftVisibleCellIndex)}return s}function nU(n,e){if(e.unstable_listView)return 0;const t=eL(n),i=rL(n),r=h8e(n),s=Math.floor(e.columnHeaderHeight*t),o=Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*t),a=r?Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*t):0;return s+o*i+a}const pne=1,y8e=1.5,C8e=n=>{const{scrollDirection:e,classes:t}=n,i={root:["scrollArea",`scrollArea--${e}`]};return _t(i,ci,t)},_8e=ir("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(n,e)=>[{[`&.${be["scrollArea--left"]}`]:e["scrollArea--left"]},{[`&.${be["scrollArea--right"]}`]:e["scrollArea--right"]},e.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${be["scrollArea--left"]}`]:{left:0},[`&.${be["scrollArea--right"]}`]:{right:0}}));function w8e(n){const{scrollDirection:e}=n,t=M.useRef(null),i=Zn(),r=Pl(),s=bt(i,eL),o=bt(i,$j),a=bt(i,fa),l=M.useRef({left:0,top:0}),c=()=>{if(e==="left")return l.current.left>0;if(e==="right"){const T=o-a.viewportInnerSize.width;return l.current.left<T}return!1},[u,d]=M.useState(!1),[h,f]=M.useState(c),p=Kt(),m=te({},p,{scrollDirection:e}),v=C8e(m),C=nU(i,p),y=Math.floor(p.columnHeaderHeight*s),w={height:y,top:C-y};e==="left"?w.left=a.leftPinnedWidth:e==="right"&&(w.right=a.rightPinnedWidth+(a.hasScrollX?a.scrollbarSize:0));const _=T=>{l.current=T,f(c)},x=li(T=>{let L;if(T.preventDefault(),e==="left")L=T.clientX-t.current.getBoundingClientRect().right;else if(e==="right")L=Math.max(1,T.clientX-t.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");L=(L-pne)*y8e+pne,r.start(0,()=>{i.current.scroll({left:l.current.left+L,top:l.current.top})})}),k=li(()=>{d(!0)}),D=li(()=>{d(!1)});return $t(i,"scrollPositionChange",_),$t(i,"columnHeaderDragStart",k),$t(i,"columnHeaderDragEnd",D),!u||!h?null:V.jsx(_8e,{ref:t,className:lt(v.root),ownerState:m,onDragOver:x,style:w})}const mne=zf(w8e);var bw={},yF={exports:{}},CF={exports:{}},bne;function S8e(){return bne||(bne=1,function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(CF)),CF.exports}var vne;function x8e(){return vne||(vne=1,function(n){var e=S8e().default;function t(r){if(typeof WeakMap!="function")return null;var s=new WeakMap,o=new WeakMap;return(t=function(l){return l?o:s})(r)}function i(r,s){if(!s&&r&&r.__esModule)return r;if(r===null||e(r)!="object"&&typeof r!="function")return{default:r};var o=t(s);if(o&&o.has(r))return o.get(r);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in r)if(c!=="default"&&{}.hasOwnProperty.call(r,c)){var u=l?Object.getOwnPropertyDescriptor(r,c):null;u&&(u.get||u.set)?Object.defineProperty(a,c,u):a[c]=r[c]}return a.default=r,o&&o.set(r,a),a}n.exports=i,n.exports.__esModule=!0,n.exports.default=n.exports}(yF)),yF.exports}var yne;function k8e(){if(yne)return bw;yne=1;var n=x8e().default;Object.defineProperty(bw,"__esModule",{value:!0}),bw.default=void 0;var e=n(Wr());return bw.default=parseInt(e.version,10),bw}var L8e=k8e();const E8e=Kd(L8e),jbe=M.createContext(void 0);function Kc(){const n=M.useContext(jbe);if(n===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return n}const rC=(n,e)=>KN(n),A0=(n,e)=>bt(n,KN),D8e=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",T8e=D8e.includes("firefox"),P0=n=>n.rowsMeta,YN=n=>n.virtualization;yn(YN,n=>n.enabled);const Ube=yn(YN,n=>n.enabledForColumns),I8e=yn(YN,n=>n.enabledForRows),sL=yn(YN,n=>n.renderContext),M8e=Qi(n=>n.virtualization.renderContext.firstColumnIndex,n=>n.virtualization.renderContext.lastColumnIndex,(n,e)=>({firstColumnIndex:n,lastColumnIndex:e})),qbe={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},R8e=(n,e)=>{const{disableVirtualization:t,autoHeight:i}=e;return te({},n,{virtualization:{enabled:!t,enabledForColumns:!t,enabledForRows:!t&&!i,renderContext:qbe}})};function N8e(n,e){const t=s=>{n.current.setState(o=>te({},o,{virtualization:te({},o.virtualization,{enabled:s,enabledForColumns:s,enabledForRows:s&&!e.autoHeight})}))};qn(n,{unstable_setVirtualization:t,unstable_setColumnVirtualization:s=>{n.current.setState(o=>te({},o,{virtualization:te({},o.virtualization,{enabledForColumns:s})}))}},"public"),M.useEffect(()=>{t(!e.disableVirtualization)},[e.disableVirtualization,e.autoHeight])}const iU=n=>n.rowSpanning,Gbe=yn(iU,n=>n.hiddenCells),A8e=yn(iU,n=>n.spannedCells),P8e=yn(iU,n=>n.hiddenCellOriginMap),$C=n=>n.listViewColumn,O8e=nbe(Ga,sL,KN,ps,Ld,(n,e,t,i,r)=>{if(!n)return!1;const s=r[n.id];if(!s)return!1;const o=t.rowToIndexMap.get(s),a=i.slice(e.firstColumnIndex,e.lastColumnIndex).findIndex(c=>c.field===n.field);return!(o!==void 0&&a!==-1&&o>=e.firstRowIndex&&o<=e.lastRowIndex)}),F8e=Qi(O8e,ps,KN,Ld,Ga,(n,e,t,i,r)=>{if(!n)return null;const s=i[r.id];if(!s)return null;const o=t.rowToIndexMap.get(s);if(o===void 0)return null;const a=e.findIndex(l=>l.field===r.field);return a===-1?null:te({},r,{rowIndex:o,columnIndex:a})}),sI=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),_F=50;var Cs=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT",n}(Cs||{});const Cne={top:0,left:0},B8e=Object.freeze(new Map),H8e=(n,e,t,i,r)=>({direction:Cs.NONE,buffer:Qbe(n,Cs.NONE,e,t,i,r)}),V8e=()=>{var me;const n=Kc(),e=Kt(),{unstable_listView:t}=e,i=bt(n,()=>t?[$C(n.current.state)]:ps(n)),r=bt(n,I8e)&&!sI,s=bt(n,Ube)&&!sI,o=bt(n,fa),a=o.viewportOuterSize,l=bt(n,Av),c=bt(n,tL),u=t?{left:[],right:[]}:c,d=l.bottom.length>0,[h,f]=M.useState(B8e),p=ba(),m=bt(n,P0),v=bt(n,vf),C=A0(n),y=n.current.mainElementRef,w=n.current.virtualScrollerRef,_=n.current.virtualScrollbarVerticalRef,x=n.current.virtualScrollbarHorizontalRef,k=o.contentSize.height,D=o.columnsTotalWidth,T=bt(n,v9e),L=M.useRef(!1),I=M.useRef(null),R=M.useCallback(ye=>{if(y.current=ye,!ye)return;const Le=ye.getBoundingClientRect();let ie=wne(Le);if((!I.current||ie.width!==I.current.width&&ie.height!==I.current.height)&&(I.current=ie,n.current.publishEvent("resize",ie)),typeof ResizeObserver>"u")return;const Ee=new ResizeObserver(Ue=>{const re=Ue[0];if(!re)return;const fe=wne(re.contentRect);fe.width===ie.width&&fe.height===ie.height||(n.current.publishEvent("resize",fe),ie=fe)});if(Ee.observe(ye),E8e>=19)return()=>{y.current=null,Ee.disconnect()}},[n,y]),N=M.useRef(((me=e.initialState)==null?void 0:me.scroll)??Cne),O=M.useRef(!1),F=M.useRef(Cne),A=M.useRef(qbe),H=bt(n,sL),W=bt(n,F8e),$=Pl(),U=M.useRef(void 0),z=Uc(()=>H8e(p,e.rowBufferPx,e.columnBufferPx,o.rowHeight*15,_F*6)).current,K=M.useCallback(ye=>{if($8e(ye,n.current.state.virtualization.renderContext))return;const Le=ye.firstRowIndex!==A.current.firstRowIndex||ye.lastRowIndex!==A.current.lastRowIndex;n.current.setState(ie=>te({},ie,{virtualization:te({},ie.virtualization,{renderContext:ye})})),o.isReady&&Le&&(A.current=ye,n.current.publishEvent("renderedRowsIntervalChange",ye)),F.current=N.current},[n,o.isReady]),Z=li(()=>{const ye=w.current;if(!ye)return;const Le={top:ye.scrollTop,left:ye.scrollLeft},ie=Le.left-N.current.left,Ee=Le.top-N.current.top,Ue=ie!==0||Ee!==0;N.current=Le;const re=Ue?j8e(ie,Ee):Cs.NONE,fe=Math.abs(N.current.top-F.current.top),Ce=Math.abs(N.current.left-F.current.left),Me=fe>=o.rowHeight||Ce>=_F,Te=z.direction!==re;if(!(Me||Te))return H;if(Te)switch(re){case Cs.NONE:case Cs.LEFT:case Cs.RIGHT:U.current=void 0;break;default:U.current=H;break}z.direction=re,z.buffer=Qbe(p,re,e.rowBufferPx,e.columnBufferPx,o.rowHeight*15,_F*6);const Ne=wF(n,e,r,s),Ge=SF(Ne,N.current,z);return sN.flushSync(()=>{K(Ge)}),$.start(1e3,Z),Ge}),Q=()=>{const ye=wF(n,e,r,s),Le=SF(ye,N.current,z);U.current=void 0,K(Le)},G=li(ye=>{if(O.current){O.current=!1;return}const{scrollTop:Le,scrollLeft:ie}=ye.currentTarget;if(Le<0||!p&&ie<0||p&&ie>0)return;const Ee=Z();n.current.publishEvent("scrollPositionChange",{top:Le,left:ie,renderContext:Ee})}),J=li(ye=>{n.current.publishEvent("virtualScrollerWheel",{},ye)}),ne=li(ye=>{n.current.publishEvent("virtualScrollerTouchMove",{},ye)}),ae=(ye={})=>{var gt;if(!ye.rows&&!C.range)return[];const Le=ye.renderContext??H,ie=!d&&ye.position===void 0||d&&ye.position==="bottom",Ee=ye.position!==void 0;let Ue;switch(ye.position){case"top":Ue=0;break;case"bottom":Ue=l.top.length+C.rows.length;break;case void 0:Ue=l.top.length;break}const re=ye.rows??C.rows,fe=Le.firstRowIndex,Ce=Math.min(Le.lastRowIndex,re.length),Me=ye.rows?Yte(0,ye.rows.length):Yte(fe,Ce);let Te=-1;!Ee&&W&&(W.rowIndex<fe&&(Me.unshift(W.rowIndex),Te=W.rowIndex),W.rowIndex>Ce&&(Me.push(W.rowIndex),Te=W.rowIndex));const Ae=[],Ne=(gt=e.slotProps)==null?void 0:gt.row,Ge=Qp(n);return Me.forEach(rt=>{var Bt,fn,bn;const{id:it,model:Xe}=re[rt],st=(((Bt=C==null?void 0:C.range)==null?void 0:Bt.firstRowIndex)||0)+Ue+rt;if(T){const ot=u.left.length,le=i.length-u.right.length;n.current.calculateColSpan({rowId:it,minFirstColumn:ot,maxLastColumn:le,columns:i}),u.left.length>0&&n.current.calculateColSpan({rowId:it,minFirstColumn:0,maxLastColumn:u.left.length,columns:i}),u.right.length>0&&n.current.calculateColSpan({rowId:it,minFirstColumn:i.length-u.right.length,maxLastColumn:i.length,columns:i})}const Ke=n.current.rowHasAutoHeight(it)?"auto":n.current.unstable_getRowHeight(it);let kt;v[it]==null?kt=!1:kt=n.current.isRowSelectable(it);let Gt=!1;ye.position===void 0&&(Gt=rt===0);let Dt=!1;const xe=rt===re.length-1;if(ie)if(Ee)Dt=xe;else{const ot=C.rows.length-1;rt===ot&&(Dt=!0)}let Re=Le;!Ee&&U.current&&rt>=U.current.firstRowIndex&&rt<U.current.lastRowIndex&&(Re=U.current);const Et=rt===Te,Mt=(W==null?void 0:W.rowIndex)===st,hn=Kbe(Ge,Re,u.left.length),en=xe&&ye.position==="top",fi=Re.firstColumnIndex,Qt=Re.lastColumnIndex;if(Ae.push(V.jsx(e.slots.row,te({row:Xe,rowId:it,index:st,selected:kt,offsetTop:ye.rows?void 0:m.positions[rt],offsetLeft:hn,columnsTotalWidth:o.columnsTotalWidth,rowHeight:Ke,pinnedColumns:u,visibleColumns:i,firstColumnIndex:fi,lastColumnIndex:Qt,focusedColumnIndex:Mt?W.columnIndex:void 0,isFirstVisible:Gt,isLastVisible:Dt,isNotVisible:Et,showBottomBorder:en,scrollbarWidth:o.hasScrollY?o.scrollbarSize:0,gridHasFiller:o.columnsTotalWidth<o.viewportOuterSize.width},Ne),it)),Et)return;const He=h.get(it);He&&Ae.push(He),ye.position===void 0&&xe&&Ae.push((bn=(fn=n.current).getInfiniteLoadingTriggerElement)==null?void 0:bn.call(fn,{lastRowId:it}))}),Ae},se=a.width&&D>a.width,X=M.useMemo(()=>({overflowX:!se||t?"hidden":void 0,overflowY:e.autoHeight?"hidden":void 0}),[se,e.autoHeight,t]),oe=M.useMemo(()=>{const ye={width:se?D:"auto",flexBasis:k,flexShrink:0};return ye.flexBasis===0&&(ye.flexBasis=Cbe),ye},[D,k,se]),ve=M.useCallback(ye=>{ye&&n.current.publishEvent("virtualScrollerContentSizeChange",{columnsTotalWidth:D,contentHeight:k})},[n,D,k]);return ar(()=>{var ye,Le;L.current&&((Le=(ye=n.current).updateRenderContext)==null||Le.call(ye))},[n,s,r]),ar(()=>{t&&(w.current.scrollLeft=0)},[t,w]),x6e(a.width!==0,()=>{var ie;const ye=wF(n,e,r,s),Le=SF(ye,N.current,z);if(K(Le),n.current.publishEvent("scrollPositionChange",{top:N.current.top,left:N.current.left,renderContext:Le}),L.current=!0,(ie=e.initialState)!=null&&ie.scroll&&w.current){const Ee=w.current,{top:Ue,left:re}=e.initialState.scroll,fe={top:!(Ue>0),left:!(re>0)};if(!fe.left&&D&&(Ee.scrollLeft=re,O.current=!0,fe.left=!0),!fe.top&&k&&(Ee.scrollTop=Ue,O.current=!0,fe.top=!0),!fe.top||!fe.left){const Ce=n.current.subscribeEvent("virtualScrollerContentSizeChange",Me=>{!fe.left&&Me.columnsTotalWidth&&(Ee.scrollLeft=re,O.current=!0,fe.left=!0),!fe.top&&Me.contentHeight&&(Ee.scrollTop=Ue,O.current=!0,fe.top=!0),fe.left&&fe.top&&Ce()});return Ce}}}),n.current.register("private",{updateRenderContext:Q}),$t(n,"columnsChange",Q),$t(n,"filteredRowsSet",Q),$t(n,"rowExpansionChange",Q),{renderContext:H,setPanels:f,getRows:ae,getContainerProps:()=>({ref:R}),getScrollerProps:()=>({ref:w,onScroll:G,onWheel:J,onTouchMove:ne,style:X,role:"presentation",tabIndex:T8e?-1:void 0}),getContentProps:()=>({style:oe,role:"presentation",ref:ve}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:_,role:"presentation"}),getScrollbarHorizontalProps:()=>({ref:x,role:"presentation"})}};function wF(n,e,t,i){const r=fa(n.current.state),s=rC(n),o=e.unstable_listView?[$C(n.current.state)]:ps(n),a=P8e(n),l=n.current.state.rows.dataRowIds.at(-1),c=o.at(-1);return{enabledForRows:t,enabledForColumns:i,apiRef:n,autoHeight:e.autoHeight,rowBufferPx:e.rowBufferPx,columnBufferPx:e.columnBufferPx,leftPinnedWidth:r.leftPinnedWidth,columnsTotalWidth:r.columnsTotalWidth,viewportInnerWidth:r.viewportInnerSize.width,viewportInnerHeight:r.viewportInnerSize.height,lastRowHeight:l!==void 0?n.current.unstable_getRowHeight(l):0,lastColumnWidth:(c==null?void 0:c.computedWidth)??0,rowsMeta:P0(n.current.state),columnPositions:Qp(n),rows:s.rows,range:s.range,pinnedColumns:tL(n),visibleColumns:o,hiddenCellsOriginMap:a,listView:e.unstable_listView??!1,virtualizeColumnsWithAutoRowHeight:e.virtualizeColumnsWithAutoRowHeight}}function SF(n,e,t){const i={firstRowIndex:0,lastRowIndex:n.rows.length,firstColumnIndex:0,lastColumnIndex:n.visibleColumns.length},{top:r,left:s}=e,o=Math.abs(s)+n.leftPinnedWidth;if(n.enabledForRows){let l=Math.min(_ne(n,r,{atStart:!0,lastPosition:n.rowsMeta.positions[n.rowsMeta.positions.length-1]+n.lastRowHeight}),n.rowsMeta.positions.length-1);const c=n.hiddenCellsOriginMap[l];if(c){const d=Math.min(...Object.values(c));l=Math.min(l,d)}const u=n.autoHeight?l+n.rows.length:_ne(n,r+n.viewportInnerHeight);i.firstRowIndex=l,i.lastRowIndex=u}if(n.enabledForColumns){let l=0,c=n.columnPositions.length,u=!1;const[d,h]=N8({firstIndex:i.firstRowIndex,lastIndex:i.lastRowIndex,minFirstIndex:0,maxLastIndex:n.rows.length,bufferBefore:t.buffer.rowBefore,bufferAfter:t.buffer.rowAfter,positions:n.rowsMeta.positions,lastSize:n.lastRowHeight});if(!n.virtualizeColumnsWithAutoRowHeight)for(let f=d;f<h&&!u;f+=1){const p=n.rows[f];u=n.apiRef.current.rowHasAutoHeight(p.id)}(!u||n.virtualizeColumnsWithAutoRowHeight)&&(l=Ip(o,n.columnPositions,{atStart:!0,lastPosition:n.columnsTotalWidth}),c=Ip(o+n.viewportInnerWidth,n.columnPositions)),i.firstColumnIndex=l,i.lastColumnIndex=c}return z8e(n,i,t)}function _ne(n,e,t){var o,a;const i=n.apiRef.current.getLastMeasuredRowIndex();let r=i===1/0;(o=n.range)!=null&&o.lastRowIndex&&!r&&(r=i>=n.range.lastRowIndex);const s=Rd(i-(((a=n.range)==null?void 0:a.firstRowIndex)||0),0,n.rowsMeta.positions.length);return r||n.rowsMeta.positions[s]>=e?Ip(e,n.rowsMeta.positions,t):W8e(e,n.rowsMeta.positions,s,t)}function z8e(n,e,t){const[i,r]=N8({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:n.rows.length,bufferBefore:t.buffer.rowBefore,bufferAfter:t.buffer.rowAfter,positions:n.rowsMeta.positions,lastSize:n.lastRowHeight}),[s,o]=N8({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:n.pinnedColumns.left.length,maxLastIndex:n.visibleColumns.length-n.pinnedColumns.right.length,bufferBefore:t.buffer.columnBefore,bufferAfter:t.buffer.columnAfter,positions:n.columnPositions,lastSize:n.lastColumnWidth}),a=v8e({firstColumnToRender:s,apiRef:n.apiRef,firstRowToRender:i,lastRowToRender:r,visibleRows:n.rows});return{firstRowIndex:i,lastRowIndex:r,firstColumnIndex:a,lastColumnIndex:o}}function Ip(n,e,t=void 0,i=0,r=e.length){if(e.length<=0)return-1;if(i>=r)return i;const s=i+Math.floor((r-i)/2),o=e[s];let a;if(t!=null&&t.atStart){const l=(s===e.length-1?t.lastPosition:e[s+1])-o;a=n-l<o}else a=n<=o;return a?Ip(n,e,t,i,s):Ip(n,e,t,s+1,r)}function W8e(n,e,t,i=void 0){let r=1;for(;t<e.length&&Math.abs(e[t])<n;)t+=r,r*=2;return Ip(n,e,i,Math.floor(t/2),Math.min(t,e.length))}function N8({firstIndex:n,lastIndex:e,bufferBefore:t,bufferAfter:i,minFirstIndex:r,maxLastIndex:s,positions:o,lastSize:a}){const l=o[n]-t,c=o[e]+i,u=Ip(l,o,{atStart:!0,lastPosition:o[o.length-1]+a}),d=Ip(c,o);return[Rd(u,r,s),Rd(d,r,s)]}function $8e(n,e){return n===e?!0:n.firstRowIndex===e.firstRowIndex&&n.lastRowIndex===e.lastRowIndex&&n.firstColumnIndex===e.firstColumnIndex&&n.lastColumnIndex===e.lastColumnIndex}function Kbe(n,e,t){const i=(n[e.firstColumnIndex]??0)-(n[t]??0);return Math.abs(i)}function j8e(n,e){return n===0&&e===0?Cs.NONE:Math.abs(e)>=Math.abs(n)?e>0?Cs.DOWN:Cs.UP:n>0?Cs.RIGHT:Cs.LEFT}function Qbe(n,e,t,i,r,s){if(n)switch(e){case Cs.LEFT:e=Cs.RIGHT;break;case Cs.RIGHT:e=Cs.LEFT;break}switch(e){case Cs.NONE:return{rowAfter:t,rowBefore:t,columnAfter:i,columnBefore:i};case Cs.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:s};case Cs.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:s,columnBefore:0};case Cs.UP:return{rowAfter:0,rowBefore:r,columnAfter:0,columnBefore:0};case Cs.DOWN:return{rowAfter:r,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function wne(n){return{width:Math.round(n.width*10)/10,height:Math.round(n.height*10)/10}}const U8e=()=>{var d,h;const n=Zn(),e=Kt(),t=bt(n,WN),i=bt(n,Xj),r=bt(n,bbe),s=t===0&&r===0,o=bt(n,O7e),a=!o&&s,l=!o&&t>0&&i===0;let c=null,u=null;return a&&(c="noRowsOverlay"),l&&(c="noResultsOverlay"),o&&(c="loadingOverlay",u=((h=(d=e.slotProps)==null?void 0:d.loadingOverlay)==null?void 0:h[s?"noRowsVariant":"variant"])||null),{overlayType:c,loadingOverlayVariant:u}},q8e=ir("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:n=>n!=="overlayType"&&n!=="loadingOverlayVariant",overridesResolver:(n,e)=>e.overlayWrapper})(({overlayType:n,loadingOverlayVariant:e})=>e!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:n==="loadingOverlay"?5:4}:{}),G8e=ir("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:n=>n!=="overlayType"&&n!=="loadingOverlayVariant",overridesResolver:(n,e)=>e.overlayWrapperInner})({}),K8e=n=>{const{classes:e}=n;return _t({root:["overlayWrapper"],inner:["overlayWrapperInner"]},ci,e)};function Q8e(n){const e=Zn(),t=Kt(),i=bt(e,fa);let r=Math.max(i.viewportOuterSize.height-i.topContainerHeight-i.bottomContainerHeight-(i.hasScrollX?i.scrollbarSize:0),0);r===0&&(r=Cbe);const s=K8e(te({},n,{classes:t.classes}));return V.jsx(q8e,te({className:lt(s.root)},n,{children:V.jsx(G8e,te({className:lt(s.inner),style:{height:r,width:i.viewportOuterSize.width}},n))}))}function Y8e(n){var s,o;const{overlayType:e}=n,t=Kt();if(!e)return null;const i=(s=t.slots)==null?void 0:s[e],r=(o=t.slotProps)==null?void 0:o[e];return V.jsx(Q8e,te({},n,{children:V.jsx(i,te({},r))}))}const U2=n=>n.columnMenu;function X8e(){var v;const n=Kc(),e=Kt(),t=bt(n,ps),i=bt(n,d6e),r=bt(n,o6e),s=bt(n,Ibe),o=bt(n,()=>Tbe(n)===null),a=bt(n,w6e),l=bt(n,_6e),c=bt(n,iI),u=bt(n,rL),d=bt(n,U2),h=bt(n,wc),f=bt(n,p8e),p=!(a===null&&s===null&&o),m=n.current.columnHeadersContainerRef;return V.jsx(e.slots.columnHeaders,te({ref:m,visibleColumns:t,filterColumnLookup:i,sortColumnLookup:r,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p},(v=e.slotProps)==null?void 0:v.columnHeaders))}const Z8e=zf(X8e),Ybe=M.createContext(void 0),Xbe=()=>{const n=M.useContext(Ybe);if(n===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return n},J8e=ir("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),eHe=ir("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(n,e)=>e.main})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),tHe=Mi((n,e)=>{var s;const t=Kt(),r=Xbe().hooks.useGridAriaAttributes();return V.jsxs(eHe,te({ownerState:t,className:n.className,tabIndex:-1},r,(s=t.slotProps)==null?void 0:s.main,{ref:e,children:[V.jsx(J8e,{role:"presentation","data-id":"gridPanelAnchor"}),n.children]}))}),nHe=()=>_t({root:["topContainer"]},ci,{}),iHe=ir("div")({position:"sticky",zIndex:4,top:0});function rHe(n){const e=nHe();return V.jsx(iHe,te({},n,{className:lt(e.root,be["container--top"]),role:"presentation"}))}const sHe=()=>_t({root:["bottomContainer"]},ci,{}),oHe=ir("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function aHe(n){const e=sHe();return V.jsx(oHe,te({},n,{className:lt(e.root,be["container--bottom"]),role:"presentation"}))}const lHe=(n,e)=>{const{classes:t}=n;return _t({root:["virtualScrollerContent",e&&"virtualScrollerContent--overflowed"]},ci,t)},cHe=ir("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(n,e)=>e.virtualScrollerContent})({}),uHe=Mi(function(e,t){var o;const i=Kt(),r=!i.autoHeight&&((o=e.style)==null?void 0:o.minHeight)==="auto",s=lHe(i,r);return V.jsx(cHe,te({},e,{ownerState:i,className:lt(s.root,e.className),ref:t}))}),dHe=ir("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),Zbe=ir("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),hHe=ir(Zbe)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),fHe=ir(Zbe)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),gHe=ir("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function pHe({rowsLength:n}){const e=Zn(),{viewportOuterSize:t,minimumSize:i,hasScrollX:r,hasScrollY:s,scrollbarSize:o,leftPinnedWidth:a,rightPinnedWidth:l}=bt(e,fa),c=r?o:0,u=t.height-i.height>0;return c===0&&!u?null:V.jsxs(dHe,{className:be.filler,role:"presentation",style:{height:c,"--rowBorderColor":n===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&V.jsx(hHe,{className:be["filler--pinnedLeft"],style:{width:a}}),V.jsx(gHe,{}),l>0&&V.jsx(fHe,{className:be["filler--pinnedRight"],style:{width:l+(s?o:0)}})]})}const mHe=zf(pHe),bHe=["className"],vHe=n=>{const{classes:e}=n;return _t({root:["virtualScrollerRenderZone"]},ci,e)},yHe=ir("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(n,e)=>e.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),CHe=Mi(function(e,t){const{className:i}=e,r=rn(e,bHe),s=Zn(),o=Kt(),a=vHe(o),l=bt(s,()=>{const c=sL(s);return P0(s.current.state).positions[c.firstRowIndex]??0});return V.jsx(yHe,te({className:lt(a.root,i),ownerState:o,style:{transform:`translate3d(0, ${l}px, 0)`}},r,{ref:t}))}),_He={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},vo=n=>n.editRows,Hx=n=>n.preferencePanel,wHe=u9e(Hx,(n,e)=>!!(n.open&&n.labelId===e));var ov=function(n){return n.filters="filters",n.columns="columns",n}(ov||{});const SHe=(n,e)=>{const{classes:t}=n,i={root:["scrollbar",`scrollbar--${e}`],content:["scrollbarContent"]};return _t(i,ci,t)},Jbe=ir("div")({position:"absolute",display:"inline-block",zIndex:6,"&:hover":{zIndex:7},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),xHe=ir(Jbe)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),kHe=ir(Jbe)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Sne=Mi(function(e,t){const i=Kc(),r=Kt(),s=M.useRef(!1),o=M.useRef(0),a=M.useRef(null),l=M.useRef(null),c=SHe(r,e.position),u=bt(i,fa),d=e.position==="vertical"?"height":"width",h=e.position==="vertical"?"scrollTop":"scrollLeft",f=e.position==="vertical"?u.hasScrollX:u.hasScrollY,p=u.minimumSize[d]+(f?u.scrollbarSize:0),v=(e.position==="vertical"?u.viewportInnerSize.height:u.viewportOuterSize.width)*(p/u.viewportOuterSize[d]),C=li(()=>{const _=i.current.virtualScrollerRef.current,x=a.current;if(!x||_[h]===o.current)return;if(o.current=_[h],s.current){s.current=!1;return}s.current=!0;const k=_[h]/p;x[h]=k*v}),y=li(()=>{const _=i.current.virtualScrollerRef.current,x=a.current;if(!x)return;if(s.current){s.current=!1;return}s.current=!0;const k=x[h]/v;_[h]=k*p});Xk(()=>{const _=i.current.virtualScrollerRef.current,x=a.current,k={capture:!0,passive:!0};return _.addEventListener("scroll",C,k),x.addEventListener("scroll",y,k),()=>{_.removeEventListener("scroll",C,k),x.removeEventListener("scroll",y,k)}}),M.useEffect(()=>{l.current.style.setProperty(d,`${v}px`)},[v,d]);const w=e.position==="vertical"?xHe:kHe;return V.jsx(w,{ref:Wi(t,a),className:c.root,style:e.position==="vertical"&&r.unstable_listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",children:V.jsx("div",{ref:l,className:c.content})})}),LHe=(n,e,t)=>{const{classes:i}=n,r={root:["main",e.rightPinnedWidth>0&&"main--hasPinnedRight",t==="skeleton"&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",e.hasScrollX&&"virtualScroller--hasScrollX"]};return _t(r,ci,i)},EHe=ir("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(n,e)=>e.virtualScroller})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function DHe(n){const e=Zn(),t=Kt(),i=bt(e,fa),r=U8e(),s=LHe(t,i,r.loadingOverlayVariant),o=V8e(),{getContainerProps:a,getScrollerProps:l,getContentProps:c,getRenderZoneProps:u,getScrollbarVerticalProps:d,getScrollbarHorizontalProps:h,getRows:f}=o,p=f();return V.jsxs(tHe,te({className:s.root},a(),{children:[V.jsx(mne,{scrollDirection:"left"}),V.jsx(mne,{scrollDirection:"right"}),V.jsxs(EHe,te({className:s.scroller},l(),{ownerState:t,children:[V.jsxs(rHe,{children:[!t.unstable_listView&&V.jsx(Z8e,{}),V.jsx(t.slots.pinnedRows,{position:"top",virtualScroller:o})]}),V.jsx(Y8e,te({},r)),V.jsx(uHe,te({},c(),{children:V.jsxs(CHe,te({},u(),{children:[p,V.jsx(t.slots.detailPanels,{virtualScroller:o})]}))})),V.jsx(mHe,{rowsLength:p.length}),V.jsx(aHe,{children:V.jsx(t.slots.pinnedRows,{position:"bottom",virtualScroller:o})})]})),i.hasScrollX&&!t.unstable_listView&&V.jsx(Sne,te({position:"horizontal"},h())),i.hasScrollY&&V.jsx(Sne,te({position:"vertical"},d())),n.children]}))}function THe(){var e;const n=Kt();return n.hideFooter?null:V.jsx(n.slots.footer,te({},(e=n.slotProps)==null?void 0:e.footer))}let xF;function IHe(){return xF===void 0&&document.createElement("div").focus({get preventScroll(){return xF=!0,!1}}),xF}function MHe({defaultSlots:n,slots:e}){const t=e;if(!t||Object.keys(t).length===0)return n;const i=te({},n);return Object.keys(t).forEach(r=>{const s=r;t[s]!==void 0&&(i[s]=t[s])}),i}function RHe(n){var r;if((r=n.slotProps)!=null&&r.root)return n;const e=Object.keys(n);if(!e.some(s=>s.startsWith("aria-")||s.startsWith("data-")))return n;const t={},i=n.forwardedProps??{};for(let s=0;s<e.length;s+=1){const o=e[s];o.startsWith("aria-")||o.startsWith("data-")?i[o]=n[o]:t[o]=n[o]}return t.forwardedProps=i,t}function NHe(n){return M.useMemo(()=>RHe(n),[n])}const AHe=n=>{const e=n.match(/^__row_group_by_columns_group_(.*)__$/);return e?e[1]:null},PHe=n=>n===wbe||AHe(n)!==null,eve=(n,e)=>{if(n)if(e){if(n===ni.LEFT)return"right";if(n===ni.RIGHT)return"left"}else{if(n===ni.LEFT)return"left";if(n===ni.RIGHT)return"right"}};function XN(n,e,t,i){const r=eve(t,e);return!r||i===void 0||(n[r]=i),n}const OHe=["column","rowId","editCellState","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],FHe=["changeReason","unstable_updateValueOnRender"];ni.LEFT+"",Hg.LEFT,ni.RIGHT+"",Hg.RIGHT,ni.NONE+"",ni.VIRTUAL+"";const xne={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:tr.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},BHe=n=>{const{align:e,showLeftBorder:t,showRightBorder:i,pinnedPosition:r,isEditable:s,isSelected:o,isSelectionMode:a,classes:l}=n,c={root:["cell",`cell--text${nt(e)}`,o&&"selected",s&&"cell--editable",t&&"cell--withLeftBorder",i&&"cell--withRightBorder",r===ni.LEFT&&"cell--pinnedLeft",r===ni.RIGHT&&"cell--pinnedRight",a&&!s&&"cell--selectionMode"]};return _t(c,ci,l)},HHe=Mi(function(e,t){var rt,it,Xe;const{column:i,rowId:r,editCellState:s,align:o,colIndex:a,width:l,className:c,style:u,colSpan:d,disableDragEvents:h,isNotVisible:f,pinnedOffset:p,pinnedPosition:m,showRightBorder:v,showLeftBorder:C,onClick:y,onDoubleClick:w,onMouseDown:_,onMouseUp:x,onMouseOver:k,onKeyDown:D,onKeyUp:T,onDragEnter:L,onDragOver:I}=e,R=rn(e,OHe),N=Zn(),O=Kt(),F=ba(),A=i.field,H=bt(N,()=>{if(!N.current.getRow(r))return xne;const Ke=N.current.getCellParams(r,A);return Ke.api=N.current,Ke},AN),W=bt(N,()=>N.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:r,field:A})),$=bt(N,Gbe),U=bt(N,A8e),{cellMode:z,hasFocus:K,isEditable:Z=!1,value:Q}=H,G=i.type==="actions"&&((rt=i.getActions)==null?void 0:rt.call(i,N.current.getRowParams(r)).some(st=>!st.props.disabled)),J=(z==="view"||!Z)&&!G?H.tabIndex:-1,{classes:ne,getCellClassName:ae}=O,X=[bt(N,()=>N.current.unstable_applyPipeProcessors("cellClassName",[],{id:r,field:A}).filter(Boolean).join(" "))];i.cellClassName&&X.push(typeof i.cellClassName=="function"?i.cellClassName(H):i.cellClassName),i.display==="flex"&&X.push(be["cell--flex"]),ae&&X.push(ae(H));const oe=H.formattedValue??Q,ve=M.useRef(null),me=Wi(t,ve),ye=M.useRef(null),Le=O.cellSelection??!1,ie={align:o,showLeftBorder:C,showRightBorder:v,isEditable:Z,classes:O.classes,pinnedPosition:m,isSelected:W,isSelectionMode:Le},Ee=BHe(ie),Ue=M.useCallback(st=>Ke=>{const kt=N.current.getCellParams(r,A||"");N.current.publishEvent(st,kt,Ke),x&&x(Ke)},[N,A,x,r]),re=M.useCallback(st=>Ke=>{const kt=N.current.getCellParams(r,A||"");N.current.publishEvent(st,kt,Ke),_&&_(Ke)},[N,A,_,r]),fe=M.useCallback((st,Ke)=>kt=>{if(!N.current.getRow(r))return;const Gt=N.current.getCellParams(r,A||"");N.current.publishEvent(st,Gt,kt),Ke&&Ke(kt)},[N,A,r]),Ce=((it=$[r])==null?void 0:it[A])??!1,Me=((Xe=U[r])==null?void 0:Xe[A])??1,Te=M.useMemo(()=>{if(f)return{padding:0,opacity:0,width:0,height:0,border:0};const st=XN(te({"--width":`${l}px`},u),F,m,p),Ke=m===ni.LEFT,kt=m===ni.RIGHT;return Me>1&&(st.height=`calc(var(--height) * ${Me})`,st.zIndex=5,(Ke||kt)&&(st.zIndex=6)),st},[l,f,u,p,m,F,Me]);if(M.useEffect(()=>{if(!K||z===tr.Edit)return;const st=Jr(N.current.rootElementRef.current);if(ve.current&&!ve.current.contains(st.activeElement)){const Ke=ve.current.querySelector('[tabindex="0"]'),kt=ye.current||Ke||ve.current;if(IHe())kt.focus({preventScroll:!0});else{const Gt=N.current.getScrollPosition();kt.focus(),N.current.scroll(Gt)}}},[K,z,N]),Ce)return V.jsx("div",{"data-colindex":a,role:"presentation",style:te({width:"var(--width)"},Te)});if(H===xne)return null;let Ae=R.onFocus,Ne,Ge;if(s===null&&i.renderCell&&(Ne=i.renderCell(H)),s!==null&&i.renderEditCell){const st=N.current.getRowWithUpdatedValues(r,i.field),Ke=rn(s,FHe),kt=i.valueFormatter?i.valueFormatter(s.value,st,i,N):H.formattedValue,Gt=te({},H,{row:st,formattedValue:kt},Ke);Ne=i.renderEditCell(Gt),X.push(be["cell--editing"]),X.push(ne==null?void 0:ne["cell--editing"])}if(Ne===void 0){const st=oe==null?void 0:oe.toString();Ne=st,Ge=st}M.isValidElement(Ne)&&G&&(Ne=M.cloneElement(Ne,{focusElementRef:ye}));const gt=h?null:{onDragEnter:fe("cellDragEnter",L),onDragOver:fe("cellDragOver",I)};return V.jsx("div",te({className:lt(Ee.root,X,c),role:"gridcell","data-field":A,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":d,"aria-rowspan":Me,style:Te,title:Ge,tabIndex:J,onClick:fe("cellClick",y),onDoubleClick:fe("cellDoubleClick",w),onMouseOver:fe("cellMouseOver",k),onMouseDown:re("cellMouseDown"),onMouseUp:Ue("cellMouseUp"),onKeyDown:fe("cellKeyDown",D),onKeyUp:fe("cellKeyUp",T)},gt,R,{onFocus:Ae,ref:me,children:Ne}))}),VHe=zf(HHe);function zHe(n){return Zt("MuiDivider",n)}const kne=Jt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),WHe=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:s,orientation:o,textAlign:a,variant:l}=n;return _t({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},zHe,i)},$He=$e("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(sn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:wn(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),jHe=$e("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(sn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),A8=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:o,orientation:a="horizontal",component:l=s||a==="vertical"?"div":"hr",flexItem:c=!1,light:u=!1,role:d=l!=="hr"?"separator":void 0,textAlign:h="center",variant:f="fullWidth",...p}=i,m={...i,absolute:r,component:l,flexItem:c,light:u,orientation:a,role:d,textAlign:h,variant:f},v=WHe(m);return V.jsx($He,{as:l,className:lt(v.root,o),role:d,ref:t,ownerState:m,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...p,children:s?V.jsx(jHe,{className:v.wrapper,ownerState:m,children:s}):null})});A8&&(A8.muiSkipListHighlight=!0);function UHe(n){return Zt("MuiMenuItem",n)}const vw=Jt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),qHe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},GHe=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:s,classes:o}=n,l=_t({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},UHe,o);return{...o,...l}},KHe=$e(Tp,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:qHe})(sn(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vw.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:wn(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${vw.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${vw.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:wn(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${vw.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${vw.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${kne.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${kne.inset}`]:{marginLeft:52},[`& .${gy.root}`]:{marginTop:0,marginBottom:0},[`& .${gy.inset}`]:{paddingLeft:36},[`& .${Ete.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${Ete.root} svg`]:{fontSize:"1.25rem"}}}]}))),Nd=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...f}=i,p=M.useContext(iv),m=M.useMemo(()=>({dense:o||p.dense||!1,disableGutters:l}),[p.dense,o,l]),v=M.useRef(null);ar(()=>{r&&v.current&&v.current.focus()},[r]);const C={...i,dense:m.dense,divider:a,disableGutters:l},y=GHe(i),w=Wi(v,t);let _;return i.disabled||(_=d!==void 0?d:-1),V.jsx(iv.Provider,{value:m,children:V.jsx(KHe,{ref:w,role:u,tabIndex:_,component:s,focusVisibleClassName:lt(y.focusVisible,c),className:lt(y.root,h),...f,ownerState:C,classes:y})})});function QHe(n){return Zt("MuiSkeleton",n)}Jt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const YHe=n=>{const{classes:e,variant:t,animation:i,hasChildren:r,width:s,height:o}=n;return _t({root:["root",t,i,r&&"withChildren",r&&!s&&"fitContent",r&&!o&&"heightAuto"]},QHe,e)},P8=Jd`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,O8=Jd`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,XHe=typeof P8!="string"?qp`
        animation: ${P8} 2s ease-in-out 0.5s infinite;
      `:null,ZHe=typeof O8!="string"?qp`
        &::after {
          animation: ${O8} 2s linear 0.5s infinite;
        }
      `:null,JHe=$e("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.animation!==!1&&e[t.animation],t.hasChildren&&e.withChildren,t.hasChildren&&!t.width&&e.fitContent,t.hasChildren&&!t.height&&e.heightAuto]}})(sn(({theme:n})=>{const e=s5e(n.shape.borderRadius)||"px",t=o5e(n.shape.borderRadius);return{display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:wn(n.palette.text.primary,n.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${t}${e}/${Math.round(t/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:({ownerState:i})=>i.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:i})=>i.hasChildren&&!i.width,style:{maxWidth:"fit-content"}},{props:({ownerState:i})=>i.hasChildren&&!i.height,style:{height:"auto"}},{props:{animation:"pulse"},style:XHe||{animation:`${P8} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(n.vars||n).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:ZHe||{"&::after":{animation:`${O8} 2s linear 0.5s infinite`}}}]}})),eVe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u,...d}=i,h={...i,animation:r,component:o,variant:c,hasChildren:!!d.children},f=YHe(h);return V.jsx(JHe,{as:o,ref:t,className:lt(f.root,s),ownerState:h,...d,style:{width:u,height:a,...l}})}),tVe=["field","type","align","width","height","empty","style","className"],Lne="1.3em",nVe="1.2em",Ene=[40,80],iVe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},rVe=n=>{const{align:e,classes:t,empty:i}=n,r={root:["cell","cellSkeleton",`cell--text${e?nt(e):"Left"}`,i&&"cellEmpty"]};return _t(r,ci,t)},sVe=V9e(12345);function oVe(n){const{field:e,type:t,align:i,width:r,height:s,empty:o=!1,style:a,className:l}=n,c=rn(n,tVe),d={classes:Kt().classes,align:i,empty:o},h=rVe(d),f=M.useMemo(()=>{if(t==="boolean"||t==="actions")return{variant:"circular",width:Lne,height:Lne};const[m,v]=t?iVe[t]??Ene:Ene;return{variant:"text",width:`${Math.round(sVe(m,v))}%`,height:nVe}},[t]);return V.jsx("div",te({"data-field":e,className:lt(h.root,l),style:te({height:s,maxWidth:r,minWidth:r},a)},c,{children:!o&&V.jsx(eVe,te({},f))}))}const aVe=zf(oVe);function lVe(n){return n.vars?n.vars.palette.TableCell.border:n.palette.mode==="light"?L0(wn(n.palette.divider,1),.88):k0(wn(n.palette.divider,1),.68)}const Dne={[`& .${be.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${be.menuIcon}`]:{width:"auto",visibility:"visible"}},cVe=10,kD=-5,q1=1,Tne={width:3,rx:1.5,x:10.5},uVe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",dVe=$e("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(n,e)=>[{[`&.${be.autoHeight}`]:e.autoHeight},{[`&.${be.aggregationColumnHeader}`]:e.aggregationColumnHeader},{[`&.${be["aggregationColumnHeader--alignLeft"]}`]:e["aggregationColumnHeader--alignLeft"]},{[`&.${be["aggregationColumnHeader--alignCenter"]}`]:e["aggregationColumnHeader--alignCenter"]},{[`&.${be["aggregationColumnHeader--alignRight"]}`]:e["aggregationColumnHeader--alignRight"]},{[`&.${be.aggregationColumnHeaderLabel}`]:e.aggregationColumnHeaderLabel},{[`&.${be["root--disableUserSelection"]} .${be.cell}`]:e["root--disableUserSelection"]},{[`&.${be.autosizing}`]:e.autosizing},{[`& .${be.editBooleanCell}`]:e.editBooleanCell},{[`& .${be.cell}`]:e.cell},{[`& .${be["cell--editing"]}`]:e["cell--editing"]},{[`& .${be["cell--textCenter"]}`]:e["cell--textCenter"]},{[`& .${be["cell--textLeft"]}`]:e["cell--textLeft"]},{[`& .${be["cell--textRight"]}`]:e["cell--textRight"]},{[`& .${be["cell--rangeTop"]}`]:e["cell--rangeTop"]},{[`& .${be["cell--rangeBottom"]}`]:e["cell--rangeBottom"]},{[`& .${be["cell--rangeLeft"]}`]:e["cell--rangeLeft"]},{[`& .${be["cell--rangeRight"]}`]:e["cell--rangeRight"]},{[`& .${be["cell--withRightBorder"]}`]:e["cell--withRightBorder"]},{[`& .${be.cellCheckbox}`]:e.cellCheckbox},{[`& .${be.cellSkeleton}`]:e.cellSkeleton},{[`& .${be.checkboxInput}`]:e.checkboxInput},{[`& .${be["columnHeader--alignCenter"]}`]:e["columnHeader--alignCenter"]},{[`& .${be["columnHeader--alignLeft"]}`]:e["columnHeader--alignLeft"]},{[`& .${be["columnHeader--alignRight"]}`]:e["columnHeader--alignRight"]},{[`& .${be["columnHeader--dragging"]}`]:e["columnHeader--dragging"]},{[`& .${be["columnHeader--moving"]}`]:e["columnHeader--moving"]},{[`& .${be["columnHeader--numeric"]}`]:e["columnHeader--numeric"]},{[`& .${be["columnHeader--sortable"]}`]:e["columnHeader--sortable"]},{[`& .${be["columnHeader--sorted"]}`]:e["columnHeader--sorted"]},{[`& .${be["columnHeader--withRightBorder"]}`]:e["columnHeader--withRightBorder"]},{[`& .${be.columnHeader}`]:e.columnHeader},{[`& .${be.headerFilterRow}`]:e.headerFilterRow},{[`& .${be.columnHeaderCheckbox}`]:e.columnHeaderCheckbox},{[`& .${be.columnHeaderDraggableContainer}`]:e.columnHeaderDraggableContainer},{[`& .${be.columnHeaderTitleContainer}`]:e.columnHeaderTitleContainer},{[`& .${be["columnSeparator--resizable"]}`]:e["columnSeparator--resizable"]},{[`& .${be["columnSeparator--resizing"]}`]:e["columnSeparator--resizing"]},{[`& .${be.columnSeparator}`]:e.columnSeparator},{[`& .${be.filterIcon}`]:e.filterIcon},{[`& .${be.iconSeparator}`]:e.iconSeparator},{[`& .${be.menuIcon}`]:e.menuIcon},{[`& .${be.menuIconButton}`]:e.menuIconButton},{[`& .${be.menuOpen}`]:e.menuOpen},{[`& .${be.menuList}`]:e.menuList},{[`& .${be["row--editable"]}`]:e["row--editable"]},{[`& .${be["row--editing"]}`]:e["row--editing"]},{[`& .${be["row--dragging"]}`]:e["row--dragging"]},{[`& .${be.row}`]:e.row},{[`& .${be.rowReorderCellPlaceholder}`]:e.rowReorderCellPlaceholder},{[`& .${be.rowReorderCell}`]:e.rowReorderCell},{[`& .${be["rowReorderCell--draggable"]}`]:e["rowReorderCell--draggable"]},{[`& .${be.sortIcon}`]:e.sortIcon},{[`& .${be.withBorderColor}`]:e.withBorderColor},{[`& .${be.treeDataGroupingCell}`]:e.treeDataGroupingCell},{[`& .${be.treeDataGroupingCellToggle}`]:e.treeDataGroupingCellToggle},{[`& .${be.treeDataGroupingCellLoadingContainer}`]:e.treeDataGroupingCellLoadingContainer},{[`& .${be.groupingCriteriaCellLoadingContainer}`]:e.groupingCriteriaCellLoadingContainer},{[`& .${be.detailPanelToggleCell}`]:e.detailPanelToggleCell},{[`& .${be["detailPanelToggleCell--expanded"]}`]:e["detailPanelToggleCell--expanded"]},e.root]})(({theme:n})=>{var T,L;const e=Kc(),t=bt(e,fa),i=lVe(n),r=n.shape.borderRadius,s=n.vars?n.vars.palette.background.default:((T=n.mixins.MuiDataGrid)==null?void 0:T.containerBackground)??n.palette.background.default,o=((L=n.mixins.MuiDataGrid)==null?void 0:L.pinnedBackground)??s,a=n.vars?`rgba(${n.vars.palette.background.defaultChannel} / ${n.vars.palette.action.disabledOpacity})`:wn(n.palette.background.default,n.palette.action.disabledOpacity),l=(n.vars||n).palette.action.hoverOpacity,c=(n.vars||n).palette.action.hover,u=(n.vars||n).palette.action.selectedOpacity,d=n.vars?`calc(${l} + ${u})`:l+u,h=n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${u})`:wn(n.palette.primary.main,u),f=n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${d})`:wn(n.palette.primary.main,d),p=n.vars?gVe:hVe,m=I=>({[`& .${be["cell--pinnedLeft"]}, & .${be["cell--pinnedRight"]}`]:{backgroundColor:I,"&.Mui-selected":{backgroundColor:p(I,h,u),"&:hover":{backgroundColor:p(I,h,d)}}}}),v=p(o,c,l),C=m(v),y=p(o,h,u),w=m(y),_=p(o,f,d),x=m(_),k={backgroundColor:h,"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:h}}};return te({"--unstable_DataGrid-radius":typeof r=="number"?`${r}px`:r,"--unstable_DataGrid-headWeight":n.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":a,"--DataGrid-containerBackground":s,"--DataGrid-pinnedBackground":o,"--DataGrid-rowBorderColor":i,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:i,borderRadius:"var(--unstable_DataGrid-radius)",color:(n.vars||n).palette.text.primary},n.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[`.${be.main} > *:first-child${uVe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${be.autoHeight}`]:{height:"auto"},[`&.${be.autosizing}`]:{[`& .${be.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${be.iconButtonContainer}`]:{width:"0 !important",visibility:"hidden !important"},[`& .${be.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${be.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${be.groupingCriteriaCell}`]:{width:"unset"},[`& .${be.treeDataGroupingCell}`]:{width:"unset"}},[`& .${be.columnHeader}, & .${be.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${be.columnHeader}:focus-within, & .${be.cell}:focus-within`]:{outline:`solid ${n.vars?`rgba(${n.vars.palette.primary.mainChannel} / 0.5)`:wn(n.palette.primary.main,.5)} ${q1}px`,outlineOffset:q1*-1},[`& .${be.columnHeader}:focus, & .${be.cell}:focus`]:{outline:`solid ${n.palette.primary.main} ${q1}px`,outlineOffset:q1*-1},[`& .${be.columnHeader}:focus,
      & .${be["columnHeader--withLeftBorder"]},
      & .${be["columnHeader--withRightBorder"]},
      & .${be["columnHeader--siblingFocused"]},
      & .${be["virtualScroller--hasScrollX"]} .${be["columnHeader--lastUnpinned"]},
      & .${be["virtualScroller--hasScrollX"]} .${be["columnHeader--last"]}
      `]:{[`& .${be.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${be["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${be["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${be["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${be["root--noToolbar"]} [aria-rowindex="1"] .${be["columnHeader--last"]}`]:{borderTopRightRadius:t.hasScrollX&&(!t.hasScrollY||t.scrollbarSize===0)?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${be.columnHeaderCheckbox}, & .${be.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${be.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${be["virtualScroller--hasScrollX"]} .${be["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${be["columnHeader--sorted"]} .${be.iconButtonContainer}, & .${be["columnHeader--filtered"]} .${be.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${be.columnHeader}:not(.${be["columnHeader--sorted"]}) .${be.sortIcon}`]:{opacity:0,transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.shorter})},[`& .${be.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:n.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${be.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${be["columnHeader--filledGroup"]} .${be.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${be.sortIcon}, & .${be.filterIcon}`]:{fontSize:"inherit"},[`& .${be["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${be["columnHeader--alignCenter"]} .${be.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${be["columnHeader--alignRight"]} .${be.columnHeaderDraggableContainer}, & .${be["columnHeader--alignRight"]} .${be.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${be["columnHeader--alignCenter"]} .${be.menuIcon}`]:{marginLeft:"auto"},[`& .${be["columnHeader--alignRight"]} .${be.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${be["columnHeader--moving"]}`]:{backgroundColor:(n.vars||n).palette.action.hover},[`& .${be["columnHeader--pinnedLeft"]}, & .${be["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},[`& .${be.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:cVe,color:i},[`& .${be.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${be.columnHeader}:hover`]:Dne,[`& .${be.columnHeader}:not(.${be["columnHeader--sorted"]}):hover .${be.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${be.columnHeader}`]:Dne,[`& .${be.columnHeader}:focus,
        & .${be["columnHeader--siblingFocused"]}`]:{[`.${be["columnSeparator--resizable"]}`]:{color:(n.vars||n).palette.primary.main}}},[`& .${be["columnSeparator--sideLeft"]}`]:{left:kD},[`& .${be["columnSeparator--sideRight"]}`]:{right:kD},[`& .${be["columnHeader--withRightBorder"]} .${be["columnSeparator--sideLeft"]}`]:{left:kD-.5},[`& .${be["columnHeader--withRightBorder"]} .${be["columnSeparator--sideRight"]}`]:{right:kD-.5},[`& .${be["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${be["columnSeparator--resizing"]}`]:{color:(n.vars||n).palette.primary.main},"@media (hover: none)":{[`& .${be.iconSeparator} rect`]:Tne},"@media (hover: hover)":{"&:hover":{color:(n.vars||n).palette.primary.main,[`& .${be.iconSeparator} rect`]:Tne}},"& svg":{pointerEvents:"none"}},[`& .${be.iconSeparator}`]:{color:"inherit",transition:n.transitions.create(["color","width"],{duration:n.transitions.duration.shortest})},[`& .${be.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${be.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${be.headerFilterRow}`]:{[`& .${be.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${be["row--borderBottom"]} .${be.columnHeader},
      & .${be["row--borderBottom"]} .${be.filler},
      & .${be["row--borderBottom"]} .${be.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${be["row--borderBottom"]} .${be.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${be.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${be["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${be.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":k},[`& .${be["container--top"]}, & .${be["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${be.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":k},[`& .${be["virtualScrollerContent--overflowed"]} .${be["row--lastVisible"]} .${be.cell}`]:{borderTopColor:"transparent"},[`& .${be["pinnedRows--top"]} :first-of-type`]:{[`& .${be.cell}, .${be.scrollbarFiller}`]:{borderTop:"none"}},[`&.${be["root--disableUserSelection"]} .${be.cell}`]:{userSelect:"none"},[`& .${be["row--dynamicHeight"]} > .${be.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${be.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${be.cell}.${be["cell--selectionMode"]}`]:{cursor:"default"},[`& .${be.cell}.${be["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:n.shadows[2],backgroundColor:(n.vars||n).palette.background.paper,"&:focus-within":{outline:`${q1}px solid ${(n.vars||n).palette.primary.main}`,outlineOffset:q1*-1}},[`& .${be["row--editing"]}`]:{boxShadow:n.shadows[2]},[`& .${be["row--editing"]} .${be.cell}`]:{boxShadow:n.shadows[0],backgroundColor:(n.vars||n).palette.background.paper},[`& .${be.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${be.booleanCell}[data-value="true"]`]:{color:(n.vars||n).palette.text.secondary},[`& .${be.booleanCell}[data-value="false"]`]:{color:(n.vars||n).palette.text.disabled},[`& .${be.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:n.spacing(1)},[`& .${be.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(n.vars||n).palette.action.disabledOpacity},[`& .${be["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${be.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${be.withBorderColor}`]:{borderColor:i},[`& .${be["cell--withLeftBorder"]}, & .${be["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${be["cell--withRightBorder"]}, & .${be["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${be["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${be["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${be["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${be["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${be["cell--pinnedLeft"]}, & .${be["cell--pinnedRight"]}`]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)","&.Mui-selected":{backgroundColor:y}},[`& .${be.virtualScrollerContent} .${be.row}`]:{"&:hover":C,"&.Mui-selected":w,"&.Mui-selected:hover":x},[`& .${be.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${be.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${be.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${be.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${be["columnHeader--dragging"]}, & .${be["row--dragging"]}`]:{background:(n.vars||n).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(n.vars||n).palette.action.disabledOpacity},[`& .${be["row--dragging"]}`]:{background:(n.vars||n).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(n.vars||n).palette.action.disabledOpacity,[`& .${be.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${be.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${be.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:n.spacing(2)},[`& .${be.treeDataGroupingCellLoadingContainer}, .${be.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${be.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${be.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:n.spacing(2)},[`.${be.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${be["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${be["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${be["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${be.filler}`]:{flex:"1 0 auto"},[`& .${be["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${be["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${be.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${be["scrollbar--vertical"]}, & .${be.pinnedRows}, & .${be.virtualScroller} > .${be.filler}`]:{display:"none"}}})});function hVe(n,e,t,i=1){const r=(l,c)=>Math.round((l**(1/i)*(1-t)+c**(1/i)*t)**i),s=Hd(n),o=Hd(e),a=[r(s.values[0],o.values[0]),r(s.values[1],o.values[1]),r(s.values[2],o.values[2])];return Yk({type:"rgb",values:a})}const fVe=n=>`rgb(from ${n} r g b / 1)`;function gVe(n,e,t){return`color-mix(in srgb,${n}, ${fVe(e)} calc(${t} * 100%))`}function pVe(){var s,o;const n=Zn(),e=bt(n,Su),t=Kt(),i=bt(n,Hx),r=n.current.unstable_applyPipeProcessors("preferencePanel",null,i.openedPanelValue??ov.filters);return V.jsx(t.slots.panel,te({as:t.slots.basePopper,open:e.length>0&&i.open,id:i.panelId,"aria-labelledby":i.labelId},(s=t.slotProps)==null?void 0:s.panel,(o=t.slotProps)==null?void 0:o.basePopper,{children:r}))}function mVe(){var e;const n=Kt();return V.jsxs(M.Fragment,{children:[V.jsx(pVe,{}),n.slots.toolbar&&V.jsx(n.slots.toolbar,te({},(e=n.slotProps)==null?void 0:e.toolbar))]})}const bVe=["className","children"],vVe=(n,e)=>{const{autoHeight:t,classes:i,showCellVerticalBorder:r}=n,s={root:["root",t&&"autoHeight",`root--density${nt(e)}`,n.slots.toolbar===null&&"root--noToolbar","withBorderColor",r&&"withVerticalBorder"]};return _t(s,ci,i)},yVe=Mi(function(e,t){const i=Kt(),{className:r,children:s}=e,o=rn(e,bVe),a=Kc(),l=bt(a,py),c=a.current.rootElementRef,u=Wi(c,t),d=i,h=vVe(d,l),[f,p]=M.useState(!1);return ar(()=>{p(!0)},[]),f?V.jsxs(dVe,te({className:lt(h.root,r),ownerState:d},o,{ref:u,children:[V.jsx(mVe,{}),V.jsx(DHe,{children:s}),V.jsx(THe,{})]})):null}),CVe=zf(yVe),_Ve=["className"],wVe=n=>{const{classes:e}=n;return _t({root:["footerContainer","withBorderColor"]},ci,e)},SVe=ir("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(n,e)=>e.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),xVe=Mi(function(e,t){const{className:i}=e,r=rn(e,_Ve),s=Kt(),o=wVe(s);return V.jsx(SVe,te({className:lt(o.root,i),ownerState:s},r,{ref:t}))}),kVe=["className"],LVe=n=>{const{classes:e}=n;return _t({root:["overlay"]},ci,e)},EVe=ir("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(n,e)=>e.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),rU=Mi(function(e,t){const{className:i}=e,r=rn(e,kVe),s=Kt(),o=LVe(s);return V.jsx(EVe,te({className:lt(o.root,i),ownerState:s},r,{ref:t}))}),DVe=n=>{const{classes:e,open:t}=n;return _t({root:["menuIcon",t&&"menuOpen"],button:["menuIconButton"]},ci,e)},TVe=M.memo(n=>{var d,h;const{colDef:e,open:t,columnMenuId:i,columnMenuButtonId:r,iconButtonRef:s}=n,o=Zn(),a=Kt(),l=te({},n,{classes:a.classes}),c=DVe(l),u=M.useCallback(f=>{f.preventDefault(),f.stopPropagation(),o.current.toggleColumnMenu(e.field)},[o,e.field]);return V.jsx("div",{className:c.root,children:V.jsx(a.slots.baseTooltip,te({title:o.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(d=a.slotProps)==null?void 0:d.baseTooltip,{children:V.jsx(a.slots.baseIconButton,te({ref:s,tabIndex:-1,className:c.button,"aria-label":o.current.getLocaleText("columnMenuLabel"),size:"small",onClick:u,"aria-haspopup":"menu","aria-expanded":t,"aria-controls":t?i:void 0,id:r},(h=a.slotProps)==null?void 0:h.baseIconButton,{children:V.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function IVe({columnMenuId:n,columnMenuButtonId:e,ContentComponent:t,contentComponentProps:i,field:r,open:s,target:o,onExited:a}){const l=Zn(),c=l.current.getColumn(r),u=li(d=>{d&&(d.stopPropagation(),o!=null&&o.contains(d.target))||l.current.hideColumnMenu()});return!o||!c?null:V.jsx(Kj,{placement:`bottom-${c.align==="right"?"start":"end"}`,open:s,target:o,onClose:u,onExited:a,children:V.jsx(t,te({colDef:c,hideMenu:u,open:s,id:n,labelledby:e},i))})}function MVe(n){return n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth}function oI(n,e){return n.closest(`.${e}`)}function jf(n){return n.replace(/["\\]/g,"\\$&")}function RVe(n,e){return n.querySelector(`[role="columnheader"][data-field="${jf(e)}"]`)}function tve(n){return`.${be.row}[data-id="${jf(String(n))}"]`}function NVe(n,e){return n.querySelector(tve(e))}function AVe(n,{id:e,field:t}){const i=tve(e),r=`.${be.cell}[data-field="${jf(t)}"]`,s=`${i} ${r}`;return n.querySelector(s)}function oL(n){return n.target.nodeType===1&&!n.currentTarget.contains(n.target)}function PVe(n){return n.getAttribute("data-field")}function OVe(n,e){return n.querySelector(`[data-field="${jf(e)}"]`)}function FVe(n){return n.getAttribute("data-fields").slice(2,-2).split("-|-")}function BVe(n,e){return Array.from(n.querySelectorAll(`[data-fields*="|-${jf(e)}-|"]`)??[])}function HVe(n,e){var o;if(!oI(n,be.root))throw new Error("MUI X: The root element is not found.");const i=n.getAttribute("aria-colindex");if(!i)return[];const r=Number(i)-1,s=[];return(o=e.virtualScrollerRef)!=null&&o.current?(rve(e).forEach(a=>{const l=a.getAttribute("data-id");if(!l)return;let c=r;const u=e.unstable_getCellColSpanInfo(l,r);u&&u.spannedByColSpan&&(c=u.leftVisibleCellIndex);const d=a.querySelector(`[data-colindex="${c}"]`);d&&s.push(d)}),s):[]}function Ine(n,e){return n.rootElementRef.current.querySelector(`.${be[e]}`)}const nve=({api:n,colIndex:e,position:t,filterFn:i})=>{if(e===null)return[];const r=[];return rve(n).forEach(s=>{s.getAttribute("data-id")&&s.querySelectorAll(`.${be[t==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const l=O0(a);l!==null&&i(l)&&r.push(a)})}),r};function VVe(n,e,t){const i=O0(e);return nve({api:n,colIndex:i,position:t?"right":"left",filterFn:r=>t?r<i:r>i})}function zVe(n,e,t){const i=O0(e);return nve({api:n,colIndex:i,position:t?"left":"right",filterFn:r=>t?r>i:r<i})}const ive=({api:n,colIndex:e,position:t,filterFn:i})=>{var s;if(!((s=n.columnHeadersContainerRef)!=null&&s.current))return[];if(e===null)return[];const r=[];return n.columnHeadersContainerRef.current.querySelectorAll(`.${be[t==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(o=>{const a=O0(o);a!==null&&i(a,o)&&r.push(o)}),r};function WVe(n,e,t){const i=O0(e);return ive({api:n,position:t?"right":"left",colIndex:i,filterFn:r=>t?r<i:r>i})}function $Ve(n,e,t){const i=O0(e);return ive({api:n,position:t?"left":"right",colIndex:i,filterFn:(r,s)=>s.classList.contains(be["columnHeader--last"])?!1:t?r>i:r<i})}function jVe(n,e){return n.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${jf(e)}"][role="columnheader"]`)}function UVe(n,e){const t=n.virtualScrollerRef.current;return Array.from(t.querySelectorAll(`:scope > div > div > div > [data-field="${jf(e)}"][role="gridcell"]`))}function rve(n){return n.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${be.row}`)}function O0(n){const e=n.getAttribute("aria-colindex");return e?Number(e)-1:null}const qVe=["className","aria-label"],GVe=n=>{const{classes:e}=n;return _t({root:["columnHeaderTitle"]},ci,e)},KVe=ir("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(n,e)=>e.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),QVe=Mi(function(e,t){const{className:i}=e,r=rn(e,qVe),s=Kt(),o=GVe(s);return V.jsx(KVe,te({className:lt(o.root,i),ownerState:s},r,{ref:t}))});function YVe(n){var l;const{label:e,description:t}=n,i=Kt(),r=M.useRef(null),[s,o]=M.useState(""),a=M.useCallback(()=>{if(!t&&(r!=null&&r.current)){const c=MVe(r.current);o(c?e:"")}},[t,e]);return V.jsx(i.slots.baseTooltip,te({title:t||s},(l=i.slotProps)==null?void 0:l.baseTooltip,{children:V.jsx(QVe,{onMouseOver:a,ref:r,children:e})}))}const XVe=["resizable","resizing","height","side"];var sU=function(n){return n.Left="left",n.Right="right",n}(sU||{});const ZVe=n=>{const{resizable:e,resizing:t,classes:i,side:r}=n,s={root:["columnSeparator",e&&"columnSeparator--resizable",t&&"columnSeparator--resizing",r&&`columnSeparator--side${nt(r)}`],icon:["iconSeparator"]};return _t(s,ci,i)};function JVe(n){const{height:e,side:t=sU.Right}=n,i=rn(n,XVe),r=Kt(),s=te({},n,{side:t,classes:r.classes}),o=ZVe(s),a=M.useCallback(l=>{l.preventDefault(),l.stopPropagation()},[]);return V.jsx("div",te({className:o.root,style:{minHeight:e}},i,{onClick:a,children:V.jsx(r.slots.columnResizeIcon,{className:o.icon})}))}const eze=M.memo(JVe),tze=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],sve=Mi(function(e,t){const{classes:i,colIndex:r,height:s,isResizing:o,sortDirection:a,hasFocus:l,tabIndex:c,separatorSide:u,isDraggable:d,headerComponent:h,description:f,width:p,columnMenuIconButton:m=null,columnMenu:v=null,columnTitleIconButtons:C=null,headerClassName:y,label:w,resizable:_,draggableContainerProps:x,columnHeaderSeparatorProps:k,style:D}=e,T=rn(e,tze),L=Kc(),I=Kt(),R=M.useRef(null),N=Wi(R,t);let O="none";return a!=null&&(O=a==="asc"?"ascending":"descending"),M.useLayoutEffect(()=>{var A;const F=L.current.state.columnMenu;if(l&&!F.open){const W=R.current.querySelector('[tabindex="0"]')||R.current;W==null||W.focus(),(A=L.current.columnHeadersContainerRef)!=null&&A.current&&(L.current.columnHeadersContainerRef.current.scrollLeft=0)}},[L,l]),V.jsxs("div",te({className:lt(i.root,y),style:te({},D,{height:s,width:p}),role:"columnheader",tabIndex:c,"aria-colindex":r+1,"aria-sort":O},T,{ref:N,children:[V.jsxs("div",te({className:i.draggableContainer,draggable:d,role:"presentation"},x,{children:[V.jsxs("div",{className:i.titleContainer,role:"presentation",children:[V.jsx("div",{className:i.titleContainerContent,children:h!==void 0?h:V.jsx(YVe,{label:w,description:f,columnWidth:p})}),C]}),m]})),V.jsx(eze,te({resizable:!I.disableColumnResize&&!!_,resizing:o,height:s,side:u},k)),v]}))}),nze=n=>{const{colDef:e,classes:t,isDragging:i,sortDirection:r,showRightBorder:s,showLeftBorder:o,filterItemsCounter:a,pinnedPosition:l,isLastUnpinned:c,isSiblingFocused:u}=n,d=r!=null,h=a!=null&&a>0,f=e.type==="number",p={root:["columnHeader",e.headerAlign==="left"&&"columnHeader--alignLeft",e.headerAlign==="center"&&"columnHeader--alignCenter",e.headerAlign==="right"&&"columnHeader--alignRight",e.sortable&&"columnHeader--sortable",i&&"columnHeader--moving",d&&"columnHeader--sorted",h&&"columnHeader--filtered",f&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder",l===ni.LEFT&&"columnHeader--pinnedLeft",l===ni.RIGHT&&"columnHeader--pinnedRight",c&&"columnHeader--lastUnpinned",u&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return _t(p,ci,t)};function ize(n){var se,X,oe;const{colDef:e,columnMenuOpen:t,colIndex:i,headerHeight:r,isResizing:s,isLast:o,sortDirection:a,sortIndex:l,filterItemsCounter:c,hasFocus:u,tabIndex:d,disableReorder:h,separatorSide:f,showLeftBorder:p,showRightBorder:m,pinnedPosition:v,pinnedOffset:C}=n,y=Kc(),w=Kt(),_=ba(),x=M.useRef(null),k=Gi(),D=Gi(),T=M.useRef(null),[L,I]=M.useState(t),R=M.useMemo(()=>!w.disableColumnReorder&&!h&&!e.disableReorder,[w.disableColumnReorder,h,e.disableReorder]);let N;e.renderHeader&&(N=e.renderHeader(y.current.getColumnHeaderParams(e.field)));const O=te({},n,{classes:w.classes,showRightBorder:m,showLeftBorder:p}),F=nze(O),A=M.useCallback(ve=>me=>{oL(me)||y.current.publishEvent(ve,y.current.getColumnHeaderParams(e.field),me)},[y,e.field]),H=M.useMemo(()=>({onClick:A("columnHeaderClick"),onContextMenu:A("columnHeaderContextMenu"),onDoubleClick:A("columnHeaderDoubleClick"),onMouseOver:A("columnHeaderOver"),onMouseOut:A("columnHeaderOut"),onMouseEnter:A("columnHeaderEnter"),onMouseLeave:A("columnHeaderLeave"),onKeyDown:A("columnHeaderKeyDown"),onFocus:A("columnHeaderFocus"),onBlur:A("columnHeaderBlur")}),[A]),W=M.useMemo(()=>R?{onDragStart:A("columnHeaderDragStart"),onDragEnter:A("columnHeaderDragEnter"),onDragOver:A("columnHeaderDragOver"),onDragEnd:A("columnHeaderDragEnd")}:{},[R,A]),$=M.useMemo(()=>({onMouseDown:A("columnSeparatorMouseDown"),onDoubleClick:A("columnSeparatorDoubleClick")}),[A]);M.useEffect(()=>{L||I(t)},[L,t]);const U=M.useCallback(()=>{I(!1)},[]),z=!w.disableColumnMenu&&!e.disableColumnMenu&&V.jsx(TVe,{colDef:e,columnMenuId:k,columnMenuButtonId:D,open:L,iconButtonRef:T}),K=V.jsx(IVe,{columnMenuId:k,columnMenuButtonId:D,field:e.field,open:t,target:T.current,ContentComponent:w.slots.columnMenu,contentComponentProps:(se=w.slotProps)==null?void 0:se.columnMenu,onExited:U}),Z=e.sortingOrder??w.sortingOrder,Q=(e.sortable||a!=null)&&!e.hideSortIcons&&!w.disableColumnSorting,G=V.jsxs(M.Fragment,{children:[!w.disableColumnFilter&&V.jsx(w.slots.columnHeaderFilterIconButton,te({field:e.field,counter:c},(X=w.slotProps)==null?void 0:X.columnHeaderFilterIconButton)),Q&&V.jsx(w.slots.columnHeaderSortIcon,te({field:e.field,direction:a,index:l,sortingOrder:Z,disabled:!e.sortable},(oe=w.slotProps)==null?void 0:oe.columnHeaderSortIcon))]});M.useLayoutEffect(()=>{var me;const ve=y.current.state.columnMenu;if(u&&!ve.open){const Le=x.current.querySelector('[tabindex="0"]')||x.current;Le==null||Le.focus(),(me=y.current.columnHeadersContainerRef)!=null&&me.current&&(y.current.columnHeadersContainerRef.current.scrollLeft=0)}},[y,u]);const J=typeof e.headerClassName=="function"?e.headerClassName({field:e.field,colDef:e}):e.headerClassName,ne=e.headerName??e.field,ae=M.useMemo(()=>XN(te({},n.style),_,v,C),[v,C,n.style,_]);return V.jsx(sve,te({ref:x,classes:F,columnMenuOpen:t,colIndex:i,height:r,isResizing:s,sortDirection:a,hasFocus:u,tabIndex:d,separatorSide:f,isDraggable:R,headerComponent:N,description:e.description,elementId:e.field,width:e.computedWidth,columnMenuIconButton:z,columnTitleIconButtons:G,headerClassName:lt(J,o&&be["columnHeader--last"]),label:ne,resizable:!w.disableColumnResize&&!!e.resizable,"data-field":e.field,columnMenu:K,draggableContainerProps:W,columnHeaderSeparatorProps:$,style:ae},H))}const rze=zf(ize),sze=["className"],oze=n=>{const{classes:e}=n;return _t({root:["iconButtonContainer"]},ci,e)},aze=ir("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(n,e)=>e.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),ove=Mi(function(e,t){const{className:i}=e,r=rn(e,sze),s=Kt(),o=oze(s);return V.jsx(aze,te({className:lt(o.root,i),ownerState:s},r,{ref:t}))}),lze=["direction","index","sortingOrder","disabled"],cze=n=>{const{classes:e}=n;return _t({icon:["sortIcon"]},ci,e)};function uze(n,e,t,i){let r;const s={};return e==="asc"?r=n.columnSortedAscendingIcon:e==="desc"?r=n.columnSortedDescendingIcon:(r=n.columnUnsortedIcon,s.sortingOrder=i),r?V.jsx(r,te({fontSize:"small",className:t},s)):null}function dze(n){var h;const{direction:e,index:t,sortingOrder:i,disabled:r}=n,s=rn(n,lze),o=Zn(),a=Kt(),l=te({},n,{classes:a.classes}),c=cze(l),u=uze(a.slots,e,c.icon,i);if(!u)return null;const d=V.jsx(a.slots.baseIconButton,te({tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:r},(h=a.slotProps)==null?void 0:h.baseIconButton,s,{children:u}));return V.jsxs(ove,{children:[t!=null&&V.jsx(a.slots.baseBadge,{badgeContent:t,color:"default",overlap:"circular",children:d}),t==null&&d]})}const hze=M.memo(dze),fze=n=>{const{classes:e}=n;return _t({icon:["filterIcon"]},ci,e)};function gze(n){return n.counter?V.jsx(pze,te({},n)):null}function pze(n){var f,p;const{counter:e,field:t,onClick:i}=n,r=Zn(),s=Kt(),o=te({},n,{classes:s.classes}),a=fze(o),l=Gi(),c=QBe(r,wHe,l),u=Gi(),d=M.useCallback(m=>{m.preventDefault(),m.stopPropagation();const{open:v,openedPanelValue:C}=Hx(r.current.state);v&&C===ov.filters?r.current.hideFilterPanel():r.current.showFilterPanel(void 0,u,l),i&&i(r.current.getColumnHeaderParams(t),m)},[r,t,i,u,l]);if(!e)return null;const h=V.jsx(s.slots.baseIconButton,te({id:l,onClick:d,color:"default","aria-label":r.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":c,"aria-controls":c?u:void 0},(f=s.slotProps)==null?void 0:f.baseIconButton,{children:V.jsx(s.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return V.jsx(s.slots.baseTooltip,te({title:r.current.getLocaleText("columnHeaderFiltersTooltipActive")(e),enterDelay:1e3},(p=s.slotProps)==null?void 0:p.baseTooltip,{children:V.jsxs(ove,{children:[e>1&&V.jsx(s.slots.baseBadge,{badgeContent:e,color:"default",children:h}),e===1&&h]})}))}const Mne=Ut(V.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Rne=Ut(V.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Nne=Ut(V.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Ane=Ut(V.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),mze=Ut(V.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Pne=Ut(V.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),bze=Ut(V.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");Ut(V.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");Ut(V.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const vze=Ut(V.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),yze=Ut(V.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),Cze=Ut(V.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),_ze=Ut(V.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),wze=Ut(V.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),Sze=Ut(V.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),kF=Ut(V.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),One=Ut(V.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),xze=Ut(V.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),kze=Ut(V.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Fne=Ut(V.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Lze=Ut(V.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Eze=Ut(V.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Dze=Ut(V.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Tze=Ut(V.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),Ize=Ut(V.jsx("g",{children:V.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),Mze=Ut(V.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");Ut(V.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const Rze=Ut(V.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");function ave(n){return n.key.length===1&&!n.ctrlKey&&!n.metaKey}const aI=n=>n.indexOf("Arrow")===0||n.indexOf("Page")===0||n===" "||n==="Home"||n==="End",Nze=n=>!!n.key,lve=n=>n==="Tab"||n==="Escape";function cve(n){return(n.ctrlKey||n.metaKey)&&String.fromCharCode(n.keyCode)==="V"&&!n.shiftKey&&!n.altKey}function Aze(n){return(n.ctrlKey||n.metaKey)&&String.fromCharCode(n.keyCode)==="C"&&!n.shiftKey&&!n.altKey}const Pze=["hideMenu","colDef","id","labelledby","className","children","open"],Oze=$e(VN)(()=>({minWidth:248})),Fze=Mi(function(e,t){const{hideMenu:i,id:r,labelledby:s,className:o,children:a,open:l}=e,c=rn(e,Pze),u=M.useCallback(d=>{d.key==="Tab"&&d.preventDefault(),lve(d.key)&&i(d)},[i]);return V.jsx(Oze,te({id:r,className:lt(be.menuList,o),"aria-labelledby":s,onKeyDown:u,autoFocus:l},c,{ref:t,children:a}))}),Bze=["displayOrder"],Hze=n=>{const e=Kc(),t=Kt(),{defaultSlots:i,defaultSlotProps:r,slots:s={},slotProps:o={},hideMenu:a,colDef:l,addDividers:c=!0}=n,u=M.useMemo(()=>te({},i,s),[i,s]),d=M.useMemo(()=>{if(!o||Object.keys(o).length===0)return r;const p=te({},o);return Object.entries(r).forEach(([m,v])=>{p[m]=te({},v,o[m]||{})}),p},[r,o]),h=e.current.unstable_applyPipeProcessors("columnMenu",[],n.colDef),f=M.useMemo(()=>{const p=Object.keys(i);return Object.keys(s).filter(m=>!p.includes(m))},[s,i]);return M.useMemo(()=>{const v=Array.from(new Set([...h,...f])).filter(C=>u[C]!=null).sort((C,y)=>{const w=d[C],_=d[y],x=Number.isFinite(w==null?void 0:w.displayOrder)?w.displayOrder:100,k=Number.isFinite(_==null?void 0:_.displayOrder)?_.displayOrder:100;return x-k});return v.reduce((C,y,w)=>{let _={colDef:l,onClick:a};const x=d[y];if(x){const k=rn(x,Bze);_=te({},_,k)}return c&&w!==v.length-1?[...C,[u[y],_],[t.slots.baseDivider,{}]]:[...C,[u[y],_]]},[])},[c,l,h,a,u,d,f,t.slots.baseDivider])};function Vze(n){const{colDef:e,onClick:t}=n,i=Zn(),r=Kt(),a=ps(i).filter(c=>c.disableColumnMenu!==!0).length===1,l=M.useCallback(c=>{a||(i.current.setColumnVisibility(e.field,!1),t(c))},[i,e.field,t,a]);return r.disableColumnSelector||e.hideable===!1?null:V.jsxs(Nd,{onClick:l,disabled:a,children:[V.jsx(xd,{children:V.jsx(r.slots.columnMenuHideIcon,{fontSize:"small"})}),V.jsx(kd,{children:i.current.getLocaleText("columnMenuHideColumn")})]})}function zze(n){const{onClick:e}=n,t=Zn(),i=Kt(),r=M.useCallback(s=>{e(s),t.current.showPreferences(ov.columns)},[t,e]);return i.disableColumnSelector?null:V.jsxs(Nd,{onClick:r,children:[V.jsx(xd,{children:V.jsx(i.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),V.jsx(kd,{children:t.current.getLocaleText("columnMenuManageColumns")})]})}function Wze(n){return V.jsxs(M.Fragment,{children:[V.jsx(Vze,te({},n)),V.jsx(zze,te({},n))]})}function $ze(n){const{colDef:e,onClick:t}=n,i=Zn(),r=Kt(),s=M.useCallback(o=>{t(o),i.current.showFilterPanel(e.field)},[i,e.field,t]);return r.disableColumnFilter||!e.filterable?null:V.jsxs(Nd,{onClick:s,children:[V.jsx(xd,{children:V.jsx(r.slots.columnMenuFilterIcon,{fontSize:"small"})}),V.jsx(kd,{children:i.current.getLocaleText("columnMenuFilter")})]})}function jze(n){const{colDef:e,onClick:t}=n,i=Zn(),r=bt(i,hc),s=Kt(),o=M.useMemo(()=>{if(!e)return null;const u=r.find(d=>d.field===e.field);return u==null?void 0:u.sort},[e,r]),a=e.sortingOrder??s.sortingOrder,l=M.useCallback(u=>{t(u);const d=u.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(e.field,d===o?null:d)},[i,e,t,o]);if(s.disableColumnSorting||!e||!e.sortable||!a.some(u=>!!u))return null;const c=u=>{const d=i.current.getLocaleText(u);return typeof d=="function"?d(e):d};return V.jsxs(M.Fragment,{children:[a.includes("asc")&&o!=="asc"?V.jsxs(Nd,{onClick:l,"data-value":"asc",children:[V.jsx(xd,{children:V.jsx(s.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),V.jsx(kd,{children:c("columnMenuSortAsc")})]}):null,a.includes("desc")&&o!=="desc"?V.jsxs(Nd,{onClick:l,"data-value":"desc",children:[V.jsx(xd,{children:V.jsx(s.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),V.jsx(kd,{children:c("columnMenuSortDesc")})]}):null,a.includes(null)&&o!=null?V.jsxs(Nd,{onClick:l,children:[V.jsx(xd,{}),V.jsx(kd,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const Uze=["defaultSlots","defaultSlotProps","slots","slotProps"],qze={columnMenuSortItem:jze,columnMenuFilterItem:$ze,columnMenuColumnsItem:Wze},Gze={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},Kze=Mi(function(e,t){const{defaultSlots:i,defaultSlotProps:r,slots:s,slotProps:o}=e,a=rn(e,Uze),l=Hze(te({},a,{defaultSlots:i,defaultSlotProps:r,slots:s,slotProps:o}));return V.jsx(Fze,te({},a,{ref:t,children:l.map(([c,u],d)=>V.jsx(c,te({},u),d))}))}),Qze=Mi(function(e,t){return V.jsx(Kze,te({},e,{ref:t,defaultSlots:qze,defaultSlotProps:Gze}))}),Yze=["className","slotProps"],Xze=n=>{const{classes:e}=n;return _t({root:["panelWrapper"]},ci,e)},Zze=$e("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(n,e)=>e.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Jze=()=>!0,uve=Mi(function(e,t){const{className:i,slotProps:r={}}=e,s=rn(e,Yze),o=Kt(),a=Xze(o);return V.jsx(Nme,te({open:!0,disableEnforceFocus:!0,isEnabled:Jze},r.TrapFocus,{children:V.jsx(Zze,te({tabIndex:-1,className:lt(a.root,i),ownerState:o},s,{ref:t}))}))});function eWe(n){var t;const e=Kt();return V.jsx(uve,te({},n,{children:V.jsx(e.slots.columnsManagement,te({},(t=e.slotProps)==null?void 0:t.columnsManagement))}))}const tWe=["children","className","classes"],nWe=Jt("MuiDataGrid",["panel","paper"]),iWe=$e(Mv,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(n,e)=>e.panel})(({theme:n})=>({zIndex:n.zIndex.modal})),rWe=$e(qc,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(n,e)=>e.paper})(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${n.spacing(.5)})`,overflow:"auto"})),sWe=Mi((n,e)=>{const{children:t,className:i}=n,r=rn(n,tWe),s=Zn(),o=Kt(),a=nWe,[l,c]=M.useState(!1),u=M.useCallback(()=>{s.current.hidePreferences()},[s]),d=M.useCallback(m=>{m.key==="Escape"&&s.current.hidePreferences()},[s]),h=M.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{c(!0)},effect:()=>()=>{c(!1)}}],[]),[f,p]=M.useState(null);return M.useEffect(()=>{var v,C;const m=(C=(v=s.current.rootElementRef)==null?void 0:v.current)==null?void 0:C.querySelector('[data-id="gridPanelAnchor"]');m&&p(m)},[s]),f?V.jsx(iWe,te({placement:"bottom-start",className:lt(a.panel,i),ownerState:o,anchorEl:f,modifiers:h},r,{ref:e,children:V.jsx(Aj,{mouseEvent:"onPointerUp",touchEvent:!1,onClickAway:u,children:V.jsx(rWe,{className:a.paper,ownerState:o,elevation:8,onKeyDown:d,children:l&&t})})})):null}),oWe=["className"],aWe=n=>{const{classes:e}=n;return _t({root:["panelContent"]},ci,e)},lWe=ir("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(n,e)=>e.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function cWe(n){const{className:e}=n,t=rn(n,oWe),i=Kt(),r=aWe(i);return V.jsx(lWe,te({className:lt(r.root,e),ownerState:i},t))}const uWe=["className"],dWe=n=>{const{classes:e}=n;return _t({root:["panelFooter"]},ci,e)},hWe=ir("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(n,e)=>e.panelFooter})(({theme:n})=>({padding:n.spacing(.5),display:"flex",justifyContent:"space-between"}));function fWe(n){const{className:e}=n,t=rn(n,uWe),i=Kt(),r=dWe(i);return V.jsx(hWe,te({className:lt(r.root,e),ownerState:i},t))}const gWe=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],pWe=["InputComponentProps"],mWe=n=>{const{classes:e}=n;return _t({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},ci,e)},bWe=$e("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(n,e)=>e.filterForm})(({theme:n})=>({display:"flex",padding:n.spacing(1)})),vWe=$e("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(n,e)=>e.filterFormDeleteIcon})(({theme:n})=>({flexShrink:0,justifyContent:"flex-end",marginRight:n.spacing(.5),marginBottom:n.spacing(.2)})),yWe=$e("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(n,e)=>e.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),CWe=$e("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(n,e)=>e.filterFormColumnInput})({width:150}),_We=$e("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(n,e)=>e.filterFormOperatorInput})({width:150}),wWe=$e("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(n,e)=>e.filterFormValueInput})({width:190}),SWe=n=>{switch(n){case So.And:return"filterPanelOperatorAnd";case So.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},yw=n=>n.headerName||n.field,Bne=new Intl.Collator,Hne=Mi(function(e,t){var ie,Ee,Ue,re,fe,Ce,Me,Te,Ae;const{item:i,hasMultipleFilters:r,deleteFilter:s,applyFilterChanges:o,showMultiFilterOperators:a,disableMultiFilterOperator:l,applyMultiFilterOperatorChanges:c,focusElementRef:u,logicOperators:d=[So.And,So.Or],columnsSort:h,filterColumns:f,deleteIconProps:p={},logicOperatorInputProps:m={},operatorInputProps:v={},columnInputProps:C={},valueInputProps:y={},readOnly:w}=e,_=rn(e,gWe),x=Zn(),k=bt(x,Wf),D=bt(x,ibe),T=bt(x,bo),L=Gi(),I=Gi(),R=Gi(),N=Gi(),O=Kt(),F=mWe(O),A=M.useRef(null),H=M.useRef(null),W=T.logicOperator??So.And,$=r&&d.length>0,U=((ie=O.slotProps)==null?void 0:ie.baseFormControl)||{},K=(((Ee=O.slotProps)==null?void 0:Ee.baseSelect)||{}).native??!1,Z=((Ue=O.slotProps)==null?void 0:Ue.baseInputLabel)||{},Q=((re=O.slotProps)==null?void 0:re.baseSelectOption)||{},{InputComponentProps:G}=y,J=rn(y,pWe),{filteredColumns:ne,selectedField:ae}=M.useMemo(()=>{let Ne=i.field;const Ge=k[i.field].filterable===!1?k[i.field]:null;if(Ge)return{filteredColumns:[Ge],selectedField:Ne};if(f===void 0||typeof f!="function")return{filteredColumns:D,selectedField:Ne};const gt=f({field:i.field,columns:D,currentFilters:(T==null?void 0:T.items)||[]});return{filteredColumns:D.filter(rt=>{const it=gt.includes(rt.field);return rt.field===i.field&&!it&&(Ne=void 0),it}),selectedField:Ne}},[f,T==null?void 0:T.items,D,i.field,k]),se=M.useMemo(()=>{switch(h){case"asc":return ne.sort((Ne,Ge)=>Bne.compare(yw(Ne),yw(Ge)));case"desc":return ne.sort((Ne,Ge)=>-Bne.compare(yw(Ne),yw(Ge)));default:return ne}},[ne,h]),X=i.field?x.current.getColumn(i.field):null,oe=M.useMemo(()=>{var Ne;return!i.operator||!X?null:(Ne=X.filterOperators)==null?void 0:Ne.find(Ge=>Ge.value===i.operator)},[i,X]),ve=M.useCallback(Ne=>{const Ge=Ne.target.value,gt=x.current.getColumn(Ge);if(gt.field===X.field)return;const rt=gt.filterOperators.find(st=>st.value===i.operator)||gt.filterOperators[0];let Xe=!rt.InputComponent||rt.InputComponent!==(oe==null?void 0:oe.InputComponent)||gt.type!==X.type?void 0:i.value;if(gt.type==="singleSelect"&&Xe!==void 0){const st=gt,Ke=sv(st);Array.isArray(Xe)?Xe=Xe.filter(kt=>rI(kt,Ke,st==null?void 0:st.getOptionValue)!==void 0):rI(i.value,Ke,st==null?void 0:st.getOptionValue)===void 0&&(Xe=void 0)}o(te({},i,{field:Ge,operator:rt.value,value:Xe}))},[x,o,i,X,oe]),me=M.useCallback(Ne=>{const Ge=Ne.target.value,gt=X==null?void 0:X.filterOperators.find(it=>it.value===Ge),rt=!(gt!=null&&gt.InputComponent)||(gt==null?void 0:gt.InputComponent)!==(oe==null?void 0:oe.InputComponent);o(te({},i,{operator:Ge,value:rt?void 0:i.value}))},[o,i,X,oe]),ye=M.useCallback(Ne=>{const Ge=Ne.target.value===So.And.toString()?So.And:So.Or;c(Ge)},[c]),Le=()=>{s(i)};return M.useImperativeHandle(u,()=>({focus:()=>{var Ne;oe!=null&&oe.InputComponent?(Ne=A==null?void 0:A.current)==null||Ne.focus():H.current.focus()}}),[oe]),V.jsxs(bWe,te({className:F.root,"data-id":i.id,ownerState:O},_,{ref:t,children:[V.jsx(vWe,te({variant:"standard",as:O.slots.baseFormControl},U,p,{className:lt(F.deleteIcon,U.className,p.className),ownerState:O,children:V.jsx(O.slots.baseIconButton,te({"aria-label":x.current.getLocaleText("filterPanelDeleteIconLabel"),title:x.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Le,size:"small",disabled:w},(fe=O.slotProps)==null?void 0:fe.baseIconButton,{children:V.jsx(O.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),V.jsx(yWe,te({variant:"standard",as:O.slots.baseFormControl},U,m,{sx:[$?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},U.sx,m.sx],className:lt(F.logicOperatorInput,U.className,m.className),ownerState:O,children:V.jsx(O.slots.baseSelect,te({inputProps:{"aria-label":x.current.getLocaleText("filterPanelLogicOperator")},value:W??"",onChange:ye,disabled:!!l||d.length===1,native:K},(Ce=O.slotProps)==null?void 0:Ce.baseSelect,{children:d.map(Ne=>M.createElement(O.slots.baseSelectOption,te({},Q,{native:K,key:Ne.toString(),value:Ne.toString()}),x.current.getLocaleText(SWe(Ne))))}))})),V.jsxs(CWe,te({variant:"standard",as:O.slots.baseFormControl},U,C,{className:lt(F.columnInput,U.className,C.className),ownerState:O,children:[V.jsx(O.slots.baseInputLabel,te({},Z,{htmlFor:L,id:I,children:x.current.getLocaleText("filterPanelColumns")})),V.jsx(O.slots.baseSelect,te({labelId:I,id:L,label:x.current.getLocaleText("filterPanelColumns"),value:ae??"",onChange:ve,native:K,disabled:w},(Me=O.slotProps)==null?void 0:Me.baseSelect,{children:se.map(Ne=>M.createElement(O.slots.baseSelectOption,te({},Q,{native:K,key:Ne.field,value:Ne.field}),yw(Ne)))}))]})),V.jsxs(_We,te({variant:"standard",as:O.slots.baseFormControl},U,v,{className:lt(F.operatorInput,U.className,v.className),ownerState:O,children:[V.jsx(O.slots.baseInputLabel,te({},Z,{htmlFor:R,id:N,children:x.current.getLocaleText("filterPanelOperator")})),V.jsx(O.slots.baseSelect,te({labelId:N,label:x.current.getLocaleText("filterPanelOperator"),id:R,value:i.operator,onChange:me,native:K,inputRef:H,disabled:w},(Te=O.slotProps)==null?void 0:Te.baseSelect,{children:(Ae=X==null?void 0:X.filterOperators)==null?void 0:Ae.map(Ne=>M.createElement(O.slots.baseSelectOption,te({},Q,{native:K,key:Ne.value,value:Ne.value}),Ne.label||x.current.getLocaleText(`filterOperator${nt(Ne.value)}`)))}))]})),V.jsx(wWe,te({variant:"standard",as:O.slots.baseFormControl},U,J,{className:lt(F.valueInput,U.className,J.className),ownerState:O,children:oe!=null&&oe.InputComponent?V.jsx(oe.InputComponent,te({apiRef:x,item:i,applyValue:o,focusElementRef:A,disabled:w},oe.InputComponentProps,G),i.field):null}))]}))}),xWe=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Vne=n=>({field:n.field,operator:n.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),kWe=Mi(function(e,t){var N,O;const i=Zn(),r=Kt(),s=bt(i,bo),o=bt(i,ibe),a=bt(i,b9e),l=M.useRef(null),c=M.useRef(null),{logicOperators:u=[So.And,So.Or],columnsSort:d,filterFormProps:h,getColumnForNewFilter:f,disableAddFilterButton:p=!1,disableRemoveAllButton:m=!1}=e,v=rn(e,xWe),C=i.current.upsertFilterItem,y=M.useCallback(F=>{i.current.setFilterLogicOperator(F)},[i]),w=M.useCallback(()=>{let F;if(f&&typeof f=="function"){const A=f({currentFilters:(s==null?void 0:s.items)||[],columns:o});if(A===null)return null;F=o.find(({field:H})=>H===A)}else F=o.find(A=>{var H;return(H=A.filterOperators)==null?void 0:H.length});return F?Vne(F):null},[s==null?void 0:s.items,o,f]),_=M.useCallback(()=>{if(f===void 0||typeof f!="function")return w();const F=s.items.length?s.items:[w()].filter(Boolean),A=f({currentFilters:F,columns:o});if(A===null)return null;const H=o.find(({field:W})=>W===A);return H?Vne(H):null},[s.items,o,f,w]),x=M.useMemo(()=>s.items.length?s.items:(c.current||(c.current=w()),c.current?[c.current]:[]),[s.items,w]),k=x.length>1,{readOnlyFilters:D,validFilters:T}=M.useMemo(()=>x.reduce((F,A)=>(a[A.field]?F.validFilters.push(A):F.readOnlyFilters.push(A),F),{readOnlyFilters:[],validFilters:[]}),[x,a]),L=M.useCallback(()=>{const F=_();F&&i.current.upsertFilterItems([...x,F])},[i,_,x]),I=M.useCallback(F=>{const A=T.length===1;i.current.deleteFilterItem(F),A&&i.current.hideFilterPanel()},[i,T.length]),R=M.useCallback(()=>T.length===1&&T[0].value===void 0?(i.current.deleteFilterItem(T[0]),i.current.hideFilterPanel()):i.current.setFilterModel(te({},s,{items:D}),"removeAllFilterItems"),[i,D,s,T]);return M.useEffect(()=>{u.length>0&&s.logicOperator&&!u.includes(s.logicOperator)&&y(u[0])},[u,y,s.logicOperator]),M.useEffect(()=>{T.length>0&&l.current.focus()},[T.length]),V.jsxs(uve,te({},v,{ref:t,children:[V.jsxs(cWe,{children:[D.map((F,A)=>V.jsx(Hne,te({item:F,applyFilterChanges:C,deleteFilter:I,hasMultipleFilters:k,showMultiFilterOperators:A>0,disableMultiFilterOperator:A!==1,applyMultiFilterOperatorChanges:y,focusElementRef:null,readOnly:!0,logicOperators:u,columnsSort:d},h),F.id==null?A:F.id)),T.map((F,A)=>V.jsx(Hne,te({item:F,applyFilterChanges:C,deleteFilter:I,hasMultipleFilters:k,showMultiFilterOperators:D.length+A>0,disableMultiFilterOperator:D.length+A!==1,applyMultiFilterOperatorChanges:y,focusElementRef:A===T.length-1?l:null,logicOperators:u,columnsSort:d},h),F.id==null?A+D.length:F.id))]}),!r.disableMultipleColumnsFiltering&&!(p&&m)?V.jsxs(fWe,{children:[p?V.jsx("span",{}):V.jsx(r.slots.baseButton,te({onClick:L,startIcon:V.jsx(r.slots.filterPanelAddIcon,{})},(N=r.slotProps)==null?void 0:N.baseButton,{children:i.current.getLocaleText("filterPanelAddFilter")})),!m&&T.length>0?V.jsx(r.slots.baseButton,te({onClick:R,startIcon:V.jsx(r.slots.filterPanelRemoveAllIcon,{})},(O=r.slotProps)==null?void 0:O.baseButton,{children:i.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))});function LWe(n){return Zt("MuiFormControl",n)}Jt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const EWe=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${nt(t)}`,i&&"fullWidth"]};return _t(r,LWe,e)},DWe=$e("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${nt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),dve=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiFormControl"}),{children:r,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:v="outlined",...C}=i,y={...i,color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:v},w=EWe(y),[_,x]=M.useState(()=>{let A=!1;return r&&M.Children.forEach(r,H=>{if(!V2(H,["Input","Select"]))return;const W=V2(H,["Select"])?H.props.input:H;W&&w9e(W.props)&&(A=!0)}),A}),[k,D]=M.useState(()=>{let A=!1;return r&&M.Children.forEach(r,H=>{V2(H,["Input","Select"])&&(eI(H.props,!0)||eI(H.props.inputProps,!0))&&(A=!0)}),A}),[T,L]=M.useState(!1);l&&T&&L(!1);const I=u!==void 0&&!l?u:T;let R;M.useRef(!1);const N=M.useCallback(()=>{D(!0)},[]),O=M.useCallback(()=>{D(!1)},[]),F=M.useMemo(()=>({adornedStart:_,setAdornedStart:x,color:o,disabled:l,error:c,filled:k,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:O,onFilled:N,registerEffect:R,required:p,variant:v}),[_,o,l,c,k,I,d,h,R,O,N,p,m,v]);return V.jsx(PN.Provider,{value:F,children:V.jsx(DWe,{as:a,ownerState:y,className:lt(w.root,s),ref:t,...C,children:r})})});function TWe(n){return Zt("MuiFormControlLabel",n)}const rS=Jt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),IWe=n=>{const{classes:e,disabled:t,labelPlacement:i,error:r,required:s}=n,o={root:["root",t&&"disabled",`labelPlacement${nt(i)}`,r&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",r&&"error"]};return _t(o,TWe,e)},MWe=$e("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${rS.label}`]:e.label},e.root,e[`labelPlacement${nt(t.labelPlacement)}`]]}})(sn(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${rS.disabled}`]:{cursor:"default"},[`& .${rS.label}`]:{[`&.${rS.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),RWe=$e("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(sn(({theme:n})=>({[`&.${rS.error}`]:{color:(n.vars||n).palette.error.main}}))),jC=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiFormControlLabel"}),{checked:r,className:s,componentsProps:o={},control:a,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:h="end",name:f,onChange:p,required:m,slots:v={},slotProps:C={},value:y,...w}=i,_=$f(),x=l??a.props.disabled??(_==null?void 0:_.disabled),k=m??a.props.required,D={disabled:x,required:k};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof a.props[A]>"u"&&typeof i[A]<"u"&&(D[A]=i[A])});const T=Rv({props:i,muiFormControl:_,states:["error"]}),L={...i,disabled:x,labelPlacement:h,required:k,error:T.error},I=IWe(L),R={slots:v,slotProps:{...o,...C}},[N,O]=oi("typography",{elementType:nn,externalForwardedProps:R,ownerState:L});let F=d;return F!=null&&F.type!==nn&&!c&&(F=V.jsx(N,{component:"span",...O,className:lt(I.label,O==null?void 0:O.className),children:F})),V.jsxs(MWe,{className:lt(I.root,s),ownerState:L,ref:t,...w,children:[M.cloneElement(a,D),k?V.jsxs("div",{children:[F,V.jsxs(RWe,{ownerState:L,"aria-hidden":!0,className:I.asterisk,children:["","*"]})]}):F]})}),NWe=n=>{const{classes:e,disableUnderline:t}=n,r=_t({root:["root",!t&&"underline"],input:["input"]},e7e,e);return{...e,...r}},AWe=$e(BN,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...ON(n,e),!t.disableUnderline&&e.underline]}})(sn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Kg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Kg.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Kg.disabled}, .${Kg.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Kg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Qr()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),PWe=$e(HN,{name:"MuiInput",slot:"Input",overridesResolver:FN})({}),oU=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...f}=i,p=NWe(i),v={root:{ownerState:{disableUnderline:r}}},C=u??o?ko(u??o,v):v,y=d.root??s.Root??AWe,w=d.input??s.Input??PWe;return V.jsx(I0,{slots:{root:y,input:w},slotProps:C,fullWidth:a,inputComponent:l,multiline:c,ref:t,type:h,...f,classes:p})});oU.muiName="Input";const OWe=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:s,hiddenLabel:o,multiline:a}=n,l={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${nt(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},c=_t(l,n7e,e);return{...e,...c}},FWe=$e(BN,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...ON(n,e),!t.disableUnderline&&e.underline]}})(sn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${El.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${El.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${El.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${El.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${El.disabled}, .${El.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${El.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Qr()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(n.vars||n).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),BWe=$e(HN,{name:"MuiFilledInput",slot:"Input",overridesResolver:FN})(sn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),aU=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:h={},type:f="text",...p}=i,m={...i,disableUnderline:r,fullWidth:a,inputComponent:c,multiline:u,type:f},v=OWe(i),C={root:{ownerState:m},input:{ownerState:m}},y=d??o?ko(C,d??o):C,w=h.root??s.Root??FWe,_=h.input??s.Input??BWe;return V.jsx(I0,{slots:{root:w,input:_},slotProps:y,fullWidth:a,inputComponent:c,multiline:u,ref:t,type:f,...p,classes:v})});aU.muiName="Input";var zne;const HWe=$e("fieldset",{shouldForwardProp:va})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),VWe=$e("legend",{shouldForwardProp:va})(sn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function zWe(n){const{children:e,classes:t,className:i,label:r,notched:s,...o}=n,a=r!=null&&r!=="",l={...n,notched:s,withLabel:a};return V.jsx(HWe,{"aria-hidden":!0,className:i,ownerState:l,...o,children:V.jsx(VWe,{ownerState:l,children:a?V.jsx("span",{children:r}):zne||(zne=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const WWe=n=>{const{classes:e}=n,i=_t({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},t7e,e);return{...e,...i}},$We=$e(BN,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ON})(sn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${cc.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${cc.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${cc.focused} .${cc.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{[`&.${cc.focused} .${cc.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${cc.error} .${cc.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${cc.disabled} .${cc.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),jWe=$e(zWe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(sn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),UWe=$e(HN,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:FN})(sn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),lU=M.forwardRef(function(e,t){var i;const r=on({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...f}=r,p=WWe(r),m=$f(),v=Rv({props:r,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:m,fullWidth:o,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:h},y=d.root??s.Root??$We,w=d.input??s.Input??UWe;return V.jsx(I0,{slots:{root:y,input:w},renderSuffix:_=>V.jsx(jWe,{ownerState:C,className:p.notchedOutline,label:l!=null&&l!==""&&v.required?i||(i=V.jsxs(M.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:o,inputComponent:a,multiline:c,ref:t,type:h,...f,classes:{...p,notchedOutline:null}})});lU.muiName="Input";function qWe(n){return Zt("MuiFormLabel",n)}const ES=Jt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),GWe=n=>{const{classes:e,color:t,focused:i,disabled:r,error:s,filled:o,required:a}=n,l={root:["root",`color${nt(t)}`,r&&"disabled",s&&"error",o&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return _t(l,qWe,e)},KWe=$e("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(sn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{[`&.${ES.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${ES.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${ES.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),QWe=$e("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(sn(({theme:n})=>({[`&.${ES.error}`]:{color:(n.vars||n).palette.error.main}}))),YWe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiFormLabel"}),{children:r,className:s,color:o,component:a="label",disabled:l,error:c,filled:u,focused:d,required:h,...f}=i,p=$f(),m=Rv({props:i,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),v={...i,color:m.color||"primary",component:a,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required},C=GWe(v);return V.jsxs(KWe,{as:a,ownerState:v,className:lt(C.root,s),ref:t,...f,children:[r,m.required&&V.jsxs(QWe,{ownerState:v,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})});function XWe(n){return Zt("MuiInputLabel",n)}Jt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ZWe=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:s,variant:o,required:a}=n,l={root:["root",t&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="normal"&&`size${nt(i)}`,o],asterisk:[a&&"asterisk"]},c=_t(l,XWe,e);return{...e,...c}},JWe=$e(YWe,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${ES.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(sn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),hve=M.forwardRef(function(e,t){const i=on({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:s,shrink:o,variant:a,className:l,...c}=i,u=$f();let d=o;typeof d>"u"&&u&&(d=u.filled||u.focused||u.adornedStart);const h=Rv({props:i,muiFormControl:u,states:["size","variant","required","focused"]}),f={...i,disableAnimation:r,formControl:u,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},p=ZWe(f);return V.jsx(JWe,{"data-shrink":d,ref:t,className:lt(p.root,l),...c,ownerState:f,classes:p})});function e$e(n){return Zt("MuiFormHelperText",n)}const Wne=Jt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var $ne;const t$e=n=>{const{classes:e,contained:t,size:i,disabled:r,error:s,filled:o,focused:a,required:l}=n,c={root:["root",r&&"disabled",s&&"error",i&&`size${nt(i)}`,t&&"contained",a&&"focused",o&&"filled",l&&"required"]};return _t(c,e$e,e)},n$e=$e("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${nt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(sn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Wne.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Wne.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),i$e=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:o="p",disabled:a,error:l,filled:c,focused:u,margin:d,required:h,variant:f,...p}=i,m=$f(),v=Rv({props:i,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),C={...i,component:o,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete C.ownerState;const y=t$e(C);return V.jsx(n$e,{as:o,className:lt(y.root,s),ref:t,...p,ownerState:C,children:r===" "?$ne||($ne=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function r$e(n){return Zt("MuiPopover",n)}Jt("MuiPopover",["root","paper"]);function jne(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function Une(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function qne(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function LF(n){return typeof n=="function"?n():n}const s$e=n=>{const{classes:e}=n;return _t({root:["root"],paper:["paper"]},r$e,e)},o$e=$e(Pj,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),fve=$e(qc,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),a$e=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:f=16,open:p,PaperProps:m={},slots:v={},slotProps:C={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:w=Ax,transitionDuration:_="auto",TransitionProps:{onEntering:x,...k}={},disableScrollLock:D=!1,...T}=i,L=(C==null?void 0:C.paper)??m,I=M.useRef(),R={...i,anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:f,externalPaperSlotProps:L,transformOrigin:y,TransitionComponent:w,transitionDuration:_,TransitionProps:k},N=s$e(R),O=M.useCallback(()=>{if(l==="anchorPosition")return a;const oe=LF(s),me=(oe&&oe.nodeType===1?oe:Jr(I.current).body).getBoundingClientRect();return{top:me.top+jne(me,o.vertical),left:me.left+Une(me,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),F=M.useCallback(oe=>({vertical:jne(oe,y.vertical),horizontal:Une(oe,y.horizontal)}),[y.horizontal,y.vertical]),A=M.useCallback(oe=>{const ve={width:oe.offsetWidth,height:oe.offsetHeight},me=F(ve);if(l==="none")return{top:null,left:null,transformOrigin:qne(me)};const ye=O();let Le=ye.top-me.vertical,ie=ye.left-me.horizontal;const Ee=Le+ve.height,Ue=ie+ve.width,re=Mc(LF(s)),fe=re.innerHeight-f,Ce=re.innerWidth-f;if(f!==null&&Le<f){const Me=Le-f;Le-=Me,me.vertical+=Me}else if(f!==null&&Ee>fe){const Me=Ee-fe;Le-=Me,me.vertical+=Me}if(f!==null&&ie<f){const Me=ie-f;ie-=Me,me.horizontal+=Me}else if(Ue>Ce){const Me=Ue-Ce;ie-=Me,me.horizontal+=Me}return{top:`${Math.round(Le)}px`,left:`${Math.round(ie)}px`,transformOrigin:qne(me)}},[s,l,O,F,f]),[H,W]=M.useState(p),$=M.useCallback(()=>{const oe=I.current;if(!oe)return;const ve=A(oe);ve.top!==null&&oe.style.setProperty("top",ve.top),ve.left!==null&&(oe.style.left=ve.left),oe.style.transformOrigin=ve.transformOrigin,W(!0)},[A]);M.useEffect(()=>(D&&window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)),[s,D,$]);const U=(oe,ve)=>{x&&x(oe,ve),$()},z=()=>{W(!1)};M.useEffect(()=>{p&&$()}),M.useImperativeHandle(r,()=>p?{updatePosition:()=>{$()}}:null,[p,$]),M.useEffect(()=>{if(!p)return;const oe=gj(()=>{$()}),ve=Mc(s);return ve.addEventListener("resize",oe),()=>{oe.clear(),ve.removeEventListener("resize",oe)}},[s,p,$]);let K=_;_==="auto"&&!w.muiSupportAuto&&(K=void 0);const Z=d||(s?Jr(LF(s)).body:void 0),Q={slots:v,slotProps:{...C,paper:L}},[G,J]=oi("paper",{elementType:fve,externalForwardedProps:Q,additionalProps:{elevation:h,className:lt(N.paper,L==null?void 0:L.className),style:H?L.style:{...L.style,opacity:0}},ownerState:R}),[ne,{slotProps:ae,...se}]=oi("root",{elementType:o$e,externalForwardedProps:Q,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Z,open:p},ownerState:R,className:lt(N.root,u)}),X=Wi(I,J.ref);return V.jsx(ne,{...se,...!T8(ne)&&{slotProps:ae,disableScrollLock:D},...T,ref:t,children:V.jsx(w,{appear:!0,in:p,onEntering:U,onExited:z,timeout:K,...k,children:V.jsx(G,{...J,ref:X,children:c})})})});function l$e(n){return Zt("MuiMenu",n)}Jt("MuiMenu",["root","paper","list"]);const c$e={vertical:"top",horizontal:"right"},u$e={vertical:"top",horizontal:"left"},d$e=n=>{const{classes:e}=n;return _t({root:["root"],paper:["paper"],list:["list"]},l$e,e)},h$e=$e(a$e,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),f$e=$e(fve,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),g$e=$e(VN,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),p$e=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:f="auto",TransitionProps:{onEntering:p,...m}={},variant:v="selectedMenu",slots:C={},slotProps:y={},...w}=i,_=ba(),x={...i,autoFocus:r,disableAutoFocusItem:a,MenuListProps:l,onEntering:p,PaperProps:d,transitionDuration:f,TransitionProps:m,variant:v},k=d$e(x),D=r&&!a&&u,T=M.useRef(null),L=(H,W)=>{T.current&&T.current.adjustStyleForScrollbar(H,{direction:_?"rtl":"ltr"}),p&&p(H,W)},I=H=>{H.key==="Tab"&&(H.preventDefault(),c&&c(H,"tabKeyDown"))};let R=-1;M.Children.map(s,(H,W)=>{M.isValidElement(H)&&(H.props.disabled||(v==="selectedMenu"&&H.props.selected||R===-1)&&(R=W))});const N=C.paper??f$e,O=y.paper??d,F=OC({elementType:C.root,externalSlotProps:y.root,ownerState:x,className:[k.root,o]}),A=OC({elementType:N,externalSlotProps:O,ownerState:x,className:k.paper});return V.jsx(h$e,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?c$e:u$e,slots:{paper:N,root:C.root},slotProps:{root:F,paper:A},open:u,ref:t,transitionDuration:f,TransitionProps:{onEntering:L,...m},ownerState:x,...w,classes:h,children:V.jsx(g$e,{onKeyDown:I,actions:T,autoFocus:r&&(R===-1||a),autoFocusItem:D,variant:v,...l,className:lt(k.list,l.className),children:s})})});function m$e(n){return Zt("MuiNativeSelect",n)}const cU=Jt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),b$e=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:o}=n,a={select:["select",t,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${nt(t)}`,s&&"iconOpen",i&&"disabled"]};return _t(a,m$e,e)},gve=$e("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${cU.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),v$e=$e(gve,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:va,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${cU.multiple}`]:e.multiple}]}})({}),pve=$e("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${cU.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),y$e=$e(pve,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${nt(t.variant)}`],t.open&&e.iconOpen]}})({}),C$e=M.forwardRef(function(e,t){const{className:i,disabled:r,error:s,IconComponent:o,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:r,variant:l,error:s},d=b$e(u);return V.jsxs(M.Fragment,{children:[V.jsx(v$e,{ownerState:u,className:lt(d.select,i),disabled:r,ref:a||t,...c}),e.multiple?null:V.jsx(y$e,{as:o,ownerState:u,className:d.icon})]})});function mve(n){return Zt("MuiSelect",n)}const Cw=Jt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Gne;const _$e=$e(gve,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Cw.select}`]:e.select},{[`&.${Cw.select}`]:e[t.variant]},{[`&.${Cw.error}`]:e.error},{[`&.${Cw.multiple}`]:e.multiple}]}})({[`&.${Cw.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),w$e=$e(pve,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${nt(t.variant)}`],t.open&&e.iconOpen]}})({}),S$e=$e("input",{shouldForwardProp:n=>Dme(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Kne(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function x$e(n){return n==null||typeof n=="string"&&!n.trim()}const k$e=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:o}=n,a={select:["select",t,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${nt(t)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return _t(a,mve,e)},L$e=M.forwardRef(function(e,t){var Dt;const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:f=!1,IconComponent:p,inputRef:m,labelId:v,MenuProps:C={},multiple:y,name:w,onBlur:_,onChange:x,onClose:k,onFocus:D,onOpen:T,open:L,readOnly:I,renderValue:R,required:N,SelectDisplayProps:O={},tabIndex:F,type:A,value:H,variant:W="standard",...$}=e,[U,z]=Tb({controlled:H,default:u,name:"Select"}),[K,Z]=Tb({controlled:L,default:c,name:"Select"}),Q=M.useRef(null),G=M.useRef(null),[J,ne]=M.useState(null),{current:ae}=M.useRef(L!=null),[se,X]=M.useState(),oe=Wi(t,m),ve=M.useCallback(xe=>{G.current=xe,xe&&ne(xe)},[]),me=J==null?void 0:J.parentNode;M.useImperativeHandle(oe,()=>({focus:()=>{G.current.focus()},node:Q.current,value:U}),[U]),M.useEffect(()=>{c&&K&&J&&!ae&&(X(o?null:me.clientWidth),G.current.focus())},[J,o]),M.useEffect(()=>{s&&G.current.focus()},[s]),M.useEffect(()=>{if(!v)return;const xe=Jr(G.current).getElementById(v);if(xe){const Re=()=>{getSelection().isCollapsed&&G.current.focus()};return xe.addEventListener("click",Re),()=>{xe.removeEventListener("click",Re)}}},[v]);const ye=(xe,Re)=>{xe?T&&T(Re):k&&k(Re),ae||(X(o?null:me.clientWidth),Z(xe))},Le=xe=>{xe.button===0&&(xe.preventDefault(),G.current.focus(),ye(!0,xe))},ie=xe=>{ye(!1,xe)},Ee=M.Children.toArray(a),Ue=xe=>{const Re=Ee.find(Et=>Et.props.value===xe.target.value);Re!==void 0&&(z(Re.props.value),x&&x(xe,Re))},re=xe=>Re=>{let Et;if(Re.currentTarget.hasAttribute("tabindex")){if(y){Et=Array.isArray(U)?U.slice():[];const Mt=U.indexOf(xe.props.value);Mt===-1?Et.push(xe.props.value):Et.splice(Mt,1)}else Et=xe.props.value;if(xe.props.onClick&&xe.props.onClick(Re),U!==Et&&(z(Et),x)){const Mt=Re.nativeEvent||Re,hn=new Mt.constructor(Mt.type,Mt);Object.defineProperty(hn,"target",{writable:!0,value:{value:Et,name:w}}),x(hn,xe)}y||ye(!1,Re)}},fe=xe=>{I||[" ","ArrowUp","ArrowDown","Enter"].includes(xe.key)&&(xe.preventDefault(),ye(!0,xe))},Ce=J!==null&&K,Me=xe=>{!Ce&&_&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:U,name:w}}),_(xe))};delete $["aria-invalid"];let Te,Ae;const Ne=[];let Ge=!1;(eI({value:U})||h)&&(R?Te=R(U):Ge=!0);const gt=Ee.map(xe=>{if(!M.isValidElement(xe))return null;let Re;if(y){if(!Array.isArray(U))throw new Error(If(2));Re=U.some(Et=>Kne(Et,xe.props.value)),Re&&Ge&&Ne.push(xe.props.children)}else Re=Kne(U,xe.props.value),Re&&Ge&&(Ae=xe.props.children);return M.cloneElement(xe,{"aria-selected":Re?"true":"false",onClick:re(xe),onKeyUp:Et=>{Et.key===" "&&Et.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(Et)},role:"option",selected:Re,value:void 0,"data-value":xe.props.value})});Ge&&(y?Ne.length===0?Te=null:Te=Ne.reduce((xe,Re,Et)=>(xe.push(Re),Et<Ne.length-1&&xe.push(", "),xe),[]):Te=Ae);let rt=se;!o&&ae&&J&&(rt=me.clientWidth);let it;typeof F<"u"?it=F:it=d?null:0;const Xe=O.id||(w?`mui-component-select-${w}`:void 0),st={...e,variant:W,value:U,open:Ce,error:f},Ke=k$e(st),kt={...C.PaperProps,...(Dt=C.slotProps)==null?void 0:Dt.paper},Gt=Gi();return V.jsxs(M.Fragment,{children:[V.jsx(_$e,{as:"div",ref:ve,tabIndex:it,role:"combobox","aria-controls":Ce?Gt:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":Ce?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,Xe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":N?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:fe,onMouseDown:d||I?null:Le,onBlur:Me,onFocus:D,...O,ownerState:st,className:lt(O.className,Ke.select,l),id:Xe,children:x$e(Te)?Gne||(Gne=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Te}),V.jsx(S$e,{"aria-invalid":f,value:Array.isArray(U)?U.join(","):U,name:w,ref:Q,"aria-hidden":!0,onChange:Ue,tabIndex:-1,disabled:d,className:Ke.nativeInput,autoFocus:s,required:N,...$,ownerState:st}),V.jsx(w$e,{as:p,className:Ke.icon,ownerState:st}),V.jsx(p$e,{id:`menu-${w||""}`,anchorEl:me,open:Ce,onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,MenuListProps:{"aria-labelledby":v,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Gt,...C.MenuListProps},slotProps:{...C.slotProps,paper:{...kt,style:{minWidth:rt,...kt!=null?kt.style:null}}},children:gt})]})}),E$e=n=>{const{classes:e}=n,i=_t({root:["root"]},mve,e);return{...e,...i}},uU={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>va(n)&&n!=="variant",slot:"Root"},D$e=$e(oU,uU)(""),T$e=$e(lU,uU)(""),I$e=$e(aU,uU)(""),ZN=M.forwardRef(function(e,t){const i=on({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=ube,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:v,multiple:C=!1,native:y=!1,onClose:w,onOpen:_,open:x,renderValue:k,SelectDisplayProps:D,variant:T="outlined",...L}=i,I=y?C$e:L$e,R=$f(),N=Rv({props:i,muiFormControl:R,states:["variant","error"]}),O=N.variant||T,F={...i,variant:O,classes:o},A=E$e(F),{root:H,...W}=A,$=h||{standard:V.jsx(D$e,{ownerState:F}),outlined:V.jsx(T$e,{label:p,ownerState:F}),filled:V.jsx(I$e,{ownerState:F})}[O],U=Wi(t,Up($));return V.jsx(M.Fragment,{children:M.cloneElement($,{inputComponent:I,inputProps:{children:s,error:N.error,IconComponent:u,variant:O,type:void 0,multiple:C,...y?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:v,onClose:w,onOpen:_,open:x,renderValue:k,SelectDisplayProps:{id:d,...D}},...f,classes:f?ko(W,f.classes):W,...h?h.props.inputProps:{}},...(C&&y||c)&&O==="outlined"?{notched:!0}:{},ref:U,className:lt($.props.className,a,A.root),...!h&&{variant:O},...L})})});ZN.muiName="Select";function M$e(n){return Zt("MuiTextField",n)}Jt("MuiTextField",["root"]);const R$e={standard:oU,filled:aU,outlined:lU},N$e=n=>{const{classes:e}=n;return _t({root:["root"]},M$e,e)},A$e=$e(dve,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Fn=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:m,InputLabelProps:v,inputProps:C,InputProps:y,inputRef:w,label:_,maxRows:x,minRows:k,multiline:D=!1,name:T,onBlur:L,onChange:I,onFocus:R,placeholder:N,required:O=!1,rows:F,select:A=!1,SelectProps:H,slots:W={},slotProps:$={},type:U,value:z,variant:K="outlined",...Z}=i,Q={...i,autoFocus:s,color:l,disabled:u,error:d,fullWidth:f,multiline:D,required:O,select:A,variant:K},G=N$e(Q),J=Gi(m),ne=p&&J?`${J}-helper-text`:void 0,ae=_&&J?`${J}-label`:void 0,se=R$e[K],X={slots:W,slotProps:{input:y,inputLabel:v,htmlInput:C,formHelperText:h,select:H,...$}},oe={},ve=X.slotProps.inputLabel;K==="outlined"&&(ve&&typeof ve.shrink<"u"&&(oe.notched=ve.shrink),oe.label=_),A&&((!H||!H.native)&&(oe.id=void 0),oe["aria-describedby"]=void 0);const[me,ye]=oi("input",{elementType:se,externalForwardedProps:X,additionalProps:oe,ownerState:Q}),[Le,ie]=oi("inputLabel",{elementType:hve,externalForwardedProps:X,ownerState:Q}),[Ee,Ue]=oi("htmlInput",{elementType:"input",externalForwardedProps:X,ownerState:Q}),[re,fe]=oi("formHelperText",{elementType:i$e,externalForwardedProps:X,ownerState:Q}),[Ce,Me]=oi("select",{elementType:ZN,externalForwardedProps:X,ownerState:Q}),Te=V.jsx(me,{"aria-describedby":ne,autoComplete:r,autoFocus:s,defaultValue:c,fullWidth:f,multiline:D,name:T,rows:F,maxRows:x,minRows:k,type:U,value:z,id:J,inputRef:w,onBlur:L,onChange:I,onFocus:R,placeholder:N,inputProps:Ue,slots:{input:W.htmlInput?Ee:void 0},...ye});return V.jsxs(A$e,{className:lt(G.root,a),disabled:u,error:d,fullWidth:f,ref:t,required:O,color:l,variant:K,ownerState:Q,...Z,children:[_!=null&&_!==""&&V.jsx(Le,{htmlFor:J,id:ae,...ie,children:_}),A?V.jsx(Ce,{"aria-describedby":ne,id:J,labelId:ae,value:z,input:Te,...Me,children:o}):Te,p&&V.jsx(re,{id:ne,...fe,children:p})]})}),P$e=(n,e)=>{const t=new Set(Object.keys(n).filter(s=>n[s]===!1)),i=new Set(Object.keys(e).filter(s=>e[s]===!1));if(t.size!==i.size)return!1;let r=!0;return t.forEach(s=>{i.has(s)||(r=!1)}),r},O$e=(n,e)=>(n.headerName||n.field).toLowerCase().indexOf(e)>-1,F$e=n=>{const{classes:e}=n;return _t({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},ci,e)},Qne=new Intl.Collator;function B$e(n){var A,H,W,$;const e=Zn(),t=M.useRef(null),i=bt(e,Su),r=Uc(()=>wc(e)).current,s=bt(e,wc),o=Kt(),[a,l]=M.useState(""),c=F$e(o),{sort:u,searchPredicate:d=O$e,autoFocusSearchField:h=!0,disableShowHideToggle:f=!1,disableResetButton:p=!1,toggleAllMode:m="all",getTogglableColumns:v,searchInputProps:C}=n,y=M.useMemo(()=>P$e(s,r),[s,r]),w=M.useMemo(()=>{switch(u){case"asc":return[...i].sort((U,z)=>Qne.compare(U.headerName||U.field,z.headerName||z.field));case"desc":return[...i].sort((U,z)=>-Qne.compare(U.headerName||U.field,z.headerName||z.field));default:return i}},[i,u]),_=U=>{const{name:z}=U.target;e.current.setColumnVisibility(z,s[z]===!1)},x=M.useMemo(()=>{const U=v?v(w):null,z=U?w.filter(({field:K})=>U.includes(K)):w;return a?z.filter(K=>d(K,a.toLowerCase())):z},[w,a,d,v]),k=M.useCallback(U=>{const z=wc(e),K=te({},z),Z=v?v(i):null;return(m==="filteredOnly"?x:i).forEach(Q=>{Q.hideable&&(Z==null||Z.includes(Q.field))&&(U?delete K[Q.field]:K[Q.field]=!1)}),e.current.setColumnVisibilityModel(K)},[e,i,v,m,x]),D=M.useCallback(U=>{l(U.target.value)},[]),T=M.useMemo(()=>x.filter(U=>U.hideable),[x]),L=M.useMemo(()=>T.every(U=>s[U.field]==null||s[U.field]!==!1),[s,T]),I=M.useMemo(()=>T.every(U=>s[U.field]===!1),[s,T]),R=M.useRef(null);M.useEffect(()=>{h?t.current.focus():R.current&&typeof R.current.focus=="function"&&R.current.focus()},[h]);let N=!1;const O=U=>N===!1&&U.hideable!==!1?(N=!0,!0):!1,F=M.useCallback(()=>{l(""),t.current.focus()},[]);return V.jsxs(M.Fragment,{children:[V.jsx(V$e,{className:c.header,ownerState:o,children:V.jsx(z$e,te({as:o.slots.baseTextField,ownerState:o,placeholder:e.current.getLocaleText("columnsManagementSearchTitle"),inputRef:t,className:c.searchInput,value:a,onChange:D,variant:"outlined",size:"small",type:"search",InputProps:{startAdornment:V.jsx(o.slots.baseInputAdornment,{position:"start",children:V.jsx(o.slots.quickFilterIcon,{})}),endAdornment:V.jsx(o.slots.baseIconButton,te({"aria-label":e.current.getLocaleText("columnsManagementDeleteIconLabel"),size:"small",sx:[a?{visibility:"visible"}:{visibility:"hidden"}],tabIndex:-1,onClick:F},(A=o.slotProps)==null?void 0:A.baseIconButton,{children:V.jsx(o.slots.quickFilterClearIcon,{fontSize:"small"})}))},inputProps:{"aria-label":e.current.getLocaleText("columnsManagementSearchTitle")},autoComplete:"off",fullWidth:!0},(H=o.slotProps)==null?void 0:H.baseTextField,C))}),V.jsxs(H$e,{className:c.root,ownerState:o,children:[x.map(U=>{var z;return V.jsx(jC,{className:c.row,control:V.jsx(o.slots.baseCheckbox,te({disabled:U.hideable===!1,checked:s[U.field]!==!1,onClick:_,name:U.field,sx:{p:.5},inputRef:O(U)?R:void 0},(z=o.slotProps)==null?void 0:z.baseCheckbox)),label:U.headerName||U.field},U.field)}),x.length===0&&V.jsx($$e,{ownerState:o,children:e.current.getLocaleText("columnsManagementNoColumns")})]}),(!f||!p)&&x.length>0?V.jsxs(W$e,{ownerState:o,className:c.footer,children:[f?V.jsx("span",{}):V.jsx(jC,{control:V.jsx(o.slots.baseCheckbox,te({disabled:T.length===0,checked:L,indeterminate:!L&&!I,onClick:()=>k(!L),name:e.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},(W=o.slotProps)==null?void 0:W.baseCheckbox)),label:e.current.getLocaleText("columnsManagementShowHideAllText")}),p?null:V.jsx(o.slots.baseButton,te({onClick:()=>e.current.setColumnVisibilityModel(r),disabled:y},($=o.slotProps)==null?void 0:$.baseButton,{children:e.current.getLocaleText("columnsManagementReset")}))]}):null]})}const H$e=$e("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(n,e)=>e.columnsManagement})(({theme:n})=>({padding:n.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"})),V$e=$e("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(n,e)=>e.columnsManagementHeader})(({theme:n})=>({padding:n.spacing(1.5,3)})),z$e=$e(Fn,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput",overridesResolver:(n,e)=>e.columnsManagementSearchInput})(({theme:n})=>({[`& .${_o.root}`]:{padding:n.spacing(0,1.5,0,1.5)},[`& .${_o.input}::-webkit-search-decoration,
  & .${_o.input}::-webkit-search-cancel-button,
  & .${_o.input}::-webkit-search-results-button,
  & .${_o.input}::-webkit-search-results-decoration`]:{display:"none"}})),W$e=$e("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(n,e)=>e.columnsManagementFooter})(({theme:n})=>({padding:n.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${n.palette.divider}`})),$$e=$e("div")(({theme:n})=>({padding:n.spacing(.5,0),color:n.palette.grey[500]})),j$e=Mi(function(e,t){var y,w;const{children:i,slotProps:r={}}=e,s=r.button||{},o=r.tooltip||{},a=Zn(),l=Kt(),c=Gi(),u=Gi(),[d,h]=M.useState(!1),f=M.useRef(null),p=Wi(t,f),m=_=>{var x;h(k=>!k),(x=s.onClick)==null||x.call(s,_)},v=()=>h(!1),C=_=>{_.key==="Tab"&&_.preventDefault(),lve(_.key)&&v()};return i==null?null:V.jsxs(M.Fragment,{children:[V.jsx(l.slots.baseTooltip,te({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},(y=l.slotProps)==null?void 0:y.baseTooltip,o,{children:V.jsx(l.slots.baseButton,te({size:"small",startIcon:V.jsx(l.slots.exportIcon,{}),"aria-expanded":d,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":d?u:void 0,id:c,onClick:m},(w=l.slotProps)==null?void 0:w.baseButton,s,{ref:p,children:a.current.getLocaleText("toolbarExport")}))})),V.jsx(Kj,{open:d,target:f.current,onClose:v,position:"bottom-start",children:V.jsx(VN,{id:u,className:be.menuList,"aria-labelledby":c,onKeyDown:C,autoFocusItem:d,children:M.Children.map(i,_=>M.isValidElement(_)?M.cloneElement(_,{hideMenu:v}):_)})})]})}),U$e=["hideMenu","options"],q$e=["hideMenu","options"],G$e=["csvOptions","printOptions","excelOptions"];function K$e(n){const e=Zn(),{hideMenu:t,options:i}=n,r=rn(n,U$e);return V.jsx(Nd,te({onClick:()=>{e.current.exportDataAsCsv(i),t==null||t()}},r,{children:e.current.getLocaleText("toolbarExportCSV")}))}function Q$e(n){const e=Zn(),{hideMenu:t,options:i}=n,r=rn(n,q$e);return V.jsx(Nd,te({onClick:()=>{e.current.exportDataAsPrint(i),t==null||t()}},r,{children:e.current.getLocaleText("toolbarExportPrint")}))}Mi(function(e,t){const i=e,{csvOptions:r={},printOptions:s={},excelOptions:o}=i,a=rn(i,G$e),c=Zn().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:o,csvOptions:r,printOptions:s}).sort((u,d)=>u.componentName>d.componentName?1:-1);return c.length===0?null:V.jsx(j$e,te({},a,{ref:t,children:c.map((u,d)=>M.cloneElement(u.component,{key:d}))}))});const Y$e=["className","selectedRowCount"],X$e=n=>{const{classes:e}=n;return _t({root:["selectedRowCount"]},ci,e)},Z$e=ir("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(n,e)=>e.selectedRowCount})(({theme:n})=>({alignItems:"center",display:"flex",margin:n.spacing(0,2),visibility:"hidden",width:0,height:0,[n.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),J$e=Mi(function(e,t){const{className:i,selectedRowCount:r}=e,s=rn(e,Y$e),o=Zn(),a=Kt(),l=X$e(a),c=o.current.getLocaleText("footerRowSelected")(r);return V.jsx(Z$e,te({className:lt(l.root,i),ownerState:a},s,{ref:t,children:c}))}),eje=Mi(function(e,t){var d,h;const i=Zn(),r=Kt(),s=bt(i,F7e),o=bt(i,h6e),a=bt(i,Zj),l=!r.hideFooterSelectedRowCount&&o>0?V.jsx(J$e,{selectedRowCount:o}):V.jsx("div",{}),c=!r.hideFooterRowCount&&!r.pagination?V.jsx(r.slots.footerRowCount,te({},(d=r.slotProps)==null?void 0:d.footerRowCount,{rowCount:s,visibleRowCount:a})):null,u=r.pagination&&!r.hideFooterPagination&&r.slots.pagination&&V.jsx(r.slots.pagination,te({},(h=r.slotProps)==null?void 0:h.pagination));return V.jsxs(xVe,te({},e,{ref:t,children:[l,c,u]}))});function tje(n){return Zt("MuiLinearProgress",n)}Jt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const F8=4,B8=Jd`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,nje=typeof B8!="string"?qp`
        animation: ${B8} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,H8=Jd`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,ije=typeof H8!="string"?qp`
        animation: ${H8} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,V8=Jd`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,rje=typeof V8!="string"?qp`
        animation: ${V8} 3s infinite linear;
      `:null,sje=n=>{const{classes:e,variant:t,color:i}=n,r={root:["root",`color${nt(i)}`,t],dashed:["dashed",`dashedColor${nt(i)}`],bar1:["bar","bar1",`barColor${nt(i)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${nt(i)}`,t==="buffer"&&`color${nt(i)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return _t(r,tje,e)},dU=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?L0(n.palette[e].main,.62):k0(n.palette[e].main,.5),oje=$e("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${nt(t.color)}`],e[t.variant]]}})(sn(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{backgroundColor:dU(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),aje=$e("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${nt(t.color)}`]]}})(sn(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(Qr()).map(([e])=>{const t=dU(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),rje||{animation:`${V8} 3s infinite linear`}),lje=$e("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${nt(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(sn(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${F8}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${F8}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:nje||{animation:`${B8} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),cje=$e("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${nt(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(sn(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:dU(n,e),transition:`transform .${F8}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:ije||{animation:`${H8} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),uje=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiLinearProgress"}),{className:r,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate",...c}=i,u={...i,color:s,variant:l},d=sje(u),h=ba(),f={},p={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let m=o-100;h&&(m=-m),p.bar1.transform=`translateX(${m}%)`}if(l==="buffer"&&a!==void 0){let m=(a||0)-100;h&&(m=-m),p.bar2.transform=`translateX(${m}%)`}return V.jsxs(oje,{className:lt(d.root,r),ownerState:u,role:"progressbar",...f,ref:t,...c,children:[l==="buffer"?V.jsx(aje,{className:d.dashed,ownerState:u}):null,V.jsx(lje,{className:d.bar1,ownerState:u,style:p.bar1}),l==="determinate"?null:V.jsx(cje,{className:d.bar2,ownerState:u,style:p.bar2})]})}),DS=(n,e,t,i,r,s)=>{let o;switch(n){case ni.LEFT:o=i[t];break;case ni.RIGHT:o=r-i[t]-e+s;break;default:o=void 0;break}return o},lI=(n,e,t,i,r)=>{const s=e===t-1;return n===ni.LEFT&&s?!0:i?n===ni.LEFT?!0:n===ni.RIGHT?!s:!s||r:!1},cI=(n,e)=>n===ni.RIGHT&&e===0,_w={root:be.scrollbarFiller,header:be["scrollbarFiller--header"],borderTop:be["scrollbarFiller--borderTop"],borderBottom:be["scrollbarFiller--borderBottom"],pinnedRight:be["scrollbarFiller--pinnedRight"]};function hU({header:n,borderTop:e=!0,borderBottom:t,pinnedRight:i}){return V.jsx("div",{role:"presentation",className:lt(_w.root,n&&_w.header,e&&_w.borderTop,t&&_w.borderBottom,i&&_w.pinnedRight)})}const dje=ir("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(n,e)=>e.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),hje=n=>{const{classes:e}=n;return _t({root:["skeletonLoadingOverlay"]},ci,e)},Yne=n=>parseInt(n.getAttribute("data-colindex"),10),fje=Mi(function(e,t){const i=Kt(),{slots:r}=i,s=ba(),o=hje({classes:i.classes}),a=M.useRef(null),l=Wi(a,t),c=Zn(),u=bt(c,fa),d=(u==null?void 0:u.viewportInnerSize.height)??0,h=Math.ceil(d/u.rowHeight),f=bt(c,$j),p=bt(c,Qp),m=M.useMemo(()=>p.filter(k=>k<=f).length,[f,p]),v=bt(c,ps),C=M.useMemo(()=>v.slice(0,m),[v,m]),y=bt(c,tL),w=M.useCallback(k=>{if(y.left.findIndex(D=>D.field===k)!==-1)return ni.LEFT;if(y.right.findIndex(D=>D.field===k)!==-1)return ni.RIGHT},[y.left,y.right]),_=M.useMemo(()=>{const k=[];for(let D=0;D<h;D+=1){const T=[];for(let L=0;L<C.length;L+=1){const I=C[L],R=w(I.field),N=R===ni.LEFT,O=R===ni.RIGHT,F=eve(R,s),A=F?y[F].length:C.length-y.left.length-y.right.length,H=F?y[F].findIndex(oe=>oe.field===I.field):L-y.left.length,W=u.hasScrollY?u.scrollbarSize:0,$=XN({},s,R,DS(R,I.computedWidth,L,p,u.columnsTotalWidth,W)),U=u.columnsTotalWidth<u.viewportOuterSize.width,z=lI(R,H,A,i.showCellVerticalBorder,U),K=cI(R,H),Z=L===C.length-1,Q=O&&H===0,G=Q&&U,J=Z&&!Q&&U,ne=u.viewportOuterSize.width-u.columnsTotalWidth,ae=Math.max(0,ne),se=V.jsx(r.skeletonCell,{width:ae,empty:!0},`skeleton-filler-column-${D}`),X=Z&&W!==0;G&&T.push(se),T.push(V.jsx(r.skeletonCell,{field:I.field,type:I.type,align:I.align,width:"var(--width)",height:u.rowHeight,"data-colindex":L,className:lt(N&&be["cell--pinnedLeft"],O&&be["cell--pinnedRight"],z&&be["cell--withRightBorder"],K&&be["cell--withLeftBorder"]),style:te({"--width":`${I.computedWidth}px`},$)},`skeleton-column-${D}-${I.field}`)),J&&T.push(se),X&&T.push(V.jsx(hU,{pinnedRight:y.right.length>0},`skeleton-scrollbar-filler-${D}`))}k.push(V.jsx("div",{className:lt(be.row,be.rowSkeleton,D===0&&be["row--firstVisible"]),children:T},`skeleton-row-${D}`))}return k},[r,C,y,h,i.showCellVerticalBorder,u,p,w,s]);return $t(c,"columnResize",k=>{var H,W,$;const{colDef:D,width:T}=k,L=(H=a.current)==null?void 0:H.querySelectorAll(`[data-field="${jf(D.field)}"]`);if(!L)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const I=C.findIndex(U=>U.field===D.field),R=w(D.field),N=R===ni.LEFT,O=R===ni.RIGHT,F=getComputedStyle(L[0]).getPropertyValue("--width"),A=parseInt(F,10)-T;if(L&&L.forEach(U=>{U.style.setProperty("--width",`${T}px`)}),N){const U=(W=a.current)==null?void 0:W.querySelectorAll(`.${be["cell--pinnedLeft"]}`);U==null||U.forEach(z=>{Yne(z)>I&&(z.style.left=`${parseInt(getComputedStyle(z).left,10)-A}px`)})}if(O){const U=($=a.current)==null?void 0:$.querySelectorAll(`.${be["cell--pinnedRight"]}`);U==null||U.forEach(z=>{Yne(z)<I&&(z.style.right=`${parseInt(getComputedStyle(z).right,10)+A}px`)})}}),V.jsx(dje,te({className:o.root},e,{ref:l,children:_}))}),gje=["variant","noRowsVariant","style"],pje={"circular-progress":{component:Kp,style:{}},"linear-progress":{component:uje,style:{display:"block"}},skeleton:{component:fje,style:{display:"block"}}},mje=Mi(function(e,t){const{variant:i="circular-progress",noRowsVariant:r="circular-progress",style:s}=e,o=rn(e,gje),a=Zn(),l=bt(a,WN),c=pje[l===0?r:i];return V.jsx(rU,te({style:te({},c.style,s)},o,{ref:t,children:V.jsx(c.component,{})}))}),bje=Mi(function(e,t){const r=Zn().current.getLocaleText("noRowsLabel");return V.jsx(rU,te({},e,{ref:t,children:r}))}),bve=M.createContext(),JN=M.createContext();function vje(n){return Zt("MuiTableCell",n)}const yje=Jt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Cje=n=>{const{classes:e,variant:t,align:i,padding:r,size:s,stickyHeader:o}=n,a={root:["root",t,o&&"stickyHeader",i!=="inherit"&&`align${nt(i)}`,r!=="normal"&&`padding${nt(r)}`,`size${nt(s)}`]};return _t(a,vje,e)},_je=$e("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${nt(t.size)}`],t.padding!=="normal"&&e[`padding${nt(t.padding)}`],t.align!=="inherit"&&e[`align${nt(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(sn(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?L0(wn(n.palette.divider,1),.88):k0(wn(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${yje.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),Cb=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTableCell"}),{align:r="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:u,variant:d,...h}=i,f=M.useContext(bve),p=M.useContext(JN),m=p&&p.variant==="head";let v;o?v=o:v=m?"th":"td";let C=l;v==="td"?C=void 0:!C&&m&&(C="col");const y=d||p&&p.variant,w={...i,align:r,component:v,padding:a||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:y==="head"&&f&&f.stickyHeader,variant:y},_=Cje(w);let x=null;return u&&(x=u==="asc"?"ascending":"descending"),V.jsx(_je,{as:v,ref:t,className:lt(_.root,s),"aria-sort":x,scope:C,ownerState:w,...h})});function wje(n){return Zt("MuiToolbar",n)}Jt("MuiToolbar",["root","gutters","regular","dense"]);const Sje=n=>{const{classes:e,disableGutters:t,variant:i}=n;return _t({root:["root",!t&&"gutters",i]},wje,e)},xje=$e("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(sn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),fU=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiToolbar"}),{className:r,component:s="div",disableGutters:o=!1,variant:a="regular",...l}=i,c={...i,component:s,disableGutters:o,variant:a},u=Sje(c);return V.jsx(xje,{as:s,className:lt(u.root,r),ref:t,ownerState:c,...l})}),kje=Ut(V.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Lje=Ut(V.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Eje=Ut(V.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Dje=Ut(V.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Tje=M.forwardRef(function(e,t){const{backIconButtonProps:i,count:r,disabled:s=!1,getItemAriaLabel:o,nextIconButtonProps:a,onPageChange:l,page:c,rowsPerPage:u,showFirstButton:d,showLastButton:h,slots:f={},slotProps:p={},...m}=e,v=ba(),C=K=>{l(K,0)},y=K=>{l(K,c-1)},w=K=>{l(K,c+1)},_=K=>{l(K,Math.max(0,Math.ceil(r/u)-1))},x=f.firstButton??ua,k=f.lastButton??ua,D=f.nextButton??ua,T=f.previousButton??ua,L=f.firstButtonIcon??Dje,I=f.lastButtonIcon??Eje,R=f.nextButtonIcon??Lje,N=f.previousButtonIcon??kje,O=v?k:x,F=v?D:T,A=v?T:D,H=v?x:k,W=v?p.lastButton:p.firstButton,$=v?p.nextButton:p.previousButton,U=v?p.previousButton:p.nextButton,z=v?p.firstButton:p.lastButton;return V.jsxs("div",{ref:t,...m,children:[d&&V.jsx(O,{onClick:C,disabled:s||c===0,"aria-label":o("first",c),title:o("first",c),...W,children:v?V.jsx(I,{...p.lastButtonIcon}):V.jsx(L,{...p.firstButtonIcon})}),V.jsx(F,{onClick:y,disabled:s||c===0,color:"inherit","aria-label":o("previous",c),title:o("previous",c),...$??i,children:v?V.jsx(R,{...p.nextButtonIcon}):V.jsx(N,{...p.previousButtonIcon})}),V.jsx(A,{onClick:w,disabled:s||(r!==-1?c>=Math.ceil(r/u)-1:!1),color:"inherit","aria-label":o("next",c),title:o("next",c),...U??a,children:v?V.jsx(N,{...p.previousButtonIcon}):V.jsx(R,{...p.nextButtonIcon})}),h&&V.jsx(H,{onClick:_,disabled:s||c>=Math.ceil(r/u)-1,"aria-label":o("last",c),title:o("last",c),...z,children:v?V.jsx(L,{...p.firstButtonIcon}):V.jsx(I,{...p.lastButtonIcon})})]})});function Ije(n){return Zt("MuiTablePagination",n)}const Mb=Jt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Xne;const Mje=$e(Cb,{name:"MuiTablePagination",slot:"Root",overridesResolver:(n,e)=>e.root})(sn(({theme:n})=>({overflow:"auto",color:(n.vars||n).palette.text.primary,fontSize:n.typography.pxToRem(14),"&:last-child":{padding:0}}))),Rje=$e(fU,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(n,e)=>({[`& .${Mb.actions}`]:e.actions,...e.toolbar})})(sn(({theme:n})=>({minHeight:52,paddingRight:2,[`${n.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[n.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Mb.actions}`]:{flexShrink:0,marginLeft:20}}))),Nje=$e("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(n,e)=>e.spacer})({flex:"1 1 100%"}),Aje=$e("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(n,e)=>e.selectLabel})(sn(({theme:n})=>({...n.typography.body2,flexShrink:0}))),Pje=$e(ZN,{name:"MuiTablePagination",slot:"Select",overridesResolver:(n,e)=>({[`& .${Mb.selectIcon}`]:e.selectIcon,[`& .${Mb.select}`]:e.select,...e.input,...e.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Mb.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Oje=$e(Nd,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(n,e)=>e.menuItem})({}),Fje=$e("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(n,e)=>e.displayedRows})(sn(({theme:n})=>({...n.typography.body2,flexShrink:0})));function Bje({from:n,to:e,count:t}){return`${n}${e} of ${t!==-1?t:`more than ${e}`}`}function Hje(n){return`Go to ${n} page`}const Vje=n=>{const{classes:e}=n;return _t({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Ije,e)},zje=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTablePagination"}),{ActionsComponent:r=Tje,backIconButtonProps:s,colSpan:o,component:a=Cb,count:l,disabled:c=!1,getItemAriaLabel:u=Hje,labelDisplayedRows:d=Bje,labelRowsPerPage:h="Rows per page:",nextIconButtonProps:f,onPageChange:p,onRowsPerPageChange:m,page:v,rowsPerPage:C,rowsPerPageOptions:y=[10,25,50,100],SelectProps:w={},showFirstButton:_=!1,showLastButton:x=!1,slotProps:k={},slots:D={},...T}=i,L=i,I=Vje(L),R=(k==null?void 0:k.select)??w,N=R.native?"option":Oje;let O;(a===Cb||a==="td")&&(O=o||1e3);const F=Gi(R.id),A=Gi(R.labelId),H=()=>l===-1?(v+1)*C:C===-1?l:Math.min(l,(v+1)*C),W={slots:D,slotProps:k},[$,U]=oi("root",{ref:t,className:I.root,elementType:Mje,externalForwardedProps:{...W,component:a,...T},ownerState:L,additionalProps:{colSpan:O}}),[z,K]=oi("toolbar",{className:I.toolbar,elementType:Rje,externalForwardedProps:W,ownerState:L}),[Z,Q]=oi("spacer",{className:I.spacer,elementType:Nje,externalForwardedProps:W,ownerState:L}),[G,J]=oi("selectLabel",{className:I.selectLabel,elementType:Aje,externalForwardedProps:W,ownerState:L,additionalProps:{id:A}}),[ne,ae]=oi("select",{className:I.select,elementType:Pje,externalForwardedProps:W,ownerState:L}),[se,X]=oi("menuItem",{className:I.menuItem,elementType:N,externalForwardedProps:W,ownerState:L}),[oe,ve]=oi("displayedRows",{className:I.displayedRows,elementType:Fje,externalForwardedProps:W,ownerState:L});return V.jsx($,{...U,children:V.jsxs(z,{...K,children:[V.jsx(Z,{...Q}),y.length>1&&V.jsx(G,{...J,children:h}),y.length>1&&V.jsx(ne,{variant:"standard",...!R.variant&&{input:Xne||(Xne=V.jsx(I0,{}))},value:C,onChange:m,id:F,labelId:A,...R,classes:{...R.classes,root:lt(I.input,I.selectRoot,(R.classes||{}).root),select:lt(I.select,(R.classes||{}).select),icon:lt(I.selectIcon,(R.classes||{}).icon)},disabled:c,...ae,children:y.map(me=>M.createElement(se,{...X,key:me.label?me.label:me,value:me.value?me.value:me},me.label?me.label:me))}),V.jsx(oe,{...ve,children:d({from:l===0?0:v*C+1,to:H(),count:l===-1?-1:l,page:v})}),V.jsx(r,{className:I.actions,backIconButtonProps:s,count:l,nextIconButtonProps:f,onPageChange:p,page:v,rowsPerPage:C,showFirstButton:_,showLastButton:x,slotProps:k.actions,slots:D.actions,getItemAriaLabel:u,disabled:c})]})})}),Wje=$e(zje)(({theme:n})=>({maxHeight:"calc(100% + 1px)",flexGrow:1,[`& .${Mb.selectLabel}`]:{display:"none",[n.breakpoints.up("sm")]:{display:"block"}},[`& .${Mb.input}`]:{display:"none",[n.breakpoints.up("sm")]:{display:"inline-flex"}}})),$je=(n,e)=>({from:t,to:i,count:r,page:s})=>n({from:t,to:i,count:r,page:s,estimated:e}),jje=({from:n,to:e,count:t,estimated:i})=>i?`${n}${e} of ${t!==-1?t:`more than ${i>e?i:e}`}`:`${n}${e} of ${t!==-1?t:`more than ${e}`}`,Uje=Mi(function(e,t){const i=Zn(),r=Kt(),s=bt(i,Da),o=bt(i,my),a=bt(i,Obe),{paginationMode:l,loading:c,estimatedRowCount:u}=r,d=M.useMemo(()=>o===-1&&l==="server"&&c?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{},[c,l,o]),h=M.useMemo(()=>Math.max(0,a-1),[a]),f=M.useMemo(()=>o===-1||s.page<=h?s.page:h,[h,s.page,o]),p=M.useCallback(_=>{const x=Number(_.target.value);i.current.setPageSize(x)},[i]),m=M.useCallback((_,x)=>{i.current.setPage(x)},[i]),C=(_=>{for(let x=0;x<r.pageSizeOptions.length;x+=1){const k=r.pageSizeOptions[x];if(typeof k=="number"){if(k===_)return!0}else if(k.value===_)return!0}return!1})(s.pageSize)?r.pageSizeOptions:[],y=i.current.getLocaleText("MuiTablePagination"),w=$je(y.labelDisplayedRows||jje,u);return V.jsx(Wje,te({component:"div",count:o,page:f,rowsPerPageOptions:C,rowsPerPage:s.pageSize,onPageChange:m,onRowsPerPageChange:p},d,y,{labelDisplayedRows:w},e,{ref:t}))}),qje=["className","rowCount","visibleRowCount"],Gje=n=>{const{classes:e}=n;return _t({root:["rowCount"]},ci,e)},Kje=ir("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(n,e)=>e.rowCount})(({theme:n})=>({alignItems:"center",display:"flex",margin:n.spacing(0,2)})),Qje=Mi(function(e,t){const{className:i,rowCount:r,visibleRowCount:s}=e,o=rn(e,qje),a=Zn(),l=Kt(),c=Gje(l);if(r===0)return null;const u=s<r?a.current.getLocaleText("footerTotalVisibleRows")(s,r):r.toLocaleString();return V.jsxs(Kje,te({className:lt(c.root,i),ownerState:l},o,{ref:t,children:[a.current.getLocaleText("footerTotalRows")," ",u]}))});function Yje(n,e){return _t(e,ci,n)}const Xje=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetTop","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],Zje=Mi(function(e,t){var it;const{selected:i,rowId:r,row:s,index:o,style:a,rowHeight:l,className:c,visibleColumns:u,pinnedColumns:d,offsetLeft:h,columnsTotalWidth:f,firstColumnIndex:p,lastColumnIndex:m,focusedColumnIndex:v,isFirstVisible:C,isLastVisible:y,isNotVisible:w,showBottomBorder:_,scrollbarWidth:x,gridHasFiller:k,onClick:D,onDoubleClick:T,onMouseEnter:L,onMouseLeave:I,onMouseOut:R,onMouseOver:N}=e,O=rn(e,Xje),F=Kc(),A=Xbe(),H=M.useRef(null),W=Kt(),$=A0(F),U=bt(F,hc),z=bt(F,Nv),K=bt(F,Qp),Z=bt(F,vo),Q=Wi(H,t),G=F.current.getRowNode(r),J=F.current.getRowMode(r)===fr.Edit,ne=W.editMode===zd.Row,ae=v!==void 0,se=ae&&v>=d.left.length&&v<p,X=ae&&v<u.length-d.right.length&&v>=m,oe=Yje(W.classes,{root:["row",i&&"selected",ne&&"row--editable",J&&"row--editing",C&&"row--firstVisible",y&&"row--lastVisible",_&&"row--borderBottom",l==="auto"&&"row--dynamicHeight"]}),ve=A.hooks.useGridRowAriaAttributes();M.useLayoutEffect(()=>{if($.range){const Xe=F.current.getRowIndexRelativeToVisibleRows(r);Xe!==void 0&&F.current.unstable_setLastMeasuredRowIndex(Xe)}if(H.current&&l==="auto")return F.current.observeRowHeight(H.current,r)},[F,$.range,l,r]);const me=M.useCallback((Xe,st)=>Ke=>{oL(Ke)||F.current.getRow(r)&&(F.current.publishEvent(Xe,F.current.getRowParams(r),Ke),st&&st(Ke))},[F,r]),ye=M.useCallback(Xe=>{const st=oI(Xe.target,be.cell),Ke=st==null?void 0:st.getAttribute("data-field");if(Ke){if(Ke===N0.field||Ke===jN||Ke==="__reorder__"||F.current.getCellMode(r,Ke)===tr.Edit)return;const kt=F.current.getColumn(Ke);if((kt==null?void 0:kt.type)===zN)return}me("rowClick",D)(Xe)},[F,D,me,r]),{slots:Le,slotProps:ie,disableColumnReorder:Ee}=W,Ue=W.rowReordering,re=bt(F,()=>te({},F.current.getRowHeightEntry(r)),AN),fe=M.useMemo(()=>{if(w)return{opacity:0,width:0,height:0};const Xe=te({},a,{maxHeight:l==="auto"?"none":l,minHeight:l,"--height":typeof l=="number"?`${l}px`:l});if(re.spacingTop){const st=W.rowSpacingType==="border"?"borderTopWidth":"marginTop";Xe[st]=re.spacingTop}if(re.spacingBottom){const st=W.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Ke=Xe[st];typeof Ke!="number"&&(Ke=parseInt(Ke||"0",10)),Ke+=re.spacingBottom,Xe[st]=Ke}return Xe},[w,l,a,re,W.rowSpacingType]),Ce=F.current.unstable_applyPipeProcessors("rowClassName",[],r),Me=G?ve(G,o):void 0;if(typeof W.getRowClassName=="function"){const Xe=o-(((it=$.range)==null?void 0:it.firstRowIndex)||0),st=te({},F.current.getRowParams(r),{isFirstVisible:Xe===0,isLastVisible:Xe===$.rows.length-1,indexRelativeToCurrentPage:Xe});Ce.push(W.getRowClassName(st))}const Te=(Xe,st,Ke,kt,Gt=ni.NONE)=>{var ot;const Dt=F.current.unstable_getCellColSpanInfo(r,Ke);if(Dt!=null&&Dt.spannedByColSpan)return null;const xe=(Dt==null?void 0:Dt.cellProps.width)??Xe.computedWidth,Re=(Dt==null?void 0:Dt.cellProps.colSpan)??1,Et=DS(Gt,Xe.computedWidth,Ke,K,f,x);if((G==null?void 0:G.type)==="skeletonRow")return V.jsx(Le.skeletonCell,{type:Xe.type,width:xe,height:l,field:Xe.field,align:Xe.align},Xe.field);const Mt=((ot=Z[r])==null?void 0:ot[Xe.field])??null,hn=Xe.field==="__reorder__",en=Object.keys(Z).length>0,fi=!(Ee||Xe.disableReorder),Qt=Ue&&!U.length&&z<=1&&!en,He=!(fi||hn&&Qt),Bt=Gt===ni.VIRTUAL,fn=cI(Gt,st),bn=lI(Gt,st,kt,W.showCellVerticalBorder,k);return V.jsx(Le.cell,te({column:Xe,width:xe,rowId:r,align:Xe.align||"left",colIndex:Ke,colSpan:Re,disableDragEvents:He,editCellState:Mt,isNotVisible:Bt,pinnedOffset:Et,pinnedPosition:Gt,showLeftBorder:fn,showRightBorder:bn},ie==null?void 0:ie.cell),Xe.field)};if(!G)return null;const Ae=d.left.map((Xe,st)=>Te(Xe,st,st,d.left.length,ni.LEFT)),Ne=d.right.map((Xe,st)=>{const Ke=u.length-d.right.length+st;return Te(Xe,st,Ke,d.right.length,ni.RIGHT)}),Ge=u.length-d.left.length-d.right.length,gt=[];se&&gt.push(Te(u[v],v-d.left.length,v,Ge,ni.VIRTUAL));for(let Xe=p;Xe<m;Xe+=1){const st=u[Xe],Ke=Xe-d.left.length;st&&gt.push(Te(st,Ke,Xe,Ge))}X&&gt.push(Te(u[v],v-d.left.length,v,Ge,ni.VIRTUAL));const rt=s?{onClick:ye,onDoubleClick:me("rowDoubleClick",T),onMouseEnter:me("rowMouseEnter",L),onMouseLeave:me("rowMouseLeave",I),onMouseOut:me("rowMouseOut",R),onMouseOver:me("rowMouseOver",N)}:null;return V.jsxs("div",te({"data-id":r,"data-rowindex":o,role:"row",className:lt(...Ce,oe.root,c),style:fe},Me,rt,O,{ref:Q,children:[Ae,V.jsx("div",{role:"presentation",className:be.cellOffsetLeft,style:{width:h}}),gt,V.jsx("div",{role:"presentation",className:lt(be.cell,be.cellEmpty)}),Ne,x!==0&&V.jsx(hU,{pinnedRight:d.right.length>0})]}))}),Jje=zf(Zje),eUe=()=>{const n=Kc(),e=Kt(),t=bt(n,ps),i=bt(n,Xj),r=bt(n,rL),s=bt(n,bbe);return{role:"grid","aria-colcount":t.length,"aria-rowcount":r+1+s+i,"aria-multiselectable":Jj(e)}},tUe=()=>{const n=Kc(),e=bt(n,vf),t=bt(n,rL);return M.useCallback((i,r)=>{const s={},o=r+t+2;return s["aria-rowindex"]=o,n.current.isRowSelectable(i.id)&&(s["aria-selected"]=e[i.id]!==void 0),s},[n,e,t])};function nUe({privateApiRef:n,configuration:e,props:t,children:i}){const r=M.useRef(n.current.getPublicApi());return V.jsx(Ybe.Provider,{value:e,children:V.jsx(Kme.Provider,{value:t,children:V.jsx(jbe.Provider,{value:n,children:V.jsx(Gme.Provider,{value:r,children:i})})})})}const iUe=n=>{const e=M.useRef(null),t=M.useRef(null),i=M.useRef(null),r=M.useRef(null),s=M.useRef(null),o=M.useRef(null);n.current.register("public",{rootElementRef:e}),n.current.register("private",{mainElementRef:t,virtualScrollerRef:i,virtualScrollbarVerticalRef:r,virtualScrollbarHorizontalRef:s,columnHeadersContainerRef:o})},rUe=n=>{const e=ba();n.current.state.isRtl===void 0&&(n.current.state.isRtl=e);const t=M.useRef(!0);M.useEffect(()=>{t.current?t.current=!1:n.current.setState(i=>te({},i,{isRtl:e}))},[n,e])},sUe=B9e()&&window.localStorage.getItem("DEBUG")!=null,sS=()=>{},oUe={debug:sS,info:sS,warn:sS,error:sS},Zne=["debug","info","warn","error"];function Jne(n,e,t=console){const i=Zne.indexOf(e);if(i===-1)throw new Error(`MUI X: Log level ${e} not recognized.`);return Zne.reduce((s,o,a)=>(a>=i?s[o]=(...l)=>{const[c,...u]=l;t[o](`MUI X: ${n} - ${c}`,...u)}:s[o]=sS,s),{})}const aUe=(n,e)=>{const t=M.useCallback(i=>sUe?Jne(i,"debug",e.logger):e.logLevel?Jne(i,e.logLevel.toString(),e.logger):oUe,[e.logLevel,e.logger]);qn(n,{getLogger:t},"private")};class lUe{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,t,i={}){let r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),i.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e,...t){const i=this.events[e];if(!i)return;const r=Array.from(i.highPriority.keys()),s=Array.from(i.regular.keys());for(let o=r.length-1;o>=0;o-=1){const a=r[o];i.highPriority.has(a)&&a.apply(this,t)}for(let o=0;o<s.length;o+=1){const a=s[o];i.regular.has(a)&&a.apply(this,t)}}once(e,t){const i=this;this.on(e,function r(...s){i.removeListener(e,r),t.apply(i,s)})}}class gU{static create(e){return new gU(e)}constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}),this.getSnapshot=()=>this.value,this.update=t=>{this.value=t,this.listeners.forEach(i=>i(t))},this.value=e,this.listeners=new Set}}const vve=Symbol("mui.api_private"),cUe=n=>n.isPropagationStopped!==void 0;let eie=0;function uUe(n){var r;const e=(r=n.current)==null?void 0:r[vve];if(e)return e;const t={},i={state:t,store:gU.create(t),instanceId:{id:eie}};return eie+=1,i.getPublicApi=()=>n.current,i.register=(s,o)=>{Object.keys(o).forEach(a=>{const l=o[a],c=i[a];if((c==null?void 0:c.spying)===!0?c.target=l:i[a]=l,s==="public"){const u=n.current,d=u[a];(d==null?void 0:d.spying)===!0?d.target=l:u[a]=l}})},i.register("private",{caches:{},eventManager:new lUe}),i}function dUe(n){return{get state(){return n.current.state},get store(){return n.current.store},get instanceId(){return n.current.instanceId},[vve]:n.current}}function hUe(n,e){var o;const t=M.useRef(null),i=M.useRef(null);i.current||(i.current=uUe(t)),t.current||(t.current=dUe(i));const r=M.useCallback((...a)=>{const[l,c,u={}]=a;if(u.defaultMuiPrevented=!1,cUe(u)&&u.isPropagationStopped())return;const d=e.signature===Ec.DataGridPro||e.signature===Ec.DataGridPremium?{api:i.current.getPublicApi()}:{};i.current.eventManager.emit(l,c,u,d)},[i,e.signature]),s=M.useCallback((a,l,c)=>{i.current.eventManager.on(a,l,c);const u=i.current;return()=>{u.eventManager.removeListener(a,l)}},[i]);return qn(i,{subscribeEvent:s,publishEvent:r},"public"),n&&!((o=n.current)!=null&&o.state)&&(n.current=t.current),M.useImperativeHandle(n,()=>t.current,[t]),M.useEffect(()=>{const a=i.current;return()=>{a.publishEvent("unmount")}},[i]),i}const fUe=(n,e)=>{const t=M.useCallback(i=>{if(e.localeText[i]==null)throw new Error(`Missing translation for key ${i}.`);return e.localeText[i]},[e.localeText]);n.current.register("public",{getLocaleText:t})};function Vx(n){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(n)}function gUe(n,e){if(Vx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Vx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function zx(n){var e=gUe(n,"string");return Vx(e)=="symbol"?e:e+""}const pUe=n=>{const e=M.useRef({}),t=M.useRef(!1),i=M.useCallback(u=>{t.current||!u||(t.current=!0,Object.values(u.appliers).forEach(d=>{d()}),t.current=!1)},[]),r=M.useCallback((u,d,h)=>{e.current[u]||(e.current[u]={processors:new Map,processorsAsArray:[],appliers:{}});const f=e.current[u];return f.processors.get(d)!==h&&(f.processors.set(d,h),f.processorsAsArray=Array.from(e.current[u].processors.values()),i(f)),()=>{e.current[u].processors.delete(d),e.current[u].processorsAsArray=Array.from(e.current[u].processors.values())}},[i]),s=M.useCallback((u,d,h)=>(e.current[u]||(e.current[u]={processors:new Map,processorsAsArray:[],appliers:{}}),e.current[u].appliers[d]=h,()=>{const f=e.current[u].appliers,p=rn(f,[d].map(zx));e.current[u].appliers=p}),[]),o=M.useCallback(u=>{i(e.current[u])},[i]),a=M.useCallback((...u)=>{const[d,h,f]=u;if(!e.current[d])return h;const p=e.current[d].processorsAsArray;let m=h;for(let v=0;v<p.length;v+=1)m=p[v](m,f);return m},[]),l={registerPipeProcessor:r,registerPipeApplier:s,requestPipeProcessorsApplication:o},c={unstable_applyPipeProcessors:a};qn(n,l,"private"),qn(n,c,"public")},Or=(n,e,t)=>{const i=M.useRef(null),r=M.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=M.useCallback(()=>{i.current=n.current.registerPipeProcessor(e,r.current,t)},[n,t,e]);nL(()=>{s()});const o=M.useRef(!0);M.useEffect(()=>(o.current?o.current=!1:s(),()=>{i.current&&(i.current(),i.current=null)}),[s])},pU=(n,e,t)=>{const i=M.useRef(null),r=M.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=M.useCallback(()=>{i.current=n.current.registerPipeApplier(e,r.current,t)},[n,t,e]);nL(()=>{s()});const o=M.useRef(!0);M.useEffect(()=>(o.current?o.current=!1:s(),()=>{i.current&&(i.current(),i.current=null)}),[s])},uI=(n,e,t,i)=>{const r=M.useCallback(()=>{n.current.registerStrategyProcessor(e,t,i)},[n,i,t,e]);nL(()=>{r()});const s=M.useRef(!0);M.useEffect(()=>{s.current?s.current=!1:r()},[r])},av="none",tie={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},mUe=n=>{const e=M.useRef(new Map),t=M.useRef({}),i=M.useCallback((l,c,u)=>{const d=()=>{const p=t.current[c],m=rn(p,[l].map(zx));t.current[c]=m};t.current[c]||(t.current[c]={});const h=t.current[c],f=h[l];return h[l]=u,!f||f===u||l===n.current.getActiveStrategy(tie[c])&&n.current.publishEvent("activeStrategyProcessorChange",c),d},[n]),r=M.useCallback((l,c)=>{const u=n.current.getActiveStrategy(tie[l]);if(u==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const d=t.current[l];if(!d||!d[u])throw new Error(`No processor found for processor "${l}" on strategy "${u}"`);const h=d[u];return h(c)},[n]),s=M.useCallback(l=>{const u=Array.from(e.current.entries()).find(([,d])=>d.group!==l?!1:d.isAvailable());return(u==null?void 0:u[0])??av},[]),o=M.useCallback((l,c,u)=>{e.current.set(c,{group:l,isAvailable:u}),n.current.publishEvent("strategyAvailabilityChange")},[n]);qn(n,{registerStrategyProcessor:i,applyStrategyProcessor:r,getActiveStrategy:s,setStrategyAvailability:o},"private")},bUe=n=>{const e=M.useRef({}),[,t]=M.useState(),i=M.useCallback(c=>{e.current[c.stateId]=c},[]),r=M.useCallback((c,u)=>{let d;if(abe(c)?d=c(n.current.state):d=c,n.current.state===d)return!1;let h=!1;const f=[];if(Object.keys(e.current).forEach(p=>{const m=e.current[p],v=m.stateSelector(n.current.state,n.current.instanceId),C=m.stateSelector(d,n.current.instanceId);C!==v&&(f.push({stateId:m.stateId,hasPropChanged:C!==m.propModel}),m.propModel!==void 0&&C!==m.propModel&&(h=!0))}),f.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${f[0].stateId}, therefore, you're not allowed to update ${f.map(p=>p.stateId).join(", ")} in the same transaction.`);if(h||(n.current.state=d,n.current.publishEvent("stateChange",d),n.current.store.update(d)),f.length===1){const{stateId:p,hasPropChanged:m}=f[0],v=e.current[p],C=v.stateSelector(d,n.current.instanceId);v.propOnChange&&m&&v.propOnChange(C,{reason:u,api:n.current}),h||n.current.publishEvent(v.changeEvent,C,{reason:u})}return!h},[n]),s=M.useCallback((c,u,d)=>n.current.setState(h=>te({},h,{[c]:u(h[c])}),d),[n]),o=M.useCallback(()=>t(()=>n.current.state),[n]),a={setState:r,forceUpdate:o},l={updateControlState:s,registerControlState:i};qn(n,a,"public"),qn(n,l,"private")},vUe=(n,e)=>{const t=hUe(n,e);return iUe(t),rUe(t),aUe(t,e),bUe(t),pUe(t),mUe(t),fUe(t,e),t.current.register("private",{rootProps:e}),t},ho=(n,e,t)=>{const i=M.useRef(!1);i.current||(e.current.state=n(e.current.state,t,e),i.current=!0)};function z8(n,e){if(n==null)return"";const t=typeof n=="string"?n:`${n}`;if(e.shouldAppendQuotes||e.escapeFormulas){const i=t.replace(/"/g,'""');return e.escapeFormulas&&["=","+","-","@","	","\r"].includes(i[0])?`"'${i}"`:[e.delimiter,`
`,"\r",'"'].some(r=>t.includes(r))?`"${i}"`:i}return t}const yve=(n,e)=>{var s,o;const{csvOptions:t,ignoreValueFormatter:i}=e;let r;if(i){const a=n.colDef.type;a==="number"?r=String(n.value):a==="date"||a==="dateTime"?r=(s=n.value)==null?void 0:s.toISOString():typeof((o=n.value)==null?void 0:o.toString)=="function"?r=n.value.toString():r=n.value}else r=n.formattedValue;return z8(r,t)};class W8{constructor(e){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(e,this.options.csvOptions):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}const yUe=({id:n,columns:e,getCellParams:t,csvOptions:i,ignoreValueFormatter:r})=>{const s=new W8({csvOptions:i});return e.forEach(o=>{const a=t(n,o.field);s.addValue(yve(a,{ignoreValueFormatter:r,csvOptions:i}))}),s.getRowString()};function CUe(n){const{columns:e,rowIds:t,csvOptions:i,ignoreValueFormatter:r,apiRef:s}=n,o=t.reduce((d,h)=>`${d}${yUe({id:h,columns:e,getCellParams:s.current.getCellParams,ignoreValueFormatter:r,csvOptions:i})}\r
`,"").trim();if(!i.includeHeaders)return o;const a=e.filter(d=>d.field!==N0.field),l=[];if(i.includeColumnGroupsHeaders){const d=s.current.getAllGroupDetails();let h=0;const f=a.reduce((p,m)=>{const v=s.current.getColumnGroupPath(m.field);return p[m.field]=v,h=Math.max(h,v.length),p},{});for(let p=0;p<h;p+=1){const m=new W8({csvOptions:i,sanitizeCellValue:z8});l.push(m),a.forEach(v=>{const C=(f[v.field]||[])[p],y=d[C];m.addValue(y?y.headerName||y.groupId:"")})}}const c=new W8({csvOptions:i,sanitizeCellValue:z8});return a.forEach(d=>{c.addValue(d.headerName||d.field)}),l.push(c),`${`${l.map(d=>d.getRowString()).join(`\r
`)}\r
`}${o}`.trim()}function nie(n){const e=document.createElement("span");e.style.whiteSpace="pre",e.style.userSelect="all",e.style.opacity="0px",e.textContent=n,document.body.appendChild(e);const t=document.createRange();t.selectNode(e);const i=window.getSelection();i.removeAllRanges(),i.addRange(t);try{document.execCommand("copy")}finally{document.body.removeChild(e)}}function _Ue(n){navigator.clipboard?navigator.clipboard.writeText(n).catch(()=>{nie(n)}):nie(n)}function wUe(n){var e;return!!((e=window.getSelection())!=null&&e.toString()||n&&(n.selectionEnd||0)-(n.selectionStart||0)>0)}const SUe=(n,e)=>{const t=e.ignoreValueFormatterDuringExport,i=(typeof t=="object"?t==null?void 0:t.clipboardExport:t)||!1,r=e.clipboardCopyCellDelimiter,s=M.useCallback(o=>{if(!Aze(o)||wUe(o.target))return;let a="";if(n.current.getSelectedRows().size>0)a=n.current.getDataAsCsv({includeHeaders:!1,delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1});else{const c=Ga(n);if(c){const u=n.current.getCellParams(c.id,c.field);a=yve(u,{csvOptions:{delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:i})}}a=n.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(_Ue(a),n.current.publishEvent("clipboardCopy",a))},[n,i,r]);Mbe(n,n.current.rootElementRef,"keydown",s),pr(n,"clipboardCopy",e.onClipboardCopy)},xUe=n=>te({},n,{columnMenu:{open:!1}}),kUe=n=>{const e=io(n,"useGridColumnMenu"),t=M.useCallback(o=>{const a=U2(n.current.state),l={open:!0,field:o};(l.open!==a.open||l.field!==a.field)&&(n.current.setState(u=>u.columnMenu.open&&u.columnMenu.field===o?u:(e.debug("Opening Column Menu"),te({},u,{columnMenu:{open:!0,field:o}}))),n.current.hidePreferences())},[n,e]),i=M.useCallback(()=>{const o=U2(n.current.state);if(o.field){const c=Wf(n),u=wc(n),d=bf(n);let h=o.field;if(c[h]||(h=d[0]),u[h]===!1){const f=d.filter(m=>m===h?!0:u[m]!==!1),p=f.indexOf(h);h=f[p+1]||f[p-1]}n.current.setColumnHeaderFocus(h)}const a={open:!1,field:void 0};(a.open!==o.open||a.field!==o.field)&&n.current.setState(c=>(e.debug("Hiding Column Menu"),te({},c,{columnMenu:a})))},[n,e]),r=M.useCallback(o=>{e.debug("Toggle Column Menu");const a=U2(n.current.state);!a.open||a.field!==o?t(o):i()},[n,e,t,i]);qn(n,{showColumnMenu:t,hideColumnMenu:i,toggleColumnMenu:r},"public"),$t(n,"columnResizeStart",i),$t(n,"virtualScrollerWheel",n.current.hideColumnMenu),$t(n,"virtualScrollerTouchMove",n.current.hideColumnMenu)},LUe=(n,e,t)=>{var r,s,o;const i=cy({apiRef:t,columnsToUpsert:e.columns,initialState:(r=e.initialState)==null?void 0:r.columns,columnVisibilityModel:e.columnVisibilityModel??((o=(s=e.initialState)==null?void 0:s.columns)==null?void 0:o.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return te({},n,{columns:i,pinnedColumns:n.pinnedColumns??D8})};function EUe(n,e){var I,R;const t=io(n,"useGridColumns"),i=M.useRef(e.columns);n.current.registerControlState({stateId:"visibleColumns",propModel:e.columnVisibilityModel,propOnChange:e.onColumnVisibilityModelChange,stateSelector:wc,changeEvent:"columnVisibilityModelChange"});const r=M.useCallback(N=>{var O,F;t.debug("Updating columns state."),n.current.setState(iie(N)),n.current.publishEvent("columnsChange",N.orderedFields),(F=(O=n.current).updateRenderContext)==null||F.call(O),n.current.forceUpdate()},[t,n]),s=M.useCallback(N=>Wf(n)[N],[n]),o=M.useCallback(()=>Su(n),[n]),a=M.useCallback(()=>ps(n),[n]),l=M.useCallback((N,O=!0)=>(O?ps(n):Su(n)).findIndex(A=>A.field===N),[n]),c=M.useCallback(N=>{const O=l(N);return Qp(n)[O]},[n,l]),u=M.useCallback(N=>{var F,A;wc(n)!==N&&(n.current.setState(H=>te({},H,{columns:cy({apiRef:n,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:N,keepOnlyColumnsToUpsert:!1})})),(A=(F=n.current).updateRenderContext)==null||A.call(F),n.current.forceUpdate())},[n]),d=M.useCallback(N=>{const O=cy({apiRef:n,columnsToUpsert:N,initialState:void 0,keepOnlyColumnsToUpsert:!1});r(O)},[n,r]),h=M.useCallback((N,O)=>{const F=wc(n),A=F[N]??!0;if(O!==A){const H=te({},F,{[N]:O});n.current.setColumnVisibilityModel(H)}},[n]),f=M.useCallback(N=>bf(n).findIndex(F=>F===N),[n]),p=M.useCallback((N,O)=>{const F=bf(n),A=f(N);if(A===O)return;t.debug(`Moving column ${N} to index ${O}`);const H=[...F],W=H.splice(A,1)[0];H.splice(O,0,W),r(te({},Md(n.current.state),{orderedFields:H}));const $={column:n.current.getColumn(N),targetIndex:n.current.getColumnIndexRelativeToVisibleColumns(N),oldIndex:A};n.current.publishEvent("columnIndexChange",$)},[n,t,r,f]),m=M.useCallback((N,O)=>{t.debug(`Updating column ${N} width to ${O}`);const F=Md(n.current.state),A=F.lookup[N],H=te({},A,{width:O,hasBeenResized:!0});r(R8(te({},F,{lookup:te({},F.lookup,{[N]:H})}),n.current.getRootDimensions())),n.current.publishEvent("columnWidthChange",{element:n.current.getColumnHeaderElement(N),colDef:H,width:O})},[n,t,r]),v={getColumn:s,getAllColumns:o,getColumnIndex:l,getColumnPosition:c,getVisibleColumns:a,getColumnIndexRelativeToVisibleColumns:f,updateColumns:d,setColumnVisibilityModel:u,setColumnVisibility:h,setColumnWidth:m},C={setColumnIndex:p};qn(n,v,"public"),qn(n,C,e.signature===Ec.DataGrid?"private":"public");const y=M.useCallback((N,O)=>{var U,z;const F={},A=wc(n);(!O.exportOnlyDirtyModels||e.columnVisibilityModel!=null||Object.keys(((z=(U=e.initialState)==null?void 0:U.columns)==null?void 0:z.columnVisibilityModel)??{}).length>0||Object.keys(A).length>0)&&(F.columnVisibilityModel=A),F.orderedFields=bf(n);const W=Su(n),$={};return W.forEach(K=>{if(K.hasBeenResized){const Z={};$be.forEach(Q=>{let G=K[Q];G===1/0&&(G=-1),Z[Q]=G}),$[K.field]=Z}}),Object.keys($).length>0&&(F.dimensions=$),te({},N,{columns:F})},[n,e.columnVisibilityModel,(I=e.initialState)==null?void 0:I.columns]),w=M.useCallback((N,O)=>{var W;const F=(W=O.stateToRestore.columns)==null?void 0:W.columnVisibilityModel,A=O.stateToRestore.columns;if(F==null&&A==null)return N;const H=cy({apiRef:n,columnsToUpsert:[],initialState:A,columnVisibilityModel:F,keepOnlyColumnsToUpsert:!1});return n.current.setState(iie(H)),A!=null&&n.current.publishEvent("columnsChange",H.orderedFields),N},[n]),_=M.useCallback((N,O)=>{var F;if(O===ov.columns){const A=e.slots.columnsPanel;return V.jsx(A,te({},(F=e.slotProps)==null?void 0:F.columnsPanel))}return N},[e.slots.columnsPanel,(R=e.slotProps)==null?void 0:R.columnsPanel]),x=M.useCallback(N=>e.disableColumnSelector?N:[...N,"columnMenuColumnsItem"],[e.disableColumnSelector]);Or(n,"columnMenu",x),Or(n,"exportState",y),Or(n,"restoreState",w),Or(n,"preferencePanel",_);const k=M.useRef(null);$t(n,"viewportInnerSizeChange",N=>{k.current!==N.width&&(k.current=N.width,r(R8(Md(n.current.state),n.current.getRootDimensions())))});const T=M.useCallback(()=>{t.info("Columns pipe processing have changed, regenerating the columns");const N=cy({apiRef:n,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(N)},[n,t,r]);pU(n,"hydrateColumns",T);const L=M.useRef(!0);M.useEffect(()=>{if(L.current){L.current=!1;return}if(t.info(`GridColumns have changed, new length ${e.columns.length}`),i.current===e.columns)return;const N=cy({apiRef:n,initialState:void 0,columnsToUpsert:e.columns,keepOnlyColumnsToUpsert:!0});i.current=e.columns,r(N)},[t,n,r,e.columns]),M.useEffect(()=>{e.columnVisibilityModel!==void 0&&n.current.setColumnVisibilityModel(e.columnVisibilityModel)},[n,t,e.columnVisibilityModel])}function iie(n){return e=>te({},e,{columns:n})}const DUe=(n,e)=>{var t;return te({},n,{density:((t=e.initialState)==null?void 0:t.density)??e.density??"standard"})},TUe=(n,e)=>{var a;const t=io(n,"useDensity");n.current.registerControlState({stateId:"density",propModel:e.density,propOnChange:e.onDensityChange,stateSelector:py,changeEvent:"densityChange"});const r={setDensity:li(l=>{py(n.current.state)!==l&&(t.debug(`Set grid density to ${l}`),n.current.setState(u=>te({},u,{density:l})))})};qn(n,r,"public");const s=M.useCallback((l,c)=>{var h;const u=py(n.current.state);return!c.exportOnlyDirtyModels||e.density!=null||((h=e.initialState)==null?void 0:h.density)!=null?te({},l,{density:u}):l},[n,e.density,(a=e.initialState)==null?void 0:a.density]),o=M.useCallback((l,c)=>{var d;const u=(d=c.stateToRestore)!=null&&d.density?c.stateToRestore.density:py(n.current.state);return n.current.setState(h=>te({},h,{density:u})),l},[n]);Or(n,"exportState",s),Or(n,"restoreState",o),M.useEffect(()=>{e.density&&n.current.setDensity(e.density)},[n,e.density])};function IUe(n,e="csv",t=document.title||"untitled"){const i=`${t}.${e}`;if("download"in HTMLAnchorElement.prototype){const r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=i,s.click(),setTimeout(()=>{URL.revokeObjectURL(r)});return}throw new Error("MUI X: exportAs not supported.")}const Cve=({apiRef:n,options:e})=>{const t=Su(n);return e.fields?e.fields.reduce((r,s)=>{const o=t.find(a=>a.field===s);return o&&r.push(o),r},[]):(e.allColumns?t:ps(n)).filter(r=>!r.disableExport)},_ve=({apiRef:n})=>{var l,c;const e=Lbe(n),t=Bo(n),i=n.current.getSelectedRows(),r=e.filter(u=>t[u].type!=="footer"),s=Av(n),o=((l=s==null?void 0:s.top)==null?void 0:l.map(u=>u.id))||[],a=((c=s==null?void 0:s.bottom)==null?void 0:c.map(u=>u.id))||[];return r.unshift(...o),r.push(...a),i.size>0?r.filter(u=>i.has(u)):r},MUe=(n,e)=>{const t=io(n,"useGridCsvExport"),i=e.ignoreValueFormatterDuringExport,r=(typeof i=="object"?i==null?void 0:i.csvExport:i)||!1,s=M.useCallback((c={})=>{t.debug("Get data as CSV");const u=Cve({apiRef:n,options:c}),h=(c.getRowsToExport??_ve)({apiRef:n});return CUe({columns:u,rowIds:h,csvOptions:{delimiter:c.delimiter||",",shouldAppendQuotes:c.shouldAppendQuotes??!0,includeHeaders:c.includeHeaders??!0,includeColumnGroupsHeaders:c.includeColumnGroupsHeaders??!0,escapeFormulas:c.escapeFormulas??!0},ignoreValueFormatter:r,apiRef:n})},[t,n,r]),o=M.useCallback(c=>{t.debug("Export data as CSV");const u=s(c),d=new Blob([c!=null&&c.utf8WithBom?new Uint8Array([239,187,191]):"",u],{type:"text/csv"});IUe(d,"csv",c==null?void 0:c.fileName)},[t,s]);qn(n,{getDataAsCsv:s,exportDataAsCsv:o},"public");const l=M.useCallback((c,u)=>{var d;return(d=u.csvOptions)!=null&&d.disableToolbarButton?c:[...c,{component:V.jsx(K$e,{options:u.csvOptions}),componentName:"csvExport"}]},[]);Or(n,"exportMenu",l)},q2=(n,e,t)=>{let i=n.paginationModel;const r=n.rowCount,s=(t==null?void 0:t.pageSize)??i.pageSize,o=(t==null?void 0:t.page)??i.page,a=Rbe(r,s,o);t&&((t==null?void 0:t.page)!==i.page||(t==null?void 0:t.pageSize)!==i.pageSize)&&(i=t);const l=E6e(i.page,a);return l!==i.page&&(i=te({},i,{page:l})),Abe(i.pageSize,e),i},RUe=(n,e)=>{var m,v;const t=io(n,"useGridPaginationModel"),i=bt(n,eL),r=Math.floor(e.rowHeight*i);n.current.registerControlState({stateId:"paginationModel",propModel:e.paginationModel,propOnChange:e.onPaginationModelChange,stateSelector:Da,changeEvent:"paginationModelChange"});const s=M.useCallback(C=>{const y=Da(n);C!==y.page&&(t.debug(`Setting page to ${C}`),n.current.setPaginationModel({page:C,pageSize:y.pageSize}))},[n,t]),o=M.useCallback(C=>{const y=Da(n);C!==y.pageSize&&(t.debug(`Setting page size to ${C}`),n.current.setPaginationModel({pageSize:C,page:y.page}))},[n,t]),a=M.useCallback(C=>{const y=Da(n);C!==y&&(t.debug("Setting 'paginationModel' to",C),n.current.setState(w=>te({},w,{pagination:te({},w.pagination,{paginationModel:q2(w.pagination,e.signature,C)})}),"setPaginationModel"))},[n,t,e.signature]);qn(n,{setPage:s,setPageSize:o,setPaginationModel:a},"public");const c=M.useCallback((C,y)=>{var x,k;const w=Da(n);return!y.exportOnlyDirtyModels||e.paginationModel!=null||((k=(x=e.initialState)==null?void 0:x.pagination)==null?void 0:k.paginationModel)!=null||w.page!==0&&w.pageSize!==L6e(e.autoPageSize)?te({},C,{pagination:te({},C.pagination,{paginationModel:w})}):C},[n,e.paginationModel,(v=(m=e.initialState)==null?void 0:m.pagination)==null?void 0:v.paginationModel,e.autoPageSize]),u=M.useCallback((C,y)=>{var _,x;const w=(_=y.stateToRestore.pagination)!=null&&_.paginationModel?te({},Nbe(e.autoPageSize),(x=y.stateToRestore.pagination)==null?void 0:x.paginationModel):Da(n);return n.current.setState(k=>te({},k,{pagination:te({},k.pagination,{paginationModel:q2(k.pagination,e.signature,w)})}),"stateRestorePreProcessing"),C},[n,e.autoPageSize,e.signature]);Or(n,"exportState",c),Or(n,"restoreState",u);const d=()=>{var y;const C=Da(n);(y=n.current.virtualScrollerRef)!=null&&y.current&&n.current.scrollToIndexes({rowIndex:C.page*C.pageSize})},h=M.useCallback(()=>{if(!e.autoPageSize)return;const C=n.current.getRootDimensions(),y=Math.floor(C.viewportInnerSize.height/r);n.current.setPageSize(y)},[n,e.autoPageSize,r]),f=M.useCallback(C=>{if(C==null)return;const y=Da(n),w=Obe(n);y.page>w-1&&n.current.setPage(Math.max(0,w-1))},[n]);$t(n,"viewportInnerSizeChange",h),$t(n,"paginationModelChange",d),$t(n,"rowCountChange",f);const p=M.useRef(!0);M.useEffect(()=>{if(p.current){p.current=!1;return}e.pagination&&n.current.setState(C=>te({},C,{pagination:te({},C.pagination,{paginationModel:q2(C.pagination,e.signature,e.paginationModel)})}))},[n,e.paginationModel,e.signature,e.pagination]),M.useEffect(()=>{n.current.setState(C=>{const y=e.pagination===!0;return C.pagination.paginationMode===e.paginationMode||C.pagination.enabled===y?C:te({},C,{pagination:te({},C.pagination,{paginationMode:e.paginationMode,enabled:e.pagination===!0})})})},[n,e.paginationMode,e.pagination]),M.useEffect(h,[h])};function NUe(){return new Promise(n=>{requestAnimationFrame(()=>{n()})})}function AUe(n){const e=document.createElement("iframe");return e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.title=n||document.title,e}const PUe=(n,e)=>{const t=n.current.rootElementRef.current!==null,i=io(n,"useGridPrintExport"),r=M.useRef(null),s=M.useRef(null),o=M.useRef({}),a=M.useRef([]),l=M.useRef(null);M.useEffect(()=>{r.current=Jr(n.current.rootElementRef.current)},[n,t]);const c=M.useCallback((v,C,y)=>new Promise(w=>{const _=Cve({apiRef:n,options:{fields:v,allColumns:C}}).map(D=>D.field),x=Su(n),k={};x.forEach(D=>{k[D.field]=_.includes(D.field)}),y&&(k[N0.field]=!0),n.current.setColumnVisibilityModel(k),w()}),[n]),u=M.useCallback(v=>{const y=v({apiRef:n}).reduce((w,_)=>{const x=n.current.getRow(_);return x[nC]||w.push(x),w},[]);n.current.setRows(y)},[n]),d=M.useCallback((v,C)=>{var F,A,H,W;const y=te({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},C),w=v.contentDocument;if(!w)return;const _=P0(n.current.state),x=n.current.rootElementRef.current,k=x.cloneNode(!0),D=k.querySelector(`.${be.main}`);D.style.overflow="visible",k.style.contain="size";let T=((F=x.querySelector(`.${be.toolbarContainer}`))==null?void 0:F.offsetHeight)||0,L=((A=x.querySelector(`.${be.footerContainer}`))==null?void 0:A.offsetHeight)||0;y.hideToolbar&&((H=k.querySelector(`.${be.toolbarContainer}`))==null||H.remove(),T=0),y.hideFooter&&((W=k.querySelector(`.${be.footerContainer}`))==null||W.remove(),L=0);const I=_.currentPageTotalHeight+nU(n,e)+T+L;if(k.style.height=`${I}px`,k.style.boxSizing="content-box",!y.hideFooter){const $=k.querySelector(`.${be.footerContainer}`);$.style.position="absolute",$.style.width="100%",$.style.top=`${I-L}px`}const R=document.createElement("div");R.appendChild(k),w.body.style.marginTop="0px",w.body.innerHTML=R.innerHTML;const N=typeof y.pageStyle=="function"?y.pageStyle():y.pageStyle;if(typeof N=="string"){const $=w.createElement("style");$.appendChild(w.createTextNode(N)),w.head.appendChild($)}y.bodyClassName&&w.body.classList.add(...y.bodyClassName.split(" "));const O=[];if(y.copyStyles){const $=x.getRootNode(),z=($.constructor.name==="ShadowRoot"?$:r.current).querySelectorAll("style, link[rel='stylesheet']");for(let K=0;K<z.length;K+=1){const Z=z[K];if(Z.tagName==="STYLE"){const Q=w.createElement(Z.tagName),G=Z.sheet;if(G){let J="";for(let ne=0;ne<G.cssRules.length;ne+=1)typeof G.cssRules[ne].cssText=="string"&&(J+=`${G.cssRules[ne].cssText}\r
`);Q.appendChild(w.createTextNode(J)),w.head.appendChild(Q)}}else if(Z.getAttribute("href")){const Q=w.createElement(Z.tagName);for(let G=0;G<Z.attributes.length;G+=1){const J=Z.attributes[G];J&&Q.setAttribute(J.nodeName,J.nodeValue||"")}O.push(new Promise(G=>{Q.addEventListener("load",()=>G())})),w.head.appendChild(Q)}}}Promise.all(O).then(()=>{v.contentWindow.print()})},[n,r,e]),h=M.useCallback(v=>{var C,y;r.current.body.removeChild(v),n.current.restoreState(s.current||{}),(y=(C=s.current)==null?void 0:C.columns)!=null&&y.columnVisibilityModel||n.current.setColumnVisibilityModel(o.current),n.current.setState(w=>te({},w,{virtualization:l.current})),n.current.setRows(a.current),s.current=null,o.current={},a.current=[]},[n]),p={exportDataAsPrint:M.useCallback(async v=>{if(i.debug("Export data as Print"),!n.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(s.current=n.current.exportState(),o.current=wc(n),a.current=n.current.getSortedRows().filter(y=>!y[nC]),e.pagination){const w={page:0,pageSize:Xj(n)};n.current.setState(_=>te({},_,{pagination:te({},_.pagination,{paginationModel:q2(_.pagination,"DataGridPro",w)})}))}l.current=n.current.state.virtualization,n.current.setState(y=>te({},y,{virtualization:te({},y.virtualization,{enabled:!1,enabledForColumns:!1})})),await c(v==null?void 0:v.fields,v==null?void 0:v.allColumns,v==null?void 0:v.includeCheckboxes),u((v==null?void 0:v.getRowsToExport)??_ve),await NUe();const C=AUe(v==null?void 0:v.fileName);C.onload=()=>{d(C,v),C.contentWindow.matchMedia("print").addEventListener("change",w=>{w.matches===!1&&h(C)})},r.current.body.appendChild(C)},[e,i,n,d,h,c,u])};qn(n,p,"public");const m=M.useCallback((v,C)=>{var y;return(y=C.printOptions)!=null&&y.disableToolbarButton?v:[...v,{component:V.jsx(Q$e,{options:C.printOptions}),componentName:"printExport"}]},[]);Or(n,"exportMenu",m)},OUe=(n,e,t)=>{var r,s;const i=e.filterModel??((s=(r=e.initialState)==null?void 0:r.filter)==null?void 0:s.filterModel)??Fx();return te({},n,{filter:{filterModel:Gj(i,e.disableMultipleColumnsFiltering,t),filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},FUe=n=>n.filteredRowsLookup;function rie(n,e){return n.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:e.rows.tree,filteredRowsLookup:e.filter.filteredRowsLookup})}function BUe(){return Jme(Object.values)}const HUe=(n,e)=>{var L,I,R;const t=io(n,"useGridFilter");n.current.registerControlState({stateId:"filter",propModel:e.filterModel,propOnChange:e.onFilterModelChange,stateSelector:bo,changeEvent:"filterModelChange"});const i=M.useCallback(()=>{n.current.setState(N=>{const O=bo(N,n.current.instanceId),F=n.current.getFilterState(O),A=te({},N,{filter:te({},N.filter,F)}),H=rie(n,A);return te({},A,{visibleRowsLookup:H})}),n.current.publishEvent("filteredRowsSet")},[n]),r=M.useCallback((N,O)=>O==null||O.filterable===!1||e.disableColumnFilter?N:[...N,"columnMenuFilterItem"],[e.disableColumnFilter]),s=M.useCallback(()=>{i(),n.current.forceUpdate()},[n,i]),o=M.useCallback(N=>{const O=bo(n),F=[...O.items],A=F.findIndex(H=>H.id===N.id);A===-1?F.push(N):F[A]=N,n.current.setFilterModel(te({},O,{items:F}),"upsertFilterItem")},[n]),a=M.useCallback(N=>{const O=bo(n),F=[...O.items];N.forEach(A=>{const H=F.findIndex(W=>W.id===A.id);H===-1?F.push(A):F[H]=A}),n.current.setFilterModel(te({},O,{items:F}),"upsertFilterItems")},[n]),l=M.useCallback(N=>{const O=bo(n),F=O.items.filter(A=>A.id!==N.id);F.length!==O.items.length&&n.current.setFilterModel(te({},O,{items:F}),"deleteFilterItem")},[n]),c=M.useCallback((N,O,F)=>{if(t.debug("Displaying filter panel"),N){const A=bo(n),H=A.items.filter(z=>{var G;if(z.value!==void 0)return!(Array.isArray(z.value)&&z.value.length===0);const Z=(G=n.current.getColumn(z.field).filterOperators)==null?void 0:G.find(J=>J.value===z.operator);return!(typeof(Z==null?void 0:Z.requiresFilterValue)>"u"?!0:Z==null?void 0:Z.requiresFilterValue)});let W;const $=H.find(z=>z.field===N),U=n.current.getColumn(N);$?W=H:e.disableMultipleColumnsFiltering?W=[M8({field:N,operator:U.filterOperators[0].value},n)]:W=[...H,M8({field:N,operator:U.filterOperators[0].value},n)],n.current.setFilterModel(te({},A,{items:W}))}n.current.showPreferences(ov.filters,O,F)},[n,t,e.disableMultipleColumnsFiltering]),u=M.useCallback(()=>{t.debug("Hiding filter panel"),n.current.hidePreferences()},[n,t]),d=M.useCallback(N=>{const O=bo(n);O.logicOperator!==N&&n.current.setFilterModel(te({},O,{logicOperator:N}),"changeLogicOperator")},[n]),h=M.useCallback(N=>{const O=bo(n);tC(O.quickFilterValues,N)||n.current.setFilterModel(te({},O,{quickFilterValues:[...N]}))},[n]),f=M.useCallback((N,O)=>{bo(n)!==N&&(t.debug("Setting filter model"),n.current.updateControlState("filter",tne(N,e.disableMultipleColumnsFiltering,n),O),n.current.unstable_applyFilters())},[n,t,e.disableMultipleColumnsFiltering]),p=M.useCallback(N=>{const O=Gj(N,e.disableMultipleColumnsFiltering,n),F=e.filterMode==="client"?w7e(O,n,e.disableEval):null,A=n.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:F,filterModel:O??Fx()});return te({},A,{filterModel:O})},[e.disableMultipleColumnsFiltering,e.filterMode,e.disableEval,n]),m={setFilterLogicOperator:d,unstable_applyFilters:s,deleteFilterItem:l,upsertFilterItem:o,upsertFilterItems:a,setFilterModel:f,showFilterPanel:c,hideFilterPanel:u,setQuickFilterValues:h,ignoreDiacritics:e.ignoreDiacritics,getFilterState:p};qn(n,m,"public");const v=M.useCallback((N,O)=>{var H,W;const F=bo(n);return!O.exportOnlyDirtyModels||e.filterModel!=null||((W=(H=e.initialState)==null?void 0:H.filter)==null?void 0:W.filterModel)!=null||!tC(F,Fx())?te({},N,{filter:{filterModel:F}}):N},[n,e.filterModel,(I=(L=e.initialState)==null?void 0:L.filter)==null?void 0:I.filterModel]),C=M.useCallback((N,O)=>{var A;const F=(A=O.stateToRestore.filter)==null?void 0:A.filterModel;return F==null?N:(n.current.updateControlState("filter",tne(F,e.disableMultipleColumnsFiltering,n),"restoreState"),te({},N,{callbacks:[...N.callbacks,n.current.unstable_applyFilters]}))},[n,e.disableMultipleColumnsFiltering]),y=M.useCallback((N,O)=>{var F;if(O===ov.filters){const A=e.slots.filterPanel;return V.jsx(A,te({},(F=e.slotProps)==null?void 0:F.filterPanel))}return N},[e.slots.filterPanel,(R=e.slotProps)==null?void 0:R.filterPanel]),{getRowId:w}=e,_=Uc(BUe),x=M.useCallback(N=>{if(e.filterMode!=="client"||!N.isRowMatchingFilters)return{filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}};const O=Ld(n),F={},{isRowMatchingFilters:A}=N,H={},W={passingFilterItems:null,passingQuickFilterValues:null},$=_.current(n.current.state.rows.dataRowIdToModelLookup);for(let K=0;K<$.length;K+=1){const Z=$[K],Q=w?w(Z):Z.id;A(Z,void 0,W);const G=x7e([W.passingFilterItems],[W.passingQuickFilterValues],N.filterModel,n,H);F[Q]=G}const U="auto-generated-group-footer-root";return O[U]&&(F[U]=!0),{filteredRowsLookup:F,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[n,e.filterMode,w,_]);Or(n,"columnMenu",r),Or(n,"exportState",v),Or(n,"restoreState",C),Or(n,"preferencePanel",y),uI(n,av,"filtering",x),uI(n,av,"visibleRowsLookupCreation",FUe);const k=M.useCallback(()=>{t.debug("onColUpdated - GridColumns changed, applying filters");const N=bo(n),O=Wf(n),F=N.items.filter(A=>A.field&&O[A.field]);F.length<N.items.length&&n.current.setFilterModel(te({},N,{items:F}))},[n,t]),D=M.useCallback(N=>{N==="filtering"&&n.current.unstable_applyFilters()},[n]),T=M.useCallback(()=>{n.current.setState(N=>te({},N,{visibleRowsLookup:rie(n,N)})),n.current.forceUpdate()},[n]);$t(n,"rowsSet",i),$t(n,"columnsChange",k),$t(n,"activeStrategyProcessorChange",D),$t(n,"rowExpansionChange",T),$t(n,"columnVisibilityModelChange",()=>{const N=bo(n);N.quickFilterValues&&pbe(N)&&n.current.unstable_applyFilters()}),nL(()=>{n.current.unstable_applyFilters()}),ar(()=>{e.filterModel!==void 0&&n.current.setFilterModel(e.filterModel)},[n,t,e.filterModel])},VUe=n=>te({},n,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),zUe=(n,e)=>{const t=io(n,"useGridFocus"),i=M.useRef(null),r=n.current.rootElementRef.current!==null,s=M.useCallback((T,L)=>{T&&n.current.getRow(T.id)&&n.current.publishEvent("cellFocusOut",n.current.getCellParams(T.id,T.field),L)},[n]),o=M.useCallback((T,L)=>{const I=Ga(n);(I==null?void 0:I.id)===T&&(I==null?void 0:I.field)===L||(n.current.setState(R=>(t.debug(`Focusing on cell with id=${T} and field=${L}`),te({},R,{tabIndex:{cell:{id:T,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:T,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),n.current.forceUpdate(),n.current.getRow(T)&&(I&&s(I,{}),n.current.publishEvent("cellFocusIn",n.current.getCellParams(T,L))))},[n,t,s]),a=M.useCallback((T,L={})=>{const I=Ga(n);s(I,L),n.current.setState(R=>(t.debug(`Focusing on column header with colIndex=${T}`),te({},R,{tabIndex:{columnHeader:{field:T},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:T},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),n.current.forceUpdate()},[n,t,s]),l=M.useCallback((T,L={})=>{const I=Ga(n);s(I,L),n.current.setState(R=>(t.debug(`Focusing on column header filter with colIndex=${T}`),te({},R,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:T},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:T},cell:null,columnGroupHeader:null}}))),n.current.forceUpdate()},[n,t,s]),c=M.useCallback((T,L,I={})=>{const R=Ga(n);R&&n.current.publishEvent("cellFocusOut",n.current.getCellParams(R.id,R.field),I),n.current.setState(N=>te({},N,{tabIndex:{columnGroupHeader:{field:T,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:T,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null}})),n.current.forceUpdate()},[n]),u=M.useCallback(()=>iI(n),[n]),d=M.useCallback((T,L,I)=>{let R=n.current.getColumnIndex(L);const N=ps(n),O=rC(n,{pagination:e.pagination,paginationMode:e.paginationMode}),F=Av(n),A=[].concat(F.top||[],O.rows,F.bottom||[]);let H=A.findIndex(z=>z.id===T);I==="right"?R+=1:I==="left"?R-=1:H+=1,R>=N.length?(H+=1,H<A.length&&(R=0)):R<0&&(H-=1,H>=0&&(R=N.length-1)),H=Rd(H,0,A.length-1);const W=A[H];if(!W)return;const $=n.current.unstable_getCellColSpanInfo(W.id,R);$&&$.spannedByColSpan&&(I==="left"||I==="below"?R=$.leftVisibleCellIndex:I==="right"&&(R=$.rightVisibleCellIndex)),R=Rd(R,0,N.length-1);const U=N[R];n.current.setCellFocus(W.id,U.field)},[n,e.pagination,e.paginationMode]),h=M.useCallback(({id:T,field:L})=>{n.current.setCellFocus(T,L)},[n]),f=M.useCallback((T,L)=>{L.key==="Enter"||L.key==="Tab"||L.key==="Shift"||aI(L.key)||n.current.setCellFocus(T.id,T.field)},[n]),p=M.useCallback(({field:T},L)=>{L.target===L.currentTarget&&n.current.setColumnHeaderFocus(T,L)},[n]),m=M.useCallback(({fields:T,depth:L},I)=>{if(I.target!==I.currentTarget)return;const R=iI(n);R!==null&&R.depth===L&&T.includes(R.field)||n.current.setColumnGroupHeaderFocus(T[0],L,I)},[n]),v=M.useCallback((T,L)=>{var I,R;(R=(I=L.relatedTarget)==null?void 0:I.getAttribute("class"))!=null&&R.includes(be.columnHeader)||(t.debug("Clearing focus"),n.current.setState(N=>te({},N,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[t,n]),C=M.useCallback(T=>{i.current=T},[]),y=M.useCallback(T=>{const L=i.current;i.current=null;const I=Ga(n);if(!n.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:T,cell:L}))return;if(!I){L&&n.current.setCellFocus(L.id,L.field);return}if((L==null?void 0:L.id)===I.id&&(L==null?void 0:L.field)===I.field)return;const N=n.current.getCellElement(I.id,I.field);N!=null&&N.contains(T.target)||(L?n.current.setCellFocus(L.id,L.field):(n.current.setState(O=>te({},O,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),n.current.forceUpdate(),s(I,T)))},[n,s]),w=M.useCallback(T=>{if(T.cellMode==="view")return;const L=Ga(n);((L==null?void 0:L.id)!==T.id||(L==null?void 0:L.field)!==T.field)&&n.current.setCellFocus(T.id,T.field)},[n]),_=M.useCallback(()=>{var L;const T=Ga(n);if(T&&!n.current.getRow(T.id)){const I=(L=Ga(n))==null?void 0:L.id;let R=null;if(typeof I<"u"){const N=n.current.getRowIndexRelativeToVisibleRows(I),O=rC(n,{pagination:e.pagination,paginationMode:e.paginationMode}),F=O.rows[Rd(N,0,O.rows.length-1)];R=(F==null?void 0:F.id)??null}n.current.setState(N=>te({},N,{focus:{cell:R===null?null:{id:R,field:T.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[n,e.pagination,e.paginationMode]),x=li(()=>{const T=Ga(n);if(!T)return;const L=rC(n,{pagination:e.pagination,paginationMode:e.paginationMode});if(L.rows.find(N=>N.id===T.id))return;const R=ps(n);n.current.setState(N=>te({},N,{tabIndex:{cell:{id:L.rows[0].id,field:R[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),k={setCellFocus:o,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:l},D={moveFocusToRelativeCell:d,setColumnGroupHeaderFocus:c,getColumnGroupHeaderFocus:u};qn(n,k,"public"),qn(n,D,"private"),M.useEffect(()=>{const T=Jr(n.current.rootElementRef.current);return T.addEventListener("mouseup",y),()=>{T.removeEventListener("mouseup",y)}},[n,r,y]),$t(n,"columnHeaderBlur",v),$t(n,"cellDoubleClick",h),$t(n,"cellMouseDown",C),$t(n,"cellKeyDown",f),$t(n,"cellModeChange",w),$t(n,"columnHeaderFocus",p),$t(n,"columnGroupHeaderFocus",m),$t(n,"rowsSet",_),$t(n,"paginationModelChange",x)};function WUe(n,e){const t=Av(n)||{};return[...t.top||[],...e,...t.bottom||[]]}const EF=({currentColIndex:n,firstColIndex:e,lastColIndex:t,isRtl:i})=>{if(i){if(n<t)return n+1}else if(!i&&n>e)return n-1;return null},DF=({currentColIndex:n,firstColIndex:e,lastColIndex:t,isRtl:i})=>{if(i){if(n>e)return n-1}else if(!i&&n<t)return n+1;return null};function $Ue(n,e,t,i){var a,l;const r=Gbe(n);if(!((a=r[e])!=null&&a[t]))return e;const s=Lbe(n);let o=s.indexOf(e)+(i==="down"?1:-1);for(;o>=0&&o<s.length;){const c=s[o];if(!((l=r[c])!=null&&l[t]))return c;o+=i==="down"?1:-1}return e}const jUe=(n,e)=>{const t=io(n,"useGridKeyboardNavigation"),i=A0(n).rows,r=ba(),s=e.unstable_listView,o=M.useMemo(()=>WUe(n,i),[n,i]),a=e.signature!=="DataGrid"&&e.headerFilters,l=M.useCallback((y,w,_="left",x="up")=>{const k=Yp(n),D=n.current.unstable_getCellColSpanInfo(w,y);D&&D.spannedByColSpan&&(_==="left"?y=D.leftVisibleCellIndex:_==="right"&&(y=D.rightVisibleCellIndex));const T=s?$C(n.current.state).field:T0(n)[y],L=$Ue(n,w,T,x),I=k.findIndex(R=>R.id===L);t.debug(`Navigating to cell row ${I}, col ${y}`),n.current.scrollToIndexes({colIndex:y,rowIndex:I}),n.current.setCellFocus(L,T)},[n,t,s]),c=M.useCallback((y,w)=>{t.debug(`Navigating to header col ${y}`),n.current.scrollToIndexes({colIndex:y});const _=n.current.getVisibleColumns()[y].field;n.current.setColumnHeaderFocus(_,w)},[n,t]),u=M.useCallback((y,w)=>{t.debug(`Navigating to header filter col ${y}`),n.current.scrollToIndexes({colIndex:y});const _=n.current.getVisibleColumns()[y].field;n.current.setColumnHeaderFilterFocus(_,w)},[n,t]),d=M.useCallback((y,w,_)=>{t.debug(`Navigating to header col ${y}`),n.current.scrollToIndexes({colIndex:y});const{field:x}=n.current.getVisibleColumns()[y];n.current.setColumnGroupHeaderFocus(x,w,_)},[n,t]),h=M.useCallback(y=>{var w;return(w=o[y])==null?void 0:w.id},[o]),f=M.useCallback((y,w)=>{const _=w.currentTarget.querySelector(`.${be.columnHeaderTitleContainerContent}`);if(!!_&&_.contains(w.target)&&y.field!==N0.field)return;const k=n.current.getViewportPageSize(),D=y.field?n.current.getColumnIndex(y.field):0,T=o.length>0?0:null,L=o.length-1,I=0,R=ps(n).length-1,N=rL(n);let O=!0;switch(w.key){case"ArrowDown":{T!==null&&(a?u(D,w):l(D,h(T)));break}case"ArrowRight":{const F=DF({currentColIndex:D,firstColIndex:I,lastColIndex:R,isRtl:r});F!==null&&c(F,w);break}case"ArrowLeft":{const F=EF({currentColIndex:D,firstColIndex:I,lastColIndex:R,isRtl:r});F!==null&&c(F,w);break}case"ArrowUp":{N>0&&d(D,N-1,w);break}case"PageDown":{T!==null&&L!==null&&l(D,h(Math.min(T+k,L)));break}case"Home":{c(I,w);break}case"End":{c(R,w);break}case"Enter":{(w.ctrlKey||w.metaKey)&&n.current.toggleColumnMenu(y.field);break}case" ":break;default:O=!1}O&&w.preventDefault()},[n,o.length,a,u,l,h,r,c,d]),p=M.useCallback((y,w)=>{const _=f8e(n)===y.field,x=g8e(n)===y.field;if(_||x||!aI(w.key))return;const k=n.current.getViewportPageSize(),D=y.field?n.current.getColumnIndex(y.field):0,T=0,L=o.length-1,I=0,R=ps(n).length-1;let N=!0;switch(w.key){case"ArrowDown":{const O=h(T);O!=null&&l(D,O);break}case"ArrowRight":{const O=DF({currentColIndex:D,firstColIndex:I,lastColIndex:R,isRtl:r});O!==null&&u(O,w);break}case"ArrowLeft":{const O=EF({currentColIndex:D,firstColIndex:I,lastColIndex:R,isRtl:r});O!==null?u(O,w):n.current.setColumnHeaderFilterFocus(y.field,w);break}case"ArrowUp":{c(D,w);break}case"PageDown":{L!==null&&l(D,h(Math.min(T+k,L)));break}case"Home":{u(I,w);break}case"End":{u(R,w);break}case" ":break;default:N=!1}N&&w.preventDefault()},[n,o.length,u,r,c,l,h]),m=M.useCallback((y,w)=>{const _=iI(n);if(_===null)return;const{field:x,depth:k}=_,{fields:D,depth:T,maxDepth:L}=y,I=n.current.getViewportPageSize(),R=n.current.getColumnIndex(x),N=x?n.current.getColumnIndex(x):0,O=0,F=o.length-1,A=0,H=ps(n).length-1;let W=!0;switch(w.key){case"ArrowDown":{T===L-1?c(R,w):d(R,k+1,w);break}case"ArrowUp":{T>0&&d(R,k-1,w);break}case"ArrowRight":{const $=D.length-D.indexOf(x)-1;R+$+1<=H&&d(R+$+1,k,w);break}case"ArrowLeft":{const $=D.indexOf(x);R-$-1>=A&&d(R-$-1,k,w);break}case"PageDown":{F!==null&&l(N,h(Math.min(O+I,F)));break}case"Home":{d(A,k,w);break}case"End":{d(H,k,w);break}case" ":break;default:W=!1}W&&w.preventDefault()},[n,o.length,c,d,l,h]),v=M.useCallback((y,w)=>{if(oL(w))return;const _=n.current.getCellParams(y.id,y.field);if(_.cellMode===tr.Edit||!aI(w.key)||!n.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:w,cell:_})||o.length===0)return;const k=n.current.getViewportPageSize(),D=s?()=>0:n.current.getColumnIndex,T=y.field?D(y.field):0,L=o.findIndex(H=>H.id===y.id),I=0,R=o.length-1,N=0,F=(s?[$C(n.current.state)]:ps(n)).length-1;let A=!0;switch(w.key){case"ArrowDown":{L<R&&l(T,h(L+1),r?"right":"left","down");break}case"ArrowUp":{L>I?l(T,h(L-1)):a?u(T,w):c(T,w);break}case"ArrowRight":{const H=DF({currentColIndex:T,firstColIndex:N,lastColIndex:F,isRtl:r});H!==null&&l(H,h(L),r?"left":"right");break}case"ArrowLeft":{const H=EF({currentColIndex:T,firstColIndex:N,lastColIndex:F,isRtl:r});H!==null&&l(H,h(L),r?"right":"left");break}case"Tab":{w.shiftKey&&T>N?l(T-1,h(L),"left"):!w.shiftKey&&T<F&&l(T+1,h(L),"right");break}case" ":{if(y.field===jN)break;const W=y.colDef;if(W&&(W.field===j7e||PHe(W.field)))break;!w.shiftKey&&L<R&&l(T,h(Math.min(L+k,R)));break}case"PageDown":{L<R&&l(T,h(Math.min(L+k,R)));break}case"PageUp":{const H=Math.max(L-k,I);H!==L&&H>=I?l(T,h(H)):c(T,w);break}case"Home":{w.ctrlKey||w.metaKey||w.shiftKey?l(N,h(I)):l(N,h(L));break}case"End":{w.ctrlKey||w.metaKey||w.shiftKey?l(F,h(R)):l(F,h(L));break}default:A=!1}A&&w.preventDefault()},[n,o,r,l,h,a,u,c,s]),C=M.useCallback((y,{event:w})=>w.key===" "?!1:y,[]);Or(n,"canStartEditing",C),$t(n,"columnHeaderKeyDown",f),$t(n,"headerFilterKeyDown",p),$t(n,"columnGroupHeaderKeyDown",m),$t(n,"cellKeyDown",v)},UUe=(n,e)=>{var p,m;const t=io(n,"useGridRowCount"),i=bt(n,Zj),r=bt(n,my),s=bt(n,iS),o=bt(n,Da),a=Uc(()=>Da(n).pageSize);n.current.registerControlState({stateId:"paginationRowCount",propModel:e.rowCount,propOnChange:e.onRowCountChange,stateSelector:my,changeEvent:"rowCountChange"});const c={setRowCount:M.useCallback(v=>{r!==v&&(t.debug("Setting 'rowCount' to",v),n.current.setState(C=>te({},C,{pagination:te({},C.pagination,{rowCount:v})})))},[n,t,r])};qn(n,c,"public");const u=M.useCallback((v,C)=>{var _,x;const y=my(n);return!C.exportOnlyDirtyModels||e.rowCount!=null||((x=(_=e.initialState)==null?void 0:_.pagination)==null?void 0:x.rowCount)!=null?te({},v,{pagination:te({},v.pagination,{rowCount:y})}):v},[n,e.rowCount,(m=(p=e.initialState)==null?void 0:p.pagination)==null?void 0:m.rowCount]),d=M.useCallback((v,C)=>{var w;const y=(w=C.stateToRestore.pagination)!=null&&w.rowCount?C.stateToRestore.pagination.rowCount:my(n);return n.current.setState(_=>te({},_,{pagination:te({},_.pagination,{rowCount:y})})),v},[n]);Or(n,"exportState",u),Or(n,"restoreState",d);const h=M.useCallback(v=>{e.paginationMode==="client"||!a.current||v.pageSize!==a.current&&(a.current=v.pageSize,r===-1&&n.current.setPage(0))},[e.paginationMode,a,r,n]);$t(n,"paginationModelChange",h),M.useEffect(()=>{e.paginationMode==="client"?n.current.setRowCount(i):e.rowCount!=null&&n.current.setRowCount(e.rowCount)},[n,e.paginationMode,i,e.rowCount]);const f=s.hasNextPage===!1;M.useEffect(()=>{f&&r===-1&&n.current.setRowCount(o.pageSize*o.page+i)},[n,i,f,r,o])},qUe=(n,e)=>{var l,c;const t=io(n,"useGridPaginationMeta"),i=bt(n,iS);n.current.registerControlState({stateId:"paginationMeta",propModel:e.paginationMeta,propOnChange:e.onPaginationMetaChange,stateSelector:iS,changeEvent:"paginationMetaChange"});const s={setPaginationMeta:M.useCallback(u=>{i!==u&&(t.debug("Setting 'paginationMeta' to",u),n.current.setState(d=>te({},d,{pagination:te({},d.pagination,{meta:u})})))},[n,t,i])};qn(n,s,"public");const o=M.useCallback((u,d)=>{var p,m;const h=iS(n);return!d.exportOnlyDirtyModels||e.paginationMeta!=null||((m=(p=e.initialState)==null?void 0:p.pagination)==null?void 0:m.meta)!=null?te({},u,{pagination:te({},u.pagination,{meta:h})}):u},[n,e.paginationMeta,(c=(l=e.initialState)==null?void 0:l.pagination)==null?void 0:c.meta]),a=M.useCallback((u,d)=>{var f;const h=(f=d.stateToRestore.pagination)!=null&&f.meta?d.stateToRestore.pagination.meta:iS(n);return n.current.setState(p=>te({},p,{pagination:te({},p.pagination,{meta:h})})),u},[n]);Or(n,"exportState",o),Or(n,"restoreState",a),M.useEffect(()=>{e.paginationMeta&&n.current.setPaginationMeta(e.paginationMeta)},[n,e.paginationMeta])},GUe=(n,e)=>{var s,o,a,l,c,u;const t=te({},Nbe(e.autoPageSize),e.paginationModel??((o=(s=e.initialState)==null?void 0:s.pagination)==null?void 0:o.paginationModel));Abe(t.pageSize,e.signature);const i=e.rowCount??((l=(a=e.initialState)==null?void 0:a.pagination)==null?void 0:l.rowCount),r=e.paginationMeta??((u=(c=e.initialState)==null?void 0:c.pagination)==null?void 0:u.meta)??{};return te({},n,{pagination:te({},n.pagination,{paginationModel:t,rowCount:i,meta:r,enabled:e.pagination===!0,paginationMode:e.paginationMode})})},KUe=(n,e)=>{qUe(n,e),RUe(n,e),UUe(n,e)},QUe=(n,e)=>{var t;return te({},n,{preferencePanel:((t=e.initialState)==null?void 0:t.preferencePanel)??{open:!1}})},YUe=(n,e)=>{var a;const t=io(n,"useGridPreferencesPanel"),i=M.useCallback(()=>{n.current.setState(l=>{if(!l.preferencePanel.open)return l;t.debug("Hiding Preferences Panel");const c=Hx(l);return n.current.publishEvent("preferencePanelClose",{openedPanelValue:c.openedPanelValue}),te({},l,{preferencePanel:{open:!1}})})},[n,t]),r=M.useCallback((l,c,u)=>{t.debug("Opening Preferences Panel"),n.current.setState(d=>te({},d,{preferencePanel:te({},d.preferencePanel,{open:!0,openedPanelValue:l,panelId:c,labelId:u})})),n.current.publishEvent("preferencePanelOpen",{openedPanelValue:l})},[t,n]);qn(n,{showPreferences:r,hidePreferences:i},"public");const s=M.useCallback((l,c)=>{var h;const u=Hx(n.current.state);return!c.exportOnlyDirtyModels||((h=e.initialState)==null?void 0:h.preferencePanel)!=null||u.open?te({},l,{preferencePanel:u}):l},[n,(a=e.initialState)==null?void 0:a.preferencePanel]),o=M.useCallback((l,c)=>{const u=c.stateToRestore.preferencePanel;return u!=null&&n.current.setState(d=>te({},d,{preferencePanel:u})),l},[n]);Or(n,"exportState",s),Or(n,"restoreState",o)},$8=n=>{switch(n.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},XUe=["id","field"],ZUe=["id","field"],JUe=(n,e)=>{const[t,i]=M.useState({}),r=M.useRef(t),s=M.useRef({}),{processRowUpdate:o,onProcessRowUpdateError:a,cellModesModel:l,onCellModesModelChange:c}=e,u=A=>(...H)=>{e.editMode===zd.Cell&&A(...H)},d=M.useCallback((A,H)=>{const W=n.current.getCellParams(A,H);if(!n.current.isCellEditable(W))throw new Error(`MUI X: The cell with id=${A} and field=${H} is not editable.`)},[n]),h=M.useCallback((A,H,W)=>{if(n.current.getCellMode(A,H)!==W)throw new Error(`MUI X: The cell with id=${A} and field=${H} is not in ${W} mode.`)},[n]),f=M.useCallback((A,H)=>{if(!A.isEditable||A.cellMode===tr.Edit)return;const W=te({},A,{reason:Bh.cellDoubleClick});n.current.publishEvent("cellEditStart",W,H)},[n]),p=M.useCallback((A,H)=>{if(A.cellMode===tr.View||n.current.getCellMode(A.id,A.field)===tr.View)return;const W=te({},A,{reason:hu.cellFocusOut});n.current.publishEvent("cellEditStop",W,H)},[n]),m=M.useCallback((A,H)=>{if(A.cellMode===tr.Edit){if(H.which===229)return;let W;if(H.key==="Escape"?W=hu.escapeKeyDown:H.key==="Enter"?W=hu.enterKeyDown:H.key==="Tab"&&(W=H.shiftKey?hu.shiftTabKeyDown:hu.tabKeyDown,H.preventDefault()),W){const $=te({},A,{reason:W});n.current.publishEvent("cellEditStop",$,H)}}else if(A.isEditable){let W;if(!n.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:H,cellParams:A,editMode:"cell"}))return;if(ave(H)?W=Bh.printableKeyDown:cve(H)?W=Bh.pasteKeyDown:H.key==="Enter"?W=Bh.enterKeyDown:(H.key==="Backspace"||H.key==="Delete")&&(W=Bh.deleteKeyDown),W){const U=te({},A,{reason:W,key:H.key});n.current.publishEvent("cellEditStart",U,H)}}},[n]),v=M.useCallback(A=>{const{id:H,field:W,reason:$}=A,U={id:H,field:W};($===Bh.printableKeyDown||$===Bh.deleteKeyDown||$===Bh.pasteKeyDown)&&(U.deleteValue=!0),n.current.startCellEditMode(U)},[n]),C=M.useCallback(A=>{const{id:H,field:W,reason:$}=A;n.current.runPendingEditCellValueMutation(H,W);let U;$===hu.enterKeyDown?U="below":$===hu.tabKeyDown?U="right":$===hu.shiftTabKeyDown&&(U="left");const z=$==="escapeKeyDown";n.current.stopCellEditMode({id:H,field:W,ignoreModifications:z,cellToFocusAfter:U})},[n]),y=A=>async(...H)=>{var W;if(A){const{id:$,field:U}=H[0];((W=n.current.state.editRows[$][U])==null?void 0:W.error)||A(...H)}};$t(n,"cellDoubleClick",u(f)),$t(n,"cellFocusOut",u(p)),$t(n,"cellKeyDown",u(m)),$t(n,"cellEditStart",u(v)),$t(n,"cellEditStop",u(C)),pr(n,"cellEditStart",e.onCellEditStart),pr(n,"cellEditStop",y(e.onCellEditStop));const w=M.useCallback((A,H)=>{const W=vo(n.current.state);return W[A]&&W[A][H]?tr.Edit:tr.View},[n]),_=li(A=>{const H=A!==e.cellModesModel;c&&H&&c(A,{api:n.current}),!(e.cellModesModel&&H)&&(i(A),r.current=A,n.current.publishEvent("cellModesModelChange",A))}),x=M.useCallback((A,H,W)=>{const $=te({},r.current);if(W!==null)$[A]=te({},$[A],{[H]:te({},W)});else{const U=$[A],z=rn(U,[H].map(zx));$[A]=z,Object.keys($[A]).length===0&&delete $[A]}_($)},[_]),k=M.useCallback((A,H,W)=>{n.current.setState($=>{const U=te({},$.editRows);return W!==null?U[A]=te({},U[A],{[H]:te({},W)}):(delete U[A][H],Object.keys(U[A]).length===0&&delete U[A]),te({},$,{editRows:U})}),n.current.forceUpdate()},[n]),D=M.useCallback(A=>{const{id:H,field:W}=A,$=rn(A,XUe);d(H,W),h(H,W,tr.View),x(H,W,te({mode:tr.Edit},$))},[d,h,x]),T=li(async A=>{const{id:H,field:W,deleteValue:$,initialValue:U}=A,z=n.current.getCellValue(H,W);let K=z;$?K=$8(n.current.getColumn(W)):U&&(K=U);const Z=n.current.getColumn(W),Q=!!Z.preProcessEditCellProps&&$;let G={value:K,error:!1,isProcessingProps:Q};if(k(H,W,G),n.current.setCellFocus(H,W),Q&&(G=await Promise.resolve(Z.preProcessEditCellProps({id:H,row:n.current.getRow(H),props:G,hasChanged:K!==z})),n.current.getCellMode(H,W)===tr.Edit)){const J=vo(n.current.state);k(H,W,te({},G,{value:J[H][W].value,isProcessingProps:!1}))}}),L=M.useCallback(A=>{const{id:H,field:W}=A,$=rn(A,ZUe);h(H,W,tr.Edit),x(H,W,te({mode:tr.View},$))},[h,x]),I=li(async A=>{const{id:H,field:W,ignoreModifications:$,cellToFocusAfter:U="none"}=A;h(H,W,tr.Edit),n.current.runPendingEditCellValueMutation(H,W);const z=()=>{k(H,W,null),x(H,W,null),U!=="none"&&n.current.moveFocusToRelativeCell(H,W,U)};if($){z();return}const K=vo(n.current.state),{error:Z,isProcessingProps:Q}=K[H][W];if(Z||Q){s.current[H][W].mode=tr.Edit,x(H,W,{mode:tr.Edit});return}const G=n.current.getRowWithUpdatedValuesFromCellEditing(H,W);if(o){const J=ne=>{s.current[H][W].mode=tr.Edit,x(H,W,{mode:tr.Edit}),a&&a(ne)};try{const ne=n.current.getRow(H);Promise.resolve(o(G,ne,{rowId:H})).then(ae=>{n.current.updateRows([ae]),z()}).catch(J)}catch(ne){J(ne)}}else n.current.updateRows([G]),z()}),R=M.useCallback(async A=>{var ne,ae;const{id:H,field:W,value:$,debounceMs:U,unstable_skipValueParser:z}=A;d(H,W),h(H,W,tr.Edit);const K=n.current.getColumn(W),Z=n.current.getRow(H);let Q=$;K.valueParser&&!z&&(Q=K.valueParser($,Z,K,n));let G=vo(n.current.state),J=te({},G[H][W],{value:Q,changeReason:U?"debouncedSetEditCellValue":"setEditCellValue"});if(K.preProcessEditCellProps){const se=$!==G[H][W].value;J=te({},J,{isProcessingProps:!0}),k(H,W,J),J=await Promise.resolve(K.preProcessEditCellProps({id:H,row:Z,props:J,hasChanged:se}))}return n.current.getCellMode(H,W)===tr.View?!1:(G=vo(n.current.state),J=te({},J,{isProcessingProps:!1}),J.value=K.preProcessEditCellProps?G[H][W].value:Q,k(H,W,J),G=vo(n.current.state),!((ae=(ne=G[H])==null?void 0:ne[W])!=null&&ae.error))},[n,d,h,k]),N=M.useCallback((A,H)=>{const W=n.current.getColumn(H),$=vo(n.current.state),U=n.current.getRow(A);if(!$[A]||!$[A][H])return n.current.getRow(A);const{value:z}=$[A][H];return W.valueSetter?W.valueSetter(z,U,W,n):te({},U,{[H]:z})},[n]),O={getCellMode:w,startCellEditMode:D,stopCellEditMode:L},F={setCellEditingEditCellValue:R,getRowWithUpdatedValuesFromCellEditing:N};qn(n,O,"public"),qn(n,F,"private"),M.useEffect(()=>{l&&_(l)},[l,_]),ar(()=>{const A=nI(n),H=s.current;s.current=lbe(t),Object.entries(t).forEach(([W,$])=>{Object.entries($).forEach(([U,z])=>{var Q,G;const K=((G=(Q=H[W])==null?void 0:Q[U])==null?void 0:G.mode)||tr.View,Z=A[W]??W;z.mode===tr.Edit&&K===tr.View?T(te({id:Z,field:U},z)):z.mode===tr.View&&K===tr.Edit&&I(te({id:Z,field:U},z))})})},[n,t,T,I])},eqe=["id"],tqe=["id"],nqe=(n,e)=>{const[t,i]=M.useState({}),r=M.useRef(t),s=M.useRef({}),o=M.useRef(void 0),a=M.useRef(null),{processRowUpdate:l,onProcessRowUpdateError:c,rowModesModel:u,onRowModesModelChange:d}=e,h=U=>(...z)=>{e.editMode===zd.Row&&U(...z)},f=M.useCallback((U,z)=>{const K=n.current.getCellParams(U,z);if(!n.current.isCellEditable(K))throw new Error(`MUI X: The cell with id=${U} and field=${z} is not editable.`)},[n]),p=M.useCallback((U,z)=>{if(n.current.getRowMode(U)!==z)throw new Error(`MUI X: The row with id=${U} is not in ${z} mode.`)},[n]),m=M.useCallback(U=>{const z=vo(n.current.state);return Object.values(z[U]).some(K=>K.error)},[n]),v=M.useCallback((U,z)=>{if(!U.isEditable||n.current.getRowMode(U.id)===fr.Edit)return;const K=n.current.getRowParams(U.id),Z=te({},K,{field:U.field,reason:Rg.cellDoubleClick});n.current.publishEvent("rowEditStart",Z,z)},[n]),C=M.useCallback(U=>{a.current=U},[]),y=M.useCallback((U,z)=>{U.isEditable&&n.current.getRowMode(U.id)!==fr.View&&(a.current=null,o.current=setTimeout(()=>{var K;if(((K=a.current)==null?void 0:K.id)!==U.id){if(!n.current.getRow(U.id)||n.current.getRowMode(U.id)===fr.View||m(U.id))return;const Z=n.current.getRowParams(U.id),Q=te({},Z,{field:U.field,reason:nd.rowFocusOut});n.current.publishEvent("rowEditStop",Q,z)}}))},[n,m]);M.useEffect(()=>()=>{clearTimeout(o.current)},[]);const w=M.useCallback((U,z)=>{if(U.cellMode===fr.Edit){if(z.which===229)return;let K;if(z.key==="Escape")K=nd.escapeKeyDown;else if(z.key==="Enter")K=nd.enterKeyDown;else if(z.key==="Tab"){const Z=T0(n).filter(Q=>n.current.getColumn(Q).type===zN?!0:n.current.isCellEditable(n.current.getCellParams(U.id,Q)));if(z.shiftKey?U.field===Z[0]&&(K=nd.shiftTabKeyDown):U.field===Z[Z.length-1]&&(K=nd.tabKeyDown),z.preventDefault(),!K){const Q=Z.findIndex(J=>J===U.field),G=Z[z.shiftKey?Q-1:Q+1];n.current.setCellFocus(U.id,G)}}if(K){if(K!==nd.escapeKeyDown&&m(U.id))return;const Z=te({},n.current.getRowParams(U.id),{reason:K,field:U.field});n.current.publishEvent("rowEditStop",Z,z)}}else if(U.isEditable){let K;if(!n.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:z,cellParams:U,editMode:"row"}))return;if(ave(z)||cve(z)?K=Rg.printableKeyDown:z.key==="Enter"?K=Rg.enterKeyDown:(z.key==="Backspace"||z.key==="Delete")&&(K=Rg.deleteKeyDown),K){const Q=n.current.getRowParams(U.id),G=te({},Q,{field:U.field,reason:K});n.current.publishEvent("rowEditStart",G,z)}}},[n,m]),_=M.useCallback(U=>{const{id:z,field:K,reason:Z}=U,Q={id:z,fieldToFocus:K};(Z===Rg.printableKeyDown||Z===Rg.deleteKeyDown)&&(Q.deleteValue=!!K),n.current.startRowEditMode(Q)},[n]),x=M.useCallback(U=>{const{id:z,reason:K,field:Z}=U;n.current.runPendingEditCellValueMutation(z);let Q;K===nd.enterKeyDown?Q="below":K===nd.tabKeyDown?Q="right":K===nd.shiftTabKeyDown&&(Q="left");const G=K==="escapeKeyDown";n.current.stopRowEditMode({id:z,ignoreModifications:G,field:Z,cellToFocusAfter:Q})},[n]);$t(n,"cellDoubleClick",h(v)),$t(n,"cellFocusIn",h(C)),$t(n,"cellFocusOut",h(y)),$t(n,"cellKeyDown",h(w)),$t(n,"rowEditStart",h(_)),$t(n,"rowEditStop",h(x)),pr(n,"rowEditStart",e.onRowEditStart),pr(n,"rowEditStop",e.onRowEditStop);const k=M.useCallback(U=>{if(e.editMode===zd.Cell)return fr.View;const z=vo(n.current.state);return z[U]&&Object.keys(z[U]).length>0?fr.Edit:fr.View},[n,e.editMode]),D=li(U=>{const z=U!==e.rowModesModel;d&&z&&d(U,{api:n.current}),!(e.rowModesModel&&z)&&(i(U),r.current=U,n.current.publishEvent("rowModesModelChange",U))}),T=M.useCallback((U,z)=>{const K=te({},r.current);z!==null?K[U]=te({},z):delete K[U],D(K)},[D]),L=M.useCallback((U,z)=>{n.current.setState(K=>{const Z=te({},K.editRows);return z!==null?Z[U]=z:delete Z[U],te({},K,{editRows:Z})}),n.current.forceUpdate()},[n]),I=M.useCallback((U,z,K)=>{n.current.setState(Z=>{const Q=te({},Z.editRows);return K!==null?Q[U]=te({},Q[U],{[z]:te({},K)}):(delete Q[U][z],Object.keys(Q[U]).length===0&&delete Q[U]),te({},Z,{editRows:Q})}),n.current.forceUpdate()},[n]),R=M.useCallback(U=>{const{id:z}=U,K=rn(U,eqe);p(z,fr.View),T(z,te({mode:fr.Edit},K))},[p,T]),N=li(U=>{const{id:z,fieldToFocus:K,deleteValue:Z,initialValue:Q}=U,G=bf(n),J=G.reduce((ne,ae)=>{if(!n.current.getCellParams(z,ae).isEditable)return ne;const X=n.current.getColumn(ae);let oe=n.current.getCellValue(z,ae);return K===ae&&(Z||Q)&&(Z?oe=$8(X):Q&&(oe=Q)),ne[ae]={value:oe,error:!1,isProcessingProps:!!X.preProcessEditCellProps&&Z},ne},{});L(z,J),K&&n.current.setCellFocus(z,K),G.filter(ne=>!!n.current.getColumn(ne).preProcessEditCellProps&&Z).forEach(ne=>{const ae=n.current.getColumn(ne),se=n.current.getCellValue(z,ne),X=Z?$8(ae):Q??se;Promise.resolve(ae.preProcessEditCellProps({id:z,row:n.current.getRow(z),props:J[ne],hasChanged:X!==se})).then(oe=>{if(n.current.getRowMode(z)===fr.Edit){const ve=vo(n.current.state);I(z,ne,te({},oe,{value:ve[z][ne].value,isProcessingProps:!1}))}})})}),O=M.useCallback(U=>{const{id:z}=U,K=rn(U,tqe);p(z,fr.Edit),T(z,te({mode:fr.View},K))},[p,T]),F=li(U=>{const{id:z,ignoreModifications:K,field:Z,cellToFocusAfter:Q="none"}=U;n.current.runPendingEditCellValueMutation(z);const G=()=>{Q!=="none"&&Z&&n.current.moveFocusToRelativeCell(z,Z,Q),L(z,null),T(z,null)};if(K){G();return}const J=vo(n.current.state),ne=n.current.getRow(z);if(Object.values(J[z]).some(X=>X.isProcessingProps)){s.current[z].mode=fr.Edit;return}if(m(z)){s.current[z].mode=fr.Edit,T(z,{mode:fr.Edit});return}const se=n.current.getRowWithUpdatedValuesFromRowEditing(z);if(l){const X=oe=>{s.current[z].mode=fr.Edit,T(z,{mode:fr.Edit}),c&&c(oe)};try{Promise.resolve(l(se,ne,{rowId:z})).then(oe=>{n.current.updateRows([oe]),G()}).catch(X)}catch(oe){X(oe)}}else n.current.updateRows([se]),G()}),A=M.useCallback(U=>{const{id:z,field:K,value:Z,debounceMs:Q,unstable_skipValueParser:G}=U;f(z,K);const J=n.current.getColumn(K),ne=n.current.getRow(z);let ae=Z;J.valueParser&&!G&&(ae=J.valueParser(Z,ne,J,n));let se=vo(n.current.state),X=te({},se[z][K],{value:ae,changeReason:Q?"debouncedSetEditCellValue":"setEditCellValue"});return J.preProcessEditCellProps||I(z,K,X),new Promise(oe=>{const ve=[];if(J.preProcessEditCellProps){const me=X.value!==se[z][K].value;X=te({},X,{isProcessingProps:!0}),I(z,K,X);const ye=se[z],Le=rn(ye,[K].map(zx)),ie=Promise.resolve(J.preProcessEditCellProps({id:z,row:ne,props:X,hasChanged:me,otherFieldsProps:Le})).then(Ee=>{if(n.current.getRowMode(z)===fr.View){oe(!1);return}se=vo(n.current.state),Ee=te({},Ee,{isProcessingProps:!1}),Ee.value=J.preProcessEditCellProps?se[z][K].value:ae,I(z,K,Ee)});ve.push(ie)}Object.entries(se[z]).forEach(([me,ye])=>{if(me===K)return;const Le=n.current.getColumn(me);if(!Le.preProcessEditCellProps)return;ye=te({},ye,{isProcessingProps:!0}),I(z,me,ye),se=vo(n.current.state);const ie=se[z],Ee=rn(ie,[me].map(zx)),Ue=Promise.resolve(Le.preProcessEditCellProps({id:z,row:ne,props:ye,hasChanged:!1,otherFieldsProps:Ee})).then(re=>{if(n.current.getRowMode(z)===fr.View){oe(!1);return}re=te({},re,{isProcessingProps:!1}),I(z,me,re)});ve.push(Ue)}),Promise.all(ve).then(()=>{n.current.getRowMode(z)===fr.Edit?(se=vo(n.current.state),oe(!se[z][K].error)):oe(!1)})})},[n,f,I]),H=M.useCallback(U=>{const z=vo(n.current.state),K=n.current.getRow(U);if(!z[U])return n.current.getRow(U);let Z=te({},K);return Object.entries(z[U]).forEach(([Q,G])=>{const J=n.current.getColumn(Q);J.valueSetter?Z=J.valueSetter(G.value,Z,J,n):Z[Q]=G.value}),Z},[n]),W={getRowMode:k,startRowEditMode:R,stopRowEditMode:O},$={setRowEditingEditCellValue:A,getRowWithUpdatedValuesFromRowEditing:H};qn(n,W,"public"),qn(n,$,"private"),M.useEffect(()=>{u&&D(u)},[u,D]),ar(()=>{const U=nI(n),z=s.current;s.current=lbe(t);const K=new Set([...Object.keys(t),...Object.keys(z)]);Array.from(K).forEach(Z=>{var ne;const Q=t[Z]??{mode:fr.View},G=((ne=z[Z])==null?void 0:ne.mode)||fr.View,J=U[Z]??Z;Q.mode===fr.Edit&&G===fr.View?N(te({id:J},Q)):Q.mode===fr.View&&G===fr.Edit&&F(te({id:J},Q))})},[n,t,N,F])},iqe=n=>te({},n,{editRows:{}}),rqe=(n,e)=>{JUe(n,e),nqe(n,e);const t=M.useRef({}),{isCellEditable:i}=e,r=M.useCallback(h=>zC(h.rowNode)||!h.colDef.editable||!h.colDef.renderEditCell?!1:i?i(h):!0,[i]),s=(h,f,p,m)=>{if(!p){m();return}if(t.current[h]||(t.current[h]={}),t.current[h][f]){const[y]=t.current[h][f];clearTimeout(y)}const v=()=>{const[y]=t.current[h][f];clearTimeout(y),m(),delete t.current[h][f]},C=setTimeout(()=>{m(),delete t.current[h][f]},p);t.current[h][f]=[C,v]};M.useEffect(()=>{const h=t.current;return()=>{Object.entries(h).forEach(([f,p])=>{Object.keys(p).forEach(m=>{const[v]=h[f][m];clearTimeout(v),delete h[f][m]})})}},[]);const o=M.useCallback((h,f)=>{if(t.current[h]){if(!f)Object.keys(t.current[h]).forEach(p=>{const[,m]=t.current[h][p];m()});else if(t.current[h][f]){const[,p]=t.current[h][f];p()}}},[]),a=M.useCallback(h=>{const{id:f,field:p,debounceMs:m}=h;return new Promise(v=>{s(f,p,m,async()=>{const C=e.editMode===zd.Row?n.current.setRowEditingEditCellValue:n.current.setCellEditingEditCellValue;if(n.current.getCellMode(f,p)===tr.Edit){const y=await C(h);v(y)}})})},[n,e.editMode]),l=M.useCallback((h,f)=>e.editMode===zd.Cell?n.current.getRowWithUpdatedValuesFromCellEditing(h,f):n.current.getRowWithUpdatedValuesFromRowEditing(h),[n,e.editMode]),c=M.useCallback((h,f)=>{var m;return((m=vo(n.current.state)[h])==null?void 0:m[f])??null},[n]),u={isCellEditable:r,setEditCellValue:a,getRowWithUpdatedValues:l,unstable_getEditCellMeta:c},d={runPendingEditCellValueMutation:o};qn(n,u,"public"),qn(n,d,"private")},sqe=(n,e,t)=>{const i=!!e.unstable_dataSource;return t.current.caches.rows=$2({rows:i?[]:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),te({},n,{rows:ybe({apiRef:t,rowCountProp:e.rowCount,loadingProp:i?!0:e.loading,previousTree:null,previousTreeDepths:null})})},oqe=(n,e)=>{const t=io(n,"useGridRows"),i=rC(n),r=M.useRef(Date.now()),s=M.useRef(e.rowCount),o=Pl(),a=M.useCallback($=>{const U=Ld(n)[$];if(U)return U;const z=n.current.getRowNode($);return z&&zC(z)?{[nC]:$}:null},[n]),l=e.getRowId,c=M.useCallback($=>nC in $?$[nC]:l?l($):$.id,[l]),u=M.useMemo(()=>i.rows.reduce(($,{id:U},z)=>($[U]=z,$),{}),[i.rows]),d=M.useCallback(({cache:$,throttle:U})=>{const z=()=>{r.current=Date.now(),n.current.setState(Z=>te({},Z,{rows:ybe({apiRef:n,rowCountProp:e.rowCount,loadingProp:e.loading,previousTree:Bo(n),previousTreeDepths:lne(n),previousGroupsToFetch:B7e(n)})})),n.current.publishEvent("rowsSet"),n.current.forceUpdate()};if(o.clear(),n.current.caches.rows=$,!U){z();return}const K=e.throttleRowsMs-(Date.now()-r.current);if(K>0){o.start(K,z);return}z()},[e.throttleRowsMs,e.rowCount,e.loading,n,o]),h=M.useCallback($=>{t.debug(`Updating all rows, new length ${$.length}`);const U=$2({rows:$,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),z=n.current.caches.rows;U.rowsBeforePartialUpdates=z.rowsBeforePartialUpdates,d({cache:U,throttle:!0})},[t,e.getRowId,e.loading,e.rowCount,d,n]),f=M.useCallback($=>{if(e.signature===Ec.DataGrid&&$.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const U=une(n,$,e.getRowId),z=cne({updates:U,getRowId:e.getRowId,previousCache:n.current.caches.rows});d({cache:z,throttle:!0})},[e.signature,e.getRowId,d,n]),p=M.useCallback(($,U)=>{const z=une(n,$,e.getRowId),K=cne({updates:z,getRowId:e.getRowId,previousCache:n.current.caches.rows,groupKeys:U??[]});d({cache:K,throttle:!1})},[e.getRowId,d,n]),m=M.useCallback($=>{$!==e.loading&&(t.debug(`Setting loading to ${$}`),n.current.setState(U=>te({},U,{rows:te({},U.rows,{loading:$})})),n.current.caches.rows.loadingPropBeforePartialUpdates=$)},[e.loading,n,t]),v=M.useCallback(()=>{const $=SD(n),U=Ld(n);return new Map($.map(z=>[z,U[z]??{}]))},[n]),C=M.useCallback(()=>WN(n),[n]),y=M.useCallback(()=>SD(n),[n]),w=M.useCallback($=>u[$],[u]),_=M.useCallback(($,U)=>{const z=n.current.getRowNode($);if(!z)throw new Error(`MUI X: No row with id #${$} found.`);if(z.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const K=te({},z,{childrenExpanded:U});n.current.setState(Z=>te({},Z,{rows:te({},Z.rows,{tree:te({},Z.rows.tree,{[$]:K})})})),n.current.forceUpdate(),n.current.publishEvent("rowExpansionChange",K)},[n]),x=M.useCallback($=>Bo(n)[$]??null,[n]),k=M.useCallback(({skipAutoGeneratedRows:$=!0,groupId:U,applySorting:z,applyFiltering:K})=>{const Z=Bo(n);let Q;if(z){const G=Z[U];if(!G)return[];const J=M0(n);Q=[];const ne=J.findIndex(ae=>ae===U)+1;for(let ae=ne;ae<J.length&&Z[J[ae]].depth>G.depth;ae+=1){const se=J[ae];(!$||!zC(Z[se]))&&Q.push(se)}}else Q=Qj(Z,U,$);if(K){const G=R0(n);Q=Q.filter(J=>G[J]!==!1)}return Q},[n]),D=M.useCallback(($,U)=>{const z=n.current.getRowNode($);if(!z)throw new Error(`MUI X: No row with id #${$} found.`);if(z.parent!==Ho)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(z.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");n.current.setState(K=>{const Z=Bo(K,n.current.instanceId)[Ho],Q=Z.children,G=Q.findIndex(ne=>ne===$);if(G===-1||G===U)return K;t.debug(`Moving row ${$} to index ${U}`);const J=[...Q];return J.splice(U,0,J.splice(G,1)[0]),te({},K,{rows:te({},K.rows,{tree:te({},K.rows.tree,{[Ho]:te({},Z,{children:J})})})})}),n.current.publishEvent("rowsSet")},[n,t]),T=M.useCallback(($,U)=>{if(e.signature===Ec.DataGrid&&U.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(U.length===0)return;if(Nv(n)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const K=te({},Bo(n)),Z=te({},Ld(n)),Q=te({},nI(n)),G=K[Ho],J=[...G.children],ne=new Set;for(let se=0;se<U.length;se+=1){const X=U[se],oe=$N(X,e.getRowId,"A row was provided without id when calling replaceRows()."),[ve]=J.splice($+se,1,oe);ne.has(ve)||(delete Z[ve],delete Q[ve],delete K[ve]);const me={id:oe,depth:0,parent:Ho,type:"leaf",groupingKey:null};Z[oe]=X,Q[oe]=oe,K[oe]=me,ne.add(oe)}K[Ho]=te({},G,{children:J});const ae=J.filter(se=>{var X;return((X=K[se])==null?void 0:X.type)==="leaf"});n.current.caches.rows.dataRowIdToModelLookup=Z,n.current.caches.rows.dataRowIdToIdLookup=Q,n.current.setState(se=>te({},se,{rows:te({},se.rows,{dataRowIdToModelLookup:Z,dataRowIdToIdLookup:Q,dataRowIds:ae,tree:K})})),n.current.publishEvent("rowsSet")},[n,e.signature,e.getRowId]),L={getRow:a,setLoading:m,getRowId:c,getRowModels:v,getRowsCount:C,getAllRowIds:y,setRows:h,updateRows:f,getRowNode:x,getRowIndexRelativeToVisibleRows:w,unstable_replaceRows:T},I={setRowIndex:D,setRowChildrenExpansion:_,getRowGroupChildren:k},R={updateServerRows:p},N=M.useCallback(()=>{t.info("Row grouping pre-processing have changed, regenerating the row tree");let $;n.current.caches.rows.rowsBeforePartialUpdates===e.rows?$=te({},n.current.caches.rows,{updates:{type:"full",rows:SD(n)}}):$=$2({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),d({cache:$,throttle:!1})},[t,n,e.rows,e.getRowId,e.loading,e.rowCount,d]),O=Uc(()=>e.unstable_dataSource),F=M.useCallback($=>{if(e.unstable_dataSource&&e.unstable_dataSource!==O.current){O.current=e.unstable_dataSource;return}$==="rowTreeCreation"&&N()},[N,O,e.unstable_dataSource]),A=M.useCallback(()=>{n.current.getActiveStrategy("rowTree")!==H7e(n)&&N()},[n,N]);$t(n,"activeStrategyProcessorChange",F),$t(n,"strategyAvailabilityChange",A);const H=M.useCallback(()=>{n.current.setState($=>{const U=n.current.unstable_applyPipeProcessors("hydrateRows",{tree:Bo($,n.current.instanceId),treeDepths:lne($,n.current.instanceId),dataRowIds:SD($,n.current.instanceId),dataRowIdToModelLookup:Ld($,n.current.instanceId),dataRowIdToIdLookup:nI($,n.current.instanceId)});return te({},$,{rows:te({},$.rows,U,{totalTopLevelRowCount:vbe({tree:U.tree,rowCountProp:e.rowCount})})})}),n.current.publishEvent("rowsSet"),n.current.forceUpdate()},[n,e.rowCount]);pU(n,"hydrateRows",H),qn(n,L,"public"),qn(n,I,e.signature===Ec.DataGrid?"private":"public"),qn(n,R,"private");const W=M.useRef(!0);M.useEffect(()=>{var Z;if(W.current){W.current=!1;return}let $=!1;e.rowCount!==s.current&&($=!0,s.current=e.rowCount);const U=n.current.caches.rows.rowsBeforePartialUpdates===e.rows,z=n.current.caches.rows.loadingPropBeforePartialUpdates===e.loading,K=n.current.caches.rows.rowCountPropBeforePartialUpdates===e.rowCount;U&&(z||(n.current.setState(Q=>te({},Q,{rows:te({},Q.rows,{loading:e.loading})})),n.current.caches.rows.loadingPropBeforePartialUpdates=e.loading,n.current.forceUpdate()),K||(n.current.setState(Q=>te({},Q,{rows:te({},Q.rows,{totalRowCount:Math.max(e.rowCount||0,Q.rows.totalRowCount),totalTopLevelRowCount:Math.max(e.rowCount||0,Q.rows.totalTopLevelRowCount)})})),n.current.caches.rows.rowCountPropBeforePartialUpdates=e.rowCount,n.current.forceUpdate()),!$)||(t.debug(`Updating all rows, new length ${(Z=e.rows)==null?void 0:Z.length}`),d({cache:$2({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),throttle:!1}))},[e.rows,e.rowCount,e.getRowId,e.loading,t,d,n])},aqe=n=>{const e={[Ho]:te({},z7e(),{children:n})};for(let t=0;t<n.length;t+=1){const i=n[t];e[i]={id:i,depth:0,parent:Ho,type:"leaf",groupingKey:null}}return{groupingName:av,tree:e,treeDepths:{0:n.length},dataRowIds:n}},lqe=({previousTree:n,actions:e})=>{const t=te({},n),i={};for(let o=0;o<e.remove.length;o+=1){const a=e.remove[o];i[a]=!0,delete t[a]}for(let o=0;o<e.insert.length;o+=1){const a=e.insert[o];t[a]={id:a,depth:0,parent:Ho,type:"leaf",groupingKey:null}}const r=t[Ho];let s=[...r.children,...e.insert];return Object.values(i).length&&(s=s.filter(o=>!i[o])),t[Ho]=te({},r,{children:s}),{groupingName:av,tree:t,treeDepths:{0:s.length},dataRowIds:s}},cqe=n=>n.updates.type==="full"?aqe(n.updates.rows):lqe({previousTree:n.previousTree,actions:n.updates.actions}),uqe=n=>{uI(n,av,"rowTreeCreation",cqe)};class TF extends Error{}function dqe(n,e){const t=M.useCallback(h=>({field:h,colDef:n.current.getColumn(h)}),[n]),i=M.useCallback(h=>{const f=n.current.getRow(h);if(!f)throw new TF(`No row with id #${h} found`);return{id:h,columns:n.current.getAllColumns(),row:f}},[n]),r=M.useCallback((h,f)=>{const p=e.unstable_listView?$C(n.current.state):n.current.getColumn(f),m=n.current.getRow(h),v=n.current.getRowNode(h);if(!m||!v)throw new TF(`No row with id #${h} found`);const C=m[f],y=p!=null&&p.valueGetter?p.valueGetter(C,m,p,n):C,w=Ga(n),_=Tbe(n),x={id:h,field:f,row:m,rowNode:v,colDef:p,cellMode:n.current.getCellMode(h,f),hasFocus:w!==null&&w.field===f&&w.id===h,tabIndex:_&&_.field===f&&_.id===h?0:-1,value:y,formattedValue:y,isEditable:!1,api:{}};return p&&p.valueFormatter&&(x.formattedValue=p.valueFormatter(y,m,p,n)),x.isEditable=p&&n.current.isCellEditable(x),x},[n,e.unstable_listView]),s=M.useCallback((h,f)=>{const p=n.current.getColumn(f),m=n.current.getRow(h);if(!m)throw new TF(`No row with id #${h} found`);return!p||!p.valueGetter?m[f]:p.valueGetter(m[p.field],m,p,n)},[n]),o=M.useCallback((h,f)=>{const p=f.field;if(!f||!f.valueGetter)return h[p];const m=h[f.field];return f.valueGetter(m,h,f,n)},[n]),a=M.useCallback((h,f)=>{const p=o(h,f);return!f||!f.valueFormatter?p:f.valueFormatter(p,h,f,n)},[n,o]),l=M.useCallback(h=>n.current.rootElementRef.current?RVe(n.current.rootElementRef.current,h):null,[n]),c=M.useCallback(h=>n.current.rootElementRef.current?NVe(n.current.rootElementRef.current,h):null,[n]),u=M.useCallback((h,f)=>n.current.rootElementRef.current?AVe(n.current.rootElementRef.current,{id:h,field:f}):null,[n]);qn(n,{getCellValue:s,getCellParams:r,getCellElement:u,getRowValue:o,getRowFormattedValue:a,getRowParams:i,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:l},"public")}const wve=(n,e)=>n==null||Array.isArray(n)?n:e&&e[0]===n?e:[n],hqe=(n,e)=>te({},n,{rowSelection:e.rowSelection?wve(e.rowSelectionModel)??[]:[]}),fqe=(n,e)=>{var H,W,$,U,z,K,Z;const t=io(n,"useGridSelection"),i=M.useCallback(Q=>(...G)=>{e.rowSelection&&Q(...G)},[e.rowSelection]),r=e.signature!==Ec.DataGrid&&(((H=e.rowSelectionPropagation)==null?void 0:H.parents)||((W=e.rowSelectionPropagation)==null?void 0:W.descendants)),s=M.useMemo(()=>wve(e.rowSelectionModel,fc(n.current.state)),[n,e.rowSelectionModel]),o=M.useRef(null);n.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:e.onRowSelectionModelChange,stateSelector:fc,changeEvent:"rowSelectionChange"});const{checkboxSelection:a,disableRowSelectionOnClick:l,isRowSelectable:c}=e,u=Jj(e),d=A0(n),h=bt(n,Bo),f=bt(n,Nv)>1,p=M.useCallback(Q=>{let G=Q;const J=o.current??Q,ne=n.current.isRowSelected(Q);if(ne){const ae=iC(n),se=ae.findIndex(oe=>oe===J),X=ae.findIndex(oe=>oe===G);if(se===X)return;se>X?G=ae[X+1]:G=ae[X-1]}o.current=Q,n.current.selectRowRange({startId:J,endId:G},!ne)},[n]),m=M.useCallback(Q=>{if(e.signature===Ec.DataGrid&&!u&&Array.isArray(Q)&&Q.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));fc(n.current.state)!==Q&&(t.debug("Setting selection model"),n.current.setState(J=>te({},J,{rowSelection:e.rowSelection?Q:[]})),n.current.forceUpdate())},[n,t,e.rowSelection,e.signature,u]),v=M.useCallback(Q=>fc(n.current.state).includes(Q),[n]),C=M.useCallback(Q=>{if(e.rowSelection===!1||c&&!c(n.current.getRowParams(Q)))return!1;const G=n.current.getRowNode(Q);return!((G==null?void 0:G.type)==="footer"||(G==null?void 0:G.type)==="pinnedRow")},[n,e.rowSelection,c]),y=M.useCallback(()=>f6e(n),[n]),w=M.useCallback((Q,G=!0,J=!1)=>{var ne,ae,se,X,oe,ve;if(n.current.isRowSelectable(Q))if(o.current=Q,J){t.debug(`Setting selection for row ${Q}`);const me=[],ye=Le=>{me.push(Le)};G&&(ye(Q),r&&xD(n,h,Q,((ne=e.rowSelectionPropagation)==null?void 0:ne.descendants)??!1,((ae=e.rowSelectionPropagation)==null?void 0:ae.parents)??!1,ye)),n.current.setRowSelectionModel(me)}else{t.debug(`Toggling selection for row ${Q}`);const me=fc(n.current.state),ye=new Set(me);ye.delete(Q);const Le=Ue=>{ye.add(Ue)},ie=Ue=>{ye.delete(Ue)};G?(Le(Q),r&&xD(n,h,Q,((se=e.rowSelectionPropagation)==null?void 0:se.descendants)??!1,((X=e.rowSelectionPropagation)==null?void 0:X.parents)??!1,Le)):r&&dne(n,h,Q,((oe=e.rowSelectionPropagation)==null?void 0:oe.descendants)??!1,((ve=e.rowSelectionPropagation)==null?void 0:ve.parents)??!1,ie),(ye.size<2||u)&&n.current.setRowSelectionModel(Array.from(ye))}},[n,t,r,h,($=e.rowSelectionPropagation)==null?void 0:$.descendants,(U=e.rowSelectionPropagation)==null?void 0:U.parents,u]),_=M.useCallback((Q,G=!0,J=!1)=>{t.debug("Setting selection for several rows");const ne=Q.filter(X=>n.current.isRowSelectable(X));let ae;if(J){if(G){if(ae=new Set(ne),r){const oe=ve=>{ae.add(ve)};ne.forEach(ve=>{var me,ye;xD(n,h,ve,((me=e.rowSelectionPropagation)==null?void 0:me.descendants)??!1,((ye=e.rowSelectionPropagation)==null?void 0:ye.parents)??!1,oe)})}}else ae=new Set;const X=vf(n);if(ae.size===Object.keys(X).length&&Array.from(ae).every(oe=>X[oe]===oe))return}else{ae=new Set(Object.values(vf(n)));const X=ve=>{ae.add(ve)},oe=ve=>{ae.delete(ve)};ne.forEach(ve=>{var me,ye,Le,ie;G?(ae.add(ve),r&&xD(n,h,ve,((me=e.rowSelectionPropagation)==null?void 0:me.descendants)??!1,((ye=e.rowSelectionPropagation)==null?void 0:ye.parents)??!1,X)):(oe(ve),r&&dne(n,h,ve,((Le=e.rowSelectionPropagation)==null?void 0:Le.descendants)??!1,((ie=e.rowSelectionPropagation)==null?void 0:ie.parents)??!1,oe))})}(ae.size<2||u)&&n.current.setRowSelectionModel(Array.from(ae))},[t,r,u,n,h,(z=e.rowSelectionPropagation)==null?void 0:z.descendants,(K=e.rowSelectionPropagation)==null?void 0:K.parents]),x=M.useCallback(({startId:Q,endId:G},J=!0,ne=!1)=>{if(!n.current.getRow(Q)||!n.current.getRow(G))return;t.debug(`Expanding selection from row ${Q} to row ${G}`);const ae=iC(n),se=ae.indexOf(Q),X=ae.indexOf(G),[oe,ve]=se>X?[X,se]:[se,X],me=ae.slice(oe,ve+1);n.current.selectRows(me,J,ne)},[n,t]),k={selectRow:w,setRowSelectionModel:m,getSelectedRows:y,isRowSelected:v,isRowSelectable:C},D={selectRows:_,selectRowRange:x};qn(n,k,"public"),qn(n,D,e.signature===Ec.DataGrid?"private":"public");const T=M.useCallback((Q=!1)=>{var ve;const G=fc(n.current.state),J=Ld(n),ne=R0(n),ae=te({},vf(n)),se=me=>e.filterMode==="server"?!J[me]:ne[me]!==!0;let X=!1;G.forEach(me=>{var Le;if(se(me)){if(e.keepNonExistentRowsSelected)return;delete ae[me],X=!0;return}if(!((Le=e.rowSelectionPropagation)!=null&&Le.parents))return;const ye=h[me];if(ye.type==="group"){if(ye.isAutoGenerated){delete ae[me],X=!0;return}ye.children.every(Ee=>ne[Ee]===!1)||(delete ae[me],X=!0)}});const oe=f&&((ve=e.rowSelectionPropagation)==null?void 0:ve.parents)&&Object.keys(ae).length>0;if(X||oe&&!Q){const me=Object.values(ae);oe?n.current.selectRows(me,!0,!0):n.current.setRowSelectionModel(me)}},[n,f,(Z=e.rowSelectionPropagation)==null?void 0:Z.parents,e.keepNonExistentRowsSelected,e.filterMode,h]),L=M.useCallback((Q,G)=>{const J=G.metaKey||G.ctrlKey,ne=!a&&!J&&!Nze(G),ae=!u||ne,se=n.current.isRowSelected(Q);ae?n.current.selectRow(Q,ne?!0:!se,!0):n.current.selectRow(Q,!se,!1)},[n,u,a]),I=M.useCallback((Q,G)=>{var ae;if(l)return;const J=(ae=G.target.closest(`.${be.cell}`))==null?void 0:ae.getAttribute("data-field");if(J===N0.field||J===jN)return;if(J){const se=n.current.getColumn(J);if((se==null?void 0:se.type)===zN)return}n.current.getRowNode(Q.id).type!=="pinnedRow"&&(G.shiftKey&&u?p(Q.id):L(Q.id,G))},[l,u,n,p,L]),R=M.useCallback((Q,G)=>{var J;u&&G.shiftKey&&((J=window.getSelection())==null||J.removeAllRanges())},[u]),N=M.useCallback((Q,G)=>{u&&G.nativeEvent.shiftKey?p(Q.id):n.current.selectRow(Q.id,Q.value,!u)},[n,p,u]),O=M.useCallback(Q=>{const G=e.pagination&&e.checkboxSelectionVisibleOnly&&e.paginationMode==="client"?Fbe(n):iC(n);n.current.selectRows(G,Q.value)},[n,e.checkboxSelectionVisibleOnly,e.pagination,e.paginationMode]),F=M.useCallback((Q,G)=>{if(n.current.getCellMode(Q.id,Q.field)!==tr.Edit&&!oL(G)){if(aI(G.key)&&G.shiftKey){const J=Ga(n);if(J&&J.id!==Q.id){G.preventDefault();const ne=n.current.isRowSelected(J.id);if(!u){n.current.selectRow(J.id,!ne,!0);return}const ae=n.current.getRowIndexRelativeToVisibleRows(J.id),se=n.current.getRowIndexRelativeToVisibleRows(Q.id);let X,oe;ae>se?ne?(X=se,oe=ae-1):(X=se,oe=ae):ne?(X=ae+1,oe=se):(X=ae,oe=se);const ve=d.rows.slice(X,oe+1).map(me=>me.id);n.current.selectRows(ve,!ne);return}}if(G.key===" "&&G.shiftKey){G.preventDefault(),L(Q.id,G);return}String.fromCharCode(G.keyCode)==="A"&&(G.ctrlKey||G.metaKey)&&(G.preventDefault(),_(n.current.getAllRowIds(),!0))}},[n,L,_,d.rows,u]);$t(n,"sortedRowsSet",i(()=>T(!0))),$t(n,"filteredRowsSet",i(T)),$t(n,"rowClick",i(I)),$t(n,"rowSelectionCheckboxChange",i(N)),$t(n,"headerSelectionCheckboxChange",O),$t(n,"cellMouseDown",i(R)),$t(n,"cellKeyDown",i(F)),M.useEffect(()=>{s!==void 0&&n.current.setRowSelectionModel(s)},[n,s,e.rowSelection]),M.useEffect(()=>{e.rowSelection||n.current.setRowSelectionModel([])},[n,e.rowSelection]);const A=s!=null;M.useEffect(()=>{if(A||!e.rowSelection)return;const Q=fc(n.current.state);if(C){const G=Q.filter(J=>C(J));G.length<Q.length&&n.current.setRowSelectionModel(G)}},[n,C,A,e.rowSelection]),M.useEffect(()=>{if(!e.rowSelection||A)return;const Q=fc(n.current.state);!u&&Q.length>1&&n.current.setRowSelectionModel([])},[n,u,a,A,e.rowSelection]),M.useEffect(()=>{i(T)},[T,i])},gqe=n=>{const{classes:e}=n;return M.useMemo(()=>_t({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},ci,e),[e])},pqe=(n,e)=>{const t={classes:e.classes},i=gqe(t),r=M.useCallback(s=>{const o=te({},N0,{cellClassName:i.cellCheckbox,headerClassName:i.columnHeaderCheckbox,headerName:n.current.getLocaleText("checkboxSelectionHeaderName")}),a=e.checkboxSelection,l=s.lookup[zh]!=null;return a&&!l?(s.lookup[zh]=o,s.orderedFields=[zh,...s.orderedFields]):!a&&l?(delete s.lookup[zh],s.orderedFields=s.orderedFields.filter(c=>c!==zh)):a&&l&&(s.lookup[zh]=te({},o,s.lookup[zh])),s},[n,i,e.checkboxSelection]);Or(n,"hydrateColumns",r)},mqe=(n,e)=>{var i,r;const t=e.sortModel??((r=(i=e.initialState)==null?void 0:i.sorting)==null?void 0:r.sortModel)??[];return te({},n,{sorting:{sortModel:rbe(t,e.disableMultipleColumnsSorting),sortedRows:[]}})},bqe=(n,e)=>{var x,k;const t=io(n,"useGridSorting");n.current.registerControlState({stateId:"sortModel",propModel:e.sortModel,propOnChange:e.onSortModelChange,stateSelector:hc,changeEvent:"sortModelChange"});const i=M.useCallback((D,T)=>{const L=hc(n),I=L.findIndex(N=>N.field===D);let R=[...L];return I>-1?(T==null?void 0:T.sort)==null?R.splice(I,1):R.splice(I,1,T):R=[...L,T],R},[n]),r=M.useCallback((D,T)=>{const I=hc(n).find(R=>R.field===D.field);if(I){const R=T===void 0?Qte(D.sortingOrder??e.sortingOrder,I.sort):T;return R===void 0?void 0:te({},I,{sort:R})}return{field:D.field,sort:T===void 0?Qte(D.sortingOrder??e.sortingOrder):T}},[n,e.sortingOrder]),s=M.useCallback((D,T)=>T==null||T.sortable===!1||e.disableColumnSorting?D:(T.sortingOrder||e.sortingOrder).some(I=>!!I)?[...D,"columnMenuSortItem"]:D,[e.sortingOrder,e.disableColumnSorting]),o=M.useCallback(()=>{n.current.setState(D=>{if(e.sortingMode==="server")return t.debug("Skipping sorting rows as sortingMode = server"),te({},D,{sorting:te({},D.sorting,{sortedRows:Qj(Bo(n),Ho,!1)})});const T=hc(D,n.current.instanceId),L=N9e(T,n),I=n.current.applyStrategyProcessor("sorting",{sortRowList:L});return te({},D,{sorting:te({},D.sorting,{sortedRows:I})})}),n.current.publishEvent("sortedRowsSet"),n.current.forceUpdate()},[n,t,e.sortingMode]),a=M.useCallback(D=>{hc(n)!==D&&(t.debug("Setting sort model"),n.current.setState(Kte(D,e.disableMultipleColumnsSorting)),n.current.forceUpdate(),n.current.applySorting())},[n,t,e.disableMultipleColumnsSorting]),l=M.useCallback((D,T,L)=>{const I=n.current.getColumn(D),R=r(I,T);let N;!L||e.disableMultipleColumnsSorting?N=(R==null?void 0:R.sort)==null?[]:[R]:N=i(I.field,R),n.current.setSortModel(N)},[n,i,r,e.disableMultipleColumnsSorting]),c=M.useCallback(()=>hc(n),[n]),u=M.useCallback(()=>Yj(n).map(T=>T.model),[n]),d=M.useCallback(()=>M0(n),[n]),h=M.useCallback(D=>n.current.getSortedRowIds()[D],[n]);qn(n,{getSortModel:c,getSortedRows:u,getSortedRowIds:d,getRowIdFromRowIndex:h,setSortModel:a,sortColumn:l,applySorting:o},"public");const p=M.useCallback((D,T)=>{var R,N;const L=hc(n);return!T.exportOnlyDirtyModels||e.sortModel!=null||((N=(R=e.initialState)==null?void 0:R.sorting)==null?void 0:N.sortModel)!=null||L.length>0?te({},D,{sorting:{sortModel:L}}):D},[n,e.sortModel,(k=(x=e.initialState)==null?void 0:x.sorting)==null?void 0:k.sortModel]),m=M.useCallback((D,T)=>{var I;const L=(I=T.stateToRestore.sorting)==null?void 0:I.sortModel;return L==null?D:(n.current.setState(Kte(L,e.disableMultipleColumnsSorting)),te({},D,{callbacks:[...D.callbacks,n.current.applySorting]}))},[n,e.disableMultipleColumnsSorting]),v=M.useCallback(D=>{const T=Bo(n),L=T[Ho],I=D.sortRowList?D.sortRowList(L.children.map(R=>T[R])):[...L.children];return L.footerId!=null&&I.push(L.footerId),I},[n]);Or(n,"exportState",p),Or(n,"restoreState",m),uI(n,av,"sorting",v);const C=M.useCallback(({field:D,colDef:T},L)=>{if(!T.sortable||e.disableColumnSorting)return;const I=L.shiftKey||L.metaKey||L.ctrlKey;l(D,void 0,I)},[l,e.disableColumnSorting]),y=M.useCallback(({field:D,colDef:T},L)=>{!T.sortable||e.disableColumnSorting||L.key==="Enter"&&!L.ctrlKey&&!L.metaKey&&l(D,void 0,L.shiftKey)},[l,e.disableColumnSorting]),w=M.useCallback(()=>{const D=hc(n),T=Wf(n);if(D.length>0){const L=D.filter(I=>T[I.field]);L.length<D.length&&n.current.setSortModel(L)}},[n]),_=M.useCallback(D=>{D==="sorting"&&n.current.applySorting()},[n]);Or(n,"columnMenu",s),$t(n,"columnHeaderClick",C),$t(n,"columnHeaderKeyDown",y),$t(n,"rowsSet",n.current.applySorting),$t(n,"columnsChange",w),$t(n,"activeStrategyProcessorChange",_),nL(()=>{n.current.applySorting()}),ar(()=>{e.sortModel!==void 0&&n.current.setSortModel(e.sortModel)},[n,e.sortModel])};function sie(n){const{containerSize:e,scrollPosition:t,elementSize:i,elementOffset:r}=n,s=r+i;if(i>e)return r;if(s-e>t)return s-e;if(r<t)return r}const vqe=(n,e)=>{const t=ba(),i=io(n,"useGridScroll"),r=n.current.columnHeadersContainerRef,s=n.current.virtualScrollerRef,o=bt(n,Yp),a=M.useCallback(d=>{var C;const h=fa(n.current.state),f=WN(n),p=e.unstable_listView?[$C(n.current.state)]:ps(n);if(!(d.rowIndex==null)&&f===0||p.length===0)return!1;i.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let v={};if(d.colIndex!==void 0){const y=Qp(n);let w;if(typeof d.rowIndex<"u"){const _=(C=o[d.rowIndex])==null?void 0:C.id,x=n.current.unstable_getCellColSpanInfo(_,d.colIndex);x&&!x.spannedByColSpan&&(w=x.cellProps.width)}typeof w>"u"&&(w=p[d.colIndex].computedWidth),v.left=sie({containerSize:h.viewportOuterSize.width,scrollPosition:Math.abs(s.current.scrollLeft),elementSize:w,elementOffset:y[d.colIndex]})}if(d.rowIndex!==void 0){const y=P0(n.current.state),w=T6e(n),_=I6e(n),x=e.pagination?d.rowIndex-w*_:d.rowIndex,k=y.positions[x+1]?y.positions[x+1]-y.positions[x]:y.currentPageTotalHeight-y.positions[x];v.top=sie({containerSize:h.viewportInnerSize.height,scrollPosition:s.current.scrollTop,elementSize:k,elementOffset:y.positions[x]})}return v=n.current.unstable_applyPipeProcessors("scrollToIndexes",v,d),typeof v.left!==void 0||typeof v.top!==void 0?(n.current.scroll(v),!0):!1},[i,n,s,e.pagination,o,e.unstable_listView]),l=M.useCallback(d=>{if(s.current&&d.left!==void 0&&r.current){const h=t?-1:1;r.current.scrollLeft=d.left,s.current.scrollLeft=h*d.left,i.debug(`Scrolling left: ${d.left}`)}s.current&&d.top!==void 0&&(s.current.scrollTop=d.top,i.debug(`Scrolling top: ${d.top}`)),i.debug("Scrolling, updating container, and viewport")},[s,t,r,i]),c=M.useCallback(()=>s!=null&&s.current?{top:s.current.scrollTop,left:s.current.scrollLeft}:{top:0,left:0},[s]);qn(n,{scroll:l,scrollToIndexes:a,getScrollPosition:c},"public")};function yqe(n,e){pr(n,"columnHeaderClick",e.onColumnHeaderClick),pr(n,"columnHeaderContextMenu",e.onColumnHeaderContextMenu),pr(n,"columnHeaderDoubleClick",e.onColumnHeaderDoubleClick),pr(n,"columnHeaderOver",e.onColumnHeaderOver),pr(n,"columnHeaderOut",e.onColumnHeaderOut),pr(n,"columnHeaderEnter",e.onColumnHeaderEnter),pr(n,"columnHeaderLeave",e.onColumnHeaderLeave),pr(n,"cellClick",e.onCellClick),pr(n,"cellDoubleClick",e.onCellDoubleClick),pr(n,"cellKeyDown",e.onCellKeyDown),pr(n,"preferencePanelClose",e.onPreferencePanelClose),pr(n,"preferencePanelOpen",e.onPreferencePanelOpen),pr(n,"menuOpen",e.onMenuOpen),pr(n,"menuClose",e.onMenuClose),pr(n,"rowDoubleClick",e.onRowDoubleClick),pr(n,"rowClick",e.onRowClick),pr(n,"stateChange",e.onStateChange)}function Cqe(n,e=166){let t,i;const r=()=>{t=void 0,n(...i)};function s(...o){i=o,t===void 0&&(t=setTimeout(r,e))}return s.clear=()=>{clearTimeout(t),t=void 0},s}const j8={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:zd.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1,virtualizeColumnsWithAutoRowHeight:!1},uy={width:0,height:0},_qe={isReady:!1,root:uy,viewportOuterSize:uy,viewportInnerSize:uy,contentSize:uy,minimumSize:uy,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},wqe=n=>te({},n,{dimensions:_qe});function Sqe(n,e){const t=io(n,"useResizeContainer"),i=M.useRef(!1),r=M.useRef(uy),s=bt(n,fa),o=bt(n,P0),a=bt(n,tL),l=bt(n,eL),c=M.useMemo(()=>_be(e.rowHeight,j8.rowHeight),[e.rowHeight]),u=Math.floor(c*l),d=Math.floor(e.columnHeaderHeight*l),h=Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*l),f=Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*l),p=kqe($j(n),6),m=nU(n,e),v=a.left.reduce((H,W)=>H+W.computedWidth,0),C=a.right.reduce((H,W)=>H+W.computedWidth,0),[y,w]=M.useState(),_=M.useMemo(()=>Cqe(w,e.resizeThrottleMs),[e.resizeThrottleMs]);M.useEffect(()=>_.clear,[_]);const x=M.useRef(void 0),k=()=>n.current.state.dimensions,D=li(H=>{n.current.setState(W=>te({},W,{dimensions:H}))}),T=M.useCallback(()=>{const H=n.current.mainElementRef.current;if(!H)return;const W=Mc(H).getComputedStyle(H),$={width:parseFloat(W.width)||0,height:parseFloat(W.height)||0};(!x.current||!oie(x.current,$))&&(n.current.publishEvent("resize",$),x.current=$)},[n]),L=M.useCallback(()=>{const H=fa(n.current.state);if(!H.isReady)return 0;const W=rC(n,{pagination:e.pagination,paginationMode:e.paginationMode});if(e.getRowHeight){const U=sL(n),z=U.lastRowIndex-U.firstRowIndex;return Math.min(z-1,W.rows.length)}const $=Math.floor(H.viewportInnerSize.height/u);return Math.min($,W.rows.length)},[n,e.pagination,e.paginationMode,e.getRowHeight,u]),I=M.useCallback(()=>{var ve,me;const H=n.current.rootElementRef.current,W=$7e(n),$=xqe(H,p,e.scrollbarSize),U=m+W.top,z=W.bottom,Z={width:p-v-C,height:o.currentPageTotalHeight};let Q,G,J=!1,ne=!1;if(e.autoHeight)ne=!1,J=Math.round(p)>Math.round(r.current.width),Q={width:r.current.width,height:U+z+Z.height},G={width:Math.max(0,Q.width-(ne?$:0)),height:Math.max(0,Q.height-(J?$:0))};else{Q={width:r.current.width,height:r.current.height},G={width:Math.max(0,Q.width-v-C),height:Math.max(0,Q.height-U-z)};const ye=Z,Le=G,ie=ye.width>Le.width,Ee=ye.height>Le.height;(ie||Ee)&&(ne=Ee,J=ye.width+(ne?$:0)>Le.width,J&&(ne=ye.height+$>Le.height)),ne&&(G.width-=$),J&&(G.height-=$)}const ae=Math.max(Q.width,p+(ne?$:0)),se={width:p,height:U+Z.height+z},X={isReady:!0,root:r.current,viewportOuterSize:Q,viewportInnerSize:G,contentSize:Z,minimumSize:se,hasScrollX:J,hasScrollY:ne,scrollbarSize:$,headerHeight:d,groupHeaderHeight:h,headerFilterHeight:f,rowWidth:ae,rowHeight:u,columnsTotalWidth:p,leftPinnedWidth:v,rightPinnedWidth:C,headersTotalHeight:m,topContainerHeight:U,bottomContainerHeight:z},oe=n.current.state.dimensions;D(X),oie(X.viewportInnerSize,oe.viewportInnerSize)||n.current.publishEvent("viewportInnerSizeChange",X.viewportInnerSize),(me=(ve=n.current).updateRenderContext)==null||me.call(ve)},[n,D,e.scrollbarSize,e.autoHeight,o.currentPageTotalHeight,u,d,h,f,p,m,v,C]),R={resize:T,getRootDimensions:k},N={updateDimensions:I,getViewportPageSize:L};qn(n,R,"public"),qn(n,N,"private"),ar(()=>{y&&(I(),n.current.publishEvent("debouncedResize",r.current))},[n,y,I]);const O=n.current.rootElementRef.current;ar(()=>{if(!O)return;const H=(W,$)=>O.style.setProperty(W,$);H("--DataGrid-width",`${s.viewportOuterSize.width}px`),H("--DataGrid-hasScrollX",`${Number(s.hasScrollX)}`),H("--DataGrid-hasScrollY",`${Number(s.hasScrollY)}`),H("--DataGrid-scrollbarSize",`${s.scrollbarSize}px`),H("--DataGrid-rowWidth",`${s.rowWidth}px`),H("--DataGrid-columnsTotalWidth",`${s.columnsTotalWidth}px`),H("--DataGrid-leftPinnedWidth",`${s.leftPinnedWidth}px`),H("--DataGrid-rightPinnedWidth",`${s.rightPinnedWidth}px`),H("--DataGrid-headerHeight",`${s.headerHeight}px`),H("--DataGrid-headersTotalHeight",`${s.headersTotalHeight}px`),H("--DataGrid-topContainerHeight",`${s.topContainerHeight}px`),H("--DataGrid-bottomContainerHeight",`${s.bottomContainerHeight}px`),H("--height",`${s.rowHeight}px`)},[O,s]);const F=M.useRef(!0),A=M.useCallback(H=>{if(r.current=H,H.height===0&&!i.current&&!e.autoHeight&&!sI&&(t.error(["The parent DOM element of the Data Grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),i.current=!0),H.width===0&&!i.current&&!sI&&(t.error(["The parent DOM element of the Data Grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),i.current=!0),F.current){w(H),F.current=!1;return}_(H)},[e.autoHeight,_,t]);ar(I,[I]),pr(n,"sortedRowsSet",I),pr(n,"paginationModelChange",I),pr(n,"columnsChange",I),$t(n,"resize",A),pr(n,"debouncedResize",e.onResize)}function xqe(n,e,t){if(t!==void 0)return t;if(n===null||e===0)return 0;const r=Jr(n).createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",n.appendChild(r);const s=r.offsetWidth-r.clientWidth;return n.removeChild(r),s}function kqe(n,e){return Math.round(n*10**e)/10**e}function oie(n,e){return n.width===e.width&&n.height===e.height}const Lqe=typeof globalThis.ResizeObserver<"u"?globalThis.ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Eqe=(n,e,t)=>(t.current.caches.rowsMeta={heights:new Map},te({},n,{rowsMeta:{currentPageTotalHeight:0,positions:[]}})),Dqe=(n,e)=>{const{getRowHeight:t,getRowSpacing:i,getEstimatedRowHeight:r}=e,s=n.current.caches.rowsMeta.heights,o=M.useRef(-1),a=M.useRef(!1),l=M.useRef(!1),c=bt(n,eL),u=bt(n,bo),d=bt(n,iL),h=bt(n,hc),f=A0(n),p=bt(n,Av),m=bt(n,()=>fa(n.current.state).rowHeight),v=O=>{let F=s.get(O);return F===void 0&&(F={content:m,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},s.set(O,F)),F},C=M.useCallback(O=>{const F=fa(n.current.state).rowHeight,A=n.current.getRowHeightEntry(O.id);if(!t)A.content=F,A.needsFirstMeasurement=!1;else{const H=t(te({},O,{densityFactor:c}));if(H==="auto"){if(A.needsFirstMeasurement){const W=r?r(te({},O,{densityFactor:c})):F;A.content=W??F}a.current=!0,A.autoHeight=!0}else A.content=_be(H,F),A.needsFirstMeasurement=!1,A.autoHeight=!1}if(i){const H=n.current.getRowIndexRelativeToVisibleRows(O.id),W=i(te({},O,{isFirstVisible:H===0,isLastVisible:H===f.rows.length-1,indexRelativeToCurrentPage:H}));A.spacingTop=W.top??0,A.spacingBottom=W.bottom??0}else A.spacingTop=0,A.spacingBottom=0;return n.current.unstable_applyPipeProcessors("rowHeight",A,O),A},[n,f.rows.length,t,r,m,i,c]),y=M.useCallback(()=>{a.current=!1,p.top.forEach(C),p.bottom.forEach(C);const O=[],F=f.rows.reduce((A,H)=>{O.push(A);const W=C(H),$=W.content+W.spacingTop+W.spacingBottom+W.detail;return A+$},0);a.current||(o.current=1/0),n.current.setState(A=>te({},A,{rowsMeta:{currentPageTotalHeight:F,positions:O}})),l.current=!0},[n,p,f.rows,C]),w=O=>{var F;return((F=s.get(O))==null?void 0:F.content)??m},_=(O,F)=>{const A=n.current.getRowHeightEntry(O),H=A.content!==F;A.needsFirstMeasurement=!1,A.content=F,l.current&&(l.current=!H)},x=O=>{var F;return((F=s.get(O))==null?void 0:F.autoHeight)??!1},k=()=>o.current,D=O=>{a.current&&O>o.current&&(o.current=O)},T=()=>{s.clear(),y()},L=Uc(()=>new Lqe(O=>{for(let F=0;F<O.length;F+=1){const A=O[F],H=A.borderBoxSize&&A.borderBoxSize.length>0?A.borderBoxSize[0].blockSize:A.contentRect.height,W=A.target.__mui_id;n.current.unstable_storeRowHeightMeasurement(W,H)}l.current||n.current.requestPipeProcessorsApplication("rowHeight")})).current,I=(O,F)=>(O.__mui_id=F,L.observe(O),()=>L.unobserve(O));pU(n,"rowHeight",y),M.useEffect(()=>{y()},[u,d,h,y]);const R={unstable_getRowHeight:w,unstable_setLastMeasuredRowIndex:D,unstable_storeRowHeightMeasurement:_,resetRowHeights:T},N={hydrateRowsMeta:y,observeRowHeight:I,rowHasAutoHeight:x,getRowHeightEntry:v,getLastMeasuredRowIndex:k};qn(n,R,"public"),qn(n,N,"private")},Tqe=n=>{const e=M.useCallback((r={})=>n.current.unstable_applyPipeProcessors("exportState",{},r),[n]),t=M.useCallback(r=>{n.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:r}).callbacks.forEach(o=>{o()}),n.current.forceUpdate()},[n]);qn(n,{exportState:e,restoreState:t},"public")},Iqe=n=>{const e=M.useRef({}),t=(a,l)=>{var c;return(c=e.current[a])==null?void 0:c[l]},i=()=>{e.current={}},r=M.useCallback(({rowId:a,minFirstColumn:l,maxLastColumn:c,columns:u})=>{for(let d=l;d<c;d+=1){const h=Mqe({apiRef:n,lookup:e.current,columnIndex:d,rowId:a,minFirstColumnIndex:l,maxLastColumnIndex:c,columns:u});h.colSpan>1&&(d+=h.colSpan-1)}},[n]),s={unstable_getCellColSpanInfo:t},o={resetColSpan:i,calculateColSpan:r};qn(n,s,"public"),qn(n,o,"private"),$t(n,"columnOrderChange",i)};function Mqe(n){const{apiRef:e,lookup:t,columnIndex:i,rowId:r,minFirstColumnIndex:s,maxLastColumnIndex:o,columns:a}=n,l=a.length,c=a[i],u=e.current.getRow(r),d=e.current.getRowValue(u,c),h=typeof c.colSpan=="function"?c.colSpan(d,u,c,e):c.colSpan;if(!h||h===1)return IF(t,r,i,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let f=c.computedWidth;for(let p=1;p<h;p+=1){const m=i+p;if(m>=s&&m<o){const v=a[m];f+=v.computedWidth,IF(t,r,i+p,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(i+h,l-1),leftVisibleCellIndex:i})}IF(t,r,i,{spannedByColSpan:!1,cellProps:{colSpan:h,width:f}})}return{colSpan:h}}function IF(n,e,t,i){n[e]||(n[e]={}),n[e][t]=i}const Sve=(n,e,t)=>{if(hbe(n)){if(t[n.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${n.field} occurs two times in the grouping model:`,`- ${t[n.field].join(" > ")}`,`- ${e.join(" > ")}`].join(`
`));t[n.field]=e;return}const{groupId:i,children:r}=n;r.forEach(s=>{Sve(s,[...e,i],t)})},U8=n=>{if(!n)return{};const e={};return n.forEach(t=>{Sve(t,[],e)}),e},q8=(n,e,t)=>{const i=l=>e[l]??[],r=[],s=Math.max(...n.map(l=>i(l).length)),o=(l,c,u)=>tC(i(l).slice(0,u+1),i(c).slice(0,u+1)),a=(l,c)=>!!(t!=null&&t.left&&t.left.includes(l)&&!t.left.includes(c)||t!=null&&t.right&&!t.right.includes(l)&&t.right.includes(c));for(let l=0;l<s;l+=1){const c=n.reduce((u,d)=>{const h=i(d)[l]??null;if(u.length===0)return[{columnFields:[d],groupId:h}];const f=u[u.length-1],p=f.columnFields[f.columnFields.length-1];return f.groupId!==h||!o(p,d,l)||a(p,d)?[...u,{columnFields:[d],groupId:h}]:[...u.slice(0,u.length-1),{columnFields:[...f.columnFields,d],groupId:h}]},[]);r.push(c)}return r},Rqe=["groupId","children"],mU=n=>{let e={};return n.forEach(t=>{if(hbe(t))return;const{groupId:i,children:r}=t,s=rn(t,Rqe);if(!i)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const o=te({},s,{groupId:i}),a=mU(r);if(a[i]!==void 0||e[i]!==void 0)throw new Error(`MUI X: The groupId ${i} is used multiple times in the columnGroupingModel.`);e=te({},e,a,{[i]:o})}),te({},e)},Nqe=(n,e,t)=>{if(!e.columnGroupingModel)return n;const i=bf(t),r=T0(t),s=mU(e.columnGroupingModel??[]),o=U8(e.columnGroupingModel??[]),a=q8(i,o,t.current.state.pinnedColumns??{}),l=r.length===0?0:Math.max(...r.map(c=>{var u;return((u=o[c])==null?void 0:u.length)??0}));return te({},n,{columnGrouping:{lookup:s,unwrappedGroupingModel:o,headerStructure:a,maxDepth:l}})},Aqe=(n,e)=>{const t=M.useCallback(a=>zbe(n)[a]??[],[n]),i=M.useCallback(()=>Wbe(n),[n]);qn(n,{getColumnGroupPath:t,getAllGroupDetails:i},"public");const s=M.useCallback(()=>{const a=U8(e.columnGroupingModel??[]);n.current.setState(l=>{var h;const c=((h=l.columns)==null?void 0:h.orderedFields)??[],u=l.pinnedColumns??{},d=q8(c,a,u);return te({},l,{columnGrouping:te({},l.columnGrouping,{headerStructure:d})})})},[n,e.columnGroupingModel]),o=M.useCallback(a=>{var m,v;const l=((v=(m=n.current).getPinnedColumns)==null?void 0:v.call(m))??{},c=bf(n),u=T0(n),d=mU(a??[]),h=U8(a??[]),f=q8(c,h,l),p=u.length===0?0:Math.max(...u.map(C=>{var y;return((y=h[C])==null?void 0:y.length)??0}));n.current.setState(C=>te({},C,{columnGrouping:{lookup:d,unwrappedGroupingModel:h,headerStructure:f,maxDepth:p}}))},[n]);$t(n,"columnIndexChange",s),$t(n,"columnsChange",()=>{o(e.columnGroupingModel)}),$t(n,"columnVisibilityModelChange",()=>{o(e.columnGroupingModel)}),M.useEffect(()=>{o(e.columnGroupingModel)},[o,e.columnGroupingModel])};function Pqe(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function aie(n,e){if(e!==void 0&&n.changedTouches){for(let t=0;t<n.changedTouches.length;t+=1){const i=n.changedTouches[t];if(i.identifier===e)return{x:i.clientX,y:i.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function lie(n,e,t,i){let r=n;return i==="Right"?r+=e-t.left:r+=t.right-e,r}function Oqe(n,e,t){return t==="Left"?n-e.left:e.right-n}function Fqe(n){return n==="Right"?"Left":"Right"}function Bqe(n,e){const t=n.classList.contains(be["columnSeparator--sideRight"])?"Right":"Left";return e?Fqe(t):t}function cie(n){n.preventDefault(),n.stopImmediatePropagation()}function Hqe(n){const e=M.useRef(void 0),t=()=>Ube(n),i=bt(n,t);return M.useEffect(()=>{e.current&&i===!1&&(e.current.resolve(),e.current=void 0)}),()=>{if(!e.current){if(t()===!1)return Promise.resolve();e.current=Pqe()}return e.current}}function Vqe(n,e){if(n.length<4)return n;const t=n.slice();t.sort((a,l)=>a-l);const i=t[Math.floor(t.length*.25)],r=t[Math.floor(t.length*.75)-1],s=r-i,o=s<5?5:s*e;return t.filter(a=>a>i-o&&a<r+o)}function zqe(n,e,t){const i={},r=n.current.rootElementRef.current;return r.classList.add(be.autosizing),t.forEach(s=>{const a=UVe(n.current,s.field).map(p=>p.getBoundingClientRect().width??0),l=e.includeOutliers?a:Vqe(a,e.outliersFactor);if(e.includeHeaders){const p=jVe(n.current,s.field);if(p){const m=p.querySelector(`.${be.columnHeaderTitle}`),v=p.querySelector(`.${be.columnHeaderTitleContainerContent}`),C=p.querySelector(`.${be.iconButtonContainer}`),y=p.querySelector(`.${be.menuIcon}`),w=m??v,_=window.getComputedStyle(p,null),x=parseInt(_.paddingLeft,10)+parseInt(_.paddingRight,10),D=w.scrollWidth+1+x+((C==null?void 0:C.clientWidth)??0)+((y==null?void 0:y.clientWidth)??0);l.push(D)}}const c=s.minWidth!==-1/0&&s.minWidth!==void 0,u=s.maxWidth!==1/0&&s.maxWidth!==void 0,d=c?s.minWidth:0,h=u?s.maxWidth:1/0,f=l.length===0?0:Math.max(...l);i[s.field]=Rd(f,d,h)}),r.classList.remove(be.autosizing),i}const Wqe=n=>te({},n,{columnResize:{resizingColumnField:""}});function $qe(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const jqe=(n,e)=>{const t=ba(),i=io(n,"useGridColumnResize"),r=Uc($qe).current,s=M.useRef(null),o=M.useRef(null),a=Pl(),l=M.useRef(void 0),c=L=>{var A,H;i.debug(`Updating width to ${L} for col ${r.colDef.field}`);const I=r.columnHeaderElement.offsetWidth,R=L-I,N=L-r.initialColWidth;if(N>0){const W=r.initialTotalWidth+N;(H=(A=n.current.rootElementRef)==null?void 0:A.current)==null||H.style.setProperty("--DataGrid-rowWidth",`${W}px`)}r.colDef.computedWidth=L,r.colDef.width=L,r.colDef.flex=0,r.columnHeaderElement.style.width=`${L}px`;const O=r.headerFilterElement;O&&(O.style.width=`${L}px`),r.groupHeaderElements.forEach(W=>{const $=W;let U;$.getAttribute("aria-colspan")==="1"?U=`${L}px`:U=`${$.offsetWidth+R}px`,$.style.width=U}),r.cellElements.forEach(W=>{const $=W;let U;$.getAttribute("aria-colspan")==="1"?U=`${L}px`:U=`${$.offsetWidth+R}px`,$.style.setProperty("--width",U)});const F=n.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);F===Hg.LEFT&&(G1(r.fillerLeft,"width",R),r.leftPinnedCellsAfter.forEach(W=>{G1(W,"left",R)}),r.leftPinnedHeadersAfter.forEach(W=>{G1(W,"left",R)})),F===Hg.RIGHT&&(G1(r.fillerRight,"width",R),r.rightPinnedCellsBefore.forEach(W=>{G1(W,"right",R)}),r.rightPinnedHeadersBefore.forEach(W=>{G1(W,"right",R)}))},u=L=>{if(C(),r.previousMouseClickEvent){const I=r.previousMouseClickEvent,R=I.timeStamp,N=I.clientX,O=I.clientY;if(L.timeStamp-R<300&&L.clientX===N&&L.clientY===O){r.previousMouseClickEvent=void 0,n.current.publishEvent("columnResizeStop",null,L);return}}if(r.colDef){n.current.setColumnWidth(r.colDef.field,r.colDef.width),i.debug(`Updating col ${r.colDef.field} with new width: ${r.colDef.width}`);const I=Md(n.current.state);r.groupHeaderElements.forEach(R=>{const N=FVe(R),O=R,A=`${N.reduce((H,W)=>I.columnVisibilityModel[W]!==!1?H+I.lookup[W].computedWidth:H,0)}px`;O.style.width=A})}a.start(0,()=>{n.current.publishEvent("columnResizeStop",null,L)})},d=(L,I,R)=>{var A;const N=n.current.rootElementRef.current;r.initialColWidth=L.computedWidth,r.initialTotalWidth=n.current.getRootDimensions().rowWidth,r.colDef=L,r.columnHeaderElement=OVe(n.current.columnHeadersContainerRef.current,L.field);const O=N.querySelector(`.${be.headerFilterRow} [data-field="${jf(L.field)}"]`);O&&(r.headerFilterElement=O),r.groupHeaderElements=BVe((A=n.current.columnHeadersContainerRef)==null?void 0:A.current,L.field),r.cellElements=HVe(r.columnHeaderElement,n.current),r.fillerLeft=Ine(n.current,t?"filler--pinnedRight":"filler--pinnedLeft"),r.fillerRight=Ine(n.current,t?"filler--pinnedLeft":"filler--pinnedRight");const F=n.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);r.leftPinnedCellsAfter=F!==Hg.LEFT?[]:VVe(n.current,r.columnHeaderElement,t),r.rightPinnedCellsBefore=F!==Hg.RIGHT?[]:zVe(n.current,r.columnHeaderElement,t),r.leftPinnedHeadersAfter=F!==Hg.LEFT?[]:WVe(n.current,r.columnHeaderElement,t),r.rightPinnedHeadersBefore=F!==Hg.RIGHT?[]:$Ve(n.current,r.columnHeaderElement,t),o.current=Bqe(I,t),s.current=Oqe(R,r.columnHeaderElement.getBoundingClientRect(),o.current)},h=li(u),f=li(L=>{if(L.buttons===0){h(L);return}let I=lie(s.current,L.clientX,r.columnHeaderElement.getBoundingClientRect(),o.current);I=Rd(I,r.colDef.minWidth,r.colDef.maxWidth),c(I);const R={element:r.columnHeaderElement,colDef:r.colDef,width:I};n.current.publishEvent("columnResize",R,L)}),p=li(L=>{aie(L,l.current)&&u(L)}),m=li(L=>{const I=aie(L,l.current);if(!I)return;if(L.type==="mousemove"&&L.buttons===0){p(L);return}let R=lie(s.current,I.x,r.columnHeaderElement.getBoundingClientRect(),o.current);R=Rd(R,r.colDef.minWidth,r.colDef.maxWidth),c(R);const N={element:r.columnHeaderElement,colDef:r.colDef,width:R};n.current.publishEvent("columnResize",N,L)}),v=li(L=>{const I=oI(L.target,be["columnSeparator--resizable"]);if(!I)return;const R=L.changedTouches[0];R!=null&&(l.current=R.identifier);const N=oI(L.target,be.columnHeader),O=PVe(N),F=n.current.getColumn(O);i.debug(`Start Resize on col ${F.field}`),n.current.publishEvent("columnResizeStart",{field:O},L),d(F,I,R.clientX);const A=Jr(L.currentTarget);A.addEventListener("touchmove",m),A.addEventListener("touchend",p)}),C=M.useCallback(()=>{const L=Jr(n.current.rootElementRef.current);L.body.style.removeProperty("cursor"),L.removeEventListener("mousemove",f),L.removeEventListener("mouseup",h),L.removeEventListener("touchmove",m),L.removeEventListener("touchend",p),setTimeout(()=>{L.removeEventListener("click",cie,!0)},100),r.columnHeaderElement&&(r.columnHeaderElement.style.pointerEvents="unset")},[n,r,f,h,m,p]),y=M.useCallback(({field:L})=>{n.current.setState(I=>te({},I,{columnResize:te({},I.columnResize,{resizingColumnField:L})})),n.current.forceUpdate()},[n]),w=M.useCallback(()=>{n.current.setState(L=>te({},L,{columnResize:te({},L.columnResize,{resizingColumnField:""})})),n.current.forceUpdate()},[n]),_=li(({colDef:L},I)=>{if(I.button!==0||!I.currentTarget.classList.contains(be["columnSeparator--resizable"]))return;I.preventDefault(),i.debug(`Start Resize on col ${L.field}`),n.current.publishEvent("columnResizeStart",{field:L.field},I),d(L,I.currentTarget,I.clientX);const R=Jr(n.current.rootElementRef.current);R.body.style.cursor="col-resize",r.previousMouseClickEvent=I.nativeEvent,R.addEventListener("mousemove",f),R.addEventListener("mouseup",h),R.addEventListener("click",cie,!0)}),x=li((L,I)=>{if(e.disableAutosize||I.button!==0)return;const R=n.current.state.columns.lookup[L.field];R.resizable!==!1&&n.current.autosizeColumns(te({},e.autosizeOptions,{disableColumnVirtualization:!1,columns:[R.field]}))}),k=Hqe(n),D=M.useRef(!1),T=M.useCallback(async L=>{var F;if(!((F=n.current.rootElementRef)==null?void 0:F.current)||D.current)return;D.current=!0;const R=Md(n.current.state),N=te({},_He,L,{columns:(L==null?void 0:L.columns)??R.orderedFields});N.columns=N.columns.filter(A=>R.columnVisibilityModel[A]!==!1);const O=N.columns.map(A=>n.current.state.columns.lookup[A]);try{!e.disableVirtualization&&N.disableColumnVirtualization&&(n.current.unstable_setColumnVirtualization(!1),await k());const A=zqe(n,N,O),H=O.map(W=>te({},W,{width:A[W.field],computedWidth:A[W.field],flex:0}));if(N.expand){const $=R.orderedFields.map(K=>R.lookup[K]).filter(K=>R.columnVisibilityModel[K.field]!==!1).reduce((K,Z)=>K+(A[Z.field]??Z.computedWidth??Z.width),0),z=n.current.getRootDimensions().viewportInnerSize.width-$;if(z>0){const K=z/(H.length||1);H.forEach(Z=>{Z.width+=K,Z.computedWidth+=K})}}n.current.updateColumns(H),H.forEach((W,$)=>{if(W.width!==O[$].width){const U=W.width;n.current.publishEvent("columnWidthChange",{element:n.current.getColumnHeaderElement(W.field),colDef:W,width:U})}})}finally{e.disableVirtualization||n.current.unstable_setColumnVirtualization(!0),D.current=!1}},[n,k,e.disableVirtualization]);M.useEffect(()=>C,[C]),Xk(()=>{e.autosizeOnMount&&Promise.resolve().then(()=>{n.current.autosizeColumns(e.autosizeOptions)})}),Mbe(n,()=>{var L;return(L=n.current.columnHeadersContainerRef)==null?void 0:L.current},"touchstart",v,{passive:!0}),qn(n,{autosizeColumns:T},"public"),$t(n,"columnResizeStop",w),$t(n,"columnResizeStart",y),$t(n,"columnSeparatorMouseDown",_),$t(n,"columnSeparatorDoubleClick",x),pr(n,"columnResize",e.onColumnResize),pr(n,"columnWidthChange",e.onColumnWidthChange)};function G1(n,e,t){n&&(n.style[e]=`${parseInt(n.style[e],10)+t}px`)}function Uqe(n,e){return n.firstRowIndex>=e.firstRowIndex&&n.lastRowIndex<=e.lastRowIndex?null:n.firstRowIndex>=e.firstRowIndex&&n.lastRowIndex>e.lastRowIndex?{firstRowIndex:e.lastRowIndex,lastRowIndex:n.lastRowIndex}:n.firstRowIndex<e.firstRowIndex&&n.lastRowIndex<=e.lastRowIndex?{firstRowIndex:n.firstRowIndex,lastRowIndex:e.firstRowIndex-1}:n}function qqe(n){return n.firstRowIndex!==0||n.lastRowIndex!==0}function uie(n,e){return n.firstRowIndex!==e.firstRowIndex||n.lastRowIndex!==e.lastRowIndex}const MF=(n,e,t)=>{if(!n)return null;let i=n[e.field];const r=e.rowSpanValueGetter??e.valueGetter;return r&&(i=r(i,n,e,t)),i},dI={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},TS={firstRowIndex:0,lastRowIndex:0},Gqe=new Set([zh,"__reorder__",jN]),xve=20,kve=(n,e,t,i,r,s,o)=>{const a=s?{}:te({},n.current.state.rowSpanning.spannedCells),l=s?{}:te({},n.current.state.rowSpanning.hiddenCells),c=s?{}:te({},n.current.state.rowSpanning.hiddenCellOriginMap);return s&&(o=TS),e.forEach(u=>{var d;if(!Gqe.has(u.field)){for(let h=r.firstRowIndex;h<r.lastRowIndex;h+=1){const f=t[h];if((d=l[f.id])!=null&&d[u.field])continue;const p=MF(f.model,u,n);if(p==null)continue;let m=f.id,v=h,C=0;const y=[];if(h===r.firstRowIndex){let _=h-1;const x=t[_];for(;_>=i.firstRowIndex&&MF(x.model,u,n)===p;){const k=t[_+1];l[k.id]?l[k.id][u.field]=!0:l[k.id]={[u.field]:!0},y.push(h),C+=1,m=x.id,v=_,_-=1}}y.forEach(_=>{c[_]?c[_][u.field]=v:c[_]={[u.field]:v}});let w=h+1;for(;w<=i.lastRowIndex&&t[w]&&MF(t[w].model,u,n)===p;){const _=t[w];l[_.id]?l[_.id][u.field]=!0:l[_.id]={[u.field]:!0},c[w]?c[w][u.field]=v:c[w]={[u.field]:v},w+=1,C+=1}C>0&&(a[m]?a[m][u.field]=C+1:a[m]={[u.field]:C+1})}o={firstRowIndex:Math.min(o.firstRowIndex,r.firstRowIndex),lastRowIndex:Math.max(o.lastRowIndex,r.lastRowIndex)}}}),{spannedCells:a,hiddenCells:l,hiddenCellOriginMap:c,processedRange:o}},Kqe=(n,e,t)=>{var i;if(e.unstable_rowSpanning){const r=n.rows.dataRowIds||[],s=n.columns.orderedFields||[],o=n.rows.dataRowIdToModelLookup,a=n.columns.lookup,l=!!n.filter.filterModel.items.length||!!((i=n.filter.filterModel.quickFilterValues)!=null&&i.length);if(!r.length||!s.length||!o||!a||l)return te({},n,{rowSpanning:dI});const c={firstRowIndex:0,lastRowIndex:Math.min(xve,Math.max(r.length,0))},u=r.map(m=>({id:m,model:o[m]})),d=s.map(m=>a[m]),{spannedCells:h,hiddenCells:f,hiddenCellOriginMap:p}=kve(t,d,u,c,c,!0,TS);return te({},n,{rowSpanning:{spannedCells:h,hiddenCells:f,hiddenCellOriginMap:p}})}return te({},n,{rowSpanning:dI})},Qqe=(n,e)=>{const{range:t,rows:i}=A0(n),r=bt(n,sL),s=bt(n,ps),o=bt(n,Bo),a=Uc(()=>Object.keys(n.current.state.rowSpanning.spannedCells).length>0?{firstRowIndex:0,lastRowIndex:Math.min(xve,Math.max(n.current.state.rows.dataRowIds.length,0))}:TS),l=M.useRef(TS),c=M.useCallback((p=!0)=>{if(!e.unstable_rowSpanning){n.current.state.rowSpanning!==dI&&n.current.setState(L=>te({},L,{rowSpanning:dI}));return}if(t===null||!qqe(r))return;p&&(a.current=TS);const m=Uqe({firstRowIndex:r.firstRowIndex,lastRowIndex:Math.min(r.lastRowIndex,t.lastRowIndex+1)},a.current);if(m===null)return;const{spannedCells:v,hiddenCells:C,hiddenCellOriginMap:y,processedRange:w}=kve(n,s,i,t,m,p,a.current);a.current=w;const _=Object.keys(v).length,x=Object.keys(C).length,k=Object.keys(n.current.state.rowSpanning.spannedCells).length,D=Object.keys(n.current.state.rowSpanning.hiddenCells).length;(p||_!==k||x!==D)&&n.current.setState(L=>te({},L,{rowSpanning:{spannedCells:v,hiddenCells:C,hiddenCellOriginMap:y}}))},[n,e.unstable_rowSpanning,t,r,i,s,a]),u=M.useRef(r),d=M.useRef(!0),h=M.useRef(!1),f=M.useRef(o);M.useEffect(()=>{const p=d.current;if(d.current&&(d.current=!1),o!==f.current){f.current=o,c(!0);return}if(t&&l.current&&uie(t,l.current)&&(l.current=t,h.current=!0),!p&&u.current!==r){uie(u.current,r)&&(c(h.current),h.current=!1),u.current=r;return}c()},[c,r,t,l,o])},Yqe=(n,e,t)=>te({},n,{listViewColumn:e.unstable_listColumn?te({},e.unstable_listColumn,{computedWidth:G8(t)}):void 0});function Xqe(n,e){const t=()=>{n.current.setState(s=>s.listViewColumn?te({},s,{listViewColumn:te({},s.listViewColumn,{computedWidth:G8(n)})}):s)},i=M.useRef(null);$t(n,"viewportInnerSizeChange",s=>{i.current!==s.width&&(i.current=s.width,t())}),$t(n,"columnVisibilityModelChange",t),M.useEffect(()=>{const s=e.unstable_listColumn;s&&n.current.setState(o=>te({},o,{listViewColumn:te({},s,{computedWidth:G8(n)})}))},[n,e.unstable_listColumn]),M.useEffect(()=>{e.unstable_listView&&e.unstable_listColumn},[e.unstable_listView,e.unstable_listColumn])}function G8(n){return fa(n.current.state).viewportInnerSize.width}const Zqe=(n,e)=>{const t=vUe(n,e);return pqe(t,e),uqe(t),ho(wqe,t,e),ho(hqe,t,e),ho(LUe,t,e),ho(GUe,t,e),ho(sqe,t,e),ho(iqe,t,e),ho(VUe,t,e),ho(mqe,t,e),ho(QUe,t,e),ho(OUe,t,e),ho(Kqe,t,e),ho(DUe,t,e),ho(Wqe,t,e),ho(Eqe,t,e),ho(xUe,t,e),ho(Nqe,t,e),ho(R8e,t,e),ho(Yqe,t,e),jUe(t,e),fqe(t,e),EUe(t,e),oqe(t,e),Qqe(t,e),dqe(t,e),Iqe(t),Aqe(t,e),rqe(t,e),zUe(t,e),YUe(t,e),HUe(t,e),bqe(t,e),TUe(t,e),jqe(t,e),KUe(t,e),Dqe(t,e),vqe(t,e),kUe(t),MUe(t,e),PUe(t,e),SUe(t,e),Sqe(t,e),yqe(t,e),Tqe(t),N8e(t,e),Xqe(t,e),t},Jqe=n=>{const{classes:e,headerAlign:t,isDragging:i,isLastColumn:r,showLeftBorder:s,showRightBorder:o,groupId:a,pinnedPosition:l}=n,c={root:["columnHeader",t==="left"&&"columnHeader--alignLeft",t==="center"&&"columnHeader--alignCenter",t==="right"&&"columnHeader--alignRight",i&&"columnHeader--moving",o&&"columnHeader--withRightBorder",s&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",l===ni.LEFT&&"columnHeader--pinnedLeft",l===ni.RIGHT&&"columnHeader--pinnedRight",r&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return _t(c,ci,e)};function eGe(n){var $;const{groupId:e,width:t,depth:i,maxDepth:r,fields:s,height:o,colIndex:a,hasFocus:l,tabIndex:c,isLastColumn:u,pinnedPosition:d,pinnedOffset:h}=n,f=Kt(),p=ba(),m=M.useRef(null),v=Zn(),C=bt(v,Wbe),y=e?C[e]:{},{headerName:w=e??"",description:_="",headerAlign:x=void 0}=y;let k;const D=e&&(($=C[e])==null?void 0:$.renderHeaderGroup),T=M.useMemo(()=>({groupId:e,headerName:w,description:_,depth:i,maxDepth:r,fields:s,colIndex:a,isLastColumn:u}),[e,w,_,i,r,s,a,u]);e&&D&&(k=D(T));const L=te({},n,{classes:f.classes,headerAlign:x,depth:i,isDragging:!1}),I=w??e,R=Gi(),N=e===null?`empty-group-cell-${R}`:e,O=Jqe(L);M.useLayoutEffect(()=>{if(l){const z=m.current.querySelector('[tabindex="0"]')||m.current;z==null||z.focus()}},[v,l]);const F=M.useCallback(U=>z=>{oL(z)||v.current.publishEvent(U,T,z)},[v,T]),A=M.useMemo(()=>({onKeyDown:F("columnGroupHeaderKeyDown"),onFocus:F("columnGroupHeaderFocus"),onBlur:F("columnGroupHeaderBlur")}),[F]),H=typeof y.headerClassName=="function"?y.headerClassName(T):y.headerClassName,W=M.useMemo(()=>XN(te({},n.style),p,d,h),[d,h,n.style,p]);return V.jsx(sve,te({ref:m,classes:O,columnMenuOpen:!1,colIndex:a,height:o,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:c,isDraggable:!1,headerComponent:k,headerClassName:H,description:_,elementId:N,width:t,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:I,"aria-colspan":s.length,"data-fields":`|-${s.join("-|-")}-|`,style:W},A))}const die=$e("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(n,e)=>e.columnHeaderRow})({display:"flex"}),tGe=n=>{const{visibleColumns:e,sortColumnLookup:t,filterColumnLookup:i,columnHeaderTabIndexState:r,columnGroupHeaderTabIndexState:s,columnHeaderFocus:o,columnGroupHeaderFocus:a,headerGroupingMaxDepth:l,columnMenuState:c,columnVisibility:u,columnGroupsHeaderStructure:d,hasOtherElementInTabSequence:h}=n,[f,p]=M.useState(""),[m,v]=M.useState(""),C=Kc(),y=Kt(),w=bt(C,fa),_=bt(C,zbe),x=bt(C,Qp),k=bt(C,M8e),D=bt(C,tL),T=bt(C,Wf),L=Kbe(x,k,D.left.length),I=w.columnsTotalWidth<w.viewportOuterSize.width;M.useEffect(()=>{C.current.columnHeadersContainerRef.current&&(C.current.columnHeadersContainerRef.current.scrollLeft=0)},[C]);const R=M.useCallback(Q=>v(Q.field),[]),N=M.useCallback(()=>v(""),[]),O=M.useCallback(Q=>p(Q.field),[]),F=M.useCallback(()=>p(""),[]),A=M.useMemo(()=>D.left.length?{firstColumnIndex:0,lastColumnIndex:D.left.length}:null,[D.left.length]),H=M.useMemo(()=>D.right.length?{firstColumnIndex:e.length-D.right.length,lastColumnIndex:e.length}:null,[D.right.length,e.length]);$t(C,"columnResizeStart",R),$t(C,"columnResizeStop",N),$t(C,"columnHeaderDragStart",O),$t(C,"columnHeaderDragEnd",F);const W=Q=>{const{renderContext:G=k}=Q||{},J=G.firstColumnIndex,ne=G.lastColumnIndex;return{renderedColumns:e.slice(J,ne),firstColumnToRender:J,lastColumnToRender:ne}},$=(Q,G,J,ne=!1)=>{const ae=(Q==null?void 0:Q.position)===ni.RIGHT,se=(Q==null?void 0:Q.position)===void 0,X=D.right.length>0&&ae||D.right.length===0&&se,oe=L-J;return V.jsxs(M.Fragment,{children:[se&&V.jsx("div",{role:"presentation",style:{width:oe}}),G,se&&V.jsx("div",{role:"presentation",className:lt(be.filler,ne&&be["filler--borderBottom"])}),X&&V.jsx(hU,{header:!0,pinnedRight:ae,borderBottom:ne,borderTop:!1})]})},U=(Q,G={})=>{const{renderedColumns:J,firstColumnToRender:ne}=W(Q),ae=[];for(let se=0;se<J.length;se+=1){const X=J[se],oe=ne+se,ve=oe===0,me=r!==null&&r.field===X.field||ve&&!h?0:-1,ye=o!==null&&o.field===X.field,Le=c.open&&c.field===X.field,ie=Q==null?void 0:Q.position,Ee=w.hasScrollY?w.scrollbarSize:0,Ue=DS(ie,X.computedWidth,oe,x,w.columnsTotalWidth,Ee),re=ie===ni.RIGHT?J[se-1]:J[se+1],fe=re?o!==null&&o.field===re.field:!1,Ce=oe+1===x.length-D.right.length,Me=se,Te=J.length,Ae=cI(ie,Me),Ne=lI(ie,Me,Te,y.showCellVerticalBorder,I);ae.push(V.jsx(rze,te({},t[X.field],{columnMenuOpen:Le,filterItemsCounter:i[X.field]&&i[X.field].length,headerHeight:w.headerHeight,isDragging:X.field===f,colDef:X,colIndex:oe,isResizing:m===X.field,isLast:oe===x.length-1,hasFocus:ye,tabIndex:me,pinnedPosition:ie,pinnedOffset:Ue,isLastUnpinned:Ce,isSiblingFocused:fe,showLeftBorder:Ae,showRightBorder:Ne},G),X.field))}return $(Q,ae,0)},z=()=>V.jsxs(die,{role:"row","aria-rowindex":l+1,ownerState:y,className:be["row--borderBottom"],children:[A&&U({position:ni.LEFT,renderContext:A},{disableReorder:!0}),U({renderContext:k}),H&&U({position:ni.RIGHT,renderContext:H},{disableReorder:!0,separatorSide:sU.Left})]}),K=({depth:Q,params:G})=>{var Me,Te;const J=W(G);if(J.renderedColumns.length===0)return null;const{firstColumnToRender:ne,lastColumnToRender:ae}=J,se=d[Q],X=e[ne].field,oe=((Me=_[X])==null?void 0:Me[Q])??null,ve=se.findIndex(({groupId:Ae,columnFields:Ne})=>Ae===oe&&Ne.includes(X)),me=e[ae-1].field,ye=((Te=_[me])==null?void 0:Te[Q])??null,Le=se.findIndex(({groupId:Ae,columnFields:Ne})=>Ae===ye&&Ne.includes(me)),ie=se.slice(ve,Le+1).map(Ae=>te({},Ae,{columnFields:Ae.columnFields.filter(Ne=>u[Ne]!==!1)})).filter(Ae=>Ae.columnFields.length>0),Ee=ie[0].columnFields.indexOf(X),re=ie[0].columnFields.slice(0,Ee).reduce((Ae,Ne)=>{const Ge=T[Ne];return Ae+(Ge.computedWidth??0)},0);let fe=ne;const Ce=ie.map(({groupId:Ae,columnFields:Ne},Ge)=>{const gt=a!==null&&a.depth===Q&&Ne.includes(a.field),rt=s!==null&&s.depth===Q&&Ne.includes(s.field)?0:-1,it={groupId:Ae,width:Ne.reduce((Gt,Dt)=>Gt+T[Dt].computedWidth,0),fields:Ne,colIndex:fe,hasFocus:gt,tabIndex:rt},Xe=G.position,st=w.hasScrollY?w.scrollbarSize:0,Ke=DS(Xe,it.width,fe,x,w.columnsTotalWidth,st);fe+=Ne.length;let kt=Ge;return Xe===ni.LEFT&&(kt=fe-1),V.jsx(eGe,{groupId:Ae,width:it.width,fields:it.fields,colIndex:it.colIndex,depth:Q,isLastColumn:Ge===ie.length-1,maxDepth:l,height:w.groupHeaderHeight,hasFocus:gt,tabIndex:rt,pinnedPosition:Xe,pinnedOffset:Ke,showLeftBorder:cI(Xe,kt),showRightBorder:lI(Xe,kt,ie.length,y.showCellVerticalBorder,I)},Ge)});return $(G,Ce,re)};return{renderContext:k,leftRenderContext:A,rightRenderContext:H,pinnedColumns:D,visibleColumns:e,columnPositions:x,getFillers:$,getColumnHeadersRow:z,getColumnsToRender:W,getColumnGroupHeadersRows:()=>{if(l===0)return null;const Q=[];for(let G=0;G<l;G+=1)Q.push(V.jsxs(die,{role:"row","aria-rowindex":G+1,ownerState:y,children:[A&&K({depth:G,params:{position:ni.LEFT,renderContext:A,maxLastColumn:A.lastColumnIndex}}),K({depth:G,params:{renderContext:k}}),H&&K({depth:G,params:{position:ni.RIGHT,renderContext:H,maxLastColumn:H.lastColumnIndex}})]},G));return Q},getPinnedCellOffset:DS,isDragging:!!f,getInnerProps:()=>({role:"rowgroup"})}},nGe=["className"],iGe=n=>{const{classes:e}=n;return _t({root:["columnHeaders"]},ci,e)},rGe=ir("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(n,e)=>e.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),sGe=Mi(function(e,t){const{className:i}=e,r=rn(e,nGe),s=Kt(),o=iGe(s);return V.jsx(rGe,te({className:lt(o.root,i),ownerState:s},r,{role:"presentation",ref:t}))}),oGe=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],aGe=Mi(function(e,t){const{visibleColumns:i,sortColumnLookup:r,filterColumnLookup:s,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p}=e,m=rn(e,oGe),{getInnerProps:v,getColumnHeadersRow:C,getColumnGroupHeadersRows:y}=tGe({visibleColumns:i,sortColumnLookup:r,filterColumnLookup:s,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p});return V.jsxs(sGe,te({},m,v(),{ref:t,children:[y(),C()]}))}),lGe=zf(aGe);function cGe(n){return null}function uGe(n){return null}const dGe=Mi(function(e,t){const r=Zn().current.getLocaleText("noResultsOverlayLabel");return V.jsx(rU,te({},e,{ref:t,children:r}))});function hGe(n){const{badgeContent:e,invisible:t=!1,max:i=99,showZero:r=!1}=n,s=Ej({badgeContent:e,max:i});let o=t;t===!1&&e===0&&!r&&(o=!0);const{badgeContent:a,max:l=i}=o?s:n,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:o,max:l,displayValue:c}}function fGe(n){return Zt("MuiBadge",n)}const Lg=Jt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),RF=10,NF=4,gGe=n=>{const{color:e,anchorOrigin:t,invisible:i,overlap:r,variant:s,classes:o={}}=n,a={root:["root"],badge:["badge",s,i&&"invisible",`anchorOrigin${nt(t.vertical)}${nt(t.horizontal)}`,`anchorOrigin${nt(t.vertical)}${nt(t.horizontal)}${nt(r)}`,`overlap${nt(r)}`,e!=="default"&&`color${nt(e)}`]};return _t(a,fGe,o)},pGe=$e("span",{name:"MuiBadge",slot:"Root",overridesResolver:(n,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),mGe=$e("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.badge,e[t.variant],e[`anchorOrigin${nt(t.anchorOrigin.vertical)}${nt(t.anchorOrigin.horizontal)}${nt(t.overlap)}`],t.color!=="default"&&e[`color${nt(t.color)}`],t.invisible&&e.invisible]}})(sn(({theme:n})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(12),minWidth:RF*2,lineHeight:1,padding:"0 6px",height:RF*2,borderRadius:RF,zIndex:1,transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.enteringScreen}),variants:[...Object.entries(n.palette).filter(Qr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main,color:(n.vars||n).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:NF,height:NF*2,minWidth:NF*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Lg.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.leavingScreen})}}]})));function hie(n){return{vertical:(n==null?void 0:n.vertical)??"top",horizontal:(n==null?void 0:n.horizontal)??"right"}}const bGe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiBadge"}),{anchorOrigin:r,className:s,classes:o,component:a,components:l={},componentsProps:c={},children:u,overlap:d="rectangular",color:h="default",invisible:f=!1,max:p=99,badgeContent:m,slots:v,slotProps:C,showZero:y=!1,variant:w="standard",..._}=i,{badgeContent:x,invisible:k,max:D,displayValue:T}=hGe({max:p,invisible:f,badgeContent:m,showZero:y}),L=Ej({anchorOrigin:hie(r),color:h,overlap:d,variant:w,badgeContent:m}),I=k||x==null&&w!=="dot",{color:R=h,overlap:N=d,anchorOrigin:O,variant:F=w}=I?L:i,A=hie(O),H=F!=="dot"?T:void 0,W={...i,badgeContent:x,invisible:I,max:D,displayValue:H,showZero:y,anchorOrigin:A,color:R,overlap:N,variant:F},$=gGe(W),U=(v==null?void 0:v.root)??l.Root??pGe,z=(v==null?void 0:v.badge)??l.Badge??mGe,K=(C==null?void 0:C.root)??c.root,Z=(C==null?void 0:C.badge)??c.badge,Q=OC({elementType:U,externalSlotProps:K,externalForwardedProps:_,additionalProps:{ref:t,as:a},ownerState:W,className:lt(K==null?void 0:K.className,$.root,s)}),G=OC({elementType:z,externalSlotProps:Z,ownerState:W,className:lt($.badge,Z==null?void 0:Z.className)});return V.jsxs(U,{...Q,children:[u,V.jsx(z,{...G,children:H})]})});function vGe(n){return Zt("PrivateSwitchBase",n)}Jt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const yGe=n=>{const{classes:e,checked:t,disabled:i,edge:r}=n,s={root:["root",t&&"checked",i&&"disabled",r&&`edge${nt(r)}`],input:["input"]};return _t(s,vGe,e)},CGe=$e(Tp)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),_Ge=$e("input",{shouldForwardProp:va})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),wGe=M.forwardRef(function(e,t){const{autoFocus:i,checked:r,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:h,inputProps:f,inputRef:p,name:m,onBlur:v,onChange:C,onFocus:y,readOnly:w,required:_=!1,tabIndex:x,type:k,value:D,...T}=e,[L,I]=Tb({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),R=$f(),N=U=>{y&&y(U),R&&R.onFocus&&R.onFocus(U)},O=U=>{v&&v(U),R&&R.onBlur&&R.onBlur(U)},F=U=>{if(U.nativeEvent.defaultPrevented)return;const z=U.target.checked;I(z),C&&C(U,z)};let A=l;R&&typeof A>"u"&&(A=R.disabled);const H=k==="checkbox"||k==="radio",W={...e,checked:L,disabled:A,disableFocusRipple:c,edge:u},$=yGe(W);return V.jsxs(CGe,{component:"span",className:lt($.root,o),centerRipple:!0,focusRipple:!c,disabled:A,tabIndex:null,role:void 0,onFocus:N,onBlur:O,ownerState:W,ref:t,...T,children:[V.jsx(_Ge,{autoFocus:i,checked:r,defaultChecked:a,className:$.input,disabled:A,id:H?h:void 0,name:m,onChange:F,readOnly:w,ref:p,required:_,ownerState:W,tabIndex:x,type:k,...k==="checkbox"&&D===void 0?{}:{value:D},...f}),L?s:d]})}),SGe=Ut(V.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),xGe=Ut(V.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),kGe=Ut(V.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function LGe(n){return Zt("MuiCheckbox",n)}const AF=Jt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),EGe=n=>{const{classes:e,indeterminate:t,color:i,size:r}=n,s={root:["root",t&&"indeterminate",`color${nt(i)}`,`size${nt(r)}`]},o=_t(s,LGe,e);return{...e,...o}},DGe=$e(wGe,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${nt(t.size)}`],t.color!=="default"&&e[`color${nt(t.color)}`]]}})(sn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette.action.active,n.palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette[e].main,n.palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{color:e},style:{[`&.${AF.checked}, &.${AF.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${AF.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),TGe=V.jsx(xGe,{}),IGe=V.jsx(SGe,{}),MGe=V.jsx(kGe,{}),Pv=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCheckbox"}),{checkedIcon:r=TGe,color:s="primary",icon:o=IGe,indeterminate:a=!1,indeterminateIcon:l=MGe,inputProps:c,size:u="medium",disableRipple:d=!1,className:h,...f}=i,p=a?l:o,m=a?l:r,v={...i,disableRipple:d,color:s,indeterminate:a,size:u},C=EGe(v);return V.jsx(DGe,{type:"checkbox",inputProps:{"data-indeterminate":a,...c},icon:M.cloneElement(p,{fontSize:p.props.fontSize??u}),checkedIcon:M.cloneElement(m,{fontSize:m.props.fontSize??u}),ownerState:v,ref:t,className:lt(C.root,h),disableRipple:d,...f,classes:C})});function RGe(n){return Zt("MuiButton",n)}const Lm=Jt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Lve=M.createContext({}),NGe=M.createContext(void 0),AGe=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:s,loading:o,loadingPosition:a,classes:l}=n,c={root:["root",o&&"loading",s,`${s}${nt(e)}`,`size${nt(r)}`,`${s}Size${nt(r)}`,`color${nt(e)}`,t&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${nt(a)}`],startIcon:["icon","startIcon",`iconSize${nt(r)}`],endIcon:["icon","endIcon",`iconSize${nt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=_t(c,RGe,l);return{...l,...u}},Eve=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],PGe=$e(Tp,{shouldForwardProp:n=>va(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${nt(t.color)}`],e[`size${nt(t.size)}`],e[`${t.variant}Size${nt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(sn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Lm.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Lm.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Lm.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Lm.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Qr()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:wn(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:wn(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Lm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Lm.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Lm.loading}`]:{color:"transparent"}}}]}})),OGe=$e("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${nt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Eve]})),FGe=$e("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${nt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Eve]})),BGe=$e("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),fie=$e("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(n,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Du=M.forwardRef(function(e,t){const i=M.useContext(Lve),r=M.useContext(NGe),s=nv(i,e),o=on({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:v=!1,id:C,loading:y=null,loadingIndicator:w,loadingPosition:_="center",size:x="medium",startIcon:k,type:D,variant:T="text",...L}=o,I=Gi(C),R=w??V.jsx(Kp,{"aria-labelledby":I,color:"inherit",size:16}),N={...o,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:v,loading:y,loadingIndicator:R,loadingPosition:_,size:x,type:D,variant:T},O=AGe(N),F=(k||y&&_==="start")&&V.jsx(OGe,{className:O.startIcon,ownerState:N,children:k||V.jsx(fie,{className:O.loadingIconPlaceholder,ownerState:N})}),A=(p||y&&_==="end")&&V.jsx(FGe,{className:O.endIcon,ownerState:N,children:p||V.jsx(fie,{className:O.loadingIconPlaceholder,ownerState:N})}),H=r||"",W=typeof y=="boolean"?V.jsx("span",{className:O.loadingWrapper,style:{display:"contents"},children:y&&V.jsx(BGe,{className:O.loadingIndicator,ownerState:N,children:R})}):null;return V.jsxs(PGe,{ownerState:N,className:lt(i.className,O.root,u,H),component:c,disabled:d||y,focusRipple:!f,focusVisibleClassName:lt(O.focusVisible,m),ref:t,type:D,id:I,...L,classes:O,children:[F,_!=="end"&&W,a,_==="end"&&W,A]})});function HGe(n){return Zt("MuiInputAdornment",n)}const gie=Jt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var pie;const VGe=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${nt(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},zGe=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:i,position:r,size:s,variant:o}=n,a={root:["root",t&&"disablePointerEvents",r&&`position${nt(r)}`,o,i&&"hiddenLabel",s&&`size${nt(s)}`]};return _t(a,HGe,e)},WGe=$e("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:VGe})(sn(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${gie.positionStart}&:not(.${gie.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),$Ge=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiInputAdornment"}),{children:r,className:s,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u,...d}=i,h=$f()||{};let f=u;u&&h.variant,f||(f=h.variant);const p={...i,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:f},m=zGe(p);return V.jsx(PN.Provider,{value:null,children:V.jsx(WGe,{as:o,ownerState:p,className:lt(m.root,s),ref:t,...d,children:typeof r=="string"&&!l?V.jsx(nn,{color:"textSecondary",children:r}):V.jsxs(M.Fragment,{children:[c==="start"?pie||(pie=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,r]})})})}),jGe=["sortingOrder"],UGe=M.memo(function(e){const{sortingOrder:t}=e,i=rn(e,jGe),r=Kt(),[s]=t,o=s==="asc"?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return o?V.jsx(o,te({},i)):null}),qGe=["native"];function GGe(n){let{native:e}=n,t=rn(n,qGe);return e?V.jsx("option",te({},t)):V.jsx(Nd,te({},t))}const KGe={booleanCellTrueIcon:Eze,booleanCellFalseIcon:kF,columnMenuIcon:Sze,openFilterButtonIcon:mze,filterPanelDeleteIcon:kF,columnFilteredIcon:Pne,columnSelectorIcon:vze,columnUnsortedIcon:UGe,columnSortedAscendingIcon:Mne,columnSortedDescendingIcon:Rne,columnResizeIcon:yze,densityCompactIcon:Cze,densityStandardIcon:_ze,densityComfortableIcon:wze,exportIcon:Lze,moreActionsIcon:Dze,treeDataCollapseIcon:Ane,treeDataExpandIcon:Nne,groupingCriteriaCollapseIcon:Ane,groupingCriteriaExpandIcon:Nne,detailPanelExpandIcon:One,detailPanelCollapseIcon:xze,rowReorderIcon:Fne,quickFilterIcon:bze,quickFilterClearIcon:kF,columnMenuHideIcon:Tze,columnMenuSortAscendingIcon:Mne,columnMenuSortDescendingIcon:Rne,columnMenuFilterIcon:Pne,columnMenuManageColumnsIcon:Ize,columnMenuClearIcon:Mze,loadIcon:kze,filterPanelAddIcon:One,filterPanelRemoveAllIcon:Rze,columnReorderIcon:Fne},QGe=te({},KGe,{baseBadge:bGe,baseCheckbox:Pv,baseDivider:A8,baseTextField:Fn,baseFormControl:dve,baseSelect:ZN,baseButton:Du,baseIconButton:ua,baseInputAdornment:$Ge,baseTooltip:yb,basePopper:Mv,baseInputLabel:hve,baseSelectOption:GGe,baseChip:qj}),YGe=te({},QGe,{cell:VHe,skeletonCell:aVe,columnHeaderFilterIconButton:gze,columnHeaderSortIcon:hze,columnMenu:Qze,columnHeaders:lGe,detailPanels:cGe,footer:eje,footerRowCount:Qje,toolbar:null,pinnedRows:uGe,loadingOverlay:mje,noResultsOverlay:dGe,noRowsOverlay:bje,pagination:Uje,filterPanel:kWe,columnsPanel:eWe,columnsManagement:B$e,panel:sWe,row:Jje}),XGe={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",unstable_listView:!1},ZGe=YGe,JGe=n=>{const e=NHe(Ime({props:n,name:"MuiDataGrid"})),t=M.useMemo(()=>te({},VBe,e.localeText),[e.localeText]),i=M.useMemo(()=>MHe({defaultSlots:ZGe,slots:e.slots}),[e.slots]),r=M.useMemo(()=>Object.keys(j8).reduce((s,o)=>(s[o]=e[o]??j8[o],s),{}),[e]);return M.useMemo(()=>te({},e,r,{localeText:t,slots:i},XGe),[e,t,i,r])},eKe={hooks:{useGridAriaAttributes:eUe,useGridRowAriaAttributes:tUe}},Dve=Mi(function(e,t){var s;const i=JGe(e),r=Zqe(i.apiRef,i);return V.jsx(nUe,{privateApiRef:r,configuration:eKe,props:i,children:V.jsx(CVe,te({className:i.className,style:i.style,sx:i.sx},i.forwardedProps,(s=i.slotProps)==null?void 0:s.root,{ref:t}))})}),F0=M.memo(Dve);Dve.propTypes={apiRef:Ve.shape({current:Ve.object.isRequired}),"aria-label":Ve.string,"aria-labelledby":Ve.string,autoHeight:Ve.bool,autoPageSize:Ve.bool,autosizeOnMount:Ve.bool,autosizeOptions:Ve.shape({columns:Ve.arrayOf(Ve.string),disableColumnVirtualization:Ve.bool,expand:Ve.bool,includeHeaders:Ve.bool,includeOutliers:Ve.bool,outliersFactor:Ve.number}),cellModesModel:Ve.object,checkboxSelection:Ve.bool,classes:Ve.object,clipboardCopyCellDelimiter:Ve.string,columnBufferPx:Ve.number,columnGroupHeaderHeight:Ve.number,columnGroupingModel:Ve.arrayOf(Ve.object),columnHeaderHeight:Ve.number,columns:Ve.arrayOf(Ve.object).isRequired,columnVisibilityModel:Ve.object,density:Ve.oneOf(["comfortable","compact","standard"]),disableAutosize:Ve.bool,disableColumnFilter:Ve.bool,disableColumnMenu:Ve.bool,disableColumnResize:Ve.bool,disableColumnSelector:Ve.bool,disableColumnSorting:Ve.bool,disableDensitySelector:Ve.bool,disableEval:Ve.bool,disableMultipleRowSelection:Ve.bool,disableRowSelectionOnClick:Ve.bool,disableVirtualization:Ve.bool,editMode:Ve.oneOf(["cell","row"]),estimatedRowCount:Ve.number,experimentalFeatures:Ve.shape({warnIfFocusStateIsNotSynced:Ve.bool}),filterDebounceMs:Ve.number,filterMode:Ve.oneOf(["client","server"]),filterModel:Ve.shape({items:Ve.arrayOf(Ve.shape({field:Ve.string.isRequired,id:Ve.oneOfType([Ve.number,Ve.string]),operator:Ve.string.isRequired,value:Ve.any})).isRequired,logicOperator:Ve.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Ve.bool,quickFilterLogicOperator:Ve.oneOf(["and","or"]),quickFilterValues:Ve.array}),forwardedProps:Ve.object,getCellClassName:Ve.func,getDetailPanelContent:Ve.func,getEstimatedRowHeight:Ve.func,getRowClassName:Ve.func,getRowHeight:Ve.func,getRowId:Ve.func,getRowSpacing:Ve.func,hideFooter:Ve.bool,hideFooterPagination:Ve.bool,hideFooterSelectedRowCount:Ve.bool,ignoreDiacritics:Ve.bool,ignoreValueFormatterDuringExport:Ve.oneOfType([Ve.shape({clipboardExport:Ve.bool,csvExport:Ve.bool}),Ve.bool]),indeterminateCheckboxAction:Ve.oneOf(["deselect","select"]),initialState:Ve.object,isCellEditable:Ve.func,isRowSelectable:Ve.func,keepNonExistentRowsSelected:Ve.bool,loading:Ve.bool,localeText:Ve.object,logger:Ve.shape({debug:Ve.func.isRequired,error:Ve.func.isRequired,info:Ve.func.isRequired,warn:Ve.func.isRequired}),logLevel:Ve.oneOf(["debug","error","info","warn",!1]),nonce:Ve.string,onCellClick:Ve.func,onCellDoubleClick:Ve.func,onCellEditStart:Ve.func,onCellEditStop:Ve.func,onCellKeyDown:Ve.func,onCellModesModelChange:Ve.func,onClipboardCopy:Ve.func,onColumnHeaderClick:Ve.func,onColumnHeaderContextMenu:Ve.func,onColumnHeaderDoubleClick:Ve.func,onColumnHeaderEnter:Ve.func,onColumnHeaderLeave:Ve.func,onColumnHeaderOut:Ve.func,onColumnHeaderOver:Ve.func,onColumnOrderChange:Ve.func,onColumnResize:Ve.func,onColumnVisibilityModelChange:Ve.func,onColumnWidthChange:Ve.func,onDensityChange:Ve.func,onFilterModelChange:Ve.func,onMenuClose:Ve.func,onMenuOpen:Ve.func,onPaginationMetaChange:Ve.func,onPaginationModelChange:Ve.func,onPreferencePanelClose:Ve.func,onPreferencePanelOpen:Ve.func,onProcessRowUpdateError:Ve.func,onResize:Ve.func,onRowClick:Ve.func,onRowCountChange:Ve.func,onRowDoubleClick:Ve.func,onRowEditStart:Ve.func,onRowEditStop:Ve.func,onRowModesModelChange:Ve.func,onRowSelectionModelChange:Ve.func,onSortModelChange:Ve.func,onStateChange:Ve.func,pageSizeOptions:Ve.arrayOf(Ve.oneOfType([Ve.number,Ve.shape({label:Ve.string.isRequired,value:Ve.number.isRequired})]).isRequired),pagination:Ve.oneOf([!0]),paginationMeta:Ve.shape({hasNextPage:Ve.bool}),paginationMode:Ve.oneOf(["client","server"]),paginationModel:Ve.shape({page:Ve.number.isRequired,pageSize:Ve.number.isRequired}),processRowUpdate:Ve.func,resizeThrottleMs:Ve.number,rowBufferPx:Ve.number,rowCount:Ve.number,rowHeight:Ve.number,rowModesModel:Ve.object,rowPositionsDebounceMs:Ve.number,rows:Ve.arrayOf(Ve.object),rowSelection:Ve.bool,rowSelectionModel:Ve.oneOfType([Ve.arrayOf(Ve.oneOfType([Ve.number,Ve.string]).isRequired),Ve.number,Ve.string]),rowSpacingType:Ve.oneOf(["border","margin"]),scrollbarSize:Ve.number,showCellVerticalBorder:Ve.bool,showColumnVerticalBorder:Ve.bool,slotProps:Ve.object,slots:Ve.object,sortingMode:Ve.oneOf(["client","server"]),sortingOrder:Ve.arrayOf(Ve.oneOf(["asc","desc"])),sortModel:Ve.arrayOf(Ve.shape({field:Ve.string.isRequired,sort:Ve.oneOf(["asc","desc"])})),sx:Ve.oneOfType([Ve.arrayOf(Ve.oneOfType([Ve.func,Ve.object,Ve.bool])),Ve.func,Ve.object]),unstable_rowSpanning:Ve.bool,virtualizeColumnsWithAutoRowHeight:Ve.bool};function tKe(n){return Zt("MuiAppBar",n)}Jt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const nKe=n=>{const{color:e,position:t,classes:i}=n,r={root:["root",`color${nt(e)}`,`position${nt(t)}`]};return _t(r,tKe,i)},mie=(n,e)=>n?`${n==null?void 0:n.replace(")","")}, ${e})`:e,iKe=$e(qc,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${nt(t.position)}`],e[`color${nt(t.color)}`]]}})(sn(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(Qr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?mie(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?mie(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),Tve=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiAppBar"}),{className:r,color:s="primary",enableColorOnDark:o=!1,position:a="fixed",...l}=i,c={...i,color:s,position:a,enableColorOnDark:o},u=nKe(c);return V.jsx(iKe,{square:!0,component:"header",ownerState:c,elevation:4,className:lt(u.root,r,a==="fixed"&&"mui-fixed"),ref:t,...l})}),xs=S4e({createStyledComponent:$e("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root}),useThemeProps:n=>on({props:n,name:"MuiStack"})}),rKe=Ut(V.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function sKe(n){return Zt("MuiAvatar",n)}Jt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const oKe=n=>{const{classes:e,variant:t,colorDefault:i}=n;return _t({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},sKe,e)},aKe=$e("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(sn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),lKe=$e("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),cKe=$e(rKe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,e)=>e.fallback})({width:"75%",height:"75%"});function uKe({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[r,s]=M.useState(!1);return M.useEffect(()=>{if(!t&&!i)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=n,a.referrerPolicy=e,a.src=t,i&&(a.srcset=i),()=>{o=!1}},[n,e,t,i]),r}const Ive=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:o,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:f,variant:p="circular",...m}=i;let v=null;const C={...i,component:a,variant:p},y=uKe({...u,...typeof c.img=="function"?c.img(C):c.img,src:h,srcSet:f}),w=h||f,_=w&&y!=="error";C.colorDefault=!_,delete C.ownerState;const x=oKe(C),[k,D]=oi("img",{className:x.img,elementType:lKe,externalForwardedProps:{slots:l,slotProps:{img:{...u,...c.img}}},additionalProps:{alt:r,src:h,srcSet:f,sizes:d},ownerState:C});return _?v=V.jsx(k,{...D}):s||s===0?v=s:w&&r?v=r[0]:v=V.jsx(cKe,{ownerState:C,className:x.fallback}),V.jsx(aKe,{as:a,className:lt(x.root,o),ref:t,...m,ownerState:C,children:v})}),dKe=Ut(V.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function hKe(n){return Zt("MuiLink",n)}const fKe=Jt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),gKe=({theme:n,ownerState:e})=>{const t=e.color,i=ip(n,`palette.${t}.main`,!1)||ip(n,`palette.${t}`,!1)||e.color,r=ip(n,`palette.${t}.mainChannel`)||ip(n,`palette.${t}Channel`);return"vars"in n&&r?`rgba(${r} / 0.4)`:wn(i,.4)},bie={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},pKe=n=>{const{classes:e,component:t,focusVisible:i,underline:r}=n,s={root:["root",`underline${nt(r)}`,t==="button"&&"button",i&&"focusVisible"]};return _t(s,hKe,e)},mKe=$e(nn,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${nt(t.underline)}`],t.component==="button"&&e.button]}})(sn(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(Qr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:wn(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:wn(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:wn(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fKe.focusVisible}`]:{outline:"auto"}}}]}))),Mve=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiLink"}),r=eh(),{className:s,color:o="primary",component:a="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:d="always",variant:h="inherit",sx:f,...p}=i,[m,v]=M.useState(!1),C=x=>{PC(x.target)||v(!1),l&&l(x)},y=x=>{PC(x.target)&&v(!0),c&&c(x)},w={...i,color:o,component:a,focusVisible:m,underline:d,variant:h},_=pKe(w);return V.jsx(mKe,{color:o,className:lt(_.root,s),classes:u,component:a,onBlur:C,onFocus:y,ref:t,ownerState:w,variant:h,...p,sx:[...bie[o]===void 0?[{color:o}]:[],...Array.isArray(f)?f:[f]],style:{...p.style,...d==="always"&&o!=="inherit"&&!bie[o]&&{"--Link-underlineColor":gKe({theme:r,ownerState:w})}}})}),K8=m4e({createStyledComponent:$e("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid2",useThemeProps:n=>on({props:n,name:"MuiGrid2"}),useTheme:eh}),bKe=Ut(V.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var vKe=Object.prototype,yKe=vKe.hasOwnProperty;function CKe(n,e){return n!=null&&yKe.call(n,e)}function _Ke(n,e){return n!=null&&CIe(n,e,CKe)}var aL=n=>n.type==="checkbox",_b=n=>n instanceof Date,Ta=n=>n==null;const Rve=n=>typeof n=="object";var ks=n=>!Ta(n)&&!Array.isArray(n)&&Rve(n)&&!_b(n),Nve=n=>ks(n)&&n.target?aL(n.target)?n.target.checked:n.target.value:n,wKe=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,Ave=(n,e)=>n.has(wKe(e)),SKe=n=>{const e=n.constructor&&n.constructor.prototype;return ks(e)&&e.hasOwnProperty("isPrototypeOf")},bU=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xs(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(bU&&(n instanceof Blob||i))&&(t||ks(n)))if(e=t?[]:{},!t&&!SKe(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=Xs(n[r]));else return n;return e}var lL=n=>Array.isArray(n)?n.filter(Boolean):[],Pr=n=>n===void 0,Ot=(n,e,t)=>{if(!e||!ks(n))return t;const i=lL(e.split(/[,[\].]+?/)).reduce((r,s)=>Ta(r)?r:r[s],n);return Pr(i)||i===n?Pr(n[e])?t:n[e]:i},mc=n=>typeof n=="boolean",vU=n=>/^\w*$/.test(n),Pve=n=>lL(n.replace(/["|']|\]/g,"").split(/\.|\[/)),or=(n,e,t)=>{let i=-1;const r=vU(e)?[e]:Pve(e),s=r.length,o=s-1;for(;++i<s;){const a=r[i];let l=t;if(i!==o){const c=n[a];l=ks(c)||Array.isArray(c)?c:isNaN(+r[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}return n};const hI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_c={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ih={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xKe=q.createContext(null),eA=()=>q.useContext(xKe);var Ove=(n,e,t,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==_c.all&&(e._proxyFormState[o]=!i||_c.all),t&&(t[o]=!0),n[o]}});return r},La=n=>ks(n)&&!Object.keys(n).length,Fve=(n,e,t,i)=>{t(n);const{name:r,...s}=n;return La(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||_c.all))},Ja=n=>Array.isArray(n)?n:[n],Bve=(n,e,t)=>!n||!e||n===e||Ja(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i)));function tA(n){const e=q.useRef(n);e.current=n,q.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function kKe(n){const e=eA(),{control:t=e.control,disabled:i,name:r,exact:s}=n,[o,a]=q.useState(t._formState),l=q.useRef(!0),c=q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=q.useRef(r);return u.current=r,tA({disabled:i,next:d=>l.current&&Bve(u.current,d.name,s)&&Fve(d,c.current,t._updateFormState)&&a({...t._formState,...d}),subject:t._subjects.state}),q.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),q.useMemo(()=>Ove(o,t,c.current,!1),[o,t])}var Ed=n=>typeof n=="string",Hve=(n,e,t,i,r)=>Ed(n)?(i&&e.watch.add(n),Ot(t,n,r)):Array.isArray(n)?n.map(s=>(i&&e.watch.add(s),Ot(t,s))):(i&&(e.watchAll=!0),t);function LKe(n){const e=eA(),{control:t=e.control,name:i,defaultValue:r,disabled:s,exact:o}=n,a=q.useRef(i);a.current=i,tA({disabled:s,subject:t._subjects.values,next:u=>{Bve(a.current,u.name,o)&&c(Xs(Hve(a.current,t._names,u.values||t._formValues,!1,r)))}});const[l,c]=q.useState(t._getWatch(i,r));return q.useEffect(()=>t._removeUnmounted()),l}function EKe(n){const e=eA(),{name:t,disabled:i,control:r=e.control,shouldUnregister:s}=n,o=Ave(r._names.array,t),a=LKe({control:r,name:t,defaultValue:Ot(r._formValues,t,Ot(r._defaultValues,t,n.defaultValue)),exact:!0}),l=kKe({control:r,name:t,exact:!0}),c=q.useRef(r.register(t,{...n.rules,value:a,...mc(n.disabled)?{disabled:n.disabled}:{}})),u=q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ot(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!Ot(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Ot(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Ot(l.validatingFields,t)},error:{enumerable:!0,get:()=>Ot(l.errors,t)}}),[l,t]),d=q.useMemo(()=>({name:t,value:a,...mc(i)||l.disabled?{disabled:l.disabled||i}:{},onChange:h=>c.current.onChange({target:{value:Nve(h),name:t},type:hI.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:Ot(r._formValues,t),name:t},type:hI.BLUR}),ref:h=>{const f=Ot(r._fields,t);f&&h&&(f._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:p=>h.setCustomValidity(p),reportValidity:()=>h.reportValidity()})}}),[t,r._formValues,i,l.disabled,a,r._fields]);return q.useEffect(()=>{const h=r._options.shouldUnregister||s,f=(p,m)=>{const v=Ot(r._fields,p);v&&v._f&&(v._f.mount=m)};if(f(t,!0),h){const p=Xs(Ot(r._options.defaultValues,t));or(r._defaultValues,t,p),Pr(Ot(r._formValues,t))&&or(r._formValues,t,p)}return!o&&r.register(t),()=>{(o?h&&!r._state.action:h)?r.unregister(t):f(t,!1)}},[t,r,o,s]),q.useEffect(()=>{r._updateDisabledField({disabled:i,fields:r._fields,name:t})},[i,t,r]),q.useMemo(()=>({field:d,formState:l,fieldState:u}),[d,l,u])}const Yr=n=>n.render(EKe(n));var DKe=(n,e,t,i,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:r||!0}}:{},Eg=()=>{const n=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+n)%16|0;return(e=="x"?t:t&3|8).toString(16)})},PF=(n,e,t={})=>t.shouldFocus||Pr(t.shouldFocus)?t.focusName||`${n}.${Pr(t.focusIndex)?e:t.focusIndex}.`:"",IS=n=>({isOnSubmit:!n||n===_c.onSubmit,isOnBlur:n===_c.onBlur,isOnChange:n===_c.onChange,isOnAll:n===_c.all,isOnTouch:n===_c.onTouched}),Q8=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const sC=(n,e,t,i)=>{for(const r of t||Object.keys(n)){const s=Ot(n,r);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)return!0;if(o.ref&&e(o.ref,o.name)&&!i)return!0;if(sC(a,e))break}else if(ks(a)&&sC(a,e))break}}};var Vve=(n,e,t)=>{const i=Ja(Ot(n,t));return or(i,"root",e[t]),or(n,t,i),n},yU=n=>n.type==="file",yd=n=>typeof n=="function",fI=n=>{if(!bU)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},G2=n=>Ed(n),CU=n=>n.type==="radio",gI=n=>n instanceof RegExp;const vie={value:!1,isValid:!1},yie={value:!0,isValid:!0};var zve=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Pr(n[0].attributes.value)?Pr(n[0].value)||n[0].value===""?yie:{value:n[0].value,isValid:!0}:yie:vie}return vie};const Cie={isValid:!1,value:null};var Wve=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Cie):Cie;function _ie(n,e,t="validate"){if(G2(n)||Array.isArray(n)&&n.every(G2)||mc(n)&&!n)return{type:t,message:G2(n)?n:"",ref:e}}var K1=n=>ks(n)&&!gI(n)?n:{value:n,message:""},Y8=async(n,e,t,i,r,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:v,mount:C}=n._f,y=Ot(t,m);if(!C||e.has(m))return{};const w=a?a[0]:o,_=N=>{r&&w.reportValidity&&(w.setCustomValidity(mc(N)?"":N||""),w.reportValidity())},x={},k=CU(o),D=aL(o),T=k||D,L=(v||yU(o))&&Pr(o.value)&&Pr(y)||fI(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,I=DKe.bind(null,m,i,x),R=(N,O,F,A=Ih.maxLength,H=Ih.minLength)=>{const W=N?O:F;x[m]={type:N?A:H,message:W,ref:o,...I(N?A:H,W)}};if(s?!Array.isArray(y)||!y.length:l&&(!T&&(L||Ta(y))||mc(y)&&!y||D&&!zve(a).isValid||k&&!Wve(a).isValid)){const{value:N,message:O}=G2(l)?{value:!!l,message:l}:K1(l);if(N&&(x[m]={type:Ih.required,message:O,ref:w,...I(Ih.required,O)},!i))return _(O),x}if(!L&&(!Ta(d)||!Ta(h))){let N,O;const F=K1(h),A=K1(d);if(!Ta(y)&&!isNaN(y)){const H=o.valueAsNumber||y&&+y;Ta(F.value)||(N=H>F.value),Ta(A.value)||(O=H<A.value)}else{const H=o.valueAsDate||new Date(y),W=z=>new Date(new Date().toDateString()+" "+z),$=o.type=="time",U=o.type=="week";Ed(F.value)&&y&&(N=$?W(y)>W(F.value):U?y>F.value:H>new Date(F.value)),Ed(A.value)&&y&&(O=$?W(y)<W(A.value):U?y<A.value:H<new Date(A.value))}if((N||O)&&(R(!!N,F.message,A.message,Ih.max,Ih.min),!i))return _(x[m].message),x}if((c||u)&&!L&&(Ed(y)||s&&Array.isArray(y))){const N=K1(c),O=K1(u),F=!Ta(N.value)&&y.length>+N.value,A=!Ta(O.value)&&y.length<+O.value;if((F||A)&&(R(F,N.message,O.message),!i))return _(x[m].message),x}if(f&&!L&&Ed(y)){const{value:N,message:O}=K1(f);if(gI(N)&&!y.match(N)&&(x[m]={type:Ih.pattern,message:O,ref:o,...I(Ih.pattern,O)},!i))return _(O),x}if(p){if(yd(p)){const N=await p(y,t),O=_ie(N,w);if(O&&(x[m]={...O,...I(Ih.validate,O.message)},!i))return _(O.message),x}else if(ks(p)){let N={};for(const O in p){if(!La(N)&&!i)break;const F=_ie(await p[O](y,t),w,O);F&&(N={...F,...I(O,F.message)},_(F.message),i&&(x[m]=N))}if(!La(N)&&(x[m]={ref:w,...N},!i))return x}}return _(!0),x},OF=(n,e)=>[...n,...Ja(e)],FF=n=>Array.isArray(n)?n.map(()=>{}):void 0;function BF(n,e,t){return[...n.slice(0,e),...Ja(t),...n.slice(e)]}var HF=(n,e,t)=>Array.isArray(n)?(Pr(n[t])&&(n[t]=void 0),n.splice(t,0,n.splice(e,1)[0]),n):[],VF=(n,e)=>[...Ja(e),...Ja(n)];function TKe(n,e){let t=0;const i=[...n];for(const r of e)i.splice(r-t,1),t++;return lL(i).length?i:[]}var zF=(n,e)=>Pr(e)?[]:TKe(n,Ja(e).sort((t,i)=>t-i)),WF=(n,e,t)=>{[n[e],n[t]]=[n[t],n[e]]};function IKe(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Pr(n)?i++:n[e[i++]];return n}function MKe(n){for(const e in n)if(n.hasOwnProperty(e)&&!Pr(n[e]))return!1;return!0}function Hs(n,e){const t=Array.isArray(e)?e:vU(e)?[e]:Pve(e),i=t.length===1?n:IKe(n,t),r=t.length-1,s=t[r];return i&&delete i[s],r!==0&&(ks(i)&&La(i)||Array.isArray(i)&&MKe(i))&&Hs(n,t.slice(0,-1)),n}var wie=(n,e,t)=>(n[e]=t,n);function $ve(n){const e=eA(),{control:t=e.control,name:i,keyName:r="id",shouldUnregister:s,rules:o}=n,[a,l]=q.useState(t._getFieldArray(i)),c=q.useRef(t._getFieldArray(i).map(Eg)),u=q.useRef(a),d=q.useRef(i),h=q.useRef(!1);d.current=i,u.current=a,t._names.array.add(i),o&&t.register(i,o),tA({next:({values:k,name:D})=>{if(D===d.current||!D){const T=Ot(k,d.current);Array.isArray(T)&&(l(T),c.current=T.map(Eg))}},subject:t._subjects.array});const f=q.useCallback(k=>{h.current=!0,t._updateFieldArray(i,k)},[t,i]),p=(k,D)=>{const T=Ja(Xs(k)),L=OF(t._getFieldArray(i),T);t._names.focus=PF(i,L.length-1,D),c.current=OF(c.current,T.map(Eg)),f(L),l(L),t._updateFieldArray(i,L,OF,{argA:FF(k)})},m=(k,D)=>{const T=Ja(Xs(k)),L=VF(t._getFieldArray(i),T);t._names.focus=PF(i,0,D),c.current=VF(c.current,T.map(Eg)),f(L),l(L),t._updateFieldArray(i,L,VF,{argA:FF(k)})},v=k=>{const D=zF(t._getFieldArray(i),k);c.current=zF(c.current,k),f(D),l(D),!Array.isArray(Ot(t._fields,i))&&or(t._fields,i,void 0),t._updateFieldArray(i,D,zF,{argA:k})},C=(k,D,T)=>{const L=Ja(Xs(D)),I=BF(t._getFieldArray(i),k,L);t._names.focus=PF(i,k,T),c.current=BF(c.current,k,L.map(Eg)),f(I),l(I),t._updateFieldArray(i,I,BF,{argA:k,argB:FF(D)})},y=(k,D)=>{const T=t._getFieldArray(i);WF(T,k,D),WF(c.current,k,D),f(T),l(T),t._updateFieldArray(i,T,WF,{argA:k,argB:D},!1)},w=(k,D)=>{const T=t._getFieldArray(i);HF(T,k,D),HF(c.current,k,D),f(T),l(T),t._updateFieldArray(i,T,HF,{argA:k,argB:D},!1)},_=(k,D)=>{const T=Xs(D),L=wie(t._getFieldArray(i),k,T);c.current=[...L].map((I,R)=>!I||R===k?Eg():c.current[R]),f(L),l([...L]),t._updateFieldArray(i,L,wie,{argA:k,argB:T},!0,!1)},x=k=>{const D=Ja(Xs(k));c.current=D.map(Eg),f([...D]),l([...D]),t._updateFieldArray(i,[...D],T=>T,{},!0,!1)};return q.useEffect(()=>{if(t._state.action=!1,Q8(i,t._names)&&t._subjects.state.next({...t._formState}),h.current&&(!IS(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([i]).then(k=>{const D=Ot(k.errors,i),T=Ot(t._formState.errors,i);(T?!D&&T.type||D&&(T.type!==D.type||T.message!==D.message):D&&D.type)&&(D?or(t._formState.errors,i,D):Hs(t._formState.errors,i),t._subjects.state.next({errors:t._formState.errors}))});else{const k=Ot(t._fields,i);k&&k._f&&!(IS(t._options.reValidateMode).isOnSubmit&&IS(t._options.mode).isOnSubmit)&&Y8(k,t._names.disabled,t._formValues,t._options.criteriaMode===_c.all,t._options.shouldUseNativeValidation,!0).then(D=>!La(D)&&t._subjects.state.next({errors:Vve(t._formState.errors,D,i)}))}t._subjects.values.next({name:i,values:{...t._formValues}}),t._names.focus&&sC(t._fields,(k,D)=>{if(t._names.focus&&D.startsWith(t._names.focus)&&k.focus)return k.focus(),1}),t._names.focus="",t._updateValid(),h.current=!1},[a,i,t]),q.useEffect(()=>(!Ot(t._formValues,i)&&t._updateFieldArray(i),()=>{(t._options.shouldUnregister||s)&&t.unregister(i)}),[i,t,r,s]),{swap:q.useCallback(y,[f,i,t]),move:q.useCallback(w,[f,i,t]),prepend:q.useCallback(m,[f,i,t]),append:q.useCallback(p,[f,i,t]),remove:q.useCallback(v,[f,i,t]),insert:q.useCallback(C,[f,i,t]),update:q.useCallback(_,[f,i,t]),replace:q.useCallback(x,[f,i,t]),fields:q.useMemo(()=>a.map((k,D)=>({...k,[r]:c.current[D]||Eg()})),[a,r])}}var $F=()=>{let n=[];return{get observers(){return n},next:r=>{for(const s of n)s.next&&s.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(s=>s!==r)}}),unsubscribe:()=>{n=[]}}},X8=n=>Ta(n)||!Rve(n);function Qg(n,e){if(X8(n)||X8(e))return n===e;if(_b(n)&&_b(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const s=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=e[r];if(_b(s)&&_b(o)||ks(s)&&ks(o)||Array.isArray(s)&&Array.isArray(o)?!Qg(s,o):s!==o)return!1}}return!0}var jve=n=>n.type==="select-multiple",RKe=n=>CU(n)||aL(n),jF=n=>fI(n)&&n.isConnected,Uve=n=>{for(const e in n)if(yd(n[e]))return!0;return!1};function pI(n,e={}){const t=Array.isArray(n);if(ks(n)||t)for(const i in n)Array.isArray(n[i])||ks(n[i])&&!Uve(n[i])?(e[i]=Array.isArray(n[i])?[]:{},pI(n[i],e[i])):Ta(n[i])||(e[i]=!0);return e}function qve(n,e,t){const i=Array.isArray(n);if(ks(n)||i)for(const r in n)Array.isArray(n[r])||ks(n[r])&&!Uve(n[r])?Pr(e)||X8(t[r])?t[r]=Array.isArray(n[r])?pI(n[r],[]):{...pI(n[r])}:qve(n[r],Ta(e)?{}:e[r],t[r]):t[r]=!Qg(n[r],e[r]);return t}var ww=(n,e)=>qve(n,e,pI(e)),Gve=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Pr(n)?n:e?n===""?NaN:n&&+n:t&&Ed(n)?new Date(n):i?i(n):n;function UF(n){const e=n.ref;return yU(e)?e.files:CU(e)?Wve(n.refs).value:jve(e)?[...e.selectedOptions].map(({value:t})=>t):aL(e)?zve(n.refs).value:Gve(Pr(e.value)?n.ref.value:e.value,n)}var NKe=(n,e,t,i)=>{const r={};for(const s of n){const o=Ot(e,s);o&&or(r,s,o._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:i}},Sw=n=>Pr(n)?n:gI(n)?n.source:ks(n)?gI(n.value)?n.value.source:n.value:n;const Sie="AsyncFunction";var AKe=n=>!!n&&!!n.validate&&!!(yd(n.validate)&&n.validate.constructor.name===Sie||ks(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Sie)),PKe=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function xie(n,e,t){const i=Ot(n,t);if(i||vU(t))return{error:i,name:t};const r=t.split(".");for(;r.length;){const s=r.join("."),o=Ot(e,s),a=Ot(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};r.pop()}return{name:t}}var OKe=(n,e,t,i,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?i.isOnBlur:r.isOnBlur)?!n:(t?i.isOnChange:r.isOnChange)?n:!0,FKe=(n,e)=>!lL(Ot(n,e)).length&&Hs(n,e);const BKe={mode:_c.onSubmit,reValidateMode:_c.onChange,shouldFocusError:!0};function HKe(n={}){let e={...BKe,...n},t={submitCount:0,isDirty:!1,isLoading:yd(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=ks(e.defaultValues)||ks(e.values)?Xs(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xs(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:$F(),array:$F(),state:$F()},h=IS(e.mode),f=IS(e.reValidateMode),p=e.criteriaMode===_c.all,m=re=>fe=>{clearTimeout(c),c=setTimeout(re,fe)},v=async re=>{if(!e.disabled&&(u.isValid||re)){const fe=e.resolver?La((await T()).errors):await I(i,!0);fe!==t.isValid&&d.state.next({isValid:fe})}},C=(re,fe)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((re||Array.from(a.mount)).forEach(Ce=>{Ce&&(fe?or(t.validatingFields,Ce,fe):Hs(t.validatingFields,Ce))}),d.state.next({validatingFields:t.validatingFields,isValidating:!La(t.validatingFields)}))},y=(re,fe=[],Ce,Me,Te=!0,Ae=!0)=>{if(Me&&Ce&&!e.disabled){if(o.action=!0,Ae&&Array.isArray(Ot(i,re))){const Ne=Ce(Ot(i,re),Me.argA,Me.argB);Te&&or(i,re,Ne)}if(Ae&&Array.isArray(Ot(t.errors,re))){const Ne=Ce(Ot(t.errors,re),Me.argA,Me.argB);Te&&or(t.errors,re,Ne),FKe(t.errors,re)}if(u.touchedFields&&Ae&&Array.isArray(Ot(t.touchedFields,re))){const Ne=Ce(Ot(t.touchedFields,re),Me.argA,Me.argB);Te&&or(t.touchedFields,re,Ne)}u.dirtyFields&&(t.dirtyFields=ww(r,s)),d.state.next({name:re,isDirty:N(re,fe),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else or(s,re,fe)},w=(re,fe)=>{or(t.errors,re,fe),d.state.next({errors:t.errors})},_=re=>{t.errors=re,d.state.next({errors:t.errors,isValid:!1})},x=(re,fe,Ce,Me)=>{const Te=Ot(i,re);if(Te){const Ae=Ot(s,re,Pr(Ce)?Ot(r,re):Ce);Pr(Ae)||Me&&Me.defaultChecked||fe?or(s,re,fe?Ae:UF(Te._f)):A(re,Ae),o.mount&&v()}},k=(re,fe,Ce,Me,Te)=>{let Ae=!1,Ne=!1;const Ge={name:re};if(!e.disabled){const gt=!!(Ot(i,re)&&Ot(i,re)._f&&Ot(i,re)._f.disabled);if(!Ce||Me){u.isDirty&&(Ne=t.isDirty,t.isDirty=Ge.isDirty=N(),Ae=Ne!==Ge.isDirty);const rt=gt||Qg(Ot(r,re),fe);Ne=!!(!gt&&Ot(t.dirtyFields,re)),rt||gt?Hs(t.dirtyFields,re):or(t.dirtyFields,re,!0),Ge.dirtyFields=t.dirtyFields,Ae=Ae||u.dirtyFields&&Ne!==!rt}if(Ce){const rt=Ot(t.touchedFields,re);rt||(or(t.touchedFields,re,Ce),Ge.touchedFields=t.touchedFields,Ae=Ae||u.touchedFields&&rt!==Ce)}Ae&&Te&&d.state.next(Ge)}return Ae?Ge:{}},D=(re,fe,Ce,Me)=>{const Te=Ot(t.errors,re),Ae=u.isValid&&mc(fe)&&t.isValid!==fe;if(e.delayError&&Ce?(l=m(()=>w(re,Ce)),l(e.delayError)):(clearTimeout(c),l=null,Ce?or(t.errors,re,Ce):Hs(t.errors,re)),(Ce?!Qg(Te,Ce):Te)||!La(Me)||Ae){const Ne={...Me,...Ae&&mc(fe)?{isValid:fe}:{},errors:t.errors,name:re};t={...t,...Ne},d.state.next(Ne)}},T=async re=>{C(re,!0);const fe=await e.resolver(s,e.context,NKe(re||a.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return C(re),fe},L=async re=>{const{errors:fe}=await T(re);if(re)for(const Ce of re){const Me=Ot(fe,Ce);Me?or(t.errors,Ce,Me):Hs(t.errors,Ce)}else t.errors=fe;return fe},I=async(re,fe,Ce={valid:!0})=>{for(const Me in re){const Te=re[Me];if(Te){const{_f:Ae,...Ne}=Te;if(Ae){const Ge=a.array.has(Ae.name),gt=Te._f&&AKe(Te._f);gt&&u.validatingFields&&C([Me],!0);const rt=await Y8(Te,a.disabled,s,p,e.shouldUseNativeValidation&&!fe,Ge);if(gt&&u.validatingFields&&C([Me]),rt[Ae.name]&&(Ce.valid=!1,fe))break;!fe&&(Ot(rt,Ae.name)?Ge?Vve(t.errors,rt,Ae.name):or(t.errors,Ae.name,rt[Ae.name]):Hs(t.errors,Ae.name))}!La(Ne)&&await I(Ne,fe,Ce)}}return Ce.valid},R=()=>{for(const re of a.unMount){const fe=Ot(i,re);fe&&(fe._f.refs?fe._f.refs.every(Ce=>!jF(Ce)):!jF(fe._f.ref))&&ne(re)}a.unMount=new Set},N=(re,fe)=>!e.disabled&&(re&&fe&&or(s,re,fe),!Qg(K(),r)),O=(re,fe,Ce)=>Hve(re,a,{...o.mount?s:Pr(fe)?r:Ed(re)?{[re]:fe}:fe},Ce,fe),F=re=>lL(Ot(o.mount?s:r,re,e.shouldUnregister?Ot(r,re,[]):[])),A=(re,fe,Ce={})=>{const Me=Ot(i,re);let Te=fe;if(Me){const Ae=Me._f;Ae&&(!Ae.disabled&&or(s,re,Gve(fe,Ae)),Te=fI(Ae.ref)&&Ta(fe)?"":fe,jve(Ae.ref)?[...Ae.ref.options].forEach(Ne=>Ne.selected=Te.includes(Ne.value)):Ae.refs?aL(Ae.ref)?Ae.refs.length>1?Ae.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(Te)?!!Te.find(Ge=>Ge===Ne.value):Te===Ne.value)):Ae.refs[0]&&(Ae.refs[0].checked=!!Te):Ae.refs.forEach(Ne=>Ne.checked=Ne.value===Te):yU(Ae.ref)?Ae.ref.value="":(Ae.ref.value=Te,Ae.ref.type||d.values.next({name:re,values:{...s}})))}(Ce.shouldDirty||Ce.shouldTouch)&&k(re,Te,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&z(re)},H=(re,fe,Ce)=>{for(const Me in fe){const Te=fe[Me],Ae=`${re}.${Me}`,Ne=Ot(i,Ae);(a.array.has(re)||ks(Te)||Ne&&!Ne._f)&&!_b(Te)?H(Ae,Te,Ce):A(Ae,Te,Ce)}},W=(re,fe,Ce={})=>{const Me=Ot(i,re),Te=a.array.has(re),Ae=Xs(fe);or(s,re,Ae),Te?(d.array.next({name:re,values:{...s}}),(u.isDirty||u.dirtyFields)&&Ce.shouldDirty&&d.state.next({name:re,dirtyFields:ww(r,s),isDirty:N(re,Ae)})):Me&&!Me._f&&!Ta(Ae)?H(re,Ae,Ce):A(re,Ae,Ce),Q8(re,a)&&d.state.next({...t}),d.values.next({name:o.mount?re:void 0,values:{...s}})},$=async re=>{o.mount=!0;const fe=re.target;let Ce=fe.name,Me=!0;const Te=Ot(i,Ce),Ae=()=>fe.type?UF(Te._f):Nve(re),Ne=Ge=>{Me=Number.isNaN(Ge)||_b(Ge)&&isNaN(Ge.getTime())||Qg(Ge,Ot(s,Ce,Ge))};if(Te){let Ge,gt;const rt=Ae(),it=re.type===hI.BLUR||re.type===hI.FOCUS_OUT,Xe=!PKe(Te._f)&&!e.resolver&&!Ot(t.errors,Ce)&&!Te._f.deps||OKe(it,Ot(t.touchedFields,Ce),t.isSubmitted,f,h),st=Q8(Ce,a,it);or(s,Ce,rt),it?(Te._f.onBlur&&Te._f.onBlur(re),l&&l(0)):Te._f.onChange&&Te._f.onChange(re);const Ke=k(Ce,rt,it,!1),kt=!La(Ke)||st;if(!it&&d.values.next({name:Ce,type:re.type,values:{...s}}),Xe)return u.isValid&&(e.mode==="onBlur"&&it?v():it||v()),kt&&d.state.next({name:Ce,...st?{}:Ke});if(!it&&st&&d.state.next({...t}),e.resolver){const{errors:Gt}=await T([Ce]);if(Ne(rt),Me){const Dt=xie(t.errors,i,Ce),xe=xie(Gt,i,Dt.name||Ce);Ge=xe.error,Ce=xe.name,gt=La(Gt)}}else C([Ce],!0),Ge=(await Y8(Te,a.disabled,s,p,e.shouldUseNativeValidation))[Ce],C([Ce]),Ne(rt),Me&&(Ge?gt=!1:u.isValid&&(gt=await I(i,!0)));Me&&(Te._f.deps&&z(Te._f.deps),D(Ce,gt,Ge,Ke))}},U=(re,fe)=>{if(Ot(t.errors,fe)&&re.focus)return re.focus(),1},z=async(re,fe={})=>{let Ce,Me;const Te=Ja(re);if(e.resolver){const Ae=await L(Pr(re)?re:Te);Ce=La(Ae),Me=re?!Te.some(Ne=>Ot(Ae,Ne)):Ce}else re?(Me=(await Promise.all(Te.map(async Ae=>{const Ne=Ot(i,Ae);return await I(Ne&&Ne._f?{[Ae]:Ne}:Ne)}))).every(Boolean),!(!Me&&!t.isValid)&&v()):Me=Ce=await I(i);return d.state.next({...!Ed(re)||u.isValid&&Ce!==t.isValid?{}:{name:re},...e.resolver||!re?{isValid:Ce}:{},errors:t.errors}),fe.shouldFocus&&!Me&&sC(i,U,re?Te:a.mount),Me},K=re=>{const fe={...o.mount?s:r};return Pr(re)?fe:Ed(re)?Ot(fe,re):re.map(Ce=>Ot(fe,Ce))},Z=(re,fe)=>({invalid:!!Ot((fe||t).errors,re),isDirty:!!Ot((fe||t).dirtyFields,re),error:Ot((fe||t).errors,re),isValidating:!!Ot(t.validatingFields,re),isTouched:!!Ot((fe||t).touchedFields,re)}),Q=re=>{re&&Ja(re).forEach(fe=>Hs(t.errors,fe)),d.state.next({errors:re?t.errors:{}})},G=(re,fe,Ce)=>{const Me=(Ot(i,re,{_f:{}})._f||{}).ref,Te=Ot(t.errors,re)||{},{ref:Ae,message:Ne,type:Ge,...gt}=Te;or(t.errors,re,{...gt,...fe,ref:Me}),d.state.next({name:re,errors:t.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Me&&Me.focus&&Me.focus()},J=(re,fe)=>yd(re)?d.values.subscribe({next:Ce=>re(O(void 0,fe),Ce)}):O(re,fe,!0),ne=(re,fe={})=>{for(const Ce of re?Ja(re):a.mount)a.mount.delete(Ce),a.array.delete(Ce),fe.keepValue||(Hs(i,Ce),Hs(s,Ce)),!fe.keepError&&Hs(t.errors,Ce),!fe.keepDirty&&Hs(t.dirtyFields,Ce),!fe.keepTouched&&Hs(t.touchedFields,Ce),!fe.keepIsValidating&&Hs(t.validatingFields,Ce),!e.shouldUnregister&&!fe.keepDefaultValue&&Hs(r,Ce);d.values.next({values:{...s}}),d.state.next({...t,...fe.keepDirty?{isDirty:N()}:{}}),!fe.keepIsValid&&v()},ae=({disabled:re,name:fe,field:Ce,fields:Me})=>{(mc(re)&&o.mount||re||a.disabled.has(fe))&&(re?a.disabled.add(fe):a.disabled.delete(fe),k(fe,UF(Ce?Ce._f:Ot(Me,fe)._f),!1,!1,!0))},se=(re,fe={})=>{let Ce=Ot(i,re);const Me=mc(fe.disabled)||mc(e.disabled);return or(i,re,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:re}},name:re,mount:!0,...fe}}),a.mount.add(re),Ce?ae({field:Ce,disabled:mc(fe.disabled)?fe.disabled:e.disabled,name:re}):x(re,!0,fe.value),{...Me?{disabled:fe.disabled||e.disabled}:{},...e.progressive?{required:!!fe.required,min:Sw(fe.min),max:Sw(fe.max),minLength:Sw(fe.minLength),maxLength:Sw(fe.maxLength),pattern:Sw(fe.pattern)}:{},name:re,onChange:$,onBlur:$,ref:Te=>{if(Te){se(re,fe),Ce=Ot(i,re);const Ae=Pr(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ne=RKe(Ae),Ge=Ce._f.refs||[];if(Ne?Ge.find(gt=>gt===Ae):Ae===Ce._f.ref)return;or(i,re,{_f:{...Ce._f,...Ne?{refs:[...Ge.filter(jF),Ae,...Array.isArray(Ot(r,re))?[{}]:[]],ref:{type:Ae.type,name:re}}:{ref:Ae}}}),x(re,!1,void 0,Ae)}else Ce=Ot(i,re,{}),Ce._f&&(Ce._f.mount=!1),(e.shouldUnregister||fe.shouldUnregister)&&!(Ave(a.array,re)&&o.action)&&a.unMount.add(re)}}},X=()=>e.shouldFocusError&&sC(i,U,a.mount),oe=re=>{mc(re)&&(d.state.next({disabled:re}),sC(i,(fe,Ce)=>{const Me=Ot(i,Ce);Me&&(fe.disabled=Me._f.disabled||re,Array.isArray(Me._f.refs)&&Me._f.refs.forEach(Te=>{Te.disabled=Me._f.disabled||re}))},0,!1))},ve=(re,fe)=>async Ce=>{let Me;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let Te=Xs(s);if(a.disabled.size)for(const Ae of a.disabled)or(Te,Ae,void 0);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:Ae,values:Ne}=await T();t.errors=Ae,Te=Ne}else await I(i);if(Hs(t.errors,"root"),La(t.errors)){d.state.next({errors:{}});try{await re(Te,Ce)}catch(Ae){Me=Ae}}else fe&&await fe({...t.errors},Ce),X(),setTimeout(X);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:La(t.errors)&&!Me,submitCount:t.submitCount+1,errors:t.errors}),Me)throw Me},me=(re,fe={})=>{Ot(i,re)&&(Pr(fe.defaultValue)?W(re,Xs(Ot(r,re))):(W(re,fe.defaultValue),or(r,re,Xs(fe.defaultValue))),fe.keepTouched||Hs(t.touchedFields,re),fe.keepDirty||(Hs(t.dirtyFields,re),t.isDirty=fe.defaultValue?N(re,Xs(Ot(r,re))):N()),fe.keepError||(Hs(t.errors,re),u.isValid&&v()),d.state.next({...t}))},ye=(re,fe={})=>{const Ce=re?Xs(re):r,Me=Xs(Ce),Te=La(re),Ae=Te?r:Me;if(fe.keepDefaultValues||(r=Ce),!fe.keepValues){if(fe.keepDirtyValues){const Ne=new Set([...a.mount,...Object.keys(ww(r,s))]);for(const Ge of Array.from(Ne))Ot(t.dirtyFields,Ge)?or(Ae,Ge,Ot(s,Ge)):W(Ge,Ot(Ae,Ge))}else{if(bU&&Pr(re))for(const Ne of a.mount){const Ge=Ot(i,Ne);if(Ge&&Ge._f){const gt=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(fI(gt)){const rt=gt.closest("form");if(rt){rt.reset();break}}}}i={}}s=e.shouldUnregister?fe.keepDefaultValues?Xs(r):{}:Xs(Ae),d.array.next({values:{...Ae}}),d.values.next({values:{...Ae}})}a={mount:fe.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,o.watch=!!e.shouldUnregister,d.state.next({submitCount:fe.keepSubmitCount?t.submitCount:0,isDirty:Te?!1:fe.keepDirty?t.isDirty:!!(fe.keepDefaultValues&&!Qg(re,r)),isSubmitted:fe.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Te?{}:fe.keepDirtyValues?fe.keepDefaultValues&&s?ww(r,s):t.dirtyFields:fe.keepDefaultValues&&re?ww(r,re):fe.keepDirty?t.dirtyFields:{},touchedFields:fe.keepTouched?t.touchedFields:{},errors:fe.keepErrors?t.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Le=(re,fe)=>ye(yd(re)?re(s):re,fe);return{control:{register:se,unregister:ne,getFieldState:Z,handleSubmit:ve,setError:G,_executeSchema:T,_getWatch:O,_getDirty:N,_updateValid:v,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:ae,_getFieldArray:F,_reset:ye,_resetDefaultValues:()=>yd(e.defaultValues)&&e.defaultValues().then(re=>{Le(re,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:re=>{t={...t,...re}},_disableForm:oe,_subjects:d,_proxyFormState:u,_setErrors:_,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(re){o=re},get _defaultValues(){return r},get _names(){return a},set _names(re){a=re},get _formState(){return t},set _formState(re){t=re},get _options(){return e},set _options(re){e={...e,...re}}},trigger:z,register:se,handleSubmit:ve,watch:J,setValue:W,getValues:K,reset:Le,resetField:me,clearErrors:Q,unregister:ne,setError:G,setFocus:(re,fe={})=>{const Ce=Ot(i,re),Me=Ce&&Ce._f;if(Me){const Te=Me.refs?Me.refs[0]:Me.ref;Te.focus&&(Te.focus(),fe.shouldSelect&&yd(Te.select)&&Te.select())}},getFieldState:Z}}function VKe(n={}){const e=q.useRef(void 0),t=q.useRef(void 0),[i,r]=q.useState({isDirty:!1,isValidating:!1,isLoading:yd(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:yd(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...HKe(n),formState:i});const s=e.current.control;return s._options=n,tA({subject:s._subjects.state,next:o=>{Fve(o,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),q.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),q.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),q.useEffect(()=>{n.values&&!Qg(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,r(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),q.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),q.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),q.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),e.current.formState=Ove(i,s),e.current}var zKe=Object.defineProperty,gp=(n,e)=>zKe(n,"name",{value:e,configurable:!0}),gl=gp(({refineCoreProps:n,warnWhenUnsavedChanges:e,disableServerSideValidation:t=!1,...i}={})=>{let{options:r}=qs(),s=(r==null?void 0:r.disableServerSideValidation)||t,o=Xn(),{warnWhenUnsavedChanges:a,setWarnWhen:l}=Lv(),c=e??a,u=VKe({...i}),{watch:d,setValue:h,getValues:f,handleSubmit:p,setError:m}=u,v=wMe({...n,onMutationError:(D,T,L)=>{var I,R;if(s){(I=n==null?void 0:n.onMutationError)==null||I.call(n,D,T,L);return}let N=D==null?void 0:D.errors;for(let O in N){if(!Object.keys(BT(T)).includes(O))continue;let F=N[O],A="";Array.isArray(F)&&(A=F.join(" ")),typeof F=="string"&&(A=F),typeof F=="boolean"&&F&&(A="Field is not valid."),typeof F=="object"&&"key"in F&&(A=o(F.key,F.message)),m(O,{message:A})}(R=n==null?void 0:n.onMutationError)==null||R.call(n,D,T,L)}}),{query:C,onFinish:y,formLoading:w,onFinishAutoSave:_}=v;M.useEffect(()=>{var D;let T=(D=C==null?void 0:C.data)==null?void 0:D.data;T&&Object.keys(BT(f())).forEach(L=>{let I=_Ke(T,L),R=FT(T,L);I&&h(L,R)})},[C==null?void 0:C.data,h,f]),M.useEffect(()=>{let D=d((T,{type:L})=>{L==="change"&&x(T)});return()=>D.unsubscribe()},[d]);let x=gp(D=>{var T,L;if(c&&l(!0),(T=n==null?void 0:n.autoSave)!=null&&T.enabled){l(!1);let I=((L=n.autoSave)==null?void 0:L.onFinish)??(R=>R);return _(I(D)).catch(R=>R)}return D},"onValuesChange"),k=gp((D,T)=>async L=>(l(!1),p(D,T)(L)),"handleSubmit");return{...u,handleSubmit:k,refineCore:v,saveButtonProps:{disabled:w,onClick:D=>{k(T=>y(T).catch(()=>{}),()=>!1)(D)}}}},"useForm");gp(({stepsProps:n,...e}={})=>{let{defaultStep:t=0,isBackValidate:i=!1}=n??{},[r,s]=M.useState(t),o=gl({...e}),{trigger:a,getValues:l,setValue:c,formState:{dirtyFields:u},refineCore:{query:d}}=o;M.useEffect(()=>{var f;let p=(f=d==null?void 0:d.data)==null?void 0:f.data;if(!p)return;let m=Object.keys(l());console.log({dirtyFields:u,registeredFields:m,data:p}),Object.entries(p).forEach(([v,C])=>{let y=v;m.includes(y)&&(FT(u,y)||c(y,C))})},[d==null?void 0:d.data,r,c,l]);let h=gp(f=>{let p=f;f<0&&(p=0),s(p)},"go");return{...o,steps:{currentStep:r,gotoStep:gp(async f=>{if(f!==r){if(f<r&&!i){h(f);return}await a()&&h(f)}},"gotoStep")}}},"useStepsForm");gp(({modalProps:n,refineCoreProps:e,syncWithLocation:t,...i}={})=>{var r,s;let o=Zd(),[a,l]=q.useState(!1),c=Xn(),{resource:u,action:d}=e??{},{resource:h,action:f,identifier:p}=Si(u),m=fl(),v=Go(),C=Xd(),y=d??f??"",w=!(typeof t=="object"&&(t==null?void 0:t.syncId)===!1),_=typeof t=="object"&&"key"in t?t.key:h&&y&&t?`modal-${p}-${y}`:void 0,{defaultVisible:x=!1,autoSubmitClose:k=!0,autoResetForm:D=!0}=n??{},T=gl({refineCoreProps:{...e,meta:{..._?{[_]:void 0}:{},...e==null?void 0:e.meta}},...i}),{reset:L,refineCore:{onFinish:I,id:R,setId:N,autoSaveProps:O},saveButtonProps:F,handleSubmit:A}=T,{visible:H,show:W,close:$}=MMe({defaultVisible:x});q.useEffect(()=>{var J,ne,ae,se;if(a===!1&&_){let X=(ne=(J=m==null?void 0:m.params)==null?void 0:J[_])==null?void 0:ne.open;if(typeof X=="boolean"?X&&W():typeof X=="string"&&X==="true"&&W(),w){let oe=(se=(ae=m==null?void 0:m.params)==null?void 0:ae[_])==null?void 0:se.id;oe&&(N==null||N(oe))}l(!0)}},[_,m,w,N]),q.useEffect(()=>{var J;a===!0&&(H&&_?v({query:{[_]:{...(J=m==null?void 0:m.params)==null?void 0:J[_],open:!0,...w&&R&&{id:R}}},options:{keepQuery:!0},type:"replace"}):_&&!H&&v({query:{[_]:void 0},options:{keepQuery:!0},type:"replace"}))},[R,H,W,_,w]);let U=gp(async J=>{await I(J),k&&$(),D&&L()},"submit"),{warnWhen:z,setWarnWhen:K}=Lv(),Z=M.useCallback(()=>{var J;if(O.status==="success"&&(J=e==null?void 0:e.autoSave)!=null&&J.invalidateOnClose&&o({id:R,invalidates:e.invalidates||["list","many","detail"],dataProviderName:e.dataProviderName,resource:p}),z)if(window.confirm(c("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))K(!1);else return;N==null||N(void 0),$()},[z,O.status]),Q=M.useCallback(J=>{typeof J<"u"&&(N==null||N(J)),(!(y==="edit"||y==="clone")||typeof J<"u"||typeof R<"u")&&W()},[R]),G=c(`${p}.titles.${d}`,void 0,`${C(`${d} ${((r=h==null?void 0:h.meta)==null?void 0:r.label)??((s=h==null?void 0:h.options)==null?void 0:s.label)??(h==null?void 0:h.label)??p}`,"singular")}`);return{modal:{submit:U,close:Z,show:Q,visible:H,title:G},...T,saveButtonProps:{...F,onClick:J=>A(U)(J)}}},"useModalForm");function WKe(n){return Zt("MuiCard",n)}Jt("MuiCard",["root"]);const $Ke=n=>{const{classes:e}=n;return _t({root:["root"]},WKe,e)},jKe=$e(qc,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})({overflow:"hidden"}),nA=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCard"}),{className:r,raised:s=!1,...o}=i,a={...i,raised:s},l=$Ke(a);return V.jsx(jKe,{className:lt(l.root,r),elevation:s?8:void 0,ref:t,ownerState:a,...o})});function UKe(n){return Zt("MuiCardContent",n)}Jt("MuiCardContent",["root"]);const qKe=n=>{const{classes:e}=n;return _t({root:["root"]},UKe,e)},GKe=$e("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),iA=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCardContent"}),{className:r,component:s="div",...o}=i,a={...i,component:s},l=qKe(a);return V.jsx(GKe,{as:s,className:lt(l.root,r),ownerState:a,ref:t,...o})});function KKe(n){return Zt("MuiCardHeader",n)}const mI=Jt("MuiCardHeader",["root","avatar","action","content","title","subheader"]),QKe=n=>{const{classes:e}=n;return _t({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},KKe,e)},YKe=$e("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(n,e)=>[{[`& .${mI.title}`]:e.title},{[`& .${mI.subheader}`]:e.subheader},e.root]})({display:"flex",alignItems:"center",padding:16}),XKe=$e("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(n,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),ZKe=$e("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(n,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),JKe=$e("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(n,e)=>e.content})({flex:"1 1 auto",[`.${YT.root}:where(& .${mI.title})`]:{display:"block"},[`.${YT.root}:where(& .${mI.subheader})`]:{display:"block"}}),rA=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCardHeader"}),{action:r,avatar:s,component:o="div",disableTypography:a=!1,subheader:l,subheaderTypographyProps:c,title:u,titleTypographyProps:d,slots:h={},slotProps:f={},...p}=i,m={...i,component:o,disableTypography:a},v=QKe(m),C={slots:h,slotProps:{title:d,subheader:c,...f}};let y=u;const[w,_]=oi("title",{className:v.title,elementType:nn,externalForwardedProps:C,ownerState:m,additionalProps:{variant:s?"body2":"h5",component:"span"}});y!=null&&y.type!==nn&&!a&&(y=V.jsx(w,{..._,children:y}));let x=l;const[k,D]=oi("subheader",{className:v.subheader,elementType:nn,externalForwardedProps:C,ownerState:m,additionalProps:{variant:s?"body2":"body1",color:"textSecondary",component:"span"}});x!=null&&x.type!==nn&&!a&&(x=V.jsx(k,{...D,children:x}));const[T,L]=oi("root",{ref:t,className:v.root,elementType:YKe,externalForwardedProps:{...C,...p,component:o},ownerState:m}),[I,R]=oi("avatar",{className:v.avatar,elementType:XKe,externalForwardedProps:C,ownerState:m}),[N,O]=oi("content",{className:v.content,elementType:JKe,externalForwardedProps:C,ownerState:m}),[F,A]=oi("action",{className:v.action,elementType:ZKe,externalForwardedProps:C,ownerState:m});return V.jsxs(T,{...L,children:[s&&V.jsx(I,{...R,children:s}),V.jsxs(N,{...O,children:[y,x]}),r&&V.jsx(F,{...A,children:r})]})});function eQe(n){return Zt("MuiCardActions",n)}Jt("MuiCardActions",["root","spacing"]);const tQe=n=>{const{classes:e,disableSpacing:t}=n;return _t({root:["root",!t&&"spacing"]},eQe,e)},nQe=$e("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),_U=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:s,...o}=i,a={...i,disableSpacing:r},l=tQe(a);return V.jsx(nQe,{className:lt(l.root,s),ownerState:a,ref:t,...o})}),wU=Ut(V.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var sA={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},Ov={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"};const kie=Ut(V.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"}),"AddBoxOutlined"),Lie=Ut(V.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined");function iQe(n){return Zt("MuiDialog",n)}const qF=Jt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Kve=M.createContext({}),rQe=$e(Pme,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),sQe=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:s}=n,o={root:["root"],container:["container",`scroll${nt(t)}`],paper:["paper",`paperScroll${nt(t)}`,`paperWidth${nt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return _t(o,iQe,e)},oQe=$e(Pj,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),aQe=$e("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${nt(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),lQe=$e(qc,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${nt(t.scroll)}`],e[`paperWidth${nt(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(sn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${qF.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${qF.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${qF.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),cQe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiDialog"}),r=eh(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:v="sm",onBackdropClick:C,onClick:y,onClose:w,open:_,PaperComponent:x=qc,PaperProps:k={},scroll:D="paper",slots:T={},slotProps:L={},TransitionComponent:I=y8,transitionDuration:R=s,TransitionProps:N,...O}=i,F={...i,disableEscapeKeyDown:f,fullScreen:p,fullWidth:m,maxWidth:v,scroll:D},A=sQe(F),H=M.useRef(),W=Le=>{H.current=Le.target===Le.currentTarget},$=Le=>{y&&y(Le),H.current&&(H.current=null,C&&C(Le),w&&w(Le,"backdropClick"))},U=Gi(a),z=M.useMemo(()=>({titleId:U}),[U]),K={transition:I,...T},Z={transition:N,paper:k,backdrop:u,...L},Q={slots:K,slotProps:Z},[G,J]=oi("root",{elementType:oQe,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:F,className:lt(A.root,h),ref:t}),[ne,ae]=oi("backdrop",{elementType:rQe,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:F}),[se,X]=oi("paper",{elementType:lQe,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:F,className:lt(A.paper,k.className)}),[oe,ve]=oi("container",{elementType:aQe,externalForwardedProps:Q,ownerState:F,className:lt(A.container)}),[me,ye]=oi("transition",{elementType:y8,externalForwardedProps:Q,ownerState:F,additionalProps:{appear:!0,in:_,timeout:R,role:"presentation"}});return V.jsx(G,{closeAfterTransition:!0,slots:{backdrop:ne},slotProps:{backdrop:{transitionDuration:R,as:c,...ae}},disableEscapeKeyDown:f,onClose:w,open:_,onClick:$,...J,...O,children:V.jsx(me,{...ye,children:V.jsx(oe,{onMouseDown:W,...ve,children:V.jsx(se,{as:x,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":U,"aria-modal":l,...X,children:V.jsx(Kve.Provider,{value:z,children:d})})})})})});function uQe(n){return Zt("MuiDialogActions",n)}Jt("MuiDialogActions",["root","spacing"]);const dQe=n=>{const{classes:e,disableSpacing:t}=n;return _t({root:["root",!t&&"spacing"]},uQe,e)},hQe=$e("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),fQe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...o}=i,a={...i,disableSpacing:s},l=dQe(a);return V.jsx(hQe,{className:lt(l.root,r),ownerState:a,ref:t,...o})});function gQe(n){return Zt("MuiDialogTitle",n)}Jt("MuiDialogTitle",["root"]);const pQe=n=>{const{classes:e}=n;return _t({root:["root"]},gQe,e)},mQe=$e(nn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(n,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),bQe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiDialogTitle"}),{className:r,id:s,...o}=i,a=i,l=pQe(a),{titleId:c=s}=M.useContext(Kve);return V.jsx(mQe,{component:"h2",className:lt(l.root,r),ownerState:a,ref:t,variant:"h6",id:s??c,...o})});function vQe(n){return Zt("MuiLoadingButton",n)}const Mh=Jt("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),yQe=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],CQe=n=>{const{loading:e,loadingPosition:t,classes:i}=n,r={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${nt(t)}`],endIcon:[e&&`endIconLoading${nt(t)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${nt(t)}`]},s=_t(r,vQe,i);return te({},i,s)},_Qe=n=>n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"&&n!=="classes",wQe=$e(Du,{shouldForwardProp:n=>_Qe(n)||n==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,e)=>[e.root,e.startIconLoadingStart&&{[`& .${Mh.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${Mh.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:n,theme:e})=>te({[`& .${Mh.startIconLoadingStart}, & .${Mh.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},n.loadingPosition==="center"&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Mh.loading}`]:{color:"transparent"}},n.loadingPosition==="start"&&n.fullWidth&&{[`& .${Mh.startIconLoadingStart}, & .${Mh.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},n.loadingPosition==="end"&&n.fullWidth&&{[`& .${Mh.startIconLoadingStart}, & .${Mh.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),SQe=$e("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.loadingIndicator,e[`loadingIndicator${nt(t.loadingPosition)}`]]}})(({theme:n,ownerState:e})=>te({position:"absolute",visibility:"visible",display:"flex"},e.loadingPosition==="start"&&(e.variant==="outlined"||e.variant==="contained")&&{left:e.size==="small"?10:14},e.loadingPosition==="start"&&e.variant==="text"&&{left:6},e.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},e.loadingPosition==="end"&&(e.variant==="outlined"||e.variant==="contained")&&{right:e.size==="small"?10:14},e.loadingPosition==="end"&&e.variant==="text"&&{right:6},e.loadingPosition==="start"&&e.fullWidth&&{position:"relative",left:-10},e.loadingPosition==="end"&&e.fullWidth&&{position:"relative",right:-10})),SU=M.forwardRef(function(e,t){const i=M.useContext(Lve),r=nv(i,e),s=Ime({props:r,name:"MuiLoadingButton"}),{children:o,disabled:a=!1,id:l,loading:c=!1,loadingIndicator:u,loadingPosition:d="center",variant:h="text"}=s,f=rn(s,yQe),p=Gi(l),m=u??V.jsx(Kp,{"aria-labelledby":p,color:"inherit",size:16}),v=te({},s,{disabled:a,loading:c,loadingIndicator:m,loadingPosition:d,variant:h}),C=CQe(v),y=c?V.jsx(SQe,{className:C.loadingIndicator,ownerState:v,children:m}):null;return V.jsxs(wQe,te({disabled:a||c,id:p,ref:t},f,{variant:h,classes:C,ownerState:v,children:[v.loadingPosition==="end"?o:y,v.loadingPosition==="end"?y:o]}))}),Eie=Ut(V.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),Die=Ut(V.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"RefreshOutlined"),Tie=Ut(V.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined"),Iie=Ut(V.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"}),"SaveOutlined"),xQe=Ut(V.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"CheckOutlined"),kQe=Ut(V.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined");var K2={exports:{}},LQe=K2.exports,Mie;function EQe(){return Mie||(Mie=1,function(n,e){(function(t,i){n.exports=i()})(LQe,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",p="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var A=["th","st","nd","rd"],H=F%100;return"["+F+(A[(H-20)%10]||A[H]||A[0])+"]"}},w=function(F,A,H){var W=String(F);return!W||W.length>=A?F:""+Array(A+1-W.length).join(H)+F},_={s:w,z:function(F){var A=-F.utcOffset(),H=Math.abs(A),W=Math.floor(H/60),$=H%60;return(A<=0?"+":"-")+w(W,2,"0")+":"+w($,2,"0")},m:function F(A,H){if(A.date()<H.date())return-F(H,A);var W=12*(H.year()-A.year())+(H.month()-A.month()),$=A.clone().add(W,d),U=H-$<0,z=A.clone().add(W+(U?-1:1),d);return+(-(W+(H-$)/(U?$-z:z-$))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:f,w:u,d:c,D:p,h:l,m:a,s:o,ms:s,Q:h}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},x="en",k={};k[x]=y;var D="$isDayjsObject",T=function(F){return F instanceof N||!(!F||!F[D])},L=function F(A,H,W){var $;if(!A)return x;if(typeof A=="string"){var U=A.toLowerCase();k[U]&&($=U),H&&(k[U]=H,$=U);var z=A.split("-");if(!$&&z.length>1)return F(z[0])}else{var K=A.name;k[K]=A,$=K}return!W&&$&&(x=$),$||!W&&x},I=function(F,A){if(T(F))return F.clone();var H=typeof A=="object"?A:{};return H.date=F,H.args=arguments,new N(H)},R=_;R.l=L,R.i=T,R.w=function(F,A){return I(F,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var N=function(){function F(H){this.$L=L(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[D]=!0}var A=F.prototype;return A.parse=function(H){this.$d=function(W){var $=W.date,U=W.utc;if($===null)return new Date(NaN);if(R.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var z=$.match(v);if(z){var K=z[2]-1||0,Z=(z[7]||"0").substring(0,3);return U?new Date(Date.UTC(z[1],K,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Z)):new Date(z[1],K,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Z)}}return new Date($)}(H),this.init()},A.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},A.$utils=function(){return R},A.isValid=function(){return this.$d.toString()!==m},A.isSame=function(H,W){var $=I(H);return this.startOf(W)<=$&&$<=this.endOf(W)},A.isAfter=function(H,W){return I(H)<this.startOf(W)},A.isBefore=function(H,W){return this.endOf(W)<I(H)},A.$g=function(H,W,$){return R.u(H)?this[W]:this.set($,H)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(H,W){var $=this,U=!!R.u(W)||W,z=R.p(H),K=function(X,oe){var ve=R.w($.$u?Date.UTC($.$y,oe,X):new Date($.$y,oe,X),$);return U?ve:ve.endOf(c)},Z=function(X,oe){return R.w($.toDate()[X].apply($.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(oe)),$)},Q=this.$W,G=this.$M,J=this.$D,ne="set"+(this.$u?"UTC":"");switch(z){case f:return U?K(1,0):K(31,11);case d:return U?K(1,G):K(0,G+1);case u:var ae=this.$locale().weekStart||0,se=(Q<ae?Q+7:Q)-ae;return K(U?J-se:J+(6-se),G);case c:case p:return Z(ne+"Hours",0);case l:return Z(ne+"Minutes",1);case a:return Z(ne+"Seconds",2);case o:return Z(ne+"Milliseconds",3);default:return this.clone()}},A.endOf=function(H){return this.startOf(H,!1)},A.$set=function(H,W){var $,U=R.p(H),z="set"+(this.$u?"UTC":""),K=($={},$[c]=z+"Date",$[p]=z+"Date",$[d]=z+"Month",$[f]=z+"FullYear",$[l]=z+"Hours",$[a]=z+"Minutes",$[o]=z+"Seconds",$[s]=z+"Milliseconds",$)[U],Z=U===c?this.$D+(W-this.$W):W;if(U===d||U===f){var Q=this.clone().set(p,1);Q.$d[K](Z),Q.init(),this.$d=Q.set(p,Math.min(this.$D,Q.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},A.set=function(H,W){return this.clone().$set(H,W)},A.get=function(H){return this[R.p(H)]()},A.add=function(H,W){var $,U=this;H=Number(H);var z=R.p(W),K=function(G){var J=I(U);return R.w(J.date(J.date()+Math.round(G*H)),U)};if(z===d)return this.set(d,this.$M+H);if(z===f)return this.set(f,this.$y+H);if(z===c)return K(1);if(z===u)return K(7);var Z=($={},$[a]=i,$[l]=r,$[o]=t,$)[z]||1,Q=this.$d.getTime()+H*Z;return R.w(Q,this)},A.subtract=function(H,W){return this.add(-1*H,W)},A.format=function(H){var W=this,$=this.$locale();if(!this.isValid())return $.invalidDate||m;var U=H||"YYYY-MM-DDTHH:mm:ssZ",z=R.z(this),K=this.$H,Z=this.$m,Q=this.$M,G=$.weekdays,J=$.months,ne=$.meridiem,ae=function(oe,ve,me,ye){return oe&&(oe[ve]||oe(W,U))||me[ve].slice(0,ye)},se=function(oe){return R.s(K%12||12,oe,"0")},X=ne||function(oe,ve,me){var ye=oe<12?"AM":"PM";return me?ye.toLowerCase():ye};return U.replace(C,function(oe,ve){return ve||function(me){switch(me){case"YY":return String(W.$y).slice(-2);case"YYYY":return R.s(W.$y,4,"0");case"M":return Q+1;case"MM":return R.s(Q+1,2,"0");case"MMM":return ae($.monthsShort,Q,J,3);case"MMMM":return ae(J,Q);case"D":return W.$D;case"DD":return R.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return ae($.weekdaysMin,W.$W,G,2);case"ddd":return ae($.weekdaysShort,W.$W,G,3);case"dddd":return G[W.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return se(1);case"hh":return se(2);case"a":return X(K,Z,!0);case"A":return X(K,Z,!1);case"m":return String(Z);case"mm":return R.s(Z,2,"0");case"s":return String(W.$s);case"ss":return R.s(W.$s,2,"0");case"SSS":return R.s(W.$ms,3,"0");case"Z":return z}return null}(oe)||z.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(H,W,$){var U,z=this,K=R.p(W),Z=I(H),Q=(Z.utcOffset()-this.utcOffset())*i,G=this-Z,J=function(){return R.m(z,Z)};switch(K){case f:U=J()/12;break;case d:U=J();break;case h:U=J()/3;break;case u:U=(G-Q)/6048e5;break;case c:U=(G-Q)/864e5;break;case l:U=G/r;break;case a:U=G/i;break;case o:U=G/t;break;default:U=G}return $?U:R.a(U)},A.daysInMonth=function(){return this.endOf(d).$D},A.$locale=function(){return k[this.$L]},A.locale=function(H,W){if(!H)return this.$L;var $=this.clone(),U=L(H,W,!0);return U&&($.$L=U),$},A.clone=function(){return R.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},F}(),O=N.prototype;return I.prototype=O,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",p]].forEach(function(F){O[F[1]]=function(A){return this.$g(A,F[0],F[1])}}),I.extend=function(F,A){return F.$i||(F(A,N,I),F.$i=!0),I},I.locale=L,I.isDayjs=T,I.unix=function(F){return I(1e3*F)},I.en=k[x],I.Ls=k,I.p={},I})}(K2)),K2.exports}var DQe=EQe();const Qve=Kd(DQe);var Q2={exports:{}},TQe=Q2.exports,Rie;function IQe(){return Rie||(Rie=1,function(n,e){(function(t,i){n.exports=i()})(TQe,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,r,s){var o=r.prototype,a=o.format;s.en.formats=t,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,p,m){var v=m&&m.toUpperCase();return p||h[m]||t[m]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,y,w){return y||w.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})}(Q2)),Q2.exports}var MQe=IQe();const RQe=Kd(MQe);var GF,Nie;function Yve(){if(Nie)return GF;Nie=1;var n={}.hasOwnProperty;GF=e;function e(s){return!s||typeof s!="object"?"":n.call(s,"position")||n.call(s,"type")?i(s.position):n.call(s,"start")||n.call(s,"end")?i(s):n.call(s,"line")||n.call(s,"column")?t(s):""}function t(s){return(!s||typeof s!="object")&&(s={}),r(s.line)+":"+r(s.column)}function i(s){return(!s||typeof s!="object")&&(s={}),t(s.start)+"-"+t(s.end)}function r(s){return s&&typeof s=="number"?s:1}return GF}var KF,Aie;function NQe(){if(Aie)return KF;Aie=1;var n=Yve();KF=i;function e(){}e.prototype=Error.prototype,i.prototype=new e;var t=i.prototype;t.file="",t.name="",t.reason="",t.message="",t.stack="",t.fatal=null,t.column=null,t.line=null;function i(s,o,a){var l,c,u;typeof o=="string"&&(a=o,o=null),l=r(a),c=n(o)||"1:1",u={start:{line:null,column:null},end:{line:null,column:null}},o&&o.position&&(o=o.position),o&&(o.start?(u=o,o=o.start):u.start=o),s.stack&&(this.stack=s.stack,s=s.message),this.message=s,this.name=c,this.reason=s,this.line=o?o.line:null,this.column=o?o.column:null,this.location=u,this.source=l[0],this.ruleId=l[1]}function r(s){var o=[null,null],a;return typeof s=="string"&&(a=s.indexOf(":"),a===-1?o[1]=s:(o[0]=s.slice(0,a),o[1]=s.slice(a+1))),o}return KF}var Em={},Pie;function AQe(){if(Pie)return Em;Pie=1,Em.basename=n,Em.dirname=e,Em.extname=t,Em.join=i,Em.sep="/";function n(a,l){var c=0,u=-1,d,h,f,p;if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');if(o(a),d=a.length,l===void 0||!l.length||l.length>a.length){for(;d--;)if(a.charCodeAt(d)===47){if(f){c=d+1;break}}else u<0&&(f=!0,u=d+1);return u<0?"":a.slice(c,u)}if(l===a)return"";for(h=-1,p=l.length-1;d--;)if(a.charCodeAt(d)===47){if(f){c=d+1;break}}else h<0&&(f=!0,h=d+1),p>-1&&(a.charCodeAt(d)===l.charCodeAt(p--)?p<0&&(u=d):(p=-1,u=h));return c===u?u=h:u<0&&(u=a.length),a.slice(c,u)}function e(a){var l,c,u;if(o(a),!a.length)return".";for(l=-1,u=a.length;--u;)if(a.charCodeAt(u)===47){if(c){l=u;break}}else c||(c=!0);return l<0?a.charCodeAt(0)===47?"/":".":l===1&&a.charCodeAt(0)===47?"//":a.slice(0,l)}function t(a){var l=-1,c=0,u=-1,d=0,h,f,p;for(o(a),p=a.length;p--;){if(f=a.charCodeAt(p),f===47){if(h){c=p+1;break}continue}u<0&&(h=!0,u=p+1),f===46?l<0?l=p:d!==1&&(d=1):l>-1&&(d=-1)}return l<0||u<0||d===0||d===1&&l===u-1&&l===c+1?"":a.slice(l,u)}function i(){for(var a=-1,l;++a<arguments.length;)o(arguments[a]),arguments[a]&&(l=l===void 0?arguments[a]:l+"/"+arguments[a]);return l===void 0?".":r(l)}function r(a){var l,c;return o(a),l=a.charCodeAt(0)===47,c=s(a,!l),!c.length&&!l&&(c="."),c.length&&a.charCodeAt(a.length-1)===47&&(c+="/"),l?"/"+c:c}function s(a,l){for(var c="",u=0,d=-1,h=0,f=-1,p,m;++f<=a.length;){if(f<a.length)p=a.charCodeAt(f);else{if(p===47)break;p=47}if(p===47){if(!(d===f-1||h===1))if(d!==f-1&&h===2){if(c.length<2||u!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){if(m=c.lastIndexOf("/"),m!==c.length-1){m<0?(c="",u=0):(c=c.slice(0,m),u=c.length-1-c.lastIndexOf("/")),d=f,h=0;continue}}else if(c.length){c="",u=0,d=f,h=0;continue}}l&&(c=c.length?c+"/..":"..",u=2)}else c.length?c+="/"+a.slice(d+1,f):c=a.slice(d+1,f),u=f-d-1;d=f,h=0}else p===46&&h>-1?h++:h=-1}return c}function o(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}return Em}var QF={},Oie;function PQe(){if(Oie)return QF;Oie=1,QF.cwd=n;function n(){return"/"}return QF}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var YF,Fie;function Xve(){return Fie||(Fie=1,YF=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}),YF}var XF,Bie;function OQe(){if(Bie)return XF;Bie=1;var n=AQe(),e=PQe(),t=Xve();XF=s;var i={}.hasOwnProperty,r=["history","path","basename","stem","extname","dirname"];s.prototype.toString=v,Object.defineProperty(s.prototype,"path",{get:o,set:a}),Object.defineProperty(s.prototype,"dirname",{get:l,set:c}),Object.defineProperty(s.prototype,"basename",{get:u,set:d}),Object.defineProperty(s.prototype,"extname",{get:h,set:f}),Object.defineProperty(s.prototype,"stem",{get:p,set:m});function s(_){var x,k;if(!_)_={};else if(typeof _=="string"||t(_))_={contents:_};else if("message"in _&&"messages"in _)return _;if(!(this instanceof s))return new s(_);for(this.data={},this.messages=[],this.history=[],this.cwd=e.cwd(),k=-1;++k<r.length;)x=r[k],i.call(_,x)&&(this[x]=_[x]);for(x in _)r.indexOf(x)<0&&(this[x]=_[x])}function o(){return this.history[this.history.length-1]}function a(_){y(_,"path"),this.path!==_&&this.history.push(_)}function l(){return typeof this.path=="string"?n.dirname(this.path):void 0}function c(_){w(this.path,"dirname"),this.path=n.join(_||"",this.basename)}function u(){return typeof this.path=="string"?n.basename(this.path):void 0}function d(_){y(_,"basename"),C(_,"basename"),this.path=n.join(this.dirname||"",_)}function h(){return typeof this.path=="string"?n.extname(this.path):void 0}function f(_){if(C(_,"extname"),w(this.path,"extname"),_){if(_.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(_.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=n.join(this.dirname,this.stem+(_||""))}function p(){return typeof this.path=="string"?n.basename(this.path,this.extname):void 0}function m(_){y(_,"stem"),C(_,"stem"),this.path=n.join(this.dirname||"",_+(this.extname||""))}function v(_){return(this.contents||"").toString(_)}function C(_,x){if(_&&_.indexOf(n.sep)>-1)throw new Error("`"+x+"` cannot be a path: did not expect `"+n.sep+"`")}function y(_,x){if(!_)throw new Error("`"+x+"` cannot be empty")}function w(_,x){if(!_)throw new Error("Setting `"+x+"` requires `path` to be set too")}return XF}var ZF,Hie;function FQe(){if(Hie)return ZF;Hie=1;var n=NQe(),e=OQe();ZF=e,e.prototype.message=t,e.prototype.info=r,e.prototype.fail=i;function t(s,o,a){var l=new n(s,o,a);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}function i(){var s=this.message.apply(this,arguments);throw s.fatal=!0,s}function r(){var s=this.message.apply(this,arguments);return s.fatal=null,s}return ZF}var JF,Vie;function Zve(){return Vie||(Vie=1,JF=FQe()),JF}var e3,zie;function BQe(){if(zie)return e3;zie=1,e3=n;function n(e){if(e)throw e}return e3}var t3,Wie;function HQe(){if(Wie)return t3;Wie=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var u=n.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&n.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var h;for(h in c);return typeof h>"u"||n.call(c,h)},o=function(c,u){t&&u.name==="__proto__"?t(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(n.call(c,u)){if(i)return i(c,u).value}else return;return c[u]};return t3=function l(){var c,u,d,h,f,p,m=arguments[0],v=1,C=arguments.length,y=!1;for(typeof m=="boolean"&&(y=m,m=arguments[1]||{},v=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});v<C;++v)if(c=arguments[v],c!=null)for(u in c)d=a(m,u),h=a(c,u),m!==h&&(y&&h&&(s(h)||(f=r(h)))?(f?(f=!1,p=d&&r(d)?d:[]):p=d&&s(d)?d:{},o(m,{name:u,newValue:l(y,p,h)})):typeof h<"u"&&o(m,{name:u,newValue:h}));return m},t3}var n3,$ie;function VQe(){return $ie||($ie=1,n3=n=>{if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}),n3}var i3,jie;function zQe(){if(jie)return i3;jie=1;var n=[].slice;i3=e;function e(t,i){var r;return s;function s(){var l=n.call(arguments,0),c=t.length>l.length,u;c&&l.push(o);try{u=t.apply(null,l)}catch(d){if(c&&r)throw d;return o(d)}c||(u&&typeof u.then=="function"?u.then(a,o):u instanceof Error?o(u):a(u))}function o(){r||(r=!0,i.apply(null,arguments))}function a(l){o(null,l)}}return i3}var r3,Uie;function WQe(){if(Uie)return r3;Uie=1;var n=zQe();r3=t,t.wrap=n;var e=[].slice;function t(){var i=[],r={};return r.run=s,r.use=o,r;function s(){var a=-1,l=e.call(arguments,0,-1),c=arguments[arguments.length-1];if(typeof c!="function")throw new Error("Expected function as last argument, not "+c);u.apply(null,[null].concat(l));function u(d){var h=i[++a],f=e.call(arguments,0),p=f.slice(1),m=l.length,v=-1;if(d){c(d);return}for(;++v<m;)(p[v]===null||p[v]===void 0)&&(p[v]=l[v]);l=p,h?n(h,u).apply(null,l):c.apply(null,[null].concat(l))}}function o(a){if(typeof a!="function")throw new Error("Expected `fn` to be a function, not "+a);return i.push(a),r}}return r3}var s3,qie;function $Qe(){if(qie)return s3;qie=1;var n=BQe(),e=Xve(),t=HQe(),i=VQe(),r=WQe(),s=Zve();s3=h().freeze();var o=[].slice,a={}.hasOwnProperty,l=r().use(c).use(u).use(d);function c(_,x){x.tree=_.parse(x.file)}function u(_,x,k){_.run(x.tree,x.file,D);function D(T,L,I){T?k(T):(x.tree=L,x.file=I,k())}}function d(_,x){var k=_.stringify(x.tree,x.file);k==null||(typeof k=="string"||e(k)?("value"in x.file&&(x.file.value=k),x.file.contents=k):x.file.result=k)}function h(){var _=[],x=r(),k={},D=-1,T;return L.data=R,L.freeze=I,L.attachers=_,L.use=N,L.parse=F,L.stringify=W,L.run=A,L.runSync=H,L.process=$,L.processSync=U,L;function L(){for(var z=h(),K=-1;++K<_.length;)z.use.apply(null,_[K]);return z.data(t(!0,{},k)),z}function I(){var z,K;if(T)return L;for(;++D<_.length;)z=_[D],z[1]!==!1&&(z[1]===!0&&(z[1]=void 0),K=z[0].apply(L,z.slice(1)),typeof K=="function"&&x.use(K));return T=!0,D=1/0,L}function R(z,K){return typeof z=="string"?arguments.length===2?(C("data",T),k[z]=K,L):a.call(k,z)&&k[z]||null:z?(C("data",T),k=z,L):k}function N(z){var K;if(C("use",T),z!=null)if(typeof z=="function")J.apply(null,arguments);else if(typeof z=="object")"length"in z?G(z):Z(z);else throw new Error("Expected usable value, not `"+z+"`");return K&&(k.settings=t(k.settings||{},K)),L;function Z(ne){G(ne.plugins),ne.settings&&(K=t(K||{},ne.settings))}function Q(ne){if(typeof ne=="function")J(ne);else if(typeof ne=="object")"length"in ne?J.apply(null,ne):Z(ne);else throw new Error("Expected usable value, not `"+ne+"`")}function G(ne){var ae=-1;if(ne!=null)if(typeof ne=="object"&&"length"in ne)for(;++ae<ne.length;)Q(ne[ae]);else throw new Error("Expected a list of plugins, not `"+ne+"`")}function J(ne,ae){var se=O(ne);se?(i(se[1])&&i(ae)&&(ae=t(!0,se[1],ae)),se[1]=ae):_.push(o.call(arguments))}}function O(z){for(var K=-1;++K<_.length;)if(_[K][0]===z)return _[K]}function F(z){var K=s(z),Z;return I(),Z=L.Parser,m("parse",Z),f(Z,"parse")?new Z(String(K),K).parse():Z(String(K),K)}function A(z,K,Z){if(y(z),I(),!Z&&typeof K=="function"&&(Z=K,K=null),!Z)return new Promise(Q);Q(null,Z);function Q(G,J){x.run(z,s(K),ne);function ne(ae,se,X){se=se||z,ae?J(ae):G?G(se):Z(null,se,X)}}}function H(z,K){var Z,Q;return A(z,K,G),w("runSync","run",Q),Z;function G(J,ne){Q=!0,Z=ne,n(J)}}function W(z,K){var Z=s(K),Q;return I(),Q=L.Compiler,v("stringify",Q),y(z),f(Q,"compile")?new Q(z,Z).compile():Q(z,Z)}function $(z,K){if(I(),m("process",L.Parser),v("process",L.Compiler),!K)return new Promise(Z);Z(null,K);function Z(Q,G){var J=s(z);l.run(L,{file:J},ne);function ne(ae){ae?G(ae):Q?Q(J):K(null,J)}}}function U(z){var K,Z;return I(),m("processSync",L.Parser),v("processSync",L.Compiler),K=s(z),$(K,Q),w("processSync","process",Z),K;function Q(G){Z=!0,n(G)}}}function f(_,x){return typeof _=="function"&&_.prototype&&(p(_.prototype)||x in _.prototype)}function p(_){var x;for(x in _)return!0;return!1}function m(_,x){if(typeof x!="function")throw new Error("Cannot `"+_+"` without `Parser`")}function v(_,x){if(typeof x!="function")throw new Error("Cannot `"+_+"` without `Compiler`")}function C(_,x){if(x)throw new Error("Cannot invoke `"+_+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function y(_){if(!_||typeof _.type!="string")throw new Error("Expected node, got `"+_+"`")}function w(_,x,k){if(!k)throw new Error("`"+_+"` finished async. Use `"+x+"` instead")}return s3}var o3,Gie;function jQe(){if(Gie)return o3;Gie=1,o3=n;function n(t){return t&&(t.value||t.alt||t.title||"children"in t&&e(t.children)||"length"in t&&e(t))||""}function e(t){for(var i=[],r=-1;++r<t.length;)i[r]=n(t[r]);return i.join("")}return o3}var a3,Kie;function cL(){if(Kie)return a3;Kie=1;var n=Object.assign;return a3=n,a3}var l3,Qie;function Jve(){if(Qie)return l3;Qie=1;var n={}.hasOwnProperty;return l3=n,l3}var c3,Yie;function xU(){if(Yie)return c3;Yie=1;function n(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}return c3=n,c3}var u3,Xie;function oA(){if(Xie)return u3;Xie=1;var n=String.fromCharCode;return u3=n,u3}var d3,Zie;function UQe(){if(Zie)return d3;Zie=1;var n=oA();function e(t,i){var r=parseInt(t,i);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":n(r)}return d3=e,d3}var LD={},h3,Jie;function Gs(){if(Jie)return h3;Jie=1;function n(e){return e<-2}return h3=n,h3}var f3,ere;function Uf(){if(ere)return f3;ere=1;function n(e){return e===-2||e===-1||e===32}return f3=n,f3}var g3,tre;function ro(){if(tre)return g3;tre=1;var n=Uf();function e(t,i,r,s){var o=s?s-1:1/0,a=0;return l;function l(u){return n(u)?(t.enter(r),c(u)):i(u)}function c(u){return n(u)&&a++<o?(t.consume(u),c):(t.exit(r),i(u))}}return g3=e,g3}var nre;function qQe(){if(nre)return LD;nre=1,Object.defineProperty(LD,"__esModule",{value:!0});var n=Gs(),e=ro(),t=i;function i(r){var s=r.attempt(this.parser.constructs.contentInitial,a,l),o;return s;function a(d){if(d===null){r.consume(d);return}return r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),e(r,s,"linePrefix")}function l(d){return r.enter("paragraph"),c(d)}function c(d){var h=r.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=h),o=h,u(d)}function u(d){if(d===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(d);return}return n(d)?(r.consume(d),r.exit("chunkText"),c):(r.consume(d),u)}}return LD.tokenize=t,LD}var ED={},p3,ire;function aA(){if(ire)return p3;ire=1;var n=Gs(),e=ro(),t={tokenize:i,partial:!0};function i(r,s,o){return e(r,a,"linePrefix");function a(l){return l===null||n(l)?s(l):o(l)}}return p3=t,p3}var rre;function GQe(){if(rre)return ED;rre=1,Object.defineProperty(ED,"__esModule",{value:!0});var n=Gs(),e=ro(),t=aA(),i=o,r={tokenize:a},s={tokenize:l};function o(c){var u=this,d=[],h=0,f={tokenize:I,partial:!0},p,m,v;return C;function C(R){return h<d.length?(u.containerState=d[h][1],c.attempt(d[h][0].continuation,y,w)(R)):w(R)}function y(R){return h++,C(R)}function w(R){return p&&p.flowContinue?x(R):(u.interrupt=m&&m.currentConstruct&&m.currentConstruct.interruptible,u.containerState={},c.attempt(r,_,x)(R))}function _(R){return d.push([u.currentConstruct,u.containerState]),u.containerState=void 0,w(R)}function x(R){if(R===null){L(0,!0),c.consume(R);return}return m=m||u.parser.flow(u.now()),c.enter("chunkFlow",{contentType:"flow",previous:v,_tokenizer:m}),k(R)}function k(R){return R===null?(T(c.exit("chunkFlow")),x(R)):n(R)?(c.consume(R),T(c.exit("chunkFlow")),c.check(f,D)):(c.consume(R),k)}function D(R){return L(p.continued,p&&p.flowEnd),h=0,C(R)}function T(R){v&&(v.next=R),v=R,m.lazy=p&&p.lazy,m.defineSkip(R.start),m.write(u.sliceStream(R))}function L(R,N){var O=d.length;for(m&&N&&(m.write([null]),v=m=void 0);O-- >R;)u.containerState=d[O][1],d[O][0].exit.call(u,c);d.length=R}function I(R,N){var O=0;return p={},F;function F(z){return O<d.length?(u.containerState=d[O][1],R.attempt(d[O][0].continuation,A,H)(z)):m.currentConstruct&&m.currentConstruct.concrete?(p.flowContinue=!0,U(z)):(u.interrupt=m.currentConstruct&&m.currentConstruct.interruptible,u.containerState={},R.attempt(r,$,U)(z))}function A(z){return O++,u.containerState._closeFlow?$(z):F(z)}function H(z){return m.currentConstruct&&m.currentConstruct.lazy?(u.containerState={},R.attempt(r,$,R.attempt(s,$,R.check(t,$,W)))(z)):$(z)}function W(z){return O=d.length,p.lazy=!0,p.flowContinue=!0,U(z)}function $(z){return p.flowEnd=!0,U(z)}function U(z){return p.continued=O,u.interrupt=u.containerState=void 0,N(z)}}}function a(c,u,d){return e(c,c.attempt(this.parser.constructs.document,u,d),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function l(c,u,d){return e(c,c.lazy(this.parser.constructs.flow,u,d),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}return ED.tokenize=i,ED}var DD={},m3,sre;function e1e(){if(sre)return m3;sre=1;function n(e){for(var t=-1,i=0;++t<e.length;)i+=typeof e[t]=="string"?e[t].length:1;return i}return m3=n,m3}var b3,ore;function uL(){if(ore)return b3;ore=1;var n=e1e();function e(t,i){var r=t[t.length-1];return!r||r[1].type!==i?0:n(r[2].sliceStream(r[1]))}return b3=e,b3}var v3,are;function KQe(){if(are)return v3;are=1;var n=[].splice;return v3=n,v3}var y3,lre;function qf(){if(lre)return y3;lre=1;var n=KQe();function e(t,i,r,s){var o=t.length,a=0,l;if(i<0?i=-i>o?0:o+i:i=i>o?o:i,r=r>0?r:0,s.length<1e4)l=Array.from(s),l.unshift(i,r),n.apply(t,l);else for(r&&n.apply(t,[i,r]);a<s.length;)l=s.slice(a,a+1e4),l.unshift(i,0),n.apply(t,l),a+=1e4,i+=1e4}return y3=e,y3}var C3,cre;function Fv(){if(cre)return C3;cre=1;var n=cL();function e(t){return n({},t)}return C3=e,C3}var _3,ure;function t1e(){if(ure)return _3;ure=1;var n=cL(),e=qf(),t=Fv();function i(s){for(var o={},a=-1,l,c,u,d,h,f,p;++a<s.length;){for(;a in o;)a=o[a];if(l=s[a],a&&l[1].type==="chunkFlow"&&s[a-1][1].type==="listItemPrefix"&&(f=l[1]._tokenizer.events,u=0,u<f.length&&f[u][1].type==="lineEndingBlank"&&(u+=2),u<f.length&&f[u][1].type==="content"))for(;++u<f.length&&f[u][1].type!=="content";)f[u][1].type==="chunkText"&&(f[u][1].isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(n(o,r(s,a)),a=o[a],p=!0);else if(l[1]._container||l[1]._movePreviousLineEndings){for(u=a,c=void 0;u--&&(d=s[u],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(c&&(s[c][1].type="lineEndingBlank"),d[1].type="lineEnding",c=u);c&&(l[1].end=t(s[c][1].start),h=s.slice(c,a),h.unshift(l),e(s,c,a-c+1,h))}}return!p}function r(s,o){for(var a=s[o][1],l=s[o][2],c=o-1,u=[],d=a._tokenizer||l.parser[a.contentType](a.start),h=d.events,f=[],p={},m,v,C,y,w,_;a;){for(;s[++c][1]!==a;);u.push(c),a._tokenizer||(m=l.sliceStream(a),a.next||m.push(null),v&&d.defineSkip(a.start),a.isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(m),a.isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),v=a,a=a.next}for(a=v,C=h.length;C--;)h[C][0]==="enter"?y=!0:y&&h[C][1].type===h[C-1][1].type&&h[C][1].start.line!==h[C][1].end.line&&(x(h.slice(C+1,w)),a._tokenizer=a.next=void 0,a=a.previous,w=C+1);for(d.events=a._tokenizer=a.next=void 0,x(h.slice(0,w)),C=-1,_=0;++C<f.length;)p[_+f[C][0]]=_+f[C][1],_+=f[C][1]-f[C][0]-1;return p;function x(k){var D=u.pop();f.unshift([D,D+k.length-1]),e(s,D,2,k)}}return _3=i,_3}var w3,dre;function QQe(){if(dre)return w3;dre=1;var n=Gs(),e=uL(),t=t1e(),i=ro(),r={tokenize:a,resolve:o,interruptible:!0,lazy:!0},s={tokenize:l,partial:!0};function o(c){return t(c),c}function a(c,u){var d;return h;function h(v){return c.enter("content"),d=c.enter("chunkContent",{contentType:"content"}),f(v)}function f(v){return v===null?p(v):n(v)?c.check(s,m,p)(v):(c.consume(v),f)}function p(v){return c.exit("chunkContent"),c.exit("content"),u(v)}function m(v){return c.consume(v),c.exit("chunkContent"),d=d.next=c.enter("chunkContent",{contentType:"content",previous:d}),f}}function l(c,u,d){var h=this;return f;function f(m){return c.enter("lineEnding"),c.consume(m),c.exit("lineEnding"),i(c,p,"linePrefix")}function p(m){return m===null||n(m)?d(m):h.parser.constructs.disable.null.indexOf("codeIndented")>-1||e(h.events,"linePrefix")<4?c.interrupt(h.parser.constructs.flow,d,u)(m):u(m)}}return w3=r,w3}var hre;function YQe(){if(hre)return DD;hre=1,Object.defineProperty(DD,"__esModule",{value:!0});var n=QQe(),e=ro(),t=aA(),i=r;function r(s){var o=this,a=s.attempt(t,l,s.attempt(this.parser.constructs.flowInitial,c,e(s,s.attempt(this.parser.constructs.flow,c,s.attempt(n,c)),"linePrefix")));return a;function l(u){if(u===null){s.consume(u);return}return s.enter("lineEndingBlank"),s.consume(u),s.exit("lineEndingBlank"),o.currentConstruct=void 0,a}function c(u){if(u===null){s.consume(u);return}return s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),o.currentConstruct=void 0,a}}return DD.tokenize=i,DD}var Q1={},fre;function n1e(){if(fre)return Q1;fre=1,Object.defineProperty(Q1,"__esModule",{value:!0});var n=cL(),e=Fv(),t=s("text"),i=s("string"),r={resolveAll:o()};function s(l){return{tokenize:c,resolveAll:o(l==="text"?a:void 0)};function c(u){var d=this,h=this.parser.constructs[l],f=u.attempt(h,p,m);return p;function p(y){return C(y)?f(y):m(y)}function m(y){if(y===null){u.consume(y);return}return u.enter("data"),u.consume(y),v}function v(y){return C(y)?(u.exit("data"),f(y)):(u.consume(y),v)}function C(y){var w=h[y],_=-1;if(y===null)return!0;if(w){for(;++_<w.length;)if(!w[_].previous||w[_].previous.call(d,d.previous))return!0}}}}function o(l){return c;function c(u,d){for(var h=-1,f;++h<=u.length;)f===void 0?u[h]&&u[h][1].type==="data"&&(f=h,h++):(!u[h]||u[h][1].type!=="data")&&(h!==f+2&&(u[f][1].end=u[h-1][1].end,u.splice(f+2,h-f-2),h=f+2),f=void 0);return l?l(u,d):u}}function a(l,c){for(var u=-1,d,h,f,p,m,v,C,y;++u<=l.length;)if((u===l.length||l[u][1].type==="lineEnding")&&l[u-1][1].type==="data"){for(h=l[u-1][1],d=c.sliceStream(h),p=d.length,m=-1,v=0,C=void 0;p--;)if(f=d[p],typeof f=="string"){for(m=f.length;f.charCodeAt(m-1)===32;)v++,m--;if(m)break;m=-1}else if(f===-2)C=!0,v++;else if(f!==-1){p++;break}v&&(y={type:u===l.length||C||v<2?"lineSuffix":"hardBreakTrailing",start:{line:h.end.line,column:h.end.column-v,offset:h.end.offset-v,_index:h.start._index+p,_bufferIndex:p?m:h.start._bufferIndex+m},end:e(h.end)},h.end=e(y.start),h.start.offset===h.end.offset?n(h,y):(l.splice(u,0,["enter",y,c],["exit",y,c]),u+=2)),u++}return l}return Q1.resolver=r,Q1.string=i,Q1.text=t,Q1}var S3,gre;function kU(){if(gre)return S3;gre=1;function n(e){return e==null?[]:"length"in e?e:[e]}return S3=n,S3}var x3,pre;function i1e(){if(pre)return x3;pre=1;var n=Jve(),e=qf(),t=kU();function i(o){for(var a={},l=-1;++l<o.length;)r(a,o[l]);return a}function r(o,a){var l,c,u,d;for(l in a){c=n.call(o,l)?o[l]:o[l]={},u=a[l];for(d in u)c[d]=s(t(u[d]),n.call(c,d)?c[d]:[])}}function s(o,a){for(var l=-1,c=[];++l<o.length;)(o[l].add==="after"?a:c).push(o[l]);return e(a,0,0,c),a}return x3=i,x3}var k3,mre;function LU(){if(mre)return k3;mre=1;var n=qf();function e(t,i){return t.length?(n(t,t.length,0,i),t):i}return k3=e,k3}var L3,bre;function lA(){if(bre)return L3;bre=1;function n(e,t,i){for(var r=[],s=-1,o;++s<e.length;)o=e[s].resolveAll,o&&r.indexOf(o)<0&&(t=o(t,i),r.push(o));return t}return L3=n,L3}var E3,vre;function XQe(){if(vre)return E3;vre=1;var n=oA();function e(t){for(var i=-1,r=[],s,o,a;++i<t.length;){if(s=t[i],typeof s=="string")o=s;else if(s===-5)o="\r";else if(s===-4)o=`
`;else if(s===-3)o=`\r
`;else if(s===-2)o="	";else if(s===-1){if(a)continue;o=" "}else o=n(s);a=s===-2,r.push(o)}return r.join("")}return E3=e,E3}var D3,yre;function ZQe(){if(yre)return D3;yre=1;function n(e,t){var i=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex,a;return i===s?a=[e[i].slice(r,o)]:(a=e.slice(i,s),r>-1&&(a[0]=a[0].slice(r)),o>0&&a.push(e[s].slice(0,o))),a}return D3=n,D3}var T3,Cre;function JQe(){if(Cre)return T3;Cre=1;var n=cL(),e=Gs(),t=LU(),i=qf(),r=kU(),s=lA(),o=XQe(),a=Fv(),l=ZQe();function c(u,d,h){var f=h?a(h):{line:1,column:1,offset:0},p={},m=[],v=[],C=[],y={consume:N,enter:O,exit:F,attempt:W(A),check:W(H),interrupt:W(H,{interrupt:!0}),lazy:W(H,{lazy:!0})},w={previous:null,events:[],parser:u,sliceStream:D,sliceSerialize:k,now:T,defineSkip:L,write:x},_=d.tokenize.call(w,y);return d.resolveAll&&m.push(d),f._index=0,f._bufferIndex=-1,w;function x(K){return v=t(v,K),I(),v[v.length-1]!==null?[]:($(d,0),w.events=s(m,w.events,w),w.events)}function k(K){return o(D(K))}function D(K){return l(v,K)}function T(){return a(f)}function L(K){p[K.line]=K.column,z()}function I(){for(var K,Z;f._index<v.length;)if(Z=v[f._index],typeof Z=="string")for(K=f._index,f._bufferIndex<0&&(f._bufferIndex=0);f._index===K&&f._bufferIndex<Z.length;)R(Z.charCodeAt(f._bufferIndex));else R(Z)}function R(K){_=_(K)}function N(K){e(K)?(f.line++,f.column=1,f.offset+=K===-3?2:1,z()):K!==-1&&(f.column++,f.offset++),f._bufferIndex<0?f._index++:(f._bufferIndex++,f._bufferIndex===v[f._index].length&&(f._bufferIndex=-1,f._index++)),w.previous=K}function O(K,Z){var Q=Z||{};return Q.type=K,Q.start=T(),w.events.push(["enter",Q,w]),C.push(Q),Q}function F(K){var Z=C.pop();return Z.end=T(),w.events.push(["exit",Z,w]),Z}function A(K,Z){$(K,Z.from)}function H(K,Z){Z.restore()}function W(K,Z){return Q;function Q(G,J,ne){var ae,se,X,oe;return G.tokenize||"length"in G?me(r(G)):ve;function ve(Ee){return Ee in G||null in G?me(G.null?r(G[Ee]).concat(r(G.null)):G[Ee])(Ee):ne(Ee)}function me(Ee){return ae=Ee,se=0,ye(Ee[se])}function ye(Ee){return Ue;function Ue(re){return oe=U(),X=Ee,Ee.partial||(w.currentConstruct=Ee),Ee.name&&w.parser.constructs.disable.null.indexOf(Ee.name)>-1?ie():Ee.tokenize.call(Z?n({},w,Z):w,y,Le,ie)(re)}}function Le(Ee){return K(X,oe),J}function ie(Ee){return oe.restore(),++se<ae.length?ye(ae[se]):ne}}}function $(K,Z){K.resolveAll&&m.indexOf(K)<0&&m.push(K),K.resolve&&i(w.events,Z,w.events.length-Z,K.resolve(w.events.slice(Z),w)),K.resolveTo&&(w.events=K.resolveTo(w.events,w))}function U(){var K=T(),Z=w.previous,Q=w.currentConstruct,G=w.events.length,J=Array.from(C);return{restore:ne,from:G};function ne(){f=K,w.previous=Z,w.currentConstruct=Q,w.events.length=G,C=J,z()}}function z(){f.line in p&&f.column<2&&(f.column=p[f.line],f.offset+=p[f.line]-1)}}return T3=c,T3}var ru={},I3,_re;function Gf(){if(_re)return I3;_re=1;function n(e){return e<0||e===32}return I3=n,I3}var M3,wre;function eYe(){if(wre)return M3;wre=1;var n=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;return M3=n,M3}var R3,Sre;function Xp(){if(Sre)return R3;Sre=1;var n=oA();function e(t){return i;function i(r){return t.test(n(r))}}return R3=e,R3}var N3,xre;function EU(){if(xre)return N3;xre=1;var n=eYe(),e=Xp(),t=e(n);return N3=t,N3}var A3,kre;function DU(){if(kre)return A3;kre=1;var n=Xp(),e=n(/\s/);return A3=e,A3}var P3,Lre;function r1e(){if(Lre)return P3;Lre=1;var n=Gf(),e=EU(),t=DU();function i(r){if(r===null||n(r)||t(r))return 1;if(e(r))return 2}return P3=i,P3}var O3,Ere;function tYe(){if(Ere)return O3;Ere=1;function n(e,t){return e.column+=t,e.offset+=t,e._bufferIndex+=t,e}return O3=n,O3}var F3,Dre;function nYe(){if(Dre)return F3;Dre=1;var n=LU(),e=qf(),t=r1e(),i=tYe(),r=lA(),s=Fv(),o={name:"attention",tokenize:l,resolveAll:a};function a(c,u){for(var d=-1,h,f,p,m,v,C,y,w;++d<c.length;)if(c[d][0]==="enter"&&c[d][1].type==="attentionSequence"&&c[d][1]._close){for(h=d;h--;)if(c[h][0]==="exit"&&c[h][1].type==="attentionSequence"&&c[h][1]._open&&u.sliceSerialize(c[h][1]).charCodeAt(0)===u.sliceSerialize(c[d][1]).charCodeAt(0)){if((c[h][1]._close||c[d][1]._open)&&(c[d][1].end.offset-c[d][1].start.offset)%3&&!((c[h][1].end.offset-c[h][1].start.offset+c[d][1].end.offset-c[d][1].start.offset)%3))continue;C=c[h][1].end.offset-c[h][1].start.offset>1&&c[d][1].end.offset-c[d][1].start.offset>1?2:1,m={type:C>1?"strongSequence":"emphasisSequence",start:i(s(c[h][1].end),-C),end:s(c[h][1].end)},v={type:C>1?"strongSequence":"emphasisSequence",start:s(c[d][1].start),end:i(s(c[d][1].start),C)},p={type:C>1?"strongText":"emphasisText",start:s(c[h][1].end),end:s(c[d][1].start)},f={type:C>1?"strong":"emphasis",start:s(m.start),end:s(v.end)},c[h][1].end=s(m.start),c[d][1].start=s(v.end),y=[],c[h][1].end.offset-c[h][1].start.offset&&(y=n(y,[["enter",c[h][1],u],["exit",c[h][1],u]])),y=n(y,[["enter",f,u],["enter",m,u],["exit",m,u],["enter",p,u]]),y=n(y,r(u.parser.constructs.insideSpan.null,c.slice(h+1,d),u)),y=n(y,[["exit",p,u],["enter",v,u],["exit",v,u],["exit",f,u]]),c[d][1].end.offset-c[d][1].start.offset?(w=2,y=n(y,[["enter",c[d][1],u],["exit",c[d][1],u]])):w=0,e(c,h-1,d-h+3,y),d=h+y.length-w-2;break}}for(d=-1;++d<c.length;)c[d][1].type==="attentionSequence"&&(c[d][1].type="data");return c}function l(c,u){var d=t(this.previous),h;return f;function f(m){return c.enter("attentionSequence"),h=m,p(m)}function p(m){var v,C,y,w;return m===h?(c.consume(m),p):(v=c.exit("attentionSequence"),C=t(m),y=!C||C===2&&d,w=!d||d===2&&C,v._open=h===42?y:y&&(d||!w),v._close=h===42?w:w&&(C||!y),u(m))}}return F3=o,F3}var B3,Tre;function cA(){if(Tre)return B3;Tre=1;var n=Xp(),e=n(/[A-Za-z]/);return B3=e,B3}var H3,Ire;function dL(){if(Ire)return H3;Ire=1;var n=Xp(),e=n(/[\dA-Za-z]/);return H3=e,H3}var V3,Mre;function iYe(){if(Mre)return V3;Mre=1;var n=Xp(),e=n(/[#-'*+\--9=?A-Z^-~]/);return V3=e,V3}var z3,Rre;function TU(){if(Rre)return z3;Rre=1;function n(e){return e<32||e===127}return z3=n,z3}var W3,Nre;function rYe(){if(Nre)return W3;Nre=1;var n=cA(),e=dL(),t=iYe(),i=TU(),r={name:"autolink",tokenize:s};function s(o,a,l){var c=1;return u;function u(_){return o.enter("autolink"),o.enter("autolinkMarker"),o.consume(_),o.exit("autolinkMarker"),o.enter("autolinkProtocol"),d}function d(_){return n(_)?(o.consume(_),h):t(_)?m(_):l(_)}function h(_){return _===43||_===45||_===46||e(_)?f(_):m(_)}function f(_){return _===58?(o.consume(_),p):(_===43||_===45||_===46||e(_))&&c++<32?(o.consume(_),f):m(_)}function p(_){return _===62?(o.exit("autolinkProtocol"),w(_)):_===32||_===60||i(_)?l(_):(o.consume(_),p)}function m(_){return _===64?(o.consume(_),c=0,v):t(_)?(o.consume(_),m):l(_)}function v(_){return e(_)?C(_):l(_)}function C(_){return _===46?(o.consume(_),c=0,v):_===62?(o.exit("autolinkProtocol").type="autolinkEmail",w(_)):y(_)}function y(_){return(_===45||e(_))&&c++<63?(o.consume(_),_===45?y:C):l(_)}function w(_){return o.enter("autolinkMarker"),o.consume(_),o.exit("autolinkMarker"),o.exit("autolink"),a}}return W3=r,W3}var $3,Are;function sYe(){if(Are)return $3;Are=1;var n=Uf(),e=ro(),t={name:"blockQuote",tokenize:i,continuation:{tokenize:r},exit:s};function i(o,a,l){var c=this;return u;function u(h){return h===62?(c.containerState.open||(o.enter("blockQuote",{_container:!0}),c.containerState.open=!0),o.enter("blockQuotePrefix"),o.enter("blockQuoteMarker"),o.consume(h),o.exit("blockQuoteMarker"),d):l(h)}function d(h){return n(h)?(o.enter("blockQuotePrefixWhitespace"),o.consume(h),o.exit("blockQuotePrefixWhitespace"),o.exit("blockQuotePrefix"),a):(o.exit("blockQuotePrefix"),a(h))}}function r(o,a,l){return e(o,o.attempt(t,a,l),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function s(o){o.exit("blockQuote")}return $3=t,$3}var j3,Pre;function oYe(){if(Pre)return j3;Pre=1;var n=Xp(),e=n(/[!-/:-@[-`{-~]/);return j3=e,j3}var U3,Ore;function aYe(){if(Ore)return U3;Ore=1;var n=oYe(),e={name:"characterEscape",tokenize:t};function t(i,r,s){return o;function o(l){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(l),i.exit("escapeMarker"),a}function a(l){return n(l)?(i.enter("characterEscapeValue"),i.consume(l),i.exit("characterEscapeValue"),i.exit("characterEscape"),r):s(l)}}return U3=e,U3}var q3,Fre;function s1e(){if(Fre)return q3;Fre=1;var n,e=59;q3=t;function t(i){var r="&"+i+";",s;return n=n||document.createElement("i"),n.innerHTML=r,s=n.textContent,s.charCodeAt(s.length-1)===e&&i!=="semi"||s===r?!1:s}return q3}var G3,Bre;function o1e(){if(Bre)return G3;Bre=1;var n=Xp(),e=n(/\d/);return G3=e,G3}var K3,Hre;function lYe(){if(Hre)return K3;Hre=1;var n=Xp(),e=n(/[\dA-Fa-f]/);return K3=e,K3}var Q3,Vre;function cYe(){if(Vre)return Q3;Vre=1;var n=s1e(),e=dL(),t=o1e(),i=lYe();function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var s=r(n),o={name:"characterReference",tokenize:a};function a(l,c,u){var d=this,h=0,f,p;return m;function m(w){return l.enter("characterReference"),l.enter("characterReferenceMarker"),l.consume(w),l.exit("characterReferenceMarker"),v}function v(w){return w===35?(l.enter("characterReferenceMarkerNumeric"),l.consume(w),l.exit("characterReferenceMarkerNumeric"),C):(l.enter("characterReferenceValue"),f=31,p=e,y(w))}function C(w){return w===88||w===120?(l.enter("characterReferenceMarkerHexadecimal"),l.consume(w),l.exit("characterReferenceMarkerHexadecimal"),l.enter("characterReferenceValue"),f=6,p=i,y):(l.enter("characterReferenceValue"),f=7,p=t,y(w))}function y(w){var _;return w===59&&h?(_=l.exit("characterReferenceValue"),p===e&&!s.default(d.sliceSerialize(_))?u(w):(l.enter("characterReferenceMarker"),l.consume(w),l.exit("characterReferenceMarker"),l.exit("characterReference"),c)):p(w)&&h++<f?(l.consume(w),y):u(w)}}return Q3=o,Q3}var Y3,zre;function uYe(){if(zre)return Y3;zre=1;var n=Gs(),e=Gf(),t=uL(),i=ro(),r={name:"codeFenced",tokenize:s,concrete:!0};function s(o,a,l){var c=this,u={tokenize:T,partial:!0},d=t(this.events,"linePrefix"),h=0,f;return p;function p(L){return o.enter("codeFenced"),o.enter("codeFencedFence"),o.enter("codeFencedFenceSequence"),f=L,m(L)}function m(L){return L===f?(o.consume(L),h++,m):(o.exit("codeFencedFenceSequence"),h<3?l(L):i(o,v,"whitespace")(L))}function v(L){return L===null||n(L)?_(L):(o.enter("codeFencedFenceInfo"),o.enter("chunkString",{contentType:"string"}),C(L))}function C(L){return L===null||e(L)?(o.exit("chunkString"),o.exit("codeFencedFenceInfo"),i(o,y,"whitespace")(L)):L===96&&L===f?l(L):(o.consume(L),C)}function y(L){return L===null||n(L)?_(L):(o.enter("codeFencedFenceMeta"),o.enter("chunkString",{contentType:"string"}),w(L))}function w(L){return L===null||n(L)?(o.exit("chunkString"),o.exit("codeFencedFenceMeta"),_(L)):L===96&&L===f?l(L):(o.consume(L),w)}function _(L){return o.exit("codeFencedFence"),c.interrupt?a(L):x(L)}function x(L){return L===null?D(L):n(L)?(o.enter("lineEnding"),o.consume(L),o.exit("lineEnding"),o.attempt(u,D,d?i(o,x,"linePrefix",d+1):x)):(o.enter("codeFlowValue"),k(L))}function k(L){return L===null||n(L)?(o.exit("codeFlowValue"),x(L)):(o.consume(L),k)}function D(L){return o.exit("codeFenced"),a(L)}function T(L,I,R){var N=0;return i(L,O,"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function O(H){return L.enter("codeFencedFence"),L.enter("codeFencedFenceSequence"),F(H)}function F(H){return H===f?(L.consume(H),N++,F):N<h?R(H):(L.exit("codeFencedFenceSequence"),i(L,A,"whitespace")(H))}function A(H){return H===null||n(H)?(L.exit("codeFencedFence"),I(H)):R(H)}}}return Y3=r,Y3}var X3,Wre;function dYe(){if(Wre)return X3;Wre=1;var n=Gs(),e=qf(),t=uL(),i=ro(),r={name:"codeIndented",tokenize:a,resolve:o},s={tokenize:l,partial:!0};function o(c,u){var d={type:"codeIndented",start:c[0][1].start,end:c[c.length-1][1].end};return e(c,0,0,[["enter",d,u]]),e(c,c.length,0,[["exit",d,u]]),c}function a(c,u,d){return c.attempt(s,h,d);function h(p){return p===null?u(p):n(p)?c.attempt(s,h,u)(p):(c.enter("codeFlowValue"),f(p))}function f(p){return p===null||n(p)?(c.exit("codeFlowValue"),h(p)):(c.consume(p),f)}}function l(c,u,d){var h=this;return i(c,f,"linePrefix",5);function f(p){return n(p)?(c.enter("lineEnding"),c.consume(p),c.exit("lineEnding"),i(c,f,"linePrefix",5)):t(h.events,"linePrefix")<4?d(p):u(p)}}return X3=r,X3}var Z3,$re;function hYe(){if($re)return Z3;$re=1;var n=Gs(),e={name:"codeText",tokenize:r,resolve:t,previous:i};function t(s){var o=s.length-4,a=3,l,c;if((s[a][1].type==="lineEnding"||s[a][1].type==="space")&&(s[o][1].type==="lineEnding"||s[o][1].type==="space")){for(l=a;++l<o;)if(s[l][1].type==="codeTextData"){s[o][1].type=s[a][1].type="codeTextPadding",a+=2,o-=2;break}}for(l=a-1,o++;++l<=o;)c===void 0?l!==o&&s[l][1].type!=="lineEnding"&&(c=l):(l===o||s[l][1].type==="lineEnding")&&(s[c][1].type="codeTextData",l!==c+2&&(s[c][1].end=s[l-1][1].end,s.splice(c+2,l-c-2),o-=l-c-2,l=c+2),c=void 0);return s}function i(s){return s!==96||this.events[this.events.length-1][1].type==="characterEscape"}function r(s,o,a){var l=0,c,u;return d;function d(v){return s.enter("codeText"),s.enter("codeTextSequence"),h(v)}function h(v){return v===96?(s.consume(v),l++,h):(s.exit("codeTextSequence"),f(v))}function f(v){return v===null?a(v):v===96?(u=s.enter("codeTextSequence"),c=0,m(v)):v===32?(s.enter("space"),s.consume(v),s.exit("space"),f):n(v)?(s.enter("lineEnding"),s.consume(v),s.exit("lineEnding"),f):(s.enter("codeTextData"),p(v))}function p(v){return v===null||v===32||v===96||n(v)?(s.exit("codeTextData"),f(v)):(s.consume(v),p)}function m(v){return v===96?(s.consume(v),c++,m):c===l?(s.exit("codeTextSequence"),s.exit("codeText"),o(v)):(u.type="codeTextData",p(v))}}return Z3=e,Z3}var J3,jre;function a1e(){if(jre)return J3;jre=1;var n=TU(),e=Gf(),t=Gs();function i(r,s,o,a,l,c,u,d,h){var f=h||1/0,p=0;return m;function m(x){return x===60?(r.enter(a),r.enter(l),r.enter(c),r.consume(x),r.exit(c),v):n(x)||x===41?o(x):(r.enter(a),r.enter(u),r.enter(d),r.enter("chunkString",{contentType:"string"}),w(x))}function v(x){return x===62?(r.enter(c),r.consume(x),r.exit(c),r.exit(l),r.exit(a),s):(r.enter(d),r.enter("chunkString",{contentType:"string"}),C(x))}function C(x){return x===62?(r.exit("chunkString"),r.exit(d),v(x)):x===null||x===60||t(x)?o(x):(r.consume(x),x===92?y:C)}function y(x){return x===60||x===62||x===92?(r.consume(x),C):C(x)}function w(x){return x===40?++p>f?o(x):(r.consume(x),w):x===41?p--?(r.consume(x),w):(r.exit("chunkString"),r.exit(d),r.exit(u),r.exit(a),s(x)):x===null||e(x)?p?o(x):(r.exit("chunkString"),r.exit(d),r.exit(u),r.exit(a),s(x)):n(x)?o(x):(r.consume(x),x===92?_:w)}function _(x){return x===40||x===41||x===92?(r.consume(x),w):w(x)}}return J3=i,J3}var eB,Ure;function l1e(){if(Ure)return eB;Ure=1;var n=Gs(),e=Uf();function t(i,r,s,o,a,l){var c=this,u=0,d;return h;function h(v){return i.enter(o),i.enter(a),i.consume(v),i.exit(a),i.enter(l),f}function f(v){return v===null||v===91||v===93&&!d||v===94&&!u&&"_hiddenFootnoteSupport"in c.parser.constructs||u>999?s(v):v===93?(i.exit(l),i.enter(a),i.consume(v),i.exit(a),i.exit(o),r):n(v)?(i.enter("lineEnding"),i.consume(v),i.exit("lineEnding"),f):(i.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||n(v)||u++>999?(i.exit("chunkString"),f(v)):(i.consume(v),d=d||!e(v),v===92?m:p)}function m(v){return v===91||v===92||v===93?(i.consume(v),u++,p):p(v)}}return eB=t,eB}var tB,qre;function c1e(){if(qre)return tB;qre=1;var n=Gs(),e=Uf(),t=ro();function i(r,s){var o;return a;function a(l){return n(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o=!0,a):e(l)?t(r,a,o?"linePrefix":"lineSuffix")(l):s(l)}}return tB=i,tB}var nB,Gre;function u1e(){if(Gre)return nB;Gre=1;var n=Gs(),e=ro();function t(i,r,s,o,a,l){var c;return u;function u(m){return i.enter(o),i.enter(a),i.consume(m),i.exit(a),c=m===40?41:m,d}function d(m){return m===c?(i.enter(a),i.consume(m),i.exit(a),i.exit(o),r):(i.enter(l),h(m))}function h(m){return m===c?(i.exit(l),d(c)):m===null?s(m):n(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),e(i,h,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===c||m===null||n(m)?(i.exit("chunkString"),h(m)):(i.consume(m),m===92?p:f)}function p(m){return m===c||m===92?(i.consume(m),f):f(m)}}return nB=t,nB}var iB,Kre;function fYe(){if(Kre)return iB;Kre=1;var n=Gs(),e=Gf(),t=xU(),i=a1e(),r=l1e(),s=ro(),o=c1e(),a=u1e(),l={name:"definition",tokenize:u},c={tokenize:d,partial:!0};function u(h,f,p){var m=this,v;return C;function C(_){return h.enter("definition"),r.call(m,h,y,p,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function y(_){return v=t(m.sliceSerialize(m.events[m.events.length-1][1]).slice(1,-1)),_===58?(h.enter("definitionMarker"),h.consume(_),h.exit("definitionMarker"),o(h,i(h,h.attempt(c,s(h,w,"whitespace"),s(h,w,"whitespace")),p,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):p(_)}function w(_){return _===null||n(_)?(h.exit("definition"),m.parser.defined.indexOf(v)<0&&m.parser.defined.push(v),f(_)):p(_)}}function d(h,f,p){return m;function m(y){return e(y)?o(h,v)(y):p(y)}function v(y){return y===34||y===39||y===40?a(h,s(h,C,"whitespace"),p,"definitionTitle","definitionTitleMarker","definitionTitleString")(y):p(y)}function C(y){return y===null||n(y)?f(y):p(y)}}return iB=l,iB}var rB,Qre;function gYe(){if(Qre)return rB;Qre=1;var n=Gs(),e={name:"hardBreakEscape",tokenize:t};function t(i,r,s){return o;function o(l){return i.enter("hardBreakEscape"),i.enter("escapeMarker"),i.consume(l),a}function a(l){return n(l)?(i.exit("escapeMarker"),i.exit("hardBreakEscape"),r(l)):s(l)}}return rB=e,rB}var sB,Yre;function pYe(){if(Yre)return sB;Yre=1;var n=Gs(),e=Gf(),t=Uf(),i=qf(),r=ro(),s={name:"headingAtx",tokenize:a,resolve:o};function o(l,c){var u=l.length-2,d=3,h,f;return l[d][1].type==="whitespace"&&(d+=2),u-2>d&&l[u][1].type==="whitespace"&&(u-=2),l[u][1].type==="atxHeadingSequence"&&(d===u-1||u-4>d&&l[u-2][1].type==="whitespace")&&(u-=d+1===u?2:4),u>d&&(h={type:"atxHeadingText",start:l[d][1].start,end:l[u][1].end},f={type:"chunkText",start:l[d][1].start,end:l[u][1].end,contentType:"text"},i(l,d,u-d+1,[["enter",h,c],["enter",f,c],["exit",f,c],["exit",h,c]])),l}function a(l,c,u){var d=this,h=0;return f;function f(y){return l.enter("atxHeading"),l.enter("atxHeadingSequence"),p(y)}function p(y){return y===35&&h++<6?(l.consume(y),p):y===null||e(y)?(l.exit("atxHeadingSequence"),d.interrupt?c(y):m(y)):u(y)}function m(y){return y===35?(l.enter("atxHeadingSequence"),v(y)):y===null||n(y)?(l.exit("atxHeading"),c(y)):t(y)?r(l,m,"whitespace")(y):(l.enter("atxHeadingText"),C(y))}function v(y){return y===35?(l.consume(y),v):(l.exit("atxHeadingSequence"),m(y))}function C(y){return y===null||y===35||e(y)?(l.exit("atxHeadingText"),m(y)):(l.consume(y),C)}}return sB=s,sB}var oB,Xre;function mYe(){if(Xre)return oB;Xre=1;var n=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];return oB=n,oB}var aB,Zre;function bYe(){if(Zre)return aB;Zre=1;var n=["pre","script","style","textarea"];return aB=n,aB}var lB,Jre;function vYe(){if(Jre)return lB;Jre=1;var n=cA(),e=dL(),t=Gs(),i=Gf(),r=Uf(),s=oA(),o=mYe(),a=bYe(),l=aA(),c={name:"htmlFlow",tokenize:h,resolveTo:d,concrete:!0},u={tokenize:f,partial:!0};function d(p){for(var m=p.length;m--&&!(p[m][0]==="enter"&&p[m][1].type==="htmlFlow"););return m>1&&p[m-2][1].type==="linePrefix"&&(p[m][1].start=p[m-2][1].start,p[m+1][1].start=p[m-2][1].start,p.splice(m-2,2)),p}function h(p,m,v){var C=this,y,w,_,x,k;return D;function D(ie){return p.enter("htmlFlow"),p.enter("htmlFlowData"),p.consume(ie),T}function T(ie){return ie===33?(p.consume(ie),L):ie===47?(p.consume(ie),N):ie===63?(p.consume(ie),y=3,C.interrupt?m:me):n(ie)?(p.consume(ie),_=s(ie),w=!0,O):v(ie)}function L(ie){return ie===45?(p.consume(ie),y=2,I):ie===91?(p.consume(ie),y=5,_="CDATA[",x=0,R):n(ie)?(p.consume(ie),y=4,C.interrupt?m:me):v(ie)}function I(ie){return ie===45?(p.consume(ie),C.interrupt?m:me):v(ie)}function R(ie){return ie===_.charCodeAt(x++)?(p.consume(ie),x===_.length?C.interrupt?m:J:R):v(ie)}function N(ie){return n(ie)?(p.consume(ie),_=s(ie),O):v(ie)}function O(ie){return ie===null||ie===47||ie===62||i(ie)?ie!==47&&w&&a.indexOf(_.toLowerCase())>-1?(y=1,C.interrupt?m(ie):J(ie)):o.indexOf(_.toLowerCase())>-1?(y=6,ie===47?(p.consume(ie),F):C.interrupt?m(ie):J(ie)):(y=7,C.interrupt?v(ie):w?H(ie):A(ie)):ie===45||e(ie)?(p.consume(ie),_+=s(ie),O):v(ie)}function F(ie){return ie===62?(p.consume(ie),C.interrupt?m:J):v(ie)}function A(ie){return r(ie)?(p.consume(ie),A):Q(ie)}function H(ie){return ie===47?(p.consume(ie),Q):ie===58||ie===95||n(ie)?(p.consume(ie),W):r(ie)?(p.consume(ie),H):Q(ie)}function W(ie){return ie===45||ie===46||ie===58||ie===95||e(ie)?(p.consume(ie),W):$(ie)}function $(ie){return ie===61?(p.consume(ie),U):r(ie)?(p.consume(ie),$):H(ie)}function U(ie){return ie===null||ie===60||ie===61||ie===62||ie===96?v(ie):ie===34||ie===39?(p.consume(ie),k=ie,z):r(ie)?(p.consume(ie),U):(k=void 0,K(ie))}function z(ie){return ie===k?(p.consume(ie),Z):ie===null||t(ie)?v(ie):(p.consume(ie),z)}function K(ie){return ie===null||ie===34||ie===39||ie===60||ie===61||ie===62||ie===96||i(ie)?$(ie):(p.consume(ie),K)}function Z(ie){return ie===47||ie===62||r(ie)?H(ie):v(ie)}function Q(ie){return ie===62?(p.consume(ie),G):v(ie)}function G(ie){return r(ie)?(p.consume(ie),G):ie===null||t(ie)?J(ie):v(ie)}function J(ie){return ie===45&&y===2?(p.consume(ie),se):ie===60&&y===1?(p.consume(ie),X):ie===62&&y===4?(p.consume(ie),ye):ie===63&&y===3?(p.consume(ie),me):ie===93&&y===5?(p.consume(ie),ve):t(ie)&&(y===6||y===7)?p.check(u,ye,ne)(ie):ie===null||t(ie)?ne(ie):(p.consume(ie),J)}function ne(ie){return p.exit("htmlFlowData"),ae(ie)}function ae(ie){return ie===null?Le(ie):t(ie)?(p.enter("lineEnding"),p.consume(ie),p.exit("lineEnding"),ae):(p.enter("htmlFlowData"),J(ie))}function se(ie){return ie===45?(p.consume(ie),me):J(ie)}function X(ie){return ie===47?(p.consume(ie),_="",oe):J(ie)}function oe(ie){return ie===62&&a.indexOf(_.toLowerCase())>-1?(p.consume(ie),ye):n(ie)&&_.length<8?(p.consume(ie),_+=s(ie),oe):J(ie)}function ve(ie){return ie===93?(p.consume(ie),me):J(ie)}function me(ie){return ie===62?(p.consume(ie),ye):J(ie)}function ye(ie){return ie===null||t(ie)?(p.exit("htmlFlowData"),Le(ie)):(p.consume(ie),ye)}function Le(ie){return p.exit("htmlFlow"),m(ie)}}function f(p,m,v){return C;function C(y){return p.exit("htmlFlowData"),p.enter("lineEndingBlank"),p.consume(y),p.exit("lineEndingBlank"),p.attempt(l,m,v)}}return lB=c,lB}var cB,ese;function yYe(){if(ese)return cB;ese=1;var n=cA(),e=dL(),t=Gs(),i=Gf(),r=Uf(),s=ro(),o={name:"htmlText",tokenize:a};function a(l,c,u){var d=this,h,f,p,m;return v;function v(X){return l.enter("htmlText"),l.enter("htmlTextData"),l.consume(X),C}function C(X){return X===33?(l.consume(X),y):X===47?(l.consume(X),A):X===63?(l.consume(X),O):n(X)?(l.consume(X),$):u(X)}function y(X){return X===45?(l.consume(X),w):X===91?(l.consume(X),f="CDATA[",p=0,T):n(X)?(l.consume(X),N):u(X)}function w(X){return X===45?(l.consume(X),_):u(X)}function _(X){return X===null||X===62?u(X):X===45?(l.consume(X),x):k(X)}function x(X){return X===null||X===62?u(X):k(X)}function k(X){return X===null?u(X):X===45?(l.consume(X),D):t(X)?(m=k,ne(X)):(l.consume(X),k)}function D(X){return X===45?(l.consume(X),se):k(X)}function T(X){return X===f.charCodeAt(p++)?(l.consume(X),p===f.length?L:T):u(X)}function L(X){return X===null?u(X):X===93?(l.consume(X),I):t(X)?(m=L,ne(X)):(l.consume(X),L)}function I(X){return X===93?(l.consume(X),R):L(X)}function R(X){return X===62?se(X):X===93?(l.consume(X),R):L(X)}function N(X){return X===null||X===62?se(X):t(X)?(m=N,ne(X)):(l.consume(X),N)}function O(X){return X===null?u(X):X===63?(l.consume(X),F):t(X)?(m=O,ne(X)):(l.consume(X),O)}function F(X){return X===62?se(X):O(X)}function A(X){return n(X)?(l.consume(X),H):u(X)}function H(X){return X===45||e(X)?(l.consume(X),H):W(X)}function W(X){return t(X)?(m=W,ne(X)):r(X)?(l.consume(X),W):se(X)}function $(X){return X===45||e(X)?(l.consume(X),$):X===47||X===62||i(X)?U(X):u(X)}function U(X){return X===47?(l.consume(X),se):X===58||X===95||n(X)?(l.consume(X),z):t(X)?(m=U,ne(X)):r(X)?(l.consume(X),U):se(X)}function z(X){return X===45||X===46||X===58||X===95||e(X)?(l.consume(X),z):K(X)}function K(X){return X===61?(l.consume(X),Z):t(X)?(m=K,ne(X)):r(X)?(l.consume(X),K):U(X)}function Z(X){return X===null||X===60||X===61||X===62||X===96?u(X):X===34||X===39?(l.consume(X),h=X,Q):t(X)?(m=Z,ne(X)):r(X)?(l.consume(X),Z):(l.consume(X),h=void 0,J)}function Q(X){return X===h?(l.consume(X),G):X===null?u(X):t(X)?(m=Q,ne(X)):(l.consume(X),Q)}function G(X){return X===62||X===47||i(X)?U(X):u(X)}function J(X){return X===null||X===34||X===39||X===60||X===61||X===96?u(X):X===62||i(X)?U(X):(l.consume(X),J)}function ne(X){return l.exit("htmlTextData"),l.enter("lineEnding"),l.consume(X),l.exit("lineEnding"),s(l,ae,"linePrefix",d.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function ae(X){return l.enter("htmlTextData"),m(X)}function se(X){return X===62?(l.consume(X),l.exit("htmlTextData"),l.exit("htmlText"),c):u(X)}}return cB=o,cB}var uB,tse;function IU(){if(tse)return uB;tse=1;var n=Gf(),e=LU(),t=qf(),i=xU(),r=lA(),s=Fv(),o=a1e(),a=l1e(),l=u1e(),c=c1e(),u={name:"labelEnd",tokenize:v,resolveTo:m,resolveAll:p},d={tokenize:C},h={tokenize:y},f={tokenize:w};function p(_){for(var x=-1,k;++x<_.length;)k=_[x][1],!k._used&&(k.type==="labelImage"||k.type==="labelLink"||k.type==="labelEnd")&&(_.splice(x+1,k.type==="labelImage"?4:2),k.type="data",x++);return _}function m(_,x){for(var k=_.length,D=0,T,L,I,R,N,O,F;k--;)if(R=_[k][1],N){if(R.type==="link"||R.type==="labelLink"&&R._inactive)break;_[k][0]==="enter"&&R.type==="labelLink"&&(R._inactive=!0)}else if(O){if(_[k][0]==="enter"&&(R.type==="labelImage"||R.type==="labelLink")&&!R._balanced&&(N=k,R.type!=="labelLink")){D=2;break}}else R.type==="labelEnd"&&(O=k);return T={type:_[N][1].type==="labelLink"?"link":"image",start:s(_[N][1].start),end:s(_[_.length-1][1].end)},L={type:"label",start:s(_[N][1].start),end:s(_[O][1].end)},I={type:"labelText",start:s(_[N+D+2][1].end),end:s(_[O-2][1].start)},F=[["enter",T,x],["enter",L,x]],F=e(F,_.slice(N+1,N+D+3)),F=e(F,[["enter",I,x]]),F=e(F,r(x.parser.constructs.insideSpan.null,_.slice(N+D+4,O-3),x)),F=e(F,[["exit",I,x],_[O-2],_[O-1],["exit",L,x]]),F=e(F,_.slice(O+1)),F=e(F,[["exit",T,x]]),t(_,N,_.length,F),_}function v(_,x,k){for(var D=this,T=D.events.length,L,I;T--;)if((D.events[T][1].type==="labelImage"||D.events[T][1].type==="labelLink")&&!D.events[T][1]._balanced){L=D.events[T][1];break}return R;function R(F){return L?L._inactive?O(F):(I=D.parser.defined.indexOf(i(D.sliceSerialize({start:L.end,end:D.now()})))>-1,_.enter("labelEnd"),_.enter("labelMarker"),_.consume(F),_.exit("labelMarker"),_.exit("labelEnd"),N):k(F)}function N(F){return F===40?_.attempt(d,x,I?x:O)(F):F===91?_.attempt(h,x,I?_.attempt(f,x,O):O)(F):I?x(F):O(F)}function O(F){return L._balanced=!0,k(F)}}function C(_,x,k){return D;function D(N){return _.enter("resource"),_.enter("resourceMarker"),_.consume(N),_.exit("resourceMarker"),c(_,T)}function T(N){return N===41?R(N):o(_,L,k,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(N)}function L(N){return n(N)?c(_,I)(N):R(N)}function I(N){return N===34||N===39||N===40?l(_,c(_,R),k,"resourceTitle","resourceTitleMarker","resourceTitleString")(N):R(N)}function R(N){return N===41?(_.enter("resourceMarker"),_.consume(N),_.exit("resourceMarker"),_.exit("resource"),x):k(N)}}function y(_,x,k){var D=this;return T;function T(I){return a.call(D,_,L,k,"reference","referenceMarker","referenceString")(I)}function L(I){return D.parser.defined.indexOf(i(D.sliceSerialize(D.events[D.events.length-1][1]).slice(1,-1)))<0?k(I):x(I)}}function w(_,x,k){return D;function D(L){return _.enter("reference"),_.enter("referenceMarker"),_.consume(L),_.exit("referenceMarker"),T}function T(L){return L===93?(_.enter("referenceMarker"),_.consume(L),_.exit("referenceMarker"),_.exit("reference"),x):k(L)}}return uB=u,uB}var dB,nse;function CYe(){if(nse)return dB;nse=1;var n=IU(),e={name:"labelStartImage",tokenize:t,resolveAll:n.resolveAll};function t(i,r,s){var o=this;return a;function a(u){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(u),i.exit("labelImageMarker"),l}function l(u){return u===91?(i.enter("labelMarker"),i.consume(u),i.exit("labelMarker"),i.exit("labelImage"),c):s(u)}function c(u){return u===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(u):r(u)}}return dB=e,dB}var hB,ise;function _Ye(){if(ise)return hB;ise=1;var n=IU(),e={name:"labelStartLink",tokenize:t,resolveAll:n.resolveAll};function t(i,r,s){var o=this;return a;function a(c){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(c),i.exit("labelMarker"),i.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(c):r(c)}}return hB=e,hB}var fB,rse;function wYe(){if(rse)return fB;rse=1;var n=ro(),e={name:"lineEnding",tokenize:t};function t(i,r){return s;function s(o){return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),n(i,r,"linePrefix")}}return fB=e,fB}var gB,sse;function d1e(){if(sse)return gB;sse=1;var n=Gs(),e=Uf(),t=ro(),i={name:"thematicBreak",tokenize:r};function r(s,o,a){var l=0,c;return u;function u(f){return s.enter("thematicBreak"),c=f,d(f)}function d(f){return f===c?(s.enter("thematicBreakSequence"),h(f)):e(f)?t(s,d,"whitespace")(f):l<3||f!==null&&!n(f)?a(f):(s.exit("thematicBreak"),o(f))}function h(f){return f===c?(s.consume(f),l++,h):(s.exit("thematicBreakSequence"),d(f))}}return gB=i,gB}var pB,ose;function SYe(){if(ose)return pB;ose=1;var n=o1e(),e=Uf(),t=uL(),i=e1e(),r=ro(),s=aA(),o=d1e(),a={name:"list",tokenize:u,continuation:{tokenize:d},exit:f},l={tokenize:p,partial:!0},c={tokenize:h,partial:!0};function u(m,v,C){var y=this,w=t(y.events,"linePrefix"),_=0;return x;function x(R){var N=y.containerState.type||(R===42||R===43||R===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!y.containerState.marker||R===y.containerState.marker:n(R)){if(y.containerState.type||(y.containerState.type=N,m.enter(N,{_container:!0})),N==="listUnordered")return m.enter("listItemPrefix"),R===42||R===45?m.check(o,C,D)(R):D(R);if(!y.interrupt||R===49)return m.enter("listItemPrefix"),m.enter("listItemValue"),k(R)}return C(R)}function k(R){return n(R)&&++_<10?(m.consume(R),k):(!y.interrupt||_<2)&&(y.containerState.marker?R===y.containerState.marker:R===41||R===46)?(m.exit("listItemValue"),D(R)):C(R)}function D(R){return m.enter("listItemMarker"),m.consume(R),m.exit("listItemMarker"),y.containerState.marker=y.containerState.marker||R,m.check(s,y.interrupt?C:T,m.attempt(l,I,L))}function T(R){return y.containerState.initialBlankLine=!0,w++,I(R)}function L(R){return e(R)?(m.enter("listItemPrefixWhitespace"),m.consume(R),m.exit("listItemPrefixWhitespace"),I):C(R)}function I(R){return y.containerState.size=w+i(y.sliceStream(m.exit("listItemPrefix"))),v(R)}}function d(m,v,C){var y=this;return y.containerState._closeFlow=void 0,m.check(s,w,_);function w(k){return y.containerState.furtherBlankLines=y.containerState.furtherBlankLines||y.containerState.initialBlankLine,r(m,v,"listItemIndent",y.containerState.size+1)(k)}function _(k){return y.containerState.furtherBlankLines||!e(k)?(y.containerState.furtherBlankLines=y.containerState.initialBlankLine=void 0,x(k)):(y.containerState.furtherBlankLines=y.containerState.initialBlankLine=void 0,m.attempt(c,v,x)(k))}function x(k){return y.containerState._closeFlow=!0,y.interrupt=void 0,r(m,m.attempt(a,v,C),"linePrefix",y.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(k)}}function h(m,v,C){var y=this;return r(m,w,"listItemIndent",y.containerState.size+1);function w(_){return t(y.events,"listItemIndent")===y.containerState.size?v(_):C(_)}}function f(m){m.exit(this.containerState.type)}function p(m,v,C){var y=this;return r(m,w,"listItemPrefixWhitespace",y.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5);function w(_){return e(_)||!t(y.events,"listItemPrefixWhitespace")?C(_):v(_)}}return pB=a,pB}var mB,ase;function xYe(){if(ase)return mB;ase=1;var n=Gs(),e=Fv(),t=ro(),i={name:"setextUnderline",tokenize:s,resolveTo:r};function r(o,a){for(var l=o.length,c,u,d,h;l--;)if(o[l][0]==="enter"){if(o[l][1].type==="content"){c=l;break}o[l][1].type==="paragraph"&&(u=l)}else o[l][1].type==="content"&&o.splice(l,1),!d&&o[l][1].type==="definition"&&(d=l);return h={type:"setextHeading",start:e(o[u][1].start),end:e(o[o.length-1][1].end)},o[u][1].type="setextHeadingText",d?(o.splice(u,0,["enter",h,a]),o.splice(d+1,0,["exit",o[c][1],a]),o[c][1].end=e(o[d][1].end)):o[c][1]=h,o.push(["exit",h,a]),o}function s(o,a,l){for(var c=this,u=c.events.length,d,h;u--;)if(c.events[u][1].type!=="lineEnding"&&c.events[u][1].type!=="linePrefix"&&c.events[u][1].type!=="content"){h=c.events[u][1].type==="paragraph";break}return f;function f(v){return!c.lazy&&(c.interrupt||h)?(o.enter("setextHeadingLine"),o.enter("setextHeadingLineSequence"),d=v,p(v)):l(v)}function p(v){return v===d?(o.consume(v),p):(o.exit("setextHeadingLineSequence"),t(o,m,"lineSuffix")(v))}function m(v){return v===null||n(v)?(o.exit("setextHeadingLine"),a(v)):l(v)}}return mB=i,mB}var lse;function kYe(){if(lse)return ru;lse=1,Object.defineProperty(ru,"__esModule",{value:!0});var n=n1e(),e=nYe(),t=rYe(),i=sYe(),r=aYe(),s=cYe(),o=uYe(),a=dYe(),l=hYe(),c=fYe(),u=gYe(),d=pYe(),h=vYe(),f=yYe(),p=IU(),m=CYe(),v=_Ye(),C=wYe(),y=SYe(),w=xYe(),_=d1e(),x={42:y,43:y,45:y,48:y,49:y,50:y,51:y,52:y,53:y,54:y,55:y,56:y,57:y,62:i},k={91:c},D={"-2":a,"-1":a,32:a},T={35:d,42:_,45:[w,_],60:h,61:w,95:_,96:o,126:o},L={38:s,92:r},I={"-5":C,"-4":C,"-3":C,33:m,38:s,42:e,60:[t,f],91:v,92:[u,r],93:p,95:e,96:l},R={null:[e,n.resolver]},N={null:[]};return ru.contentInitial=k,ru.disable=N,ru.document=x,ru.flow=T,ru.flowInitial=D,ru.insideSpan=R,ru.string=L,ru.text=I,ru}var bB,cse;function LYe(){if(cse)return bB;cse=1;var n=qQe(),e=GQe(),t=YQe(),i=n1e(),r=i1e(),s=JQe(),o=kU(),a=kYe();function l(c){var u=c||{},d={defined:[],constructs:r([a].concat(o(u.extensions))),content:h(n),document:h(e),flow:h(t),string:h(i.string),text:h(i.text)};return d;function h(f){return p;function p(m){return s(d,f,m)}}}return bB=l,bB}var vB,use;function EYe(){if(use)return vB;use=1;var n=/[\0\t\n\r]/g;function e(){var t=!0,i=1,r="",s;return o;function o(a,l,c){var u=[],d,h,f,p,m;for(a=r+a.toString(l),f=0,r="",t&&(a.charCodeAt(0)===65279&&f++,t=void 0);f<a.length;){if(n.lastIndex=f,d=n.exec(a),p=d?d.index:a.length,m=a.charCodeAt(p),!d){r=a.slice(f);break}if(m===10&&f===p&&s)u.push(-3),s=void 0;else if(s&&(u.push(-5),s=void 0),f<p&&(u.push(a.slice(f,p)),i+=p-f),m===0)u.push(65533),i++;else if(m===9)for(h=Math.ceil(i/4)*4,u.push(-2);i++<h;)u.push(-1);else m===10?(u.push(-4),i=1):(s=!0,i=1);f=p+1}return c&&(s&&u.push(-5),r&&u.push(r),u.push(null)),u}}return vB=e,vB}var yB,dse;function DYe(){if(dse)return yB;dse=1;var n=t1e();function e(t){for(;!n(t););return t}return yB=e,yB}var CB,hse;function TYe(){if(hse)return CB;hse=1,CB=u;var n=jQe(),e=cL(),t=Jve(),i=xU(),r=UQe(),s=LYe(),o=EYe(),a=DYe(),l=s1e(),c=Yve();function u(p,m,v){return typeof m!="string"&&(v=m,m=void 0),d(v)(a(s(v).document().write(o()(p,m,!0))))}function d(p){var m=p||{},v=h({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:D(Re),autolinkProtocol:ae,autolinkEmail:ae,atxHeading:D(kt),blockQuote:D(rt),characterEscape:ae,characterReference:ae,codeFenced:D(it),codeFencedFenceInfo:T,codeFencedFenceMeta:T,codeIndented:D(it,T),codeText:D(Xe,T),codeTextData:ae,data:ae,codeFlowValue:ae,definition:D(st),definitionDestinationString:T,definitionLabelString:T,definitionTitleString:T,emphasis:D(Ke),hardBreakEscape:D(Gt),hardBreakTrailing:D(Gt),htmlFlow:D(Dt,T),htmlFlowData:ae,htmlText:D(Dt,T),htmlTextData:ae,image:D(xe),label:T,link:D(Re),listItem:D(Mt),listItemValue:F,listOrdered:D(Et,O),listUnordered:D(Et),paragraph:D(hn),reference:Me,referenceString:T,resourceDestinationString:T,resourceTitleString:T,setextHeading:D(kt),strong:D(en),thematicBreak:D(Qt)},exit:{atxHeading:I(),atxHeadingSequence:Q,autolink:I(),autolinkEmail:gt,autolinkProtocol:Ge,blockQuote:I(),characterEscapeValue:se,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:Ne,codeFenced:I($),codeFencedFence:W,codeFencedFenceInfo:A,codeFencedFenceMeta:H,codeFlowValue:se,codeIndented:I(U),codeText:I(ye),codeTextData:se,data:se,definition:I(),definitionDestinationString:Z,definitionLabelString:z,definitionTitleString:K,emphasis:I(),hardBreakEscape:I(oe),hardBreakTrailing:I(oe),htmlFlow:I(ve),htmlFlowData:se,htmlText:I(me),htmlTextData:se,image:I(ie),label:Ue,labelText:Ee,lineEnding:X,link:I(Le),listItem:I(),listOrdered:I(),listUnordered:I(),paragraph:I(),referenceString:Te,resourceDestinationString:re,resourceTitleString:fe,resource:Ce,setextHeading:I(ne),setextHeadingLineSequence:J,setextHeadingText:G,strong:I(),thematicBreak:I()}},m.mdastExtensions||[]),C={};return y;function y(He){for(var Bt={type:"root",children:[]},fn=[Bt],bn=[],ot=[],le=-1,ue,pe,we={stack:fn,tokenStack:bn,config:v,enter:L,exit:R,buffer:T,resume:N,setData:_,getData:x};++le<He.length;)(He[le][1].type==="listOrdered"||He[le][1].type==="listUnordered")&&(He[le][0]==="enter"?ot.push(le):(pe=ot.pop(le),le=w(He,pe,le)));for(le=-1;++le<He.length;)ue=v[He[le][0]],t.call(ue,He[le][1].type)&&ue[He[le][1].type].call(e({sliceSerialize:He[le][2].sliceSerialize},we),He[le][1]);if(bn.length)throw new Error("Cannot close document, a token (`"+bn[bn.length-1].type+"`, "+c({start:bn[bn.length-1].start,end:bn[bn.length-1].end})+") is still open");for(Bt.position={start:k(He.length?He[0][1].start:{line:1,column:1,offset:0}),end:k(He.length?He[He.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<v.transforms.length;)Bt=v.transforms[le](Bt)||Bt;return Bt}function w(He,Bt,fn){for(var bn=Bt-1,ot=-1,le=!1,ue,pe,we,De,Oe,Qe,Ct;++bn<=fn;)if(Oe=He[bn],Oe[1].type==="listUnordered"||Oe[1].type==="listOrdered"||Oe[1].type==="blockQuote"?(Oe[0]==="enter"?ot++:ot--,Ct=void 0):Oe[1].type==="lineEndingBlank"?Oe[0]==="enter"&&(ue&&!Ct&&!ot&&!Qe&&(Qe=bn),Ct=void 0):Oe[1].type==="linePrefix"||Oe[1].type==="listItemValue"||Oe[1].type==="listItemMarker"||Oe[1].type==="listItemPrefix"||Oe[1].type==="listItemPrefixWhitespace"||(Ct=void 0),!ot&&Oe[0]==="enter"&&Oe[1].type==="listItemPrefix"||ot===-1&&Oe[0]==="exit"&&(Oe[1].type==="listUnordered"||Oe[1].type==="listOrdered")){if(ue){for(pe=bn,we=void 0;pe--;)if(De=He[pe],De[1].type==="lineEnding"||De[1].type==="lineEndingBlank"){if(De[0]==="exit")continue;we&&(He[we][1].type="lineEndingBlank",le=!0),De[1].type="lineEnding",we=pe}else if(!(De[1].type==="linePrefix"||De[1].type==="blockQuotePrefix"||De[1].type==="blockQuotePrefixWhitespace"||De[1].type==="blockQuoteMarker"||De[1].type==="listItemIndent"))break;Qe&&(!we||Qe<we)&&(ue._spread=!0),ue.end=k(we?He[we][1].start:Oe[1].end),He.splice(we||bn,0,["exit",ue,Oe[2]]),bn++,fn++}Oe[1].type==="listItemPrefix"&&(ue={type:"listItem",_spread:!1,start:k(Oe[1].start)},He.splice(bn,0,["enter",ue,Oe[2]]),bn++,fn++,Qe=void 0,Ct=!0)}return He[Bt][1]._spread=le,fn}function _(He,Bt){C[He]=Bt}function x(He){return C[He]}function k(He){return{line:He.line,column:He.column,offset:He.offset}}function D(He,Bt){return fn;function fn(bn){L.call(this,He(bn),bn),Bt&&Bt.call(this,bn)}}function T(){this.stack.push({type:"fragment",children:[]})}function L(He,Bt){return this.stack[this.stack.length-1].children.push(He),this.stack.push(He),this.tokenStack.push(Bt),He.position={start:k(Bt.start)},He}function I(He){return Bt;function Bt(fn){He&&He.call(this,fn),R.call(this,fn)}}function R(He){var Bt=this.stack.pop(),fn=this.tokenStack.pop();if(fn){if(fn.type!==He.type)throw new Error("Cannot close `"+He.type+"` ("+c({start:He.start,end:He.end})+"): a different token (`"+fn.type+"`, "+c({start:fn.start,end:fn.end})+") is open")}else throw new Error("Cannot close `"+He.type+"` ("+c({start:He.start,end:He.end})+"): its not open");return Bt.position.end=k(He.end),Bt}function N(){return n(this.stack.pop())}function O(){_("expectingFirstListItemValue",!0)}function F(He){x("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(He),10),_("expectingFirstListItemValue"))}function A(){var He=this.resume();this.stack[this.stack.length-1].lang=He}function H(){var He=this.resume();this.stack[this.stack.length-1].meta=He}function W(){x("flowCodeInside")||(this.buffer(),_("flowCodeInside",!0))}function $(){var He=this.resume();this.stack[this.stack.length-1].value=He.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),_("flowCodeInside")}function U(){var He=this.resume();this.stack[this.stack.length-1].value=He}function z(He){var Bt=this.resume();this.stack[this.stack.length-1].label=Bt,this.stack[this.stack.length-1].identifier=i(this.sliceSerialize(He)).toLowerCase()}function K(){var He=this.resume();this.stack[this.stack.length-1].title=He}function Z(){var He=this.resume();this.stack[this.stack.length-1].url=He}function Q(He){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(He).length)}function G(){_("setextHeadingSlurpLineEnding",!0)}function J(He){this.stack[this.stack.length-1].depth=this.sliceSerialize(He).charCodeAt(0)===61?1:2}function ne(){_("setextHeadingSlurpLineEnding")}function ae(He){var Bt=this.stack[this.stack.length-1].children,fn=Bt[Bt.length-1];(!fn||fn.type!=="text")&&(fn=fi(),fn.position={start:k(He.start)},this.stack[this.stack.length-1].children.push(fn)),this.stack.push(fn)}function se(He){var Bt=this.stack.pop();Bt.value+=this.sliceSerialize(He),Bt.position.end=k(He.end)}function X(He){var Bt=this.stack[this.stack.length-1];if(x("atHardBreak")){Bt.children[Bt.children.length-1].position.end=k(He.end),_("atHardBreak");return}!x("setextHeadingSlurpLineEnding")&&v.canContainEols.indexOf(Bt.type)>-1&&(ae.call(this,He),se.call(this,He))}function oe(){_("atHardBreak",!0)}function ve(){var He=this.resume();this.stack[this.stack.length-1].value=He}function me(){var He=this.resume();this.stack[this.stack.length-1].value=He}function ye(){var He=this.resume();this.stack[this.stack.length-1].value=He}function Le(){var He=this.stack[this.stack.length-1];x("inReference")?(He.type+="Reference",He.referenceType=x("referenceType")||"shortcut",delete He.url,delete He.title):(delete He.identifier,delete He.label,delete He.referenceType),_("referenceType")}function ie(){var He=this.stack[this.stack.length-1];x("inReference")?(He.type+="Reference",He.referenceType=x("referenceType")||"shortcut",delete He.url,delete He.title):(delete He.identifier,delete He.label,delete He.referenceType),_("referenceType")}function Ee(He){this.stack[this.stack.length-2].identifier=i(this.sliceSerialize(He)).toLowerCase()}function Ue(){var He=this.stack[this.stack.length-1],Bt=this.resume();this.stack[this.stack.length-1].label=Bt,_("inReference",!0),this.stack[this.stack.length-1].type==="link"?this.stack[this.stack.length-1].children=He.children:this.stack[this.stack.length-1].alt=Bt}function re(){var He=this.resume();this.stack[this.stack.length-1].url=He}function fe(){var He=this.resume();this.stack[this.stack.length-1].title=He}function Ce(){_("inReference")}function Me(){_("referenceType","collapsed")}function Te(He){var Bt=this.resume();this.stack[this.stack.length-1].label=Bt,this.stack[this.stack.length-1].identifier=i(this.sliceSerialize(He)).toLowerCase(),_("referenceType","full")}function Ae(He){_("characterReferenceType",He.type)}function Ne(He){var Bt=this.sliceSerialize(He),fn=x("characterReferenceType"),bn,ot;fn?(bn=r(Bt,fn==="characterReferenceMarkerNumeric"?10:16),_("characterReferenceType")):bn=l(Bt),ot=this.stack.pop(),ot.value+=bn,ot.position.end=k(He.end)}function Ge(He){se.call(this,He),this.stack[this.stack.length-1].url=this.sliceSerialize(He)}function gt(He){se.call(this,He),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(He)}function rt(){return{type:"blockquote",children:[]}}function it(){return{type:"code",lang:null,meta:null,value:""}}function Xe(){return{type:"inlineCode",value:""}}function st(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ke(){return{type:"emphasis",children:[]}}function kt(){return{type:"heading",depth:void 0,children:[]}}function Gt(){return{type:"break"}}function Dt(){return{type:"html",value:""}}function xe(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function Et(He){return{type:"list",ordered:He.type==="listOrdered",start:null,spread:He._spread,children:[]}}function Mt(He){return{type:"listItem",spread:He._spread,checked:null,children:[]}}function hn(){return{type:"paragraph",children:[]}}function en(){return{type:"strong",children:[]}}function fi(){return{type:"text",value:""}}function Qt(){return{type:"thematicBreak"}}}function h(p,m){for(var v=-1;++v<m.length;)f(p,m[v]);return p}function f(p,m){var v,C;for(v in m)C=t.call(p,v)?p[v]:p[v]={},v==="canContainEols"||v==="transforms"?p[v]=[].concat(C,m[v]):Object.assign(C,m[v])}return CB}var _B,fse;function IYe(){return fse||(fse=1,_B=TYe()),_B}var wB,gse;function MYe(){if(gse)return wB;gse=1,wB=e;var n=IYe();function e(t){var i=this;this.Parser=r;function r(s){return n(s,Object.assign({},i.data("settings"),t,{extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]}))}}return wB}var SB,pse;function Qc(){if(pse)return SB;pse=1,SB=n;function n(e,t,i){var r;return i==null&&(typeof t!="object"||Array.isArray(t))&&(i=t,t={}),r=Object.assign({type:String(e)},t),Array.isArray(i)?r.children=i:i!=null&&(r.value=String(i)),r}return SB}var xB,mse;function h1e(){if(mse)return xB;mse=1,xB=n;function n(s){if(s==null)return r;if(typeof s=="string")return i(s);if(typeof s=="object")return"length"in s?t(s):e(s);if(typeof s=="function")return s;throw new Error("Expected function, string, or object as test")}function e(s){return o;function o(a){var l;for(l in s)if(a[l]!==s[l])return!1;return!0}}function t(s){for(var o=[],a=-1;++a<s.length;)o[a]=n(s[a]);return l;function l(){for(var c=-1;++c<o.length;)if(o[c].apply(this,arguments))return!0;return!1}}function i(s){return o;function o(a){return!!(a&&a.type===s)}}function r(){return!0}return xB}var kB,bse;function RYe(){if(bse)return kB;bse=1,kB=n;function n(e){return e}return kB}var LB,vse;function f1e(){if(vse)return LB;vse=1,LB=s;var n=h1e(),e=RYe(),t=!0,i="skip",r=!1;s.CONTINUE=t,s.SKIP=i,s.EXIT=r;function s(a,l,c,u){var d,h;typeof l=="function"&&typeof c!="function"&&(u=c,c=l,l=null),h=n(l),d=u?-1:1,f(a,null,[])();function f(p,m,v){var C=typeof p=="object"&&p!==null?p:{},y;return typeof C.type=="string"&&(y=typeof C.tagName=="string"?C.tagName:typeof C.name=="string"?C.name:void 0,w.displayName="node ("+e(C.type+(y?"<"+y+">":""))+")"),w;function w(){var _=v.concat(p),x=[],k,D;if((!l||h(p,m,v[v.length-1]||null))&&(x=o(c(p,v)),x[0]===r))return x;if(p.children&&x[0]!==i)for(D=(u?p.children.length:-1)+d;D>-1&&D<p.children.length;){if(k=f(p.children[D],D,_)(),k[0]===r)return k;D=typeof k[1]=="number"?k[1]:D+d}return x}}}function o(a){return a!==null&&typeof a=="object"&&"length"in a?a:typeof a=="number"?[t,a]:[a]}return LB}var EB,yse;function MU(){if(yse)return EB;yse=1,EB=r;var n=f1e(),e=n.CONTINUE,t=n.SKIP,i=n.EXIT;r.CONTINUE=e,r.SKIP=t,r.EXIT=i;function r(s,o,a,l){typeof o=="function"&&typeof a!="function"&&(l=a,a=o,o=null),n(s,o,c,l);function c(u,d){var h=d[d.length-1],f=h?h.children.indexOf(u):null;return a(u,f,h)}}return EB}var DB,Cse;function g1e(){if(Cse)return DB;Cse=1;var n=i("start"),e=i("end");DB=t,t.start=n,t.end=e;function t(r){return{start:n(r),end:e(r)}}function i(r){return s.displayName=r,s;function s(o){var a=o&&o.position&&o.position[r]||{};return{line:a.line||null,column:a.column||null,offset:isNaN(a.offset)?null:a.offset}}}return DB}var TB,_se;function NYe(){if(_se)return TB;_se=1,TB=n;function n(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}return TB}var IB,wse;function AYe(){if(wse)return IB;wse=1;var n=MU();IB=t;var e={}.hasOwnProperty;function t(o,a){return r(i(o))}function i(o){var a={};if(!o||!o.type)throw new Error("mdast-util-definitions expected node");return n(o,"definition",l),a;function l(c){var u=s(c.identifier);e.call(a,u)||(a[u]=c)}}function r(o){return a;function a(l){var c=l&&s(l);return c&&e.call(o,c)?o[c]:null}}function s(o){return o.toUpperCase()}return IB}var MB,Sse;function pl(){if(Sse)return MB;Sse=1,MB=e;var n=p1e();function e(t,i){for(var r=i.children||[],s=r.length,o=[],a=-1,l,c;++a<s;)l=n(t,r[a],i),l&&(a&&r[a-1].type==="break"&&(l.value&&(l.value=l.value.replace(/^\s+/,"")),c=l.children&&l.children[0],c&&c.value&&(c.value=c.value.replace(/^\s+/,""))),o=o.concat(l));return o}return MB}var RB,xse;function p1e(){if(xse)return RB;xse=1,RB=r;var n=Qc(),e=pl(),t={}.hasOwnProperty;function i(a,l){return s(l)?a.augment(l,n("text",l.value)):a(l,"div",e(a,l))}function r(a,l,c){var u=l&&l.type,d;if(!u)throw new Error("Expected node, got `"+l+"`");return t.call(a.handlers,u)?d=a.handlers[u]:a.passThrough&&a.passThrough.indexOf(u)>-1?d=o:d=a.unknownHandler,(typeof d=="function"?d:i)(a,l,c)}function s(a){var l=a.data||{};return t.call(l,"hName")||t.call(l,"hProperties")||t.call(l,"hChildren")?!1:"value"in a}function o(a,l){var c;return l.children?(c=Object.assign({},l),c.children=e(a,l),c):l}return RB}var NB,kse;function m1e(){if(kse)return NB;kse=1,NB=n;function n(e,t){return e(t,"hr")}return NB}var AB,Lse;function hL(){if(Lse)return AB;Lse=1,AB=e;var n=Qc();function e(t,i){var r=[],s=-1,o=t.length;for(i&&r.push(n("text",`
`));++s<o;)s&&r.push(n("text",`
`)),r.push(t[s]);return i&&t.length>0&&r.push(n("text",`
`)),r}return AB}var PB,Ese;function b1e(){if(Ese)return PB;Ese=1,PB=t;var n=hL(),e=pl();function t(i,r){var s={},o=r.ordered?"ol":"ul",a,l=-1,c;for(typeof r.start=="number"&&r.start!==1&&(s.start=r.start),a=e(i,r),c=a.length;++l<c;)if(a[l].properties.className&&a[l].properties.className.indexOf("task-list-item")!==-1){s.className=["contains-task-list"];break}return i(r,o,s,n(a,!0))}return PB}var OB,Dse;function PYe(){if(Dse)return OB;Dse=1,OB=i;var n=m1e(),e=b1e(),t=hL();function i(r){for(var s=r.footnoteById,o=r.footnoteOrder,a=o.length,l=-1,c=[],u,d,h,f;++l<a;)u=s[o[l].toUpperCase()],u&&(h=u.children.concat(),f=h[h.length-1],d={type:"link",url:"#fnref-"+u.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:""}]},(!f||f.type!=="paragraph")&&(f={type:"paragraph",children:[]},h.push(f)),f.children.push(d),c.push({type:"listItem",data:{hProperties:{id:"fn-"+u.identifier}},children:h,position:u.position}));return c.length===0?null:r(null,"div",{className:["footnotes"]},t([n(r),e(r,{type:"list",ordered:!0,children:c})],!0))}return OB}var FB,Tse;function OYe(){if(Tse)return FB;Tse=1,FB=t;var n=hL(),e=pl();function t(i,r){return i(r,"blockquote",n(e(i,r),!0))}return FB}var BB,Ise;function FYe(){if(Ise)return BB;Ise=1,BB=e;var n=Qc();function e(t,i){return[t(i,"br"),n("text",`
`)]}return BB}var HB,Mse;function BYe(){if(Mse)return HB;Mse=1,HB=e;var n=Qc();function e(t,i){var r=i.value?i.value+`
`:"",s=i.lang&&i.lang.match(/^[^ \t]+(?=[ \t]|$)/),o={},a;return s&&(o.className=["language-"+s]),a=t(i,"code",o,[n("text",r)]),i.meta&&(a.data={meta:i.meta}),t(i.position,"pre",[a])}return HB}var VB,Rse;function HYe(){if(Rse)return VB;Rse=1,VB=e;var n=pl();function e(t,i){return t(i,"del",n(t,i))}return VB}var zB,Nse;function VYe(){if(Nse)return zB;Nse=1,zB=e;var n=pl();function e(t,i){return t(i,"em",n(t,i))}return zB}var WB,Ase;function v1e(){if(Ase)return WB;Ase=1,WB=e;var n=Qc();function e(t,i){var r=t.footnoteOrder,s=String(i.identifier);return r.indexOf(s)===-1&&r.push(s),t(i.position,"sup",{id:"fnref-"+s},[t(i,"a",{href:"#fn-"+s,className:["footnote-ref"]},[n("text",i.label||s)])])}return WB}var $B,Pse;function zYe(){if(Pse)return $B;Pse=1,$B=e;var n=v1e();function e(t,i){for(var r=t.footnoteById,s=t.footnoteOrder,o=1;o in r;)o++;return o=String(o),s.push(o),r[o]={type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:i.children}],position:i.position},n(t,{type:"footnoteReference",identifier:o,position:i.position})}return $B}var jB,Ose;function WYe(){if(Ose)return jB;Ose=1,jB=e;var n=pl();function e(t,i){return t(i,"h"+i.depth,n(t,i))}return jB}var UB,Fse;function $Ye(){if(Fse)return UB;Fse=1,UB=e;var n=Qc();function e(t,i){return t.dangerous?t.augment(i,n("raw",i.value)):null}return UB}var qB,Bse;function uA(){if(Bse)return qB;Bse=1;var n={};function e(i){var r,s,o=n[i];if(o)return o;for(o=n[i]=[],r=0;r<128;r++)s=String.fromCharCode(r),/^[0-9a-z]$/i.test(s)?o.push(s):o.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<i.length;r++)o[i.charCodeAt(r)]=i[r];return o}function t(i,r,s){var o,a,l,c,u,d="";for(typeof r!="string"&&(s=r,r=t.defaultChars),typeof s>"u"&&(s=!0),u=e(r),o=0,a=i.length;o<a;o++){if(l=i.charCodeAt(o),s&&l===37&&o+2<a&&/^[0-9a-f]{2}$/i.test(i.slice(o+1,o+3))){d+=i.slice(o,o+3),o+=2;continue}if(l<128){d+=u[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&o+1<a&&(c=i.charCodeAt(o+1),c>=56320&&c<=57343)){d+=encodeURIComponent(i[o]+i[o+1]),o++;continue}d+="%EF%BF%BD";continue}d+=encodeURIComponent(i[o])}return d}return t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",qB=t,qB}var GB,Hse;function y1e(){if(Hse)return GB;Hse=1,GB=t;var n=Qc(),e=pl();function t(i,r){var s=r.referenceType,o="]",a,l,c;return s==="collapsed"?o+="[]":s==="full"&&(o+="["+(r.label||r.identifier)+"]"),r.type==="imageReference"?n("text","!["+r.alt+o):(a=e(i,r),l=a[0],l&&l.type==="text"?l.value="["+l.value:a.unshift(n("text","[")),c=a[a.length-1],c&&c.type==="text"?c.value+=o:a.push(n("text",o)),a)}return GB}var KB,Vse;function jYe(){if(Vse)return KB;Vse=1,KB=t;var n=uA(),e=y1e();function t(i,r){var s=i.definition(r.identifier),o;return s?(o={src:n(s.url||""),alt:r.alt},s.title!==null&&s.title!==void 0&&(o.title=s.title),i(r,"img",o)):e(i,r)}return KB}var QB,zse;function UYe(){if(zse)return QB;zse=1;var n=uA();QB=e;function e(t,i){var r={src:n(i.url),alt:i.alt};return i.title!==null&&i.title!==void 0&&(r.title=i.title),t(i,"img",r)}return QB}var YB,Wse;function qYe(){if(Wse)return YB;Wse=1,YB=e;var n=Qc();function e(t,i){var r=i.value.replace(/\r?\n|\r/g," ");return t(i,"code",[n("text",r)])}return YB}var XB,$se;function GYe(){if($se)return XB;$se=1,XB=i;var n=uA(),e=y1e(),t=pl();function i(r,s){var o=r.definition(s.identifier),a;return o?(a={href:n(o.url||"")},o.title!==null&&o.title!==void 0&&(a.title=o.title),r(s,"a",a,t(r,s))):e(r,s)}return XB}var ZB,jse;function KYe(){if(jse)return ZB;jse=1;var n=uA(),e=pl();ZB=t;function t(i,r){var s={href:n(r.url)};return r.title!==null&&r.title!==void 0&&(s.title=r.title),i(r,"a",s,e(i,r))}return ZB}var JB,Use;function QYe(){if(Use)return JB;Use=1,JB=t;var n=Qc(),e=pl();function t(s,o,a){var l=e(s,o),c=l[0],u=a?i(a):r(o),d={},h=[],f,p,m;for(typeof o.checked=="boolean"&&((!c||c.tagName!=="p")&&(c=s(null,"p",[]),l.unshift(c)),c.children.length>0&&c.children.unshift(n("text"," ")),c.children.unshift(s(null,"input",{type:"checkbox",checked:o.checked,disabled:!0})),d.className=["task-list-item"]),f=l.length,p=-1;++p<f;)m=l[p],(u||p!==0||m.tagName!=="p")&&h.push(n("text",`
`)),m.tagName==="p"&&!u?h=h.concat(m.children):h.push(m);return f&&(u||m.tagName!=="p")&&h.push(n("text",`
`)),s(o,"li",d,h)}function i(s){for(var o=s.spread,a=s.children,l=a.length,c=-1;!o&&++c<l;)o=r(a[c]);return o}function r(s){var o=s.spread;return o??s.children.length>1}return JB}var e9,qse;function YYe(){if(qse)return e9;qse=1,e9=e;var n=pl();function e(t,i){return t(i,"p",n(t,i))}return e9}var t9,Gse;function XYe(){if(Gse)return t9;Gse=1,t9=i;var n=Qc(),e=hL(),t=pl();function i(r,s){return r.augment(s,n("root",e(t(r,s))))}return t9}var n9,Kse;function ZYe(){if(Kse)return n9;Kse=1,n9=e;var n=pl();function e(t,i){return t(i,"strong",n(t,i))}return n9}var i9,Qse;function JYe(){if(Qse)return i9;Qse=1,i9=i;var n=g1e(),e=hL(),t=pl();function i(r,s){for(var o=s.children,a=o.length,l=s.align||[],c=l.length,u=[],d,h,f,p,m;a--;){for(h=o[a].children,p=a===0?"th":"td",d=c||h.length,f=[];d--;)m=h[d],f[d]=r(m,p,{align:l[d]},m?t(r,m):[]);u[a]=r(o[a],"tr",e(f,!0))}return r(s,"table",e([r(u[0].position,"thead",e([u[0]],!0))].concat(u[1]?r({start:n.start(u[1]),end:n.end(u[u.length-1])},"tbody",e(u.slice(1),!0)):[]),!0))}return i9}var r9,Yse;function eXe(){if(Yse)return r9;Yse=1,r9=e;var n=Qc();function e(t,i){return t.augment(i,n("text",String(i.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))}return r9}var s9,Xse;function tXe(){if(Xse)return s9;Xse=1,s9={blockquote:OYe(),break:FYe(),code:BYe(),delete:HYe(),emphasis:VYe(),footnoteReference:v1e(),footnote:zYe(),heading:WYe(),html:$Ye(),imageReference:jYe(),image:UYe(),inlineCode:qYe(),linkReference:GYe(),link:KYe(),listItem:QYe(),list:b1e(),paragraph:YYe(),root:XYe(),strong:ZYe(),table:JYe(),text:eXe(),thematicBreak:m1e(),toml:n,yaml:n,definition:n,footnoteDefinition:n};function n(){return null}return s9}var o9,Zse;function nXe(){if(Zse)return o9;Zse=1,o9=d;var n=Qc(),e=MU(),t=g1e(),i=NYe(),r=AYe(),s=p1e(),o=PYe(),a=tXe(),l={}.hasOwnProperty,c=!1;function u(h,f){var p=f||{};p.allowDangerousHTML!==void 0&&!c&&(c=!0,console.warn("mdast-util-to-hast: deprecation: `allowDangerousHTML` is nonstandard, use `allowDangerousHtml` instead"));var m=p.allowDangerousHtml||p.allowDangerousHTML,v={};return y.dangerous=m,y.definition=r(h),y.footnoteById=v,y.footnoteOrder=[],y.augment=C,y.handlers=Object.assign({},a,p.handlers),y.unknownHandler=p.unknownHandler,y.passThrough=p.passThrough,e(h,"footnoteDefinition",w),y;function C(_,x){var k,D;return _&&_.data&&(k=_.data,k.hName&&(x.type!=="element"&&(x={type:"element",tagName:"",properties:{},children:[]}),x.tagName=k.hName),x.type==="element"&&k.hProperties&&(x.properties=Object.assign({},x.properties,k.hProperties)),x.children&&k.hChildren&&(x.children=k.hChildren)),D=_&&_.position?_:{position:_},i(D)||(x.position={start:t.start(D),end:t.end(D)}),x}function y(_,x,k,D){return D==null&&typeof k=="object"&&"length"in k&&(D=k,k={}),C(_,{type:"element",tagName:x,properties:k||{},children:D||[]})}function w(_){var x=String(_.identifier).toUpperCase();l.call(v,x)||(v[x]=_)}}function d(h,f){var p=u(h,f),m=s(p,h),v=o(p);return v&&(m.children=m.children.concat(n("text",`
`),v)),m}return o9}var a9,Jse;function iXe(){return Jse||(Jse=1,a9=nXe()),a9}var l9,eoe;function rXe(){if(eoe)return l9;eoe=1;var n=iXe();l9=e;function e(r,s){return r&&!r.process&&(s=r,r=null),r?t(r,s):i(s)}function t(r,s){return o;function o(a,l,c){r.run(n(a,s),l,u);function u(d){c(d)}}}function i(r){return s;function s(o){return n(o,r)}}return l9}var c9,toe;function sXe(){if(toe)return c9;toe=1,c9=e;var n=Object.prototype.hasOwnProperty;function e(){for(var t={},i=0;i<arguments.length;i++){var r=arguments[i];for(var s in r)n.call(r,s)&&(t[s]=r[s])}return t}return c9}var u9,noe;function C1e(){if(noe)return u9;noe=1,u9=e;var n=e.prototype;n.space=null,n.normal={},n.property={};function e(t,i,r){this.property=t,this.normal=i,r&&(this.space=r)}return u9}var d9,ioe;function _1e(){if(ioe)return d9;ioe=1;var n=sXe(),e=C1e();d9=t;function t(i){for(var r=i.length,s=[],o=[],a=-1,l,c;++a<r;)l=i[a],s.push(l.property),o.push(l.normal),c=l.space;return new e(n.apply(null,s),n.apply(null,o),c)}return d9}var h9,roe;function w1e(){if(roe)return h9;roe=1,h9=n;function n(e){return e.toLowerCase()}return h9}var f9,soe;function S1e(){if(soe)return f9;soe=1,f9=e;var n=e.prototype;n.space=null,n.attribute=null,n.property=null,n.boolean=!1,n.booleanish=!1,n.overloadedBoolean=!1,n.number=!1,n.commaSeparated=!1,n.spaceSeparated=!1,n.commaOrSpaceSeparated=!1,n.mustUseProperty=!1,n.defined=!1;function e(t,i){this.property=t,this.attribute=i}return f9}var Rh={},ooe;function dA(){if(ooe)return Rh;ooe=1;var n=0;Rh.boolean=e(),Rh.booleanish=e(),Rh.overloadedBoolean=e(),Rh.number=e(),Rh.spaceSeparated=e(),Rh.commaSeparated=e(),Rh.commaOrSpaceSeparated=e();function e(){return Math.pow(2,++n)}return Rh}var g9,aoe;function x1e(){if(aoe)return g9;aoe=1;var n=S1e(),e=dA();g9=r,r.prototype=new n,r.prototype.defined=!0;var t=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],i=t.length;function r(o,a,l,c){var u=-1,d;for(s(this,"space",c),n.call(this,o,a);++u<i;)d=t[u],s(this,d,(l&e[d])===e[d])}function s(o,a,l){l&&(o[a]=l)}return g9}var p9,loe;function B0(){if(loe)return p9;loe=1;var n=w1e(),e=C1e(),t=x1e();p9=i;function i(r){var s=r.space,o=r.mustUseProperty||[],a=r.attributes||{},l=r.properties,c=r.transform,u={},d={},h,f;for(h in l)f=new t(h,c(a,h),l[h],s),o.indexOf(h)!==-1&&(f.mustUseProperty=!0),u[h]=f,d[n(h)]=h,d[n(f.attribute)]=h;return new e(u,d,s)}return p9}var m9,coe;function k1e(){if(coe)return m9;coe=1;var n=B0();m9=n({space:"xlink",transform:e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function e(t,i){return"xlink:"+i.slice(5).toLowerCase()}return m9}var b9,uoe;function L1e(){if(uoe)return b9;uoe=1;var n=B0();b9=n({space:"xml",transform:e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function e(t,i){return"xml:"+i.slice(3).toLowerCase()}return b9}var v9,doe;function E1e(){if(doe)return v9;doe=1,v9=n;function n(e,t){return t in e?e[t]:t}return v9}var y9,hoe;function D1e(){if(hoe)return y9;hoe=1;var n=E1e();y9=e;function e(t,i){return n(t,i.toLowerCase())}return y9}var C9,foe;function T1e(){if(foe)return C9;foe=1;var n=B0(),e=D1e();return C9=n({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:e,properties:{xmlns:null,xmlnsXLink:null}}),C9}var _9,goe;function I1e(){if(goe)return _9;goe=1;var n=dA(),e=B0(),t=n.booleanish,i=n.number,r=n.spaceSeparated;_9=e({transform:s,properties:{ariaActiveDescendant:null,ariaAtomic:t,ariaAutoComplete:null,ariaBusy:t,ariaChecked:t,ariaColCount:i,ariaColIndex:i,ariaColSpan:i,ariaControls:r,ariaCurrent:null,ariaDescribedBy:r,ariaDetails:null,ariaDisabled:t,ariaDropEffect:r,ariaErrorMessage:null,ariaExpanded:t,ariaFlowTo:r,ariaGrabbed:t,ariaHasPopup:null,ariaHidden:t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:r,ariaLevel:i,ariaLive:null,ariaModal:t,ariaMultiLine:t,ariaMultiSelectable:t,ariaOrientation:null,ariaOwns:r,ariaPlaceholder:null,ariaPosInSet:i,ariaPressed:t,ariaReadOnly:t,ariaRelevant:null,ariaRequired:t,ariaRoleDescription:r,ariaRowCount:i,ariaRowIndex:i,ariaRowSpan:i,ariaSelected:t,ariaSetSize:i,ariaSort:null,ariaValueMax:i,ariaValueMin:i,ariaValueNow:i,ariaValueText:null,role:null}});function s(o,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}return _9}var w9,poe;function oXe(){if(poe)return w9;poe=1;var n=dA(),e=B0(),t=D1e(),i=n.boolean,r=n.overloadedBoolean,s=n.booleanish,o=n.number,a=n.spaceSeparated,l=n.commaSeparated;return w9=e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:t,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:l,acceptCharset:a,accessKey:a,action:null,allow:null,allowFullScreen:i,allowPaymentRequest:i,allowUserMedia:i,alt:null,as:null,async:i,autoCapitalize:null,autoComplete:a,autoFocus:i,autoPlay:i,capture:i,charSet:null,checked:i,cite:null,className:a,cols:o,colSpan:null,content:null,contentEditable:s,controls:i,controlsList:a,coords:o|l,crossOrigin:null,data:null,dateTime:null,decoding:null,default:i,defer:i,dir:null,dirName:null,disabled:i,download:r,draggable:s,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:i,formTarget:null,headers:a,height:o,hidden:i,high:o,href:null,hrefLang:null,htmlFor:a,httpEquiv:a,id:null,imageSizes:null,imageSrcSet:l,inputMode:null,integrity:null,is:null,isMap:i,itemId:null,itemProp:a,itemRef:a,itemScope:i,itemType:a,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:i,low:o,manifest:null,max:null,maxLength:o,media:null,method:null,min:null,minLength:o,multiple:i,muted:i,name:null,nonce:null,noModule:i,noValidate:i,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:i,optimum:o,pattern:null,ping:a,placeholder:null,playsInline:i,poster:null,preload:null,readOnly:i,referrerPolicy:null,rel:a,required:i,reversed:i,rows:o,rowSpan:o,sandbox:a,scope:null,scoped:i,seamless:i,selected:i,shape:null,size:o,sizes:null,slot:null,span:o,spellCheck:s,src:null,srcDoc:null,srcLang:null,srcSet:l,start:o,step:null,style:null,tabIndex:o,target:null,title:null,translate:null,type:null,typeMustMatch:i,useMap:null,value:s,width:o,wrap:null,align:null,aLink:null,archive:a,axis:null,background:null,bgColor:null,border:o,borderColor:null,bottomMargin:o,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:i,declare:i,event:null,face:null,frame:null,frameBorder:null,hSpace:o,leftMargin:o,link:null,longDesc:null,lowSrc:null,marginHeight:o,marginWidth:o,noResize:i,noHref:i,noShade:i,noWrap:i,object:null,profile:null,prompt:null,rev:null,rightMargin:o,rules:null,scheme:null,scrolling:s,standby:null,summary:null,text:null,topMargin:o,valueType:null,version:null,vAlign:null,vLink:null,vSpace:o,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:i,disableRemotePlayback:i,prefix:null,property:null,results:o,security:null,unselectable:null}}),w9}var S9,moe;function aXe(){if(moe)return S9;moe=1;var n=_1e(),e=k1e(),t=L1e(),i=T1e(),r=I1e(),s=oXe();return S9=n([t,e,i,r,s]),S9}var x9,boe;function lXe(){if(boe)return x9;boe=1;const n=MU();x9=e;function e(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return r=>{n(r,"element",i)};function i(r,s,o){const a=r,l=o;let c;if(t.allowedElements?c=!t.allowedElements.includes(a.tagName):t.disallowedElements&&(c=t.disallowedElements.includes(a.tagName)),!c&&t.allowElement&&typeof s=="number"&&(c=!t.allowElement(a,s,l)),c&&typeof s=="number")return t.unwrapDisallowed&&a.children?l.children.splice(s,1,...a.children):l.children.splice(s,1),s}}return x9}var k9,voe;function cXe(){if(voe)return k9;voe=1;const n=["http","https","mailto","tel"];k9=e;function e(t){const i=(t||"").trim(),r=i.charAt(0);if(r==="#"||r==="/")return i;const s=i.indexOf(":");if(s===-1)return i;let o=-1;for(;++o<n.length;){const a=n[o];if(s===a.length&&i.slice(0,a.length).toLowerCase()===a)return i}return o=i.indexOf("?"),o!==-1&&s>o||(o=i.indexOf("#"),o!==-1&&s>o)?i:"javascript:void(0)"}return k9}var TD={},L9={exports:{}},hr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yoe;function uXe(){if(yoe)return hr;yoe=1;var n=60103,e=60106,t=60107,i=60108,r=60114,s=60109,o=60110,a=60112,l=60113,c=60120,u=60115,d=60116,h=60121,f=60122,p=60117,m=60129,v=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;n=C("react.element"),e=C("react.portal"),t=C("react.fragment"),i=C("react.strict_mode"),r=C("react.profiler"),s=C("react.provider"),o=C("react.context"),a=C("react.forward_ref"),l=C("react.suspense"),c=C("react.suspense_list"),u=C("react.memo"),d=C("react.lazy"),h=C("react.block"),f=C("react.server.block"),p=C("react.fundamental"),m=C("react.debug_trace_mode"),v=C("react.legacy_hidden")}function y(O){if(typeof O=="object"&&O!==null){var F=O.$$typeof;switch(F){case n:switch(O=O.type,O){case t:case r:case i:case l:case c:return O;default:switch(O=O&&O.$$typeof,O){case o:case a:case d:case u:case s:return O;default:return F}}case e:return F}}}var w=s,_=n,x=a,k=t,D=d,T=u,L=e,I=r,R=i,N=l;return hr.ContextConsumer=o,hr.ContextProvider=w,hr.Element=_,hr.ForwardRef=x,hr.Fragment=k,hr.Lazy=D,hr.Memo=T,hr.Portal=L,hr.Profiler=I,hr.StrictMode=R,hr.Suspense=N,hr.isAsyncMode=function(){return!1},hr.isConcurrentMode=function(){return!1},hr.isContextConsumer=function(O){return y(O)===o},hr.isContextProvider=function(O){return y(O)===s},hr.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===n},hr.isForwardRef=function(O){return y(O)===a},hr.isFragment=function(O){return y(O)===t},hr.isLazy=function(O){return y(O)===d},hr.isMemo=function(O){return y(O)===u},hr.isPortal=function(O){return y(O)===e},hr.isProfiler=function(O){return y(O)===r},hr.isStrictMode=function(O){return y(O)===i},hr.isSuspense=function(O){return y(O)===l},hr.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===t||O===r||O===m||O===i||O===l||O===c||O===v||typeof O=="object"&&O!==null&&(O.$$typeof===d||O.$$typeof===u||O.$$typeof===s||O.$$typeof===o||O.$$typeof===a||O.$$typeof===p||O.$$typeof===h||O[0]===f)},hr.typeOf=y,hr}var Coe;function dXe(){return Coe||(Coe=1,L9.exports=uXe()),L9.exports}var E9,_oe;function hXe(){if(_oe)return E9;_oe=1;var n=dA(),e=B0(),t=E1e(),i=n.boolean,r=n.number,s=n.spaceSeparated,o=n.commaSeparated,a=n.commaOrSpaceSeparated;return E9=e({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:t,properties:{about:a,accentHeight:r,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:r,amplitude:r,arabicForm:null,ascent:r,attributeName:null,attributeType:null,azimuth:r,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:r,by:null,calcMode:null,capHeight:r,className:s,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:r,diffuseConstant:r,direction:null,display:null,dur:null,divisor:r,dominantBaseline:null,download:i,dx:null,dy:null,edgeMode:null,editable:null,elevation:r,enableBackground:null,end:null,event:null,exponent:r,externalResourcesRequired:null,fill:null,fillOpacity:r,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:o,g2:o,glyphName:o,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:r,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:r,horizOriginX:r,horizOriginY:r,id:null,ideographic:r,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:r,k:r,k1:r,k2:r,k3:r,k4:r,kernelMatrix:a,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:r,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:r,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:r,overlineThickness:r,paintOrder:null,panose1:null,path:null,pathLength:r,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:s,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:r,pointsAtY:r,pointsAtZ:r,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:a,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:a,rev:a,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:a,requiredFeatures:a,requiredFonts:a,requiredFormats:a,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:r,specularExponent:r,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:r,strikethroughThickness:r,string:null,stroke:null,strokeDashArray:a,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:r,strokeOpacity:r,strokeWidth:null,style:null,surfaceScale:r,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:a,tabIndex:r,tableValues:null,target:null,targetX:r,targetY:r,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:a,to:null,transform:null,u1:null,u2:null,underlinePosition:r,underlineThickness:r,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:r,values:null,vAlphabetic:r,vMathematical:r,vectorEffect:null,vHanging:r,vIdeographic:r,version:null,vertAdvY:r,vertOriginX:r,vertOriginY:r,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:r,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),E9}var D9,woe;function fXe(){if(woe)return D9;woe=1;var n=_1e(),e=k1e(),t=L1e(),i=T1e(),r=I1e(),s=hXe();return D9=n([t,e,i,r,s]),D9}var T9,Soe;function gXe(){if(Soe)return T9;Soe=1;var n=w1e(),e=x1e(),t=S1e(),i="data";T9=a;var r=/^data[-\w.:]+$/i,s=/-[a-z]/g,o=/[A-Z]/g;function a(h,f){var p=n(f),m=f,v=t;return p in h.normal?h.property[h.normal[p]]:(p.length>4&&p.slice(0,4)===i&&r.test(f)&&(f.charAt(4)==="-"?m=l(f):f=c(f),v=e),new v(m,f))}function l(h){var f=h.slice(5).replace(s,d);return i+f.charAt(0).toUpperCase()+f.slice(1)}function c(h){var f=h.slice(4);return s.test(f)?h:(f=f.replace(o,u),f.charAt(0)!=="-"&&(f="-"+f),i+f)}function u(h){return"-"+h.toLowerCase()}function d(h){return h.charAt(1).toUpperCase()}return T9}const pXe="classID",mXe="datatype",bXe="itemID",vXe="strokeDasharray",yXe="strokeDashoffset",CXe="strokeLinecap",_Xe="strokeLinejoin",wXe="strokeMiterlimit",SXe="typeof",xXe="xlinkActuate",kXe="xlinkArcrole",LXe="xlinkHref",EXe="xlinkRole",DXe="xlinkShow",TXe="xlinkTitle",IXe="xlinkType",MXe="xmlnsXlink",RXe={classId:pXe,dataType:mXe,itemId:bXe,strokeDashArray:vXe,strokeDashOffset:yXe,strokeLineCap:CXe,strokeLineJoin:_Xe,strokeMiterLimit:wXe,typeOf:SXe,xLinkActuate:xXe,xLinkArcRole:kXe,xLinkHref:LXe,xLinkRole:EXe,xLinkShow:DXe,xLinkTitle:TXe,xLinkType:IXe,xmlnsXLink:MXe};var ID={},xoe;function NXe(){if(xoe)return ID;xoe=1,ID.parse=i,ID.stringify=r;var n="",e=" ",t=/[ \t\n\r\f]+/g;function i(s){var o=String(s||n).trim();return o===n?[]:o.split(t)}function r(s){return s.join(e).trim()}return ID}var MD={},koe;function AXe(){if(koe)return MD;koe=1,MD.parse=i,MD.stringify=r;var n=",",e=" ",t="";function i(s){for(var o=[],a=String(s||t),l=a.indexOf(n),c=0,u=!1,d;!u;)l===-1&&(l=a.length,u=!0),d=a.slice(c,l).trim(),(d||!u)&&o.push(d),c=l+1,l=a.indexOf(n,c);return o}function r(s,o){var a=o||{},l=a.padLeft===!1?t:e,c=a.padRight?e:t;return s[s.length-1]===t&&(s=s.concat(t)),s.join(c+n+l).trim()}return MD}var I9,Loe;function PXe(){if(Loe)return I9;Loe=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",h="comment",f="declaration";I9=function(m,v){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];v=v||{};var C=1,y=1;function w(O){var F=O.match(e);F&&(C+=F.length);var A=O.lastIndexOf(l);y=~A?O.length-A:y+O.length}function _(){var O={line:C,column:y};return function(F){return F.position=new x(O),T(),F}}function x(O){this.start=O,this.end={line:C,column:y},this.source=v.source}x.prototype.content=m;function k(O){var F=new Error(v.source+":"+C+":"+y+": "+O);if(F.reason=O,F.filename=v.source,F.line=C,F.column=y,F.source=m,!v.silent)throw F}function D(O){var F=O.exec(m);if(F){var A=F[0];return w(A),m=m.slice(A.length),F}}function T(){D(t)}function L(O){var F;for(O=O||[];F=I();)F!==!1&&O.push(F);return O}function I(){var O=_();if(!(c!=m.charAt(0)||u!=m.charAt(1))){for(var F=2;d!=m.charAt(F)&&(u!=m.charAt(F)||c!=m.charAt(F+1));)++F;if(F+=2,d===m.charAt(F-1))return k("End of comment missing");var A=m.slice(2,F-2);return y+=2,w(A),m=m.slice(F),y+=2,O({type:h,comment:A})}}function R(){var O=_(),F=D(i);if(F){if(I(),!D(r))return k("property missing ':'");var A=D(s),H=O({type:f,property:p(F[0].replace(n,d)),value:A?p(A[0].replace(n,d)):d});return D(o),H}}function N(){var O=[];L(O);for(var F;F=R();)F!==!1&&(O.push(F),L(O));return O}return T(),N()};function p(m){return m?m.replace(a,d):d}return I9}var M9,Eoe;function OXe(){if(Eoe)return M9;Eoe=1;var n=PXe();function e(t,i){var r=null;if(!t||typeof t!="string")return r;for(var s,o=n(t),a=typeof i=="function",l,c,u=0,d=o.length;u<d;u++)s=o[u],l=s.property,c=s.value,a?i(l,c,s):c&&(r||(r={}),r[l]=c);return r}return M9=e,M9}var Doe;function FXe(){if(Doe)return TD;Doe=1;const n=Wr(),e=dXe(),t=fXe(),i=gXe(),r=RXe,s=NXe(),o=AXe(),a=OXe();TD.hastToReact=d,TD.hastChildrenToReact=u;const l={}.hasOwnProperty,c=new Set(["table","thead","tbody","tfoot","tr"]);function u(y,w){const _=[];let x=-1,k;for(;++x<w.children.length;)k=w.children[x],k.type==="element"?_.push(d(y,k,x,w)):k.type==="text"?(w.type!=="element"||!c.has(w.tagName)||k.value!==`
`)&&_.push(k.value):k.type==="raw"&&!y.options.skipHtml&&_.push(k.value);return _}function d(y,w,_,x){const k=y.options,D=y.schema,T=w.tagName,L={};let I=D,R;if(D.space==="html"&&T==="svg"&&(I=t,y.schema=I),w.properties)for(R in w.properties)l.call(w.properties,R)&&p(L,R,w.properties[R],y);(T==="ol"||T==="ul")&&y.listDepth++;const N=u(y,w);(T==="ol"||T==="ul")&&y.listDepth--,y.schema=D;const O=w.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},F=k.components&&l.call(k.components,T)?k.components[T]:T,A=typeof F=="string"||F===n.Fragment;if(!e.isValidElementType(F))throw new TypeError(`Component for name \`${T}\` not defined or is not renderable`);if(L.key=[T,O.start.line,O.start.column,_].join("-"),T==="a"&&k.linkTarget&&(L.target=typeof k.linkTarget=="function"?k.linkTarget(L.href,w.children,L.title):k.linkTarget),T==="a"&&k.transformLinkUri&&(L.href=k.transformLinkUri(L.href,w.children,L.title)),!A&&T==="code"&&x.type==="element"&&x.tagName!=="pre"&&(L.inline=!0),!A&&(T==="h1"||T==="h2"||T==="h3"||T==="h4"||T==="h5"||T==="h6")&&(L.level=parseInt(T.charAt(1),10)),T==="img"&&k.transformImageUri&&(L.src=k.transformImageUri(L.src,L.alt,L.title)),!A&&T==="li"&&x.type==="element"){const H=h(w);L.checked=H&&H.properties?!!H.properties.checked:null,L.index=f(x,w),L.ordered=x.tagName==="ol"}return!A&&(T==="ol"||T==="ul")&&(L.ordered=T==="ol",L.depth=y.listDepth),(T==="td"||T==="th")&&(L.align&&(L.style||(L.style={}),L.style.textAlign=L.align,delete L.align),A||(L.isHeader=T==="th")),!A&&T==="tr"&&x.type==="element"&&(L.isHeader=x.tagName==="thead"),k.sourcePos&&(L["data-sourcepos"]=C(O)),!A&&k.rawSourcePos&&(L.sourcePosition=w.position),!A&&k.includeElementIndex&&(L.index=f(x,w),L.siblingCount=f(x)),A||(L.node=w),N.length>0?n.createElement(F,L,N):n.createElement(F,L)}function h(y){let w=-1;for(;++w<y.children.length;){const _=y.children[w];if(_.type==="element"&&_.tagName==="input")return _}return null}function f(y,w){let _=-1,x=0;for(;++_<y.children.length&&y.children[_]!==w;)y.children[_].type==="element"&&x++;return x}function p(y,w,_,x){const k=i(x.schema,w);let D=_;D==null||D!==D||(D&&typeof D=="object"&&"length"in D&&(D=(k.commaSeparated?o:s).stringify(D)),k.property==="style"&&typeof D=="string"&&(D=m(D)),k.space&&k.property?y[l.call(r,k.property)?r[k.property]:k.property]=D:k.attribute&&(y[k.attribute]=D))}function m(y){const w={};try{a(y,_)}catch{}return w;function _(x,k){const D=x.slice(0,4)==="-ms-"?`ms-${x.slice(4)}`:x;w[D.replace(/-([a-z])/g,v)]=k}}function v(y,w){return w.toUpperCase()}function C(y){return[y.start.line,":",y.start.column,"-",y.end.line,":",y.end.column].map(w=>String(w)).join("")}return TD}var R9,Toe;function BXe(){if(Toe)return R9;Toe=1;const n=Wr(),e=Zve(),t=$Qe(),i=MYe(),r=rXe(),s=Ape(),o=aXe(),a=lXe(),l=cXe(),c=FXe().hastChildrenToReact;R9=f;const u={}.hasOwnProperty,d="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",h={renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function f(p){for(const w in h)if(u.call(h,w)&&u.call(p,w)){const _=h[w];console.warn(`[react-markdown] Warning: please ${_.to?`use \`${_.to}\` instead of`:"remove"} \`${w}\` (see <${d}#${_.id}> for more info)`),delete h[w]}const m=t().use(i).use(p.remarkPlugins||p.plugins||[]).use(r,{allowDangerousHtml:!0}).use(p.rehypePlugins||[]).use(a,p);let v;typeof p.children=="string"?v=e(p.children):(p.children!==void 0&&p.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${p.children}\`)`),v=e());const C=m.runSync(m.parse(v),v);if(C.type!=="root")throw new TypeError("Expected a `root` node");let y=n.createElement(n.Fragment,{},c({options:p,schema:o,listDepth:0},C));return p.className&&(y=n.createElement("div",{className:p.className},y)),y}return f.defaultProps={transformLinkUri:l},f.propTypes={children:s.string,className:s.string,allowElement:s.func,allowedElements:s.arrayOf(s.string),disallowedElements:s.arrayOf(s.string),unwrapDisallowed:s.bool,remarkPlugins:s.arrayOf(s.oneOfType([s.object,s.func,s.arrayOf(s.oneOfType([s.object,s.func]))])),rehypePlugins:s.arrayOf(s.oneOfType([s.object,s.func,s.arrayOf(s.oneOfType([s.object,s.func]))])),sourcePos:s.bool,rawSourcePos:s.bool,skipHtml:s.bool,includeElementIndex:s.bool,transformLinkUri:s.oneOfType([s.func,s.bool]),linkTarget:s.oneOfType([s.func,s.string]),transformImageUri:s.func,components:s.object},f.uriTransformer=l,R9}BXe();var N9={},Ioe;function HXe(){if(Ioe)return N9;Ioe=1;var n=cA(),e=dL(),t=TU(),i=Gs(),r=EU(),s=DU(),o={tokenize:w,partial:!0},a={tokenize:_,partial:!0},l={tokenize:x,partial:!0},c={tokenize:D,partial:!0},u={tokenize:k,partial:!0},d={tokenize:C,previous:R},h={tokenize:y,previous:N},f={tokenize:v,previous:O},p={};N9.text=p;for(var m=48;m<123;)p[m]=f,m++,m===58?m=65:m===91&&(m=97);p[43]=f,p[45]=f,p[46]=f,p[95]=f,p[72]=[f,h],p[104]=[f,h],p[87]=[f,d],p[119]=[f,d];function v(A,H,W){var $=this,U;return z;function z(ae){return!I(ae)||!O($.previous)||F($.events)?W(ae):(A.enter("literalAutolink"),A.enter("literalAutolinkEmail"),K(ae))}function K(ae){return I(ae)?(A.consume(ae),K):ae===64?(A.consume(ae),Z):W(ae)}function Z(ae){return ae===46?A.check(c,ne,Q)(ae):ae===45||ae===95?A.check(c,W,G)(ae):e(ae)?(A.consume(ae),Z):ne(ae)}function Q(ae){return A.consume(ae),U=!0,Z}function G(ae){return A.consume(ae),J}function J(ae){return ae===46?A.check(c,W,Q)(ae):Z(ae)}function ne(ae){return U?(A.exit("literalAutolinkEmail"),A.exit("literalAutolink"),H(ae)):W(ae)}}function C(A,H,W){var $=this;return U;function U(K){return K!==87&&K-32!==87||!R($.previous)||F($.events)?W(K):(A.enter("literalAutolink"),A.enter("literalAutolinkWww"),A.check(o,A.attempt(a,A.attempt(l,z),W),W)(K))}function z(K){return A.exit("literalAutolinkWww"),A.exit("literalAutolink"),H(K)}}function y(A,H,W){var $=this;return U;function U(X){return X!==72&&X-32!==72||!N($.previous)||F($.events)?W(X):(A.enter("literalAutolink"),A.enter("literalAutolinkHttp"),A.consume(X),z)}function z(X){return X===84||X-32===84?(A.consume(X),K):W(X)}function K(X){return X===84||X-32===84?(A.consume(X),Z):W(X)}function Z(X){return X===80||X-32===80?(A.consume(X),Q):W(X)}function Q(X){return X===83||X-32===83?(A.consume(X),G):G(X)}function G(X){return X===58?(A.consume(X),J):W(X)}function J(X){return X===47?(A.consume(X),ne):W(X)}function ne(X){return X===47?(A.consume(X),ae):W(X)}function ae(X){return t(X)||s(X)||r(X)?W(X):A.attempt(a,A.attempt(l,se),W)(X)}function se(X){return A.exit("literalAutolinkHttp"),A.exit("literalAutolink"),H(X)}}function w(A,H,W){return $;function $(Q){return A.consume(Q),U}function U(Q){return Q===87||Q-32===87?(A.consume(Q),z):W(Q)}function z(Q){return Q===87||Q-32===87?(A.consume(Q),K):W(Q)}function K(Q){return Q===46?(A.consume(Q),Z):W(Q)}function Z(Q){return Q===null||i(Q)?W(Q):H(Q)}}function _(A,H,W){var $,U;return z;function z(Q){return Q===38?A.check(u,Z,K)(Q):Q===46||Q===95?A.check(c,Z,K)(Q):t(Q)||s(Q)||Q!==45&&r(Q)?Z(Q):(A.consume(Q),z)}function K(Q){return Q===46?(U=$,$=void 0,A.consume(Q),z):(Q===95&&($=!0),A.consume(Q),z)}function Z(Q){return!U&&!$?H(Q):W(Q)}}function x(A,H){var W=0;return $;function $(K){return K===38?A.check(u,H,U)(K):(K===40&&W++,K===41?A.check(c,z,U)(K):L(K)?H(K):T(K)?A.check(c,H,U)(K):(A.consume(K),$))}function U(K){return A.consume(K),$}function z(K){return W--,W<0?H(K):U(K)}}function k(A,H,W){return $;function $(K){return A.consume(K),U}function U(K){return n(K)?(A.consume(K),U):K===59?(A.consume(K),z):W(K)}function z(K){return L(K)?H(K):W(K)}}function D(A,H,W){return $;function $(z){return A.consume(z),U}function U(z){return T(z)?(A.consume(z),U):L(z)?H(z):W(z)}}function T(A){return A===33||A===34||A===39||A===41||A===42||A===44||A===46||A===58||A===59||A===60||A===63||A===95||A===126}function L(A){return A===null||A<0||A===32||A===60}function I(A){return A===43||A===45||A===46||A===95||e(A)}function R(A){return A===null||A<0||A===32||A===40||A===42||A===95||A===126}function N(A){return A===null||!n(A)}function O(A){return A!==47&&N(A)}function F(A){for(var H=A.length;H--;)if((A[H][1].type==="labelLink"||A[H][1].type==="labelImage")&&!A[H][1]._balanced)return!0}return N9}var A9,Moe;function VXe(){return Moe||(Moe=1,A9=HXe()),A9}var P9,Roe;function zXe(){if(Roe)return P9;Roe=1,P9=r;var n=r1e(),e=qf(),t=lA(),i=Fv();function r(s){var o=s||{},a=o.singleTilde,l={tokenize:d,resolveAll:c};return a==null&&(a=!0),{text:{126:l},insideSpan:{null:l}};function c(h,f){for(var p=-1,m,v,C,y;++p<h.length;)if(h[p][0]==="enter"&&h[p][1].type==="strikethroughSequenceTemporary"&&h[p][1]._close){for(C=p;C--;)if(h[C][0]==="exit"&&h[C][1].type==="strikethroughSequenceTemporary"&&h[C][1]._open&&h[p][1].end.offset-h[p][1].start.offset===h[C][1].end.offset-h[C][1].start.offset){h[p][1].type="strikethroughSequence",h[C][1].type="strikethroughSequence",m={type:"strikethrough",start:i(h[C][1].start),end:i(h[p][1].end)},v={type:"strikethroughText",start:i(h[C][1].end),end:i(h[p][1].start)},y=[["enter",m,f],["enter",h[C][1],f],["exit",h[C][1],f],["enter",v,f]],e(y,y.length,0,t(f.parser.constructs.insideSpan.null,h.slice(C+1,p),f)),e(y,y.length,0,[["exit",v,f],["enter",h[p][1],f],["exit",h[p][1],f],["exit",m,f]]),e(h,C-1,p-C+3,y),p=C+y.length-2;break}}return u(h)}function u(h){for(var f=-1,p=h.length;++f<p;)h[f][1].type==="strikethroughSequenceTemporary"&&(h[f][1].type="data");return h}function d(h,f,p){var m=this.previous,v=this.events,C=0;return y;function y(_){return _!==126||m===126&&v[v.length-1][1].type!=="characterEscape"?p(_):(h.enter("strikethroughSequenceTemporary"),w(_))}function w(_){var x=n(m),k,D;return _===126?C>1?p(_):(h.consume(_),C++,w):C<2&&!a?p(_):(k=h.exit("strikethroughSequenceTemporary"),D=n(_),k._open=!D||D===2&&x,k._close=!x||x===2&&D,f(_))}}}return P9}var O9={},Noe;function WXe(){if(Noe)return O9;Noe=1,O9.flow={null:{tokenize:r,resolve:i,interruptible:!0}};var n=ro(),e={tokenize:s,partial:!0},t={tokenize:o,partial:!0};function i(a,l){for(var c=a.length,u=-1,d,h,f,p,m,v,C,y,w,_;++u<c;)d=a[u][1],p&&(d.type==="temporaryTableCellContent"&&(y=y||u,w=u),(d.type==="tableCellDivider"||d.type==="tableRow")&&w&&(v={type:"tableContent",start:a[y][1].start,end:a[w][1].end},C={type:"chunkText",start:v.start,end:v.end,contentType:"text"},a.splice(y,w-y+1,["enter",v,l],["enter",C,l],["exit",C,l],["exit",v,l]),u-=w-y-3,c=a.length,y=void 0,w=void 0)),a[u][0]==="exit"&&_&&_+1<u&&(d.type==="tableCellDivider"||d.type==="tableRow"&&(_+3<u||a[_][1].type!=="whitespace"))&&(m={type:f?"tableDelimiter":h?"tableHeader":"tableData",start:a[_][1].start,end:a[u][1].end},a.splice(u+(d.type==="tableCellDivider"?1:0),0,["exit",m,l]),a.splice(_,0,["enter",m,l]),u+=2,c=a.length,_=u+1),d.type==="tableRow"&&(p=a[u][0]==="enter",p&&(_=u+1)),d.type==="tableDelimiterRow"&&(f=a[u][0]==="enter",f&&(_=u+1)),d.type==="tableHead"&&(h=a[u][0]==="enter");return a}function r(a,l,c){var u=[],d=0,h,f;return p;function p(G){return G===null||G===-5||G===-4||G===-3?c(G):(a.enter("table")._align=u,a.enter("tableHead"),a.enter("tableRow"),G===124?m(G):(d++,a.enter("temporaryTableCellContent"),y(G)))}function m(G){return a.enter("tableCellDivider"),a.consume(G),a.exit("tableCellDivider"),h=!0,v}function v(G){return G===null||G===-5||G===-4||G===-3?_(G):G===-2||G===-1||G===32?(a.enter("whitespace"),a.consume(G),C):(h&&(h=void 0,d++),G===124?m(G):(a.enter("temporaryTableCellContent"),y(G)))}function C(G){return G===-2||G===-1||G===32?(a.consume(G),C):(a.exit("whitespace"),v(G))}function y(G){return G===null||G<0||G===32||G===124?(a.exit("temporaryTableCellContent"),v(G)):(a.consume(G),G===92?w:y)}function w(G){return G===92||G===124?(a.consume(G),y):y(G)}function _(G){return G===null?c(G):(a.exit("tableRow"),a.exit("tableHead"),a.enter("lineEnding"),a.consume(G),a.exit("lineEnding"),a.check(e,c,n(a,x,"linePrefix",4)))}function x(G){return G===null||G<0||G===32?c(G):(a.enter("tableDelimiterRow"),k(G))}function k(G){return G===null||G===-5||G===-4||G===-3?R(G):G===-2||G===-1||G===32?(a.enter("whitespace"),a.consume(G),D):G===45?(a.enter("tableDelimiterFiller"),a.consume(G),f=!0,u.push(null),T):G===58?(a.enter("tableDelimiterAlignment"),a.consume(G),a.exit("tableDelimiterAlignment"),u.push("left"),L):G===124?(a.enter("tableCellDivider"),a.consume(G),a.exit("tableCellDivider"),k):c(G)}function D(G){return G===-2||G===-1||G===32?(a.consume(G),D):(a.exit("whitespace"),k(G))}function T(G){return G===45?(a.consume(G),T):(a.exit("tableDelimiterFiller"),G===58?(a.enter("tableDelimiterAlignment"),a.consume(G),a.exit("tableDelimiterAlignment"),u[u.length-1]=u[u.length-1]==="left"?"center":"right",I):k(G))}function L(G){return G===45?(a.enter("tableDelimiterFiller"),a.consume(G),f=!0,T):c(G)}function I(G){return G===null||G===-5||G===-4||G===-3?R(G):G===-2||G===-1||G===32?(a.enter("whitespace"),a.consume(G),D):G===124?(a.enter("tableCellDivider"),a.consume(G),a.exit("tableCellDivider"),k):c(G)}function R(G){return a.exit("tableDelimiterRow"),!f||d!==u.length?c(G):G===null?N(G):a.check(t,N,O)(G)}function N(G){return a.exit("table"),l(G)}function O(G){return a.enter("lineEnding"),a.consume(G),a.exit("lineEnding"),n(a,F,"linePrefix",4)}function F(G){return a.enter("tableBody"),A(G)}function A(G){return a.enter("tableRow"),G===124?H(G):(a.enter("temporaryTableCellContent"),U(G))}function H(G){return a.enter("tableCellDivider"),a.consume(G),a.exit("tableCellDivider"),W}function W(G){return G===null||G===-5||G===-4||G===-3?K(G):G===-2||G===-1||G===32?(a.enter("whitespace"),a.consume(G),$):G===124?H(G):(a.enter("temporaryTableCellContent"),U(G))}function $(G){return G===-2||G===-1||G===32?(a.consume(G),$):(a.exit("whitespace"),W(G))}function U(G){return G===null||G<0||G===32||G===124?(a.exit("temporaryTableCellContent"),W(G)):(a.consume(G),G===92?z:U)}function z(G){return G===92||G===124?(a.consume(G),U):U(G)}function K(G){return a.exit("tableRow"),G===null?Z(G):a.check(t,Z,Q)(G)}function Z(G){return a.exit("tableBody"),N(G)}function Q(G){return a.enter("lineEnding"),a.consume(G),a.exit("lineEnding"),n(a,A,"linePrefix",4)}}function s(a,l,c){return u;function u(f){return f!==45?c(f):(a.enter("setextUnderline"),d(f))}function d(f){return f===45?(a.consume(f),d):h(f)}function h(f){return f===-2||f===-1||f===32?(a.consume(f),h):f===null||f===-5||f===-4||f===-3?l(f):c(f)}}function o(a,l,c){var u=0;return d;function d(f){return a.enter("check"),a.consume(f),h}function h(f){return f===-1||f===32?(a.consume(f),u++,u===4?l:h):f===null||f<0?l(f):c(f)}}return O9}var F9,Aoe;function $Xe(){return Aoe||(Aoe=1,F9=WXe()),F9}var B9={},Poe;function jXe(){if(Poe)return B9;Poe=1;var n=Gf(),e=ro(),t=uL(),i={tokenize:r};B9.text={91:i};function r(o,a,l){var c=this;return u;function u(f){return f!==91||c.previous!==null||!c._gfmTasklistFirstContentOfListItem?l(f):(o.enter("taskListCheck"),o.enter("taskListCheckMarker"),o.consume(f),o.exit("taskListCheckMarker"),d)}function d(f){return f===-2||f===32?(o.enter("taskListCheckValueUnchecked"),o.consume(f),o.exit("taskListCheckValueUnchecked"),h):f===88||f===120?(o.enter("taskListCheckValueChecked"),o.consume(f),o.exit("taskListCheckValueChecked"),h):l(f)}function h(f){return f===93?(o.enter("taskListCheckMarker"),o.consume(f),o.exit("taskListCheckMarker"),o.exit("taskListCheck"),o.check({tokenize:s},a,l)):l(f)}}function s(o,a,l){var c=this;return e(o,u,"whitespace");function u(d){return t(c.events,"whitespace")&&d!==null&&!n(d)?a(d):l(d)}}return B9}var H9,Ooe;function UXe(){return Ooe||(Ooe=1,H9=jXe()),H9}var V9,Foe;function qXe(){if(Foe)return V9;Foe=1;var n=i1e(),e=VXe(),t=zXe(),i=$Xe(),r=UXe();V9=s;function s(o){return n([e,t(o),i,r])}return V9}var z9,Boe;function GXe(){return Boe||(Boe=1,z9=qXe()),z9}var xw={},W9,Hoe;function KXe(){if(Hoe)return W9;Hoe=1,W9=n;function n(e,t){var i=String(e),r=0,s;if(typeof t!="string")throw new Error("Expected character");for(s=i.indexOf(t);s!==-1;)r++,s=i.indexOf(t,s+t.length);return r}return W9}var $9,Voe;function QXe(){return Voe||(Voe=1,$9=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),$9}var j9,zoe;function YXe(){if(zoe)return j9;zoe=1,j9=r;var n=f1e(),e=h1e(),t=QXe(),i=[].splice;function r(c,u,d,h){var f,p;return typeof u=="string"||u&&typeof u.exec=="function"?p=[[u,d]]:(p=u,h=d),f=h||{},s(c,f,m(o(p))),c;function m(v){var C=v[0];return y;function y(w,_){var x=C[0],k=C[1],D=[],T=0,L=_.children.indexOf(w),I,R,N,O;for(x.lastIndex=0,R=x.exec(w.value);R&&(I=R.index,O=k.apply(null,[].concat(R,{index:R.index,input:R.input})),O!==!1&&(T!==I&&D.push({type:"text",value:w.value.slice(T,I)}),typeof O=="string"&&O.length>0&&(O={type:"text",value:O}),O&&(D=[].concat(D,O)),T=I+R[0].length),!!x.global);)R=x.exec(w.value);if(I===void 0?(D=[w],L--):(T<w.value.length&&D.push({type:"text",value:w.value.slice(T)}),D.unshift(L,1),i.apply(_.children,D)),v.length>1)for(N=m(v.slice(1)),I=-1;++I<D.length;)w=D[I],w.type==="text"?N(w,_):s(w,f,N);return L+D.length+1}}}function s(c,u,d){var h=e(u.ignore||[]),f=[];return n(c,"text",p),f;function p(m,v){for(var C=-1,y,w;++C<v.length;){if(y=v[C],h(y,w?w.children.indexOf(y):void 0,w))return;w=y}return d(m,w)}}function o(c){var u=[],d,h;if(typeof c!="object")throw new Error("Expected array or object as schema");if("length"in c)for(h=-1;++h<c.length;)u.push([a(c[h][0]),l(c[h][1])]);else for(d in c)u.push([a(d),l(c[d])]);return u}function a(c){return typeof c=="string"?new RegExp(t(c),"g"):c}function l(c){return typeof c=="function"?c:u;function u(){return c}}return j9}var Woe;function XXe(){if(Woe)return xw;Woe=1;var n=KXe(),e=YXe(),t=EU(),i=DU();xw.transforms=[u],xw.enter={literalAutolink:r,literalAutolinkEmail:s,literalAutolinkHttp:s,literalAutolinkWww:s},xw.exit={literalAutolink:c,literalAutolinkEmail:l,literalAutolinkHttp:o,literalAutolinkWww:a};function r(v){this.enter({type:"link",title:null,url:"",children:[]},v)}function s(v){this.config.enter.autolinkProtocol.call(this,v)}function o(v){this.config.exit.autolinkProtocol.call(this,v)}function a(v){this.config.exit.data.call(this,v),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(v)}function l(v){this.config.exit.autolinkEmail.call(this,v)}function c(v){this.exit(v)}function u(v){e(v,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,d],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,h]],{ignore:["link","linkReference"]})}function d(v,C,y,w,_){var x="",k,D;return!m(_)||(/^w/i.test(C)&&(y=C+y,C="",x="http://"),!f(y))||(k=p(y+w),!k[0])?!1:(D={type:"link",title:null,url:x+C+k[0],children:[{type:"text",value:C+k[0]}]},k[1]&&(D=[D,{type:"text",value:k[1]}]),D)}function h(v,C,y,w){return!m(w,!0)||/[_-]$/.test(y)?!1:{type:"link",title:null,url:"mailto:"+C+"@"+y,children:[{type:"text",value:C+"@"+y}]}}function f(v){var C=v.split(".");return!(C.length<2||C[C.length-1]&&(/_/.test(C[C.length-1])||!/[a-zA-Z\d]/.test(C[C.length-1]))||C[C.length-2]&&(/_/.test(C[C.length-2])||!/[a-zA-Z\d]/.test(C[C.length-2])))}function p(v){var C=/[!"&'),.:;<>?\]}]+$/.exec(v),y,w,_;if(C)for(v=v.slice(0,C.index),C=C[0],y=C.indexOf(")"),w=n(v,"("),_=n(v,")");y!==-1&&w>_;)v+=C.slice(0,y+1),C=C.slice(y+1),y=C.indexOf(")"),_++;return[v,C]}function m(v,C){var y=v.input.charCodeAt(v.index-1);return(y!==y||i(y)||t(y))&&(!C||y!==47)}return xw}var kw={},$oe;function ZXe(){if($oe)return kw;$oe=1,kw.canContainEols=["delete"],kw.enter={strikethrough:n},kw.exit={strikethrough:e};function n(t){this.enter({type:"delete",children:[]},t)}function e(t){this.exit(t)}return kw}var RD={},joe;function JXe(){if(joe)return RD;joe=1,RD.enter={table:n,tableData:r,tableHeader:r,tableRow:t},RD.exit={codeText:s,table:e,tableData:i,tableHeader:i,tableRow:i};function n(a){this.enter({type:"table",align:a._align,children:[]},a),this.setData("inTable",!0)}function e(a){this.exit(a),this.setData("inTable")}function t(a){this.enter({type:"tableRow",children:[]},a)}function i(a){this.exit(a)}function r(a){this.enter({type:"tableCell",children:[]},a)}function s(a){var l=this.resume();this.getData("inTable")&&(l=l.replace(/\\([\\|])/g,o)),this.stack[this.stack.length-1].value=l,this.exit(a)}function o(a,l){return l==="|"?l:a}return RD}var U9={},Uoe;function eZe(){if(Uoe)return U9;Uoe=1,U9.exit={taskListCheckValueChecked:n,taskListCheckValueUnchecked:n,paragraph:e};function n(t){this.stack[this.stack.length-2].checked=t.type==="taskListCheckValueChecked"}function e(t){var i=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],s=i.children,o=r.children[0],a=-1,l;if(i&&i.type==="listItem"&&typeof i.checked=="boolean"&&o&&o.type==="text"){for(;++a<s.length;)if(s[a].type==="paragraph"){l=s[a];break}l===r&&(o.value=o.value.slice(1),o.value.length===0?r.children.shift():(o.position.start.column++,o.position.start.offset++,r.position.start=Object.assign({},o.position.start)))}this.exit(t)}return U9}var q9,qoe;function tZe(){if(qoe)return q9;qoe=1;var n=XXe(),e=ZXe(),t=JXe(),i=eZe(),r={}.hasOwnProperty;q9=s([n,e,t,i]);function s(a){for(var l={transforms:[],canContainEols:[]},c=a.length,u=-1;++u<c;)o(l,a[u]);return l}function o(a,l){var c,u,d;for(c in l)u=r.call(a,c)?a[c]:a[c]={},d=l[c],c==="canContainEols"||c==="transforms"?a[c]=[].concat(u,d):Object.assign(u,d)}return q9}var G9={},Goe;function nZe(){if(Goe)return G9;Goe=1;var n="phrasing",e=["autolink","link","image","label"];return G9.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:n,notInConstruct:e},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:n,notInConstruct:e},{character:":",before:"[ps]",after:"\\/",inConstruct:n,notInConstruct:e}],G9}var ND={},K9,Koe;function M1e(){if(Koe)return K9;Koe=1,K9=n;function n(e,t,i){for(var r=e.children||[],s=[],o=-1,a=i.before,l,c,u;++o<r.length;)u=r[o],o+1<r.length?(c=t.handle.handlers[r[o+1].type],c&&c.peek&&(c=c.peek),l=c?c(r[o+1],e,t,{before:"",after:""}).charAt(0):""):l=i.after,s.length>0&&(a==="\r"||a===`
`)&&u.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" "),s.push(t.handle(u,e,t,{before:a,after:l})),a=s[s.length-1].slice(-1);return s.join("")}return K9}var Qoe;function iZe(){if(Qoe)return ND;Qoe=1;var n=M1e();ND.unsafe=[{character:"~",inConstruct:"phrasing"}],ND.handlers={delete:e},e.peek=t;function e(i,r,s){var o=s.enter("emphasis"),a=n(i,s,{before:"~",after:"~"});return o(),"~~"+a+"~~"}function t(){return"~"}return ND}var Q9,Yoe;function rZe(){if(Yoe)return Q9;Yoe=1,Q9=n;function n(e){var t,i;return e._compiled||(t=e.before?"(?:"+e.before+")":"",i=e.after?"(?:"+e.after+")":"",e.atBreak&&(t="[\\r\\n][\\t ]*"+t),e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(i||""),"g")),e._compiled}return Q9}var Y9,Xoe;function sZe(){if(Xoe)return Y9;Xoe=1,Y9=e,e.peek=t;var n=rZe();function e(i,r,s){for(var o=i.value||"",a="`",l=-1,c,u,d,h;new RegExp("(^|[^`])"+a+"([^`]|$)").test(o);)a+="`";for(/[^ \r\n]/.test(o)&&(/[ \r\n`]/.test(o.charAt(0))||/[ \r\n`]/.test(o.charAt(o.length-1)))&&(o=" "+o+" ");++l<s.unsafe.length;)if(c=s.unsafe[l],!!c.atBreak)for(u=n(c);d=u.exec(o);)h=d.index,o.charCodeAt(h)===10&&o.charCodeAt(h-1)===13&&h--,o=o.slice(0,h)+" "+o.slice(d.index+1);return a+o+a}function t(){return"`"}return Y9}/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var X9,Zoe;function RU(){if(Zoe)return X9;Zoe=1;var n="",e;X9=t;function t(i,r){if(typeof i!="string")throw new TypeError("expected a string");if(r===1)return i;if(r===2)return i+i;var s=i.length*r;if(e!==i||typeof e>"u")e=i,n="";else if(n.length>=s)return n.substr(0,s);for(;s>n.length&&r>1;)r&1&&(n+=i),r>>=1,i+=i;return n+=i,n=n.substr(0,s),n}return X9}var Z9,Joe;function oZe(){if(Joe)return Z9;Joe=1;var n=RU();Z9=p;var e=/ +$/,t=" ",i=`
`,r="-",s=":",o="|",a=0,l=67,c=76,u=82,d=99,h=108,f=114;function p(y,w){for(var _=w||{},x=_.padding!==!1,k=_.delimiterStart!==!1,D=_.delimiterEnd!==!1,T=(_.align||[]).concat(),L=_.alignDelimiters!==!1,I=[],R=_.stringLength||v,N=-1,O=y.length,F=[],A=[],H=[],W=[],$=[],U=0,z,K,Z,Q,G,J,ne,ae,se,X,oe;++N<O;){for(z=y[N],K=-1,Z=z.length,H=[],W=[],Z>U&&(U=Z);++K<Z;)J=m(z[K]),L===!0&&(G=R(J),W[K]=G,Q=$[K],(Q===void 0||G>Q)&&($[K]=G)),H.push(J);F[N]=H,A[N]=W}if(K=-1,Z=U,typeof T=="object"&&"length"in T)for(;++K<Z;)I[K]=C(T[K]);else for(oe=C(T);++K<Z;)I[K]=oe;for(K=-1,Z=U,H=[],W=[];++K<Z;)oe=I[K],se="",X="",oe===h?se=s:oe===f?X=s:oe===d&&(se=s,X=s),G=L?Math.max(1,$[K]-se.length-X.length):1,J=se+n(r,G)+X,L===!0&&(G=se.length+G+X.length,G>$[K]&&($[K]=G),W[K]=G),H[K]=J;for(F.splice(1,0,H),A.splice(1,0,W),N=-1,O=F.length,ne=[];++N<O;){for(H=F[N],W=A[N],K=-1,Z=U,ae=[];++K<Z;)J=H[K]||"",se="",X="",L===!0&&(G=$[K]-(W[K]||0),oe=I[K],oe===f?se=n(t,G):oe===d?G%2===0?(se=n(t,G/2),X=se):(se=n(t,G/2+.5),X=n(t,G/2-.5)):X=n(t,G)),k===!0&&K===0&&ae.push(o),x===!0&&!(L===!1&&J==="")&&(k===!0||K!==0)&&ae.push(t),L===!0&&ae.push(se),ae.push(J),L===!0&&ae.push(X),x===!0&&ae.push(t),(D===!0||K!==Z-1)&&ae.push(o);ae=ae.join(""),D===!1&&(ae=ae.replace(e,"")),ne.push(ae)}return ne.join(i)}function m(y){return y==null?"":String(y)}function v(y){return y.length}function C(y){var w=typeof y=="string"?y.charCodeAt(0):a;return w===c||w===h?h:w===u||w===f?f:w===l||w===d?d:a}return Z9}var J9,eae;function aZe(){if(eae)return J9;eae=1;var n=M1e(),e=sZe(),t=oZe();J9=i;function i(r){var s=r||{},o=s.tableCellPadding,a=s.tablePipeAlign,l=s.stringLength,c=o?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:u,tableRow:d,tableCell:h,inlineCode:v}};function u(C,y,w){return f(p(C,w),C.align)}function d(C,y,w){var _=m(C,w),x=f([_]);return x.slice(0,x.indexOf(`
`))}function h(C,y,w){var _=w.enter("tableCell"),x=n(C,w,{before:c,after:c});return _(),x}function f(C,y){return t(C,{align:y,alignDelimiters:a,padding:o,stringLength:l})}function p(C,y){for(var w=C.children,_=-1,x=w.length,k=[],D=y.enter("table");++_<x;)k[_]=m(w[_],y);return D(),k}function m(C,y){for(var w=C.children,_=-1,x=w.length,k=[],D=y.enter("tableRow");++_<x;)k[_]=h(w[_],C,y);return D(),k}function v(C,y,w){var _=e(C,y,w);return w.stack.indexOf("tableCell")!==-1&&(_=_.replace(/\|/g,"\\$&")),_}}return J9}var AD={},e7,tae;function lZe(){if(tae)return e7;tae=1,e7=n;function n(e){var t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}return e7}var t7,nae;function cZe(){if(nae)return t7;nae=1,t7=n;function n(e){var t=e.options.listItemIndent||"tab";if(t===1||t==="1")return"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}return t7}var n7,iae;function uZe(){if(iae)return n7;iae=1,n7=e;var n=RU();function e(t,i){for(var r=t.children||[],s=[],o=-1,a;++o<r.length;)a=r[o],s.push(i.handle(a,t,i,{before:`
`,after:`
`})),o+1<r.length&&s.push(l(a,r[o+1]));return s.join("");function l(c,u){for(var d=-1,h;++d<i.join.length&&(h=i.join[d](c,u,t,i),!(h===!0||h===1));){if(typeof h=="number")return n(`
`,1+Number(h));if(h===!1)return`

<!---->

`}return`

`}}return n7}var i7,rae;function dZe(){if(rae)return i7;rae=1,i7=e;var n=/\r?\n|\r/g;function e(t,i){for(var r=[],s=0,o=0,a;a=n.exec(t);)l(t.slice(s,a.index)),r.push(a[0]),s=a.index+a[0].length,o++;return l(t.slice(s)),r.join("");function l(c){r.push(i(c,o,!c))}}return i7}var r7,sae;function hZe(){if(sae)return r7;sae=1,r7=s;var n=RU(),e=lZe(),t=cZe(),i=uZe(),r=dZe();function s(o,a,l){var c=e(l),u=t(l),d,h,f;return a&&a.ordered&&(c=(a.start>-1?a.start:1)+(l.options.incrementListMarker===!1?0:a.children.indexOf(o))+"."),d=c.length+1,(u==="tab"||u==="mixed"&&(a&&a.spread||o.spread))&&(d=Math.ceil(d/4)*4),f=l.enter("listItem"),h=r(i(o,l),p),f(),h;function p(m,v,C){return v?(C?"":n(" ",d))+m:(C?c:c+n(" ",d-c.length))+m}}return r7}var oae;function fZe(){if(oae)return AD;oae=1;var n=hZe();AD.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}],AD.handlers={listItem:e};function e(t,i,r){var s=n(t,i,r),o=t.children[0];return typeof t.checked=="boolean"&&o&&o.type==="paragraph"&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,a)),s;function a(l){return l+"["+(t.checked?"x":" ")+"] "}}return AD}var s7,aae;function gZe(){if(aae)return s7;aae=1,s7=n;function n(e,t){var i=-1,r;if(t.extensions)for(;++i<t.extensions.length;)n(e,t.extensions[i]);for(r in t)r==="extensions"||(r==="unsafe"||r==="join"?e[r]=e[r].concat(t[r]||[]):r==="handlers"?e[r]=Object.assign(e[r],t[r]||{}):e.options[r]=t[r]);return e}return s7}var o7,lae;function pZe(){if(lae)return o7;lae=1;var n=nZe(),e=iZe(),t=aZe(),i=fZe(),r=gZe();o7=s;function s(o){var a=r({handlers:{},join:[],unsafe:[],options:{}},{extensions:[n,e,t(o),i]});return Object.assign(a.options,{handlers:a.handlers,join:a.join,unsafe:a.unsafe})}return o7}var a7,cae;function mZe(){if(cae)return a7;cae=1;var n=GXe(),e=tZe(),t=pZe(),i;a7=r;function r(s){var o=this.data();!i&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(i=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),a("micromarkExtensions",n(s)),a("fromMarkdownExtensions",e),a("toMarkdownExtensions",t(s));function a(l,c){o[l]?o[l].push(c):o[l]=[c]}}return a7}mZe();const bZe=Ut(V.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),vZe=$e(Tp)(sn(({theme:n})=>({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`,...n.palette.mode==="light"?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...n.palette.mode==="light"?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}},"&:active":{boxShadow:n.shadows[0],...n.palette.mode==="light"?{backgroundColor:qT(n.palette.grey[200],.12)}:{backgroundColor:qT(n.palette.grey[600],.12)}}}))),yZe=$e(bZe)({width:24,height:16});function CZe(n){const{slots:e={},slotProps:t={},...i}=n,r=n;return V.jsx("li",{children:V.jsx(vZe,{focusRipple:!0,...i,ownerState:r,children:V.jsx(yZe,{as:e.CollapsedIcon,ownerState:r,...t.collapsedIcon})})})}function _Ze(n){return Zt("MuiBreadcrumbs",n)}const wZe=Jt("MuiBreadcrumbs",["root","ol","li","separator"]),SZe=n=>{const{classes:e}=n;return _t({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},_Ze,e)},xZe=$e(nn,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(n,e)=>[{[`& .${wZe.li}`]:e.li},e.root]})({}),kZe=$e("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(n,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),LZe=$e("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(n,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function EZe(n,e,t,i){return n.reduce((r,s,o)=>(o<n.length-1?r=r.concat(s,V.jsx(LZe,{"aria-hidden":!0,className:e,ownerState:i,children:t},`separator-${o}`)):r.push(s),r),[])}const DZe=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiBreadcrumbs"}),{children:r,className:s,component:o="nav",slots:a={},slotProps:l={},expandText:c="Show path",itemsAfterCollapse:u=1,itemsBeforeCollapse:d=1,maxItems:h=8,separator:f="/",...p}=i,[m,v]=M.useState(!1),C={...i,component:o,expanded:m,expandText:c,itemsAfterCollapse:u,itemsBeforeCollapse:d,maxItems:h,separator:f},y=SZe(C),w=OC({elementType:a.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:C}),_=M.useRef(null),x=D=>{const T=()=>{v(!0);const L=_.current.querySelector("a[href],button,[tabindex]");L&&L.focus()};return d+u>=D.length?D:[...D.slice(0,d),V.jsx(CZe,{"aria-label":c,slots:{CollapsedIcon:a.CollapsedIcon},slotProps:{collapsedIcon:w},onClick:T},"ellipsis"),...D.slice(D.length-u,D.length)]},k=M.Children.toArray(r).filter(D=>M.isValidElement(D)).map((D,T)=>V.jsx("li",{className:y.li,children:D},`child-${T}`));return V.jsx(xZe,{ref:t,component:o,color:"textSecondary",className:lt(y.root,s),ownerState:C,...p,children:V.jsx(kZe,{className:y.ol,ref:_,ownerState:C,children:EZe(m||h&&k.length<=h?k:x(k),y.separator,f,C)})})}),TZe=Ut(V.jsx("path",{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81zM12 3 2 12h3v8h6v-6h2v6h6v-8h3z"}),"HomeOutlined"),IZe=Ut(V.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHorizOutlined"),MZe=Ut(V.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"SyncOutlined"),RZe=Ut(V.jsx("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10zm-2.21 5.04c.13.57.21 1.17.21 1.78 0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8c1.58 0 3.04.46 4.28 1.25l1.44-1.44C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.19-.22-2.33-.6-3.39z"}),"TaskAltOutlined"),NZe=Ut(V.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutlineOutlined"),AZe=Ut(V.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"UndoOutlined");var PZe=Object.defineProperty,xn=(n,e)=>PZe(n,"name",{value:e,configurable:!0}),R1e=q.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),OZe=xn(({children:n,initialSiderCollapsed:e,onSiderCollapsed:t})=>{const[i,r]=M.useState(e??!1),[s,o]=M.useState(!1),a=xn(l=>{r(l),t&&t(l)},"setSiderCollapsed");return q.createElement(R1e.Provider,{value:{siderCollapsed:i,mobileSiderOpen:s,setSiderCollapsed:a,setMobileSiderOpen:o,onSiderCollapsed:t}},n)},"ThemedLayoutContextProvider"),Fa=xn(n=>{var e,t,i,r;const{query:s,defaultValueQuery:o,onSearch:a,overtime:l}=FMe(n);return{autocompleteProps:{options:n.selectedOptionsOrder==="selected-first"?PT(((e=o.data)==null?void 0:e.data)||[],((t=s.data)==null?void 0:t.data)||[],Al):PT(((i=s.data)==null?void 0:i.data)||[],((r=o.data)==null?void 0:r.data)||[],Al),loading:s.isFetching||o.isFetching,onInputChange:(c,u)=>{(c==null?void 0:c.type)==="change"?a(u):(c==null?void 0:c.type)==="click"&&a("")},filterOptions:c=>c},onSearch:a,query:s,defaultValueQuery:o,queryResult:s,defaultValueQueryResult:o,overtime:l}},"useAutocomplete"),FZe=xn(n=>n.map(({field:t,sort:i})=>({field:t,order:i||"asc"})),"transformSortModelToCrudSorting"),BZe=xn(n=>n.map(({field:t,order:i})=>({field:t,sort:i})),"transformCrudSortingToSortModel"),HZe=xn(n=>{if(!n)return"eq";switch(n){case"equals":case"is":case"=":return"eq";case"!=":case"not":return"ne";case"contains":return"contains";case"isAnyOf":return"in";case">":case"after":return"gt";case">=":case"onOrAfter":return"gte";case"<":case"before":return"lt";case"<=":case"onOrBefore":return"lte";case"startsWith":return"startswith";case"endsWith":return"endswith";case"isEmpty":return"null";case"isNotEmpty":return"nnull";default:return n}},"transformMuiOperatorToCrudOperator"),VZe=xn(({items:n,logicOperator:e})=>{const t=n.map(({field:i,value:r,operator:s})=>({field:i,value:["isEmpty","isNotEmpty"].includes(s)?!0:r??"",operator:HZe(s)}));return e===So.Or?[{operator:"or",value:t}]:t},"transformFilterModelToCrudFilters"),uae=xn((n,e)=>{switch(e){case"number":switch(n){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"gte":return">=";case"lt":return"<";case"lte":return"<=";case"null":return"isEmpty";case"nnull":return"isNotEmpty";case"in":return"isAnyOf";default:return n}case"singleSelect":case"boolean":switch(n){case"eq":return"is";default:return n}case void 0:case"string":switch(n){case"eq":return"equals";case"contains":return"contains";case"null":return"isEmpty";case"nnull":return"isNotEmpty";case"startswith":return"startsWith";case"endswith":return"endsWith";case"in":return"isAnyOf";default:return n}case"date":case"dateTime":switch(n){case"eq":return"is";case"ne":return"not";case"gt":return"after";case"gte":return"onOrAfter";case"lt":return"before";case"lte":return"onOrBefore";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return n}default:return n}},"transformCrudOperatorToMuiOperator"),zZe=xn((n,e)=>{var t;const i=[],r=n.some(s=>s.operator==="or");return e&&(r?((t=n.find(o=>o.operator==="or"))==null?void 0:t.value).map(({field:o,value:a,operator:l})=>{const c=e[o];i.push({field:o,operator:uae(l,c),value:a===""?void 0:a,id:o+l})}):n.map(({field:s,value:o,operator:a})=>{const l=e[s];i.push({field:s,operator:uae(a,l),value:o===""?void 0:o,id:s+a})})),{items:i,logicOperator:r?So.Or:So.And}},"transformCrudFiltersToFilterModel");function Bv({onSearch:n,initialCurrent:e,initialPageSize:t=25,pagination:i,hasPagination:r=!0,initialSorter:s,permanentSorter:o,defaultSetFilterBehavior:a="replace",initialFilter:l,permanentFilter:c,filters:u,sorters:d,syncWithLocation:h,resource:f,successNotification:p,errorNotification:m,queryOptions:v,liveMode:C,onLiveEvent:y,liveParams:w,meta:_,metaData:x,dataProviderName:k,overtimeOptions:D,editable:T=!1,updateMutationOptions:L}={}){const I=ape(C),R=M.useRef(),{identifier:N}=Wp({resource:f}),{tableQueryResult:O,tableQuery:F,current:A,setCurrent:H,pageSize:W,setPageSize:$,filters:U,setFilters:z,sorters:K,setSorters:Z,sorter:Q,setSorter:G,pageCount:J,createLinkForSyncWithLocation:ne,overtime:ae}=dpe({permanentSorter:o,permanentFilter:c,initialCurrent:e,initialPageSize:t,pagination:i,hasPagination:r,initialSorter:s,initialFilter:l,filters:u,sorters:d,syncWithLocation:h,defaultSetFilterBehavior:a,resource:f,successNotification:p,errorNotification:m,queryOptions:v,liveMode:C,onLiveEvent:y,liveParams:w,meta:Wt(_,x),metaData:Wt(_,x),dataProviderName:k,overtimeOptions:D}),[se,X]=M.useState(U),{data:oe,isFetched:ve,isLoading:me}=O,ye=((u==null?void 0:u.mode)||"server")==="server",Le=((d==null?void 0:d.mode)||"server")==="server",ie=r===!1?"off":"server",Ee=((i==null?void 0:i.mode)??ie)!=="off",Ue=Wt(d==null?void 0:d.permanent,o)??[],re=Wt(u==null?void 0:u.permanent,c)??[],fe=xn(rt=>{Ee&&H(rt+1)},"handlePageChange"),Ce=xn(rt=>{Ee&&$(rt)},"handlePageSizeChange"),Me=xn(rt=>{const it=FZe(rt);Z(it)},"handleSortModelChange"),Te=xn(rt=>{const it=VZe(rt);X(it),z(it.filter(Xe=>Xe.value!=="")),Ee&&H(1)},"handleFilterModelChange"),Ae=xn(async rt=>{if(n){const it=await n(rt);X(it),z(it.filter(Xe=>Xe.value!=="")),Ee&&H(1)}},"search"),Ne=xn(()=>Ee?{paginationMode:"server",paginationModel:{page:A-1,pageSize:W},onPaginationModelChange:rt=>{fe(rt.page),Ce(rt.pageSize)}}:{paginationMode:"client"},"dataGridPaginationValues"),{mutate:Ge}=epe({mutationOptions:L}),gt=xn(async(rt,it)=>T?N?new Promise((Xe,st)=>{Ge({resource:N,id:rt.id,values:rt},{onError:Ke=>{st(Ke)},onSuccess:Ke=>{Xe(rt)}})}):Promise.reject(new Error("Resource is not defined")):Promise.resolve(it),"processRowUpdate");return{tableQueryResult:O,tableQuery:F,dataGridProps:{disableRowSelectionOnClick:!0,rows:(oe==null?void 0:oe.data)||[],loading:I==="auto"?me:!ve,rowCount:(oe==null?void 0:oe.total)||0,...Ne(),sortingMode:Le?"server":"client",sortModel:BZe(np(K,Ue,Al)),onSortModelChange:Me,filterMode:ye?"server":"client",filterModel:zZe(np(se,re,Al),R.current),onFilterModelChange:Te,onStateChange:rt=>{const it=Object.fromEntries(Object.entries(rt.columns.lookup).map(([st,Ke])=>[st,Ke.type]));!Al(it,R)&&(R.current=it)},processRowUpdate:T?gt:void 0},current:A,setCurrent:H,pageSize:W,setPageSize:$,pageCount:J,sorters:K,setSorters:Z,sorter:Q,setSorter:G,filters:U,setFilters:z,search:Ae,createLinkForSyncWithLocation:ne,overtime:ae}}xn(Bv,"useDataGrid");var N1e=xn(()=>{const{mobileSiderOpen:n,siderCollapsed:e,setMobileSiderOpen:t,setSiderCollapsed:i}=M.useContext(R1e);return{mobileSiderOpen:n,siderCollapsed:e,setMobileSiderOpen:t,setSiderCollapsed:i}},"useThemedLayoutContext"),WZe=xn(({Title:n,render:e,meta:t,activeItemDisabled:i=!1})=>{const{siderCollapsed:r,setSiderCollapsed:s,mobileSiderOpen:o,setMobileSiderOpen:a}=N1e(),l=xn(()=>r?56:240,"drawerWidth"),c=Xn(),u=lr(),d=Tv(),{Link:h}=To(),f=u==="legacy"?h:d,{hasDashboard:p}=qs(),m=Xn(),{menuItems:v,selectedKey:C,defaultOpenKeys:y}=zMe({meta:t}),w=Zge(),_=GIe(),x=no(),{warnWhen:k,setWarnWhen:D}=Lv(),{mutate:T}=HT({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),[L,I]=M.useState({});q.useEffect(()=>{I(z=>{const Z=Object.keys(z).filter(J=>z[J]),Q=new Set([...Z,...y]);return Object.fromEntries(Array.from(Q.values()).map(J=>[J,!0]))})},[y]);const R=n??_??UZe,N=xn(z=>{I({...L,[z]:!L[z]})},"handleClick"),O=xn((z,K)=>z.map(Z=>{const{icon:Q,label:G,route:J,name:ne,children:ae,parentName:se,meta:X,options:oe}=Z,ve=L[Z.key||""]||!1,me=Z.key===K,ye=Wt(X==null?void 0:X.parent,oe==null?void 0:oe.parent,se)!==void 0;if(ae.length>0)return q.createElement($5,{key:Z.key,resource:ne,action:"list",params:{resource:Z}},q.createElement("div",{key:Z.key},q.createElement(yb,{title:G??ne,placement:"right",disableHoverListener:!r,arrow:!0},q.createElement(bD,{onClick:()=>{r?(s(!1),ve||N(Z.key||"")):N(Z.key||"")},sx:{pl:ye?4:2,justifyContent:"center"}},q.createElement(xd,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:r?"0px":"12px",color:"currentColor"}},Q??q.createElement(ZT,null)),q.createElement(kd,{primary:G,primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}),ve?q.createElement(ABe,{sx:{color:"text.icon"}}):q.createElement(PBe,{sx:{color:"text.icon"}}))),!r&&q.createElement(KT,{in:L[Z.key||""],timeout:"auto",unmountOnExit:!0},q.createElement(C8,{component:"div",disablePadding:!0},O(ae,K)))));const Le=i&&me?{pointerEvents:"none"}:{};return q.createElement($5,{key:Z.key,resource:ne,action:"list",params:{resource:Z}},q.createElement(yb,{title:G??ne,placement:"right",disableHoverListener:!r,arrow:!0},q.createElement(bD,{component:f,to:J,selected:me,style:Le,onClick:()=>{a(!1)},sx:{pl:ye?4:2,py:ye?1.25:1,justifyContent:"center",color:me?"primary.main":"text.primary"}},q.createElement(xd,{sx:{justifyContent:"center",transition:"margin-right 0.3s",marginRight:r?"0px":"12px",minWidth:"24px",color:"currentColor"}},Q??q.createElement(ZT,null)),q.createElement(kd,{primary:G,primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))))}),"renderTreeView"),F=p?q.createElement($5,{resource:"dashboard",action:"list"},q.createElement(yb,{title:m("dashboard.title","Dashboard"),placement:"right",disableHoverListener:!r,arrow:!0},q.createElement(bD,{component:f,to:"/",selected:C==="/",onClick:()=>{a(!1)},sx:{pl:2,py:1,justifyContent:"center",color:C==="/"?"primary.main":"text.primary"}},q.createElement(xd,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:r?"0px":"12px",color:"currentColor",fontSize:"14px"}},q.createElement(FBe,null)),q.createElement(kd,{primary:m("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}})))):null,A=xn(()=>{k?window.confirm(c("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(D(!1),T()):T()},"handleLogout"),H=w&&q.createElement(yb,{title:c("buttons.logout","Logout"),placement:"right",disableHoverListener:!r,arrow:!0},q.createElement(bD,{key:"logout",onClick:()=>A(),sx:{justifyContent:"center"}},q.createElement(xd,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:r?"0px":"12px",color:"currentColor"}},q.createElement(NBe,null)),q.createElement(kd,{primary:c("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),W=O(v,C),$=xn(()=>e?e({dashboard:F,logout:H,items:W,collapsed:r}):q.createElement(q.Fragment,null,F,W,H),"renderSider"),U=q.createElement(C8,{disablePadding:!0,sx:{flexGrow:1,paddingTop:"16px"}},$());return q.createElement(q.Fragment,null,q.createElement(Fi,{sx:{width:{xs:l()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),q.createElement(Fi,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:l()},display:"flex"}},q.createElement(Lte,{variant:"temporary",elevation:2,open:o,onClose:()=>a(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"}}},q.createElement(Fi,{sx:{width:l()}},q.createElement(Fi,{sx:{height:64,display:"flex",alignItems:"center",paddingLeft:"16px",fontSize:"14px"}},q.createElement(R,{collapsed:!1})),U)),q.createElement(Lte,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:l(),overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},q.createElement(qc,{elevation:0,sx:{fontSize:"14px",width:"100%",height:64,display:"flex",flexShrink:0,alignItems:"center",justifyContent:r?"center":"space-between",paddingLeft:r?0:"16px",paddingRight:r?0:"8px",variant:"outlined",borderRadius:0,borderBottom:z=>`1px solid ${z.palette.action.focus}`}},q.createElement(R,{collapsed:r}),!r&&q.createElement(ua,{size:"small",onClick:()=>s(!0)},q.createElement(OBe,null))),q.createElement(Fi,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},U))))},"ThemedSiderV2"),dae=xn(n=>q.createElement(ua,{color:"inherit","aria-label":"open drawer",edge:"start",...n},q.createElement(dKe,null)),"HamburgerIcon"),A1e=xn(()=>{const{siderCollapsed:n,setSiderCollapsed:e,mobileSiderOpen:t,setMobileSiderOpen:i}=N1e();return q.createElement(q.Fragment,null,q.createElement(dae,{onClick:()=>e(!n),sx:{mr:2,display:{xs:"none",md:"flex"},...!n&&{display:"none"}}}),q.createElement(dae,{onClick:()=>i(!t),sx:{mr:2,display:{xs:"flex",md:"none"},...t&&{display:"none"}}}))},"HamburgerMenu"),$Ze=xn(({isSticky:n,sticky:e})=>{const t=no(),{data:i}=fN({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)}),r=Wt(e,n)??!0;return q.createElement(Tve,{position:r?"sticky":"relative"},q.createElement(fU,null,q.createElement(A1e,null),q.createElement(xs,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},q.createElement(xs,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},(i==null?void 0:i.name)&&q.createElement(nn,{variant:"subtitle2"},i==null?void 0:i.name),(i==null?void 0:i.avatar)&&q.createElement(Ive,{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.name})))))},"ThemedHeaderV2"),jZe=xn(({Sider:n,Header:e,Title:t,Footer:i,OffLayoutArea:r,children:s,initialSiderCollapsed:o,onSiderCollapsed:a,childrenBoxProps:l={},containerBoxProps:c={}})=>{const u=n??WZe,d=e??$Ze,{sx:h,...f}=l,{sx:p,...m}=c;return q.createElement(OZe,{initialSiderCollapsed:o,onSiderCollapsed:a},q.createElement(Fi,{sx:{display:"flex",flexDirection:"row",...p},...m},q.createElement(u,{Title:t}),q.createElement(Fi,{sx:[{display:"flex",flexDirection:"column",flex:1,minWidth:"1px",minHeight:"1px"}]},q.createElement(d,null),q.createElement(Fi,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:v=>v.palette.background.default,...h},...f},s),i&&q.createElement(i,null)),r&&q.createElement(r,null)))},"ThemedLayoutV2"),UZe=xn(({collapsed:n,wrapperStyles:e,icon:t,text:i})=>{const{title:{icon:r,text:s}={}}=bN(),o=typeof t>"u"?r:t,a=typeof i>"u"?s:i,l=lr(),c=Tv(),{Link:u}=To(),d=l==="legacy"?u:c;return q.createElement(Mve,{to:"/",component:d,underline:"none",sx:{display:"flex",alignItems:"center",gap:"12px",...e}},q.createElement(Dp,{height:"24px",width:"24px",color:"primary"},o),!n&&q.createElement(nn,{variant:"h6",fontWeight:700,color:"text.primary",fontSize:"inherit",textOverflow:"ellipsis",overflow:"hidden"},a))},"ThemedTitleV2"),qZe=xn(()=>{const[n,e]=M.useState(),{push:t}=Ko(),i=Go(),r=lr(),{resource:s,action:o}=Si(),a=Xn();return M.useEffect(()=>{s&&o&&e(a("pages.error.info",{action:o,resource:s==null?void 0:s.name},`You may have forgotten to add the "${o}" component to "${s==null?void 0:s.name}" resource.`))},[o,s]),q.createElement(K8,{display:"flex",justifyContent:"center",alignItems:"center",mt:20},q.createElement(K8,{container:!0,direction:"column",display:"flex",alignItems:"center"},q.createElement(nn,{variant:"h1"},"404"),q.createElement(xs,{direction:"row",spacing:"2"},q.createElement(nn,null,a("pages.error.404","Sorry, the page you visited does not exist.")),n&&q.createElement(yb,{title:n},q.createElement(bKe,{}))),q.createElement(Du,{onClick:()=>{r==="legacy"?t("/"):i({to:"/"})}},a("pages.error.backHome","Back Home"))))},"ErrorComponent"),H0=xn(({title:n,children:e,saveButtonProps:t,resource:i,isLoading:r=!1,breadcrumb:s,wrapperProps:o,headerProps:a,contentProps:l,headerButtonProps:c,headerButtons:u,footerButtonProps:d,footerButtons:h,goBack:f})=>{var p,m;const v=Xn(),{options:{breadcrumb:C}={}}=qs(),y=lr(),w=pN(),{goBack:_}=Ko(),x=Xd(),{resource:k,action:D,identifier:T}=Si(i),L=typeof s>"u"?C:s,I=typeof L<"u"?q.createElement(q.Fragment,null,L)??void 0:q.createElement(hA,null),R={...r?{disabled:!0}:{},...t},N=q.createElement(F1e,{...R});return q.createElement(nA,{...o??{},sx:{position:"relative",...o==null?void 0:o.sx}},r&&q.createElement(Fi,{sx:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:O=>O.zIndex.drawer+1,bgcolor:O=>wn(O.palette.background.paper,.4)}},q.createElement(Kp,null)),I,q.createElement(rA,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:n??q.createElement(nn,{variant:"h5",className:sA.Title},v(`${T}.titles.create`,`Create ${x(((p=k==null?void 0:k.meta)==null?void 0:p.label)??((m=k==null?void 0:k.options)==null?void 0:m.label)??(k==null?void 0:k.label)??T,"singular")}`)),avatar:typeof f<"u"?f:q.createElement(ua,{onClick:D!=="list"||typeof D<"u"?y==="legacy"?_:w:void 0},q.createElement(wU,null)),action:u?q.createElement(Fi,{display:"flex",gap:"16px",...c??{}},u?typeof u=="function"?u({defaultButtons:null}):u:null):void 0,...a??{}}),q.createElement(iA,{...l??{}},e),q.createElement(_U,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...d??{}},h?typeof h=="function"?h({defaultButtons:N,saveButtonProps:R}):h:N))},"Create"),V0=xn(({title:n,saveButtonProps:e,mutationMode:t,recordItemId:i,children:r,deleteButtonProps:s,canDelete:o,resource:a,isLoading:l=!1,breadcrumb:c,dataProviderName:u,wrapperProps:d,headerProps:h,contentProps:f,headerButtonProps:p,headerButtons:m,footerButtonProps:v,footerButtons:C,goBack:y,autoSaveProps:w})=>{var _,x,k;const D=Xn(),{options:{breadcrumb:T}={}}=qs(),{mutationMode:L}=kv(),I=t??L,R=lr(),N=pN(),O=Go(),{goBack:F,list:A}=Ko(),H=Xd(),{resource:W,action:$,id:U,identifier:z}=Si(a),K=cpe({resource:W,action:"list"}),Z=i??U,Q=typeof c>"u"?T:c,G=(W==null?void 0:W.list)&&!i,J=o??((((_=W==null?void 0:W.meta)==null?void 0:_.canDelete)??(W==null?void 0:W.canDelete))||s),ne=typeof Q<"u"?q.createElement(q.Fragment,null,Q)??void 0:q.createElement(hA,null),ae=G?{...l?{disabled:!0}:{},resource:R==="legacy"?W==null?void 0:W.route:z}:void 0,se={...l?{disabled:!0}:{},resource:R==="legacy"?W==null?void 0:W.route:z,recordItemId:Z,dataProviderName:u},X=q.createElement(Fi,{display:"flex",flexDirection:"row",alignItems:"center"},w&&q.createElement(YZe,{...w}),G&&q.createElement(O1e,{...ae}),q.createElement(P1e,{...se})),oe=J?{...l?{disabled:!0}:{},resource:R==="legacy"?W==null?void 0:W.route:z,mutationMode:I,variant:"outlined",onSuccess:()=>{R==="legacy"?A((W==null?void 0:W.route)??(W==null?void 0:W.name)??""):O({to:K})},recordItemId:Z,dataProviderName:u,...s}:void 0,ve={...l?{disabled:!0}:{},...e},me=q.createElement(q.Fragment,null,J&&q.createElement(Zp,{...oe}),q.createElement(F1e,{...ve}));return q.createElement(nA,{...d??{},sx:{position:"relative",...d==null?void 0:d.sx}},l&&q.createElement(Fi,{sx:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:ye=>ye.zIndex.drawer+1,bgcolor:ye=>wn(ye.palette.background.paper,.4)}},q.createElement(Kp,null)),ne,q.createElement(rA,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:n??q.createElement(nn,{variant:"h5",className:sA.Title},D(`${z}.titles.edit`,`Edit ${H(((x=W==null?void 0:W.meta)==null?void 0:x.label)??((k=W==null?void 0:W.options)==null?void 0:k.label)??(W==null?void 0:W.label)??z,"singular")}`)),avatar:typeof y<"u"?y:q.createElement(ua,{onClick:$!=="list"&&typeof $<"u"?R==="legacy"?F:N:void 0},q.createElement(wU,null)),action:q.createElement(Fi,{display:"flex",gap:"16px",...p??{}},m?typeof m=="function"?m({defaultButtons:X,listButtonProps:ae,refreshButtonProps:se}):m:X),...h??{}}),q.createElement(iA,{...f??{}},r),q.createElement(_U,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...v??{}},C?typeof C=="function"?C({defaultButtons:me,deleteButtonProps:oe,saveButtonProps:ve}):C:me))},"Edit"),z0=xn(({title:n,canCreate:e,children:t,createButtonProps:i,resource:r,breadcrumb:s,wrapperProps:o,headerProps:a,contentProps:l,headerButtonProps:c,headerButtons:u})=>{var d,h;const f=Xn(),{options:{breadcrumb:p}={}}=qs(),m=Xd(),v=lr(),{resource:C,identifier:y}=Si(r),w=e??(((C==null?void 0:C.canCreate)??!!(C!=null&&C.create))||i),_=typeof s>"u"?p:s,x=typeof _<"u"?q.createElement(q.Fragment,null,_)??void 0:q.createElement(hA,null),k=w?{resource:v==="legacy"?C==null?void 0:C.route:y,...i}:void 0,D=w?q.createElement(GZe,{...k}):null;return q.createElement(nA,{...o??{}},x,q.createElement(rA,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:n??q.createElement(nn,{variant:"h5",className:sA.Title},f(`${y}.titles.list`,m(((d=C==null?void 0:C.meta)==null?void 0:d.label)??((h=C==null?void 0:C.options)==null?void 0:h.label)??(C==null?void 0:C.label)??y,"plural"))),action:q.createElement(Fi,{display:"flex",gap:"16px",...c},u?typeof u=="function"?u({defaultButtons:D,createButtonProps:k}):u:D),...a??{}}),q.createElement(iA,{...l??{}},t))},"List"),W0=xn(({title:n,canEdit:e,canDelete:t,isLoading:i=!1,children:r,resource:s,recordItemId:o,breadcrumb:a,dataProviderName:l,wrapperProps:c,headerProps:u,contentProps:d,headerButtonProps:h,headerButtons:f,footerButtonProps:p,footerButtons:m,goBack:v})=>{var C,y,w;const _=Xn(),{options:{breadcrumb:x}={}}=qs(),k=lr(),D=pN(),T=Go(),{goBack:L,list:I}=Ko(),R=Xd(),{resource:N,action:O,id:F,identifier:A}=Si(s),H=cpe({resource:N,action:"list"}),W=o??F,$=typeof a>"u"?x:a,U=(N==null?void 0:N.list)&&!o,K=(t??((C=N==null?void 0:N.meta)==null?void 0:C.canDelete)??(N==null?void 0:N.canDelete))&&typeof W<"u",Z=e??(N==null?void 0:N.canEdit)??!!(N!=null&&N.edit),Q=typeof $<"u"?q.createElement(q.Fragment,null,$)??void 0:q.createElement(hA,null),G=U?{...i?{disabled:!0}:{},resource:k==="legacy"?N==null?void 0:N.route:A}:void 0,J=Z?{...i?{disabled:!0}:{},resource:k==="legacy"?N==null?void 0:N.route:A,recordItemId:W}:void 0,ne=K?{...i?{disabled:!0}:{},resource:k==="legacy"?N==null?void 0:N.route:A,recordItemId:W,onSuccess:()=>{k==="legacy"?I((N==null?void 0:N.route)??(N==null?void 0:N.name)??""):T({to:H})},dataProviderName:l}:void 0,ae={...i?{disabled:!0}:{},resource:k==="legacy"?N==null?void 0:N.route:A,recordItemId:W,dataProviderName:l},se=q.createElement(q.Fragment,null,U&&q.createElement(O1e,{...G}),Z&&q.createElement(Hv,{...J}),K&&q.createElement(Zp,{...ne}),q.createElement(P1e,{...ae}));return q.createElement(nA,{...c??{},sx:{position:"relative",...c==null?void 0:c.sx}},i&&q.createElement(Fi,{sx:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:X=>X.zIndex.drawer+1,bgcolor:X=>wn(X.palette.background.paper,.4)}},q.createElement(Kp,null)),Q,q.createElement(rA,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:n??q.createElement(nn,{variant:"h5",className:sA.Title},_(`${A}.titles.show`,`Show ${R(((y=N==null?void 0:N.meta)==null?void 0:y.label)??((w=N==null?void 0:N.options)==null?void 0:w.label)??(N==null?void 0:N.label)??A,"singular")}`)),avatar:typeof v<"u"?v:q.createElement(ua,{onClick:O!=="list"&&typeof O<"u"?k==="legacy"?L:D:void 0},q.createElement(wU,null)),action:q.createElement(Fi,{display:"flex",gap:"16px",...h??{}},f?typeof f=="function"?f({defaultButtons:se,deleteButtonProps:ne,editButtonProps:J,listButtonProps:G,refreshButtonProps:ae}):f:se),...u??{}}),q.createElement(iA,{...d??{}},r),q.createElement(_U,{sx:{padding:"16px"},...p??{}},m?typeof m=="function"?m({defaultButtons:null}):m:null))},"Show"),GZe=xn(({resource:n,resourceNameOrRouteName:e,hideText:t=!1,accessControl:i,svgIconProps:r,meta:s,children:o,onClick:a,...l})=>{const{to:c,label:u,title:d,disabled:h,hidden:f,LinkComponent:p}=qMe({resource:n??e,meta:s,accessControl:i}),m=h||l.disabled;if(f||l.hidden)return null;const{sx:C,...y}=l;return q.createElement(p,{to:c,replace:!1,onClick:w=>{if(m){w.preventDefault();return}a&&(w.preventDefault(),a(w))},style:{textDecoration:"none"}},q.createElement(Du,{disabled:m,startIcon:!t&&q.createElement(kie,{...r}),title:d,variant:"contained",sx:{minWidth:0,...C},className:Ov.CreateButton,...y},t?q.createElement(kie,{fontSize:"small",...r}):o??u))},"CreateButton"),Hv=xn(({resource:n,resourceNameOrRouteName:e,recordItemId:t,hideText:i=!1,accessControl:r,svgIconProps:s,meta:o,children:a,onClick:l,...c})=>{const{to:u,label:d,title:h,hidden:f,disabled:p,LinkComponent:m}=UMe({resource:n??e,id:t,accessControl:r,meta:o}),v=p||c.disabled;if(f||c.hidden)return null;const{sx:y,...w}=c;return q.createElement(m,{to:u,replace:!1,onClick:_=>{if(v){_.preventDefault();return}l&&(_.preventDefault(),l(_))},style:{textDecoration:"none"}},q.createElement(Du,{disabled:v,startIcon:!i&&q.createElement(Lie,{sx:{selfAlign:"center"},...s}),title:h,sx:{minWidth:0,...y},className:Ov.EditButton,...w},i?q.createElement(Lie,{fontSize:"small",...s}):a??d))},"EditButton"),Zp=xn(({resource:n,resourceNameOrRouteName:e,recordItemId:t,onSuccess:i,mutationMode:r,children:s,successNotification:o,errorNotification:a,hideText:l=!1,accessControl:c,meta:u,metaData:d,dataProviderName:h,confirmTitle:f,confirmOkText:p,confirmCancelText:m,svgIconProps:v,invalidates:C,...y})=>{const{onConfirm:w,title:_,label:x,hidden:k,disabled:D,loading:T,confirmTitle:L,confirmOkLabel:I,cancelLabel:R}=gpe({resource:n??e,id:t,dataProviderName:h,mutationMode:r,accessControl:c,invalidates:C,onSuccess:i,meta:u,successNotification:o,errorNotification:a}),[N,O]=q.useState(!1),{sx:F,...A}=y,H=D||y.disabled;return k||y.hidden?null:q.createElement("div",null,q.createElement(SU,{color:"error",onClick:()=>O(!0),disabled:H,loading:T,startIcon:!l&&q.createElement(Eie,{...v}),title:_,sx:{minWidth:0,...F},loadingPosition:l?"center":"start",className:Ov.DeleteButton,...A},l?q.createElement(Eie,{fontSize:"small",...v}):s??x),q.createElement(cQe,{open:N,onClose:()=>O(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},q.createElement(bQe,{id:"alert-dialog-title"},f??L),q.createElement(fQe,{sx:{justifyContent:"center"}},q.createElement(Du,{onClick:()=>O(!1)},m??R),q.createElement(Du,{color:"error",onClick:()=>{w(),O(!1)},autoFocus:!0},p??I))))},"DeleteButton"),P1e=xn(({resource:n,resourceNameOrRouteName:e,recordItemId:t,hideText:i=!1,dataProviderName:r,svgIconProps:s,children:o,onClick:a,meta:l,metaData:c,...u})=>{const{onClick:d,loading:h,label:f}=ppe({resource:n??e,id:t,dataProviderName:r}),{sx:p,...m}=u;return q.createElement(SU,{startIcon:!i&&q.createElement(Die,{...s}),loading:h,loadingPosition:i?"center":"start",onClick:a||d,sx:{minWidth:0,...p},className:Ov.RefreshButton,...m},i?q.createElement(Die,{fontSize:"small",...s}):o??f)},"RefreshButton"),$0=xn(({resource:n,resourceNameOrRouteName:e,recordItemId:t,hideText:i=!1,accessControl:r,svgIconProps:s,meta:o,children:a,onClick:l,...c})=>{const{to:u,label:d,title:h,hidden:f,disabled:p,LinkComponent:m}=jMe({resource:n??e,id:t,accessControl:r,meta:o}),v=p||c.disabled;if(f||c.hidden)return null;const{sx:y,...w}=c;return q.createElement(m,{to:u,replace:!1,onClick:_=>{if(v){_.preventDefault();return}l&&(_.preventDefault(),l(_))},style:{textDecoration:"none"}},q.createElement(Du,{disabled:v,startIcon:!i&&q.createElement(Tie,{...s}),title:h,sx:{minWidth:0,...y},className:Ov.ShowButton,...w},i?q.createElement(Tie,{fontSize:"small",...s}):a??d))},"ShowButton"),O1e=xn(({resource:n,resourceNameOrRouteName:e,hideText:t=!1,accessControl:i,svgIconProps:r,meta:s,children:o,onClick:a,...l})=>{const{to:c,label:u,title:d,hidden:h,disabled:f,LinkComponent:p}=GMe({resource:n??e,meta:s,accessControl:i}),m=f||l.disabled;if(h||l.hidden)return null;const{sx:C,...y}=l;return q.createElement(p,{to:c,replace:!1,onClick:w=>{if(m){w.preventDefault();return}a&&(w.preventDefault(),a(w))},style:{textDecoration:"none"}},q.createElement(Du,{disabled:m,startIcon:!t&&q.createElement(ZT,{...r}),title:d,sx:{minWidth:0,...C},className:Ov.ListButton,...y},t?q.createElement(ZT,{fontSize:"small",...r}):o??u))},"ListButton"),F1e=xn(({hideText:n=!1,svgIconProps:e,children:t,...i})=>{const{label:r}=KMe(),{sx:s,...o}=i;return q.createElement(SU,{startIcon:!n&&q.createElement(Iie,{...e}),sx:{minWidth:0,...s},variant:"contained",className:Ov.SaveButton,...o},n?q.createElement(Iie,{fontSize:"small",...e}):t??r)},"SaveButton"),KZe=xn(({undoableTimeout:n,message:e})=>{const[t,i]=M.useState(100),[r,s]=M.useState(n);return M.useEffect(()=>{const o=100/n,a=setInterval(()=>{s(l=>l-1),i(l=>l-o)},1e3);return r===0&&clearInterval(a),()=>{clearInterval(a)}},[r]),q.createElement(q.Fragment,null,q.createElement(Fi,{sx:{position:"relative",display:"inline-flex"}},q.createElement(Kp,{color:"inherit",variant:"determinate",value:t}),q.createElement(Fi,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},q.createElement(nn,{component:"div"},r))),q.createElement(Fi,{sx:{marginLeft:"10px",maxWidth:{xs:"150px",md:"100%"}}},q.createElement(nn,{variant:"subtitle2"},e)))},"CircularDeterminate"),Na=xn(({value:n,...e})=>q.createElement(nn,{variant:"body2",...e},n),"TextField"),UC=xn(({value:n,...e})=>q.createElement(qj,{label:n==null?void 0:n.toString(),...e}),"TagField"),B1e=xn(({value:n,valueLabelTrue:e="true",valueLabelFalse:t="false",trueIcon:i,falseIcon:r,svgIconProps:s,...o})=>q.createElement(yb,{title:n?e:t,...o},n?q.createElement("span",null,i??q.createElement(xQe,{...s})):q.createElement("span",null,r??q.createElement(kQe,{...s}))),"BooleanField");Qve.extend(RQe);Qve.locale();function QZe(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}xn(QZe,"toLocaleStringSupportsOptions");var hA=xn(({breadcrumbProps:n,showHome:e=!0,hideIcons:t=!1,meta:i,minItems:r=2})=>{var s,o;const{breadcrumbs:a}=HMe({meta:i}),l=lr(),c=Tv(),{Link:u}=To(),d=l==="legacy"?u:c,{hasDashboard:h}=qs(),{resources:f}=Si(),p=Hge("/",f);if(a.length<r)return null;const m=xn(v=>q.createElement(Mve,{...v,component:d}),"LinkRouter");return q.createElement(DZe,{"aria-label":"breadcrumb",sx:{padding:2,...(n==null?void 0:n.sx)??{}},...n},e&&(h||p.found)&&q.createElement(m,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",to:"/"},((o=(s=p==null?void 0:p.resource)==null?void 0:s.meta)==null?void 0:o.icon)??q.createElement(TZe,{sx:{fontSize:"18px"}})),a.map(({label:v,icon:C,href:y})=>q.createElement(K8,{key:v,sx:{display:"flex",alignItems:"center","& .MuiSvgIcon-root":{fontSize:"16px"}}},!t&&C,y?q.createElement(m,{underline:"hover",sx:{display:"flex",alignItems:"center",fontSize:"14px"},color:"inherit",to:y,variant:"subtitle1",marginLeft:.5},v):q.createElement(nn,{fontSize:"14px"},v))))},"Breadcrumb"),YZe=xn(({status:n,elements:{success:e=q.createElement(PD,{translationKey:"autoSave.success",defaultMessage:"saved",icon:q.createElement(RZe,{fontSize:"small"})}),error:t=q.createElement(PD,{translationKey:"autoSave.error",defaultMessage:"auto save failure",icon:q.createElement(NZe,{fontSize:"small"})}),loading:i=q.createElement(PD,{translationKey:"autoSave.loading",defaultMessage:"saving...",icon:q.createElement(MZe,{fontSize:"small"})}),idle:r=q.createElement(PD,{translationKey:"autoSave.idle",defaultMessage:"waiting for changes",icon:q.createElement(IZe,{fontSize:"small"})})}={}})=>q.createElement(ERe,{status:n,elements:{success:e,error:t,loading:i,idle:r}}),"AutoSaveIndicator"),PD=xn(({translationKey:n,defaultMessage:e,icon:t})=>{const i=Xn();return q.createElement(nn,{color:"gray",fontSize:"0.8rem",position:"relative",display:"flex",alignItems:"center",flexWrap:"wrap",marginRight:".3rem"},i(n,e),q.createElement("span",{style:{position:"relative",top:"3px",marginLeft:"3px"}},t))},"Message"),XZe={mode:"light",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#f0f0f0",paper:"#ffffff"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#fa541c",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#0b82f0",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#626262",secondary:"#9f9f9f",disabled:"#c1c1c1"}},ZZe={mode:"dark",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#212121",paper:"#242424"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#ee2a1e",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#1890ff",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#fff",secondary:"rgba(255,255,255,0.7)",disabled:"#d1d1d1"}},JZe={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},hae={Blue:{mode:"light",primary:{main:"#1976D2",light:"#4791db",dark:"#115293"}},BlueDark:{mode:"dark",primary:{main:"#67b7f7",light:"#85c5f8",dark:"#4880ac"}},Purple:{mode:"light",primary:{main:"#7B1FA2",light:"#954bb4",dark:"#561571"}},PurpleDark:{mode:"dark",primary:{main:"#AB47BC",light:"#bb6bc9",dark:"#773183"}},Magenta:{mode:"light",primary:{main:"#C2185B",light:"#ce467b",dark:"#87103f"}},MagentaDark:{mode:"dark",primary:{main:"#EC407A",light:"#ef6694",dark:"#a52c55"}},Red:{mode:"light",primary:{main:"#D32F2F",light:"#db5858",dark:"#932020"}},RedDark:{mode:"dark",primary:{main:"#EF5350",light:"#f27573",dark:"#a73a38"}},Orange:{mode:"light",primary:{main:"#F57C00",light:"#f79633",dark:"#ab5600"}},OrangeDark:{mode:"dark",primary:{main:"#FFA726",light:"#ffb851",dark:"#b2741a"}},Yellow:{mode:"light",primary:{main:"#FFA000",light:"#ffb333",dark:"#b27000"}},YellowDark:{mode:"dark",primary:{main:"#FFCA28",light:"#ffd453",dark:"#E87040"}},Green:{mode:"light",primary:{main:"#689F38",light:"#86b25f",dark:"#486f27"}},GreenDark:{mode:"dark",primary:{main:"#9CCC65",light:"#afd683",dark:"#6d8e46"}}},H1e={shape:{borderRadius:6},typography:{...JZe}};D0({...H1e,palette:XZe,components:{MuiAppBar:{styleOverrides:{colorDefault:{backgroundColor:"#fff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.01))"}}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}});D0({...H1e,palette:ZZe,components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.025), rgba(255, 255, 255, 0.025))"}}},MuiAppBar:{defaultProps:{color:"transparent"}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}});var fae=Object.keys(hae).reduce((n,e)=>{const t=e;return{...n,[e]:D0({palette:{...hae[t]},components:{MuiButton:{styleOverrides:{root:({ownerState:i})=>({...i.variant==="contained"&&i.color==="primary"&&{color:"#fff"}})}}}})}},{}),eJe=xn(()=>{const{closeSnackbar:n,enqueueSnackbar:e}=V5e();return{open:({message:i,type:r,undoableTimeout:s,key:o,cancelMutation:a,description:l})=>{if(r==="progress"){const c=xn(u=>q.createElement(ua,{onClick:()=>{a==null||a(),n(u)},color:"inherit"},q.createElement(AZe,null)),"action");e(q.createElement(q.Fragment,null,q.createElement(KZe,{undoableTimeout:s??0,message:i})),{action:c,preventDuplicate:!0,key:o,autoHideDuration:(s??0)*1e3})}else e(q.createElement(Fi,null,q.createElement(nn,{variant:"subtitle2",component:"h6"},l),q.createElement(nn,{variant:"caption",component:"p"},i)),{key:o,variant:r})},close:i=>{n(i)}}},"useNotificationProvider"),tJe=xn(({anchorOrigin:n={vertical:"top",horizontal:"right"},disableWindowBlurListener:e=!0,...t})=>q.createElement(H5e,{anchorOrigin:n,disableWindowBlurListener:e,...t}),"SnackbarProviderWithDefaultValues"),nJe=$e(tJe)`
&.SnackbarItem-contentRoot {
    background-color: ${n=>n.theme.palette.background.default};
    color: ${n=>n.theme.palette.primary.main};
}
&.SnackbarItem-variantSuccess {
    background-color: ${n=>n.theme.palette.success.main};
    color: ${n=>n.theme.palette.success.contrastText};
}
&.SnackbarItem-variantError {
    background-color: ${n=>n.theme.palette.error.main};
    color: ${n=>n.theme.palette.error.contrastText};
}
&.SnackbarItem-variantInfo {
    background-color: ${n=>n.theme.palette.info.main};
    color: ${n=>n.theme.palette.info.contrastText};
}
&.SnackbarItem-variantWarning {
    background-color: ${n=>n.theme.palette.warning.main};
    color: ${n=>n.theme.palette.warning.contrastText};
}
`;const Z8=typeof Rj({})=="function",iJe=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),rJe=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),V1e=(n,e=!1)=>{var s,o;const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([a,l])=>{var u,d;const c=n.getColorSchemeSelector(a);c.startsWith("@")?t[c]={":root":{colorScheme:(u=l.palette)==null?void 0:u.mode}}:t[c.replace(/\s*&/,"")]={colorScheme:(d=l.palette)==null?void 0:d.mode}});let i={html:iJe(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...rJe(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const r=(o=(s=n.components)==null?void 0:s.MuiCssBaseline)==null?void 0:o.styleOverrides;return r&&(i=[i,r]),i},Y2="mui-ecs",sJe=n=>{const e=V1e(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${Y2})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,r])=>{var o,a;const s=n.getColorSchemeSelector(i);s.startsWith("@")?t[s]={[`:root:not(:has(.${Y2}))`]:{colorScheme:(o=r.palette)==null?void 0:o.mode}}:t[s.replace(/\s*&/,"")]={[`&:not(:has(.${Y2}))`]:{colorScheme:(a=r.palette)==null?void 0:a.mode}}}),e},oJe=Rj(Z8?({theme:n,enableColorScheme:e})=>V1e(n,e):({theme:n})=>sJe(n));function aJe(n){const e=on({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return V.jsxs(M.Fragment,{children:[Z8&&V.jsx(oJe,{enableColorScheme:i}),!Z8&&!i&&V.jsx("span",{className:Y2,style:{display:"none"}}),t]})}var Lw={},gae;function lJe(){if(gae)return Lw;gae=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.parse=o,Lw.serialize=c;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,f){const p=new s,m=h.length;if(m<2)return p;const v=(f==null?void 0:f.decode)||u;let C=0;do{const y=h.indexOf("=",C);if(y===-1)break;const w=h.indexOf(";",C),_=w===-1?m:w;if(y>_){C=h.lastIndexOf(";",y-1)+1;continue}const x=a(h,C,y),k=l(h,y,x),D=h.slice(x,k);if(p[D]===void 0){let T=a(h,y+1,_),L=l(h,_,T);const I=v(h.slice(T,L));p[D]=I}C=_+1}while(C<m);return p}function a(h,f,p){do{const m=h.charCodeAt(f);if(m!==32&&m!==9)return f}while(++f<p);return p}function l(h,f,p){for(;f>p;){const m=h.charCodeAt(--f);if(m!==32&&m!==9)return f+1}return p}function c(h,f,p){const m=(p==null?void 0:p.encode)||encodeURIComponent;if(!n.test(h))throw new TypeError(`argument name is invalid: ${h}`);const v=m(f);if(!e.test(v))throw new TypeError(`argument val is invalid: ${f}`);let C=h+"="+v;if(!p)return C;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);C+="; Max-Age="+p.maxAge}if(p.domain){if(!t.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);C+="; Domain="+p.domain}if(p.path){if(!i.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);C+="; Path="+p.path}if(p.expires){if(!d(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);C+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(C+="; HttpOnly"),p.secure&&(C+="; Secure"),p.partitioned&&(C+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return C}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return r.call(h)==="[object Date]"}return Lw}lJe();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pae="popstate";function cJe(n={}){function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return J8("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Wx(r)}return dJe(e,t,null,n)}function zr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uJe(){return Math.random().toString(36).substring(2,10)}function mae(n,e){return{usr:n.state,key:n.key,idx:e}}function J8(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?j0(e):e,state:t,key:e&&e.key||i||uJe()}}function Wx({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function j0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function dJe(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let v=u(),C=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:C})}function h(v,C){a="PUSH";let y=J8(m.location,v,C);c=u()+1;let w=mae(y,c),_=m.createHref(y);try{o.pushState(w,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(_)}s&&l&&l({action:a,location:m.location,delta:1})}function f(v,C){a="REPLACE";let y=J8(m.location,v,C);c=u();let w=mae(y,c),_=m.createHref(y);o.replaceState(w,"",_),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){let C=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof v=="string"?v:Wx(v);return y=y.replace(/ $/,"%20"),zr(C,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,C)}let m={get action(){return a},get location(){return n(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(pae,d),l=v,()=>{r.removeEventListener(pae,d),l=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let C=p(v);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:h,replace:f,go(v){return o.go(v)}};return m}function z1e(n,e,t="/"){return hJe(n,e,t,!1)}function hJe(n,e,t,i){let r=typeof e=="string"?j0(e):e,s=Mp(r.pathname||"/",t);if(s==null)return null;let o=W1e(n);fJe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xJe(s);a=wJe(o[l],c,i)}return a}function W1e(n,e=[],t=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(zr(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=yf([i,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(zr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),W1e(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:CJe(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of $1e(s.path))r(s,o,l)}),e}function $1e(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=$1e(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function fJe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_Je(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gJe=/^:[\w-]+$/,pJe=3,mJe=2,bJe=1,vJe=10,yJe=-2,bae=n=>n==="*";function CJe(n,e){let t=n.split("/"),i=t.length;return t.some(bae)&&(i+=yJe),e&&(i+=mJe),t.filter(r=>!bae(r)).reduce((r,s)=>r+(gJe.test(s)?pJe:s===""?bJe:vJe),i)}function _Je(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wJe(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=$x({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!i[i.length-1].route.index&&(d=$x({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:yf([s,d.pathname]),pathnameBase:DJe(yf([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=yf([s,d.pathnameBase]))}return o}function $x(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=SJe(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function SJe(n,e=!1,t=!0){Tu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function xJe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function kJe(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?j0(n):n;return{pathname:t?t.startsWith("/")?t:LJe(t,e):e,search:TJe(i),hash:IJe(r)}}function LJe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function l7(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EJe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NU(n){let e=EJe(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function AU(n,e,t,i=!1){let r;typeof n=="string"?r=j0(n):(r={...n},zr(!r.pathname||!r.pathname.includes("?"),l7("?","pathname","search",r)),zr(!r.pathname||!r.pathname.includes("#"),l7("#","pathname","hash",r)),zr(!r.search||!r.search.includes("#"),l7("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=kJe(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var yf=n=>n.join("/").replace(/\/\/+/g,"/"),DJe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TJe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IJe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MJe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var j1e=["POST","PUT","PATCH","DELETE"];new Set(j1e);var RJe=["GET",...j1e];new Set(RJe);var U0=M.createContext(null);U0.displayName="DataRouter";var fA=M.createContext(null);fA.displayName="DataRouterState";var U1e=M.createContext({isTransitioning:!1});U1e.displayName="ViewTransition";var NJe=M.createContext(new Map);NJe.displayName="Fetchers";var AJe=M.createContext(null);AJe.displayName="Await";var Yc=M.createContext(null);Yc.displayName="Navigation";var fL=M.createContext(null);fL.displayName="Location";var Xc=M.createContext({outlet:null,matches:[],isDataRoute:!1});Xc.displayName="Route";var PU=M.createContext(null);PU.displayName="RouteError";function PJe(n,{relative:e}={}){zr(q0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Yc),{hash:r,pathname:s,search:o}=gL(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:yf([t,s])),i.createHref({pathname:a,search:o,hash:r})}function q0(){return M.useContext(fL)!=null}function Ac(){return zr(q0(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(fL).location}var q1e="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G1e(n){M.useContext(Yc).static||M.useLayoutEffect(n)}function bI(){let{isDataRoute:n}=M.useContext(Xc);return n?XJe():OJe()}function OJe(){zr(q0(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(U0),{basename:e,navigator:t}=M.useContext(Yc),{matches:i}=M.useContext(Xc),{pathname:r}=Ac(),s=JSON.stringify(NU(i)),o=M.useRef(!1);return G1e(()=>{o.current=!0}),M.useCallback((l,c={})=>{if(Tu(o.current,q1e),!o.current)return;if(typeof l=="number"){t.go(l);return}let u=AU(l,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:yf([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,s,r,n])}var FJe=M.createContext(null);function BJe(n){let e=M.useContext(Xc).outlet;return e&&M.createElement(FJe.Provider,{value:n},e)}function HJe(){let{matches:n}=M.useContext(Xc),e=n[n.length-1];return e?e.params:{}}function gL(n,{relative:e}={}){let{matches:t}=M.useContext(Xc),{pathname:i}=Ac(),r=JSON.stringify(NU(t));return M.useMemo(()=>AU(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function VJe(n,e){return K1e(n,e)}function K1e(n,e,t,i){var C;zr(q0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=M.useContext(Yc),{matches:s}=M.useContext(Xc),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let y=u&&u.path||"";Q1e(l,!u||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=Ac(),h;if(e){let y=typeof e=="string"?j0(e):e;zr(c==="/"||((C=y.pathname)==null?void 0:C.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),h=y}else h=d;let f=h.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=z1e(n,{pathname:p});Tu(u||m!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Tu(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=UJe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:yf([c,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:yf([c,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,i);return e&&v?M.createElement(fL.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function zJe(){let n=YJe(),e=MJe(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:r},t):null,o)}var WJe=M.createElement(zJe,null),$Je=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(Xc.Provider,{value:this.props.routeContext},M.createElement(PU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jJe({routeContext:n,match:e,children:t}){let i=M.useContext(U0);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Xc.Provider,{value:n},t)}function UJe(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);zr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=t,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,u)=>{let d,h=!1,f=null,p=null;t&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||WJe,o&&(a<0&&u===0?(Q1e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=e.concat(r.slice(0,u+1)),v=()=>{let C;return d?C=f:h?C=p:c.route.Component?C=M.createElement(c.route.Component,null):c.route.element?C=c.route.element:C=l,M.createElement(jJe,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:t!=null},children:C})};return t&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?M.createElement($Je,{location:t.location,revalidation:t.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function OU(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qJe(n){let e=M.useContext(U0);return zr(e,OU(n)),e}function GJe(n){let e=M.useContext(fA);return zr(e,OU(n)),e}function KJe(n){let e=M.useContext(Xc);return zr(e,OU(n)),e}function FU(n){let e=KJe(n),t=e.matches[e.matches.length-1];return zr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QJe(){return FU("useRouteId")}function YJe(){var i;let n=M.useContext(PU),e=GJe("useRouteError"),t=FU("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XJe(){let{router:n}=qJe("useNavigate"),e=FU("useNavigate"),t=M.useRef(!1);return G1e(()=>{t.current=!0}),M.useCallback(async(r,s={})=>{Tu(t.current,q1e),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var vae={};function Q1e(n,e,t){!e&&!vae[n]&&(vae[n]=!0,Tu(!1,t))}M.memo(ZJe);function ZJe({routes:n,future:e,state:t}){return K1e(n,void 0,t,e)}function JJe({to:n,replace:e,state:t,relative:i}){zr(q0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=M.useContext(Yc);Tu(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=M.useContext(Xc),{pathname:o}=Ac(),a=bI(),l=AU(n,NU(s),o,i==="path"),c=JSON.stringify(l);return M.useEffect(()=>{a(JSON.parse(c),{replace:e,state:t,relative:i})},[a,c,i,e,t]),null}function eet(n){return BJe(n.context)}function Ni(n){zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tet({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){zr(!q0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=M.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=j0(t));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=t,f=M.useMemo(()=>{let p=Mp(l,o);return p==null?null:{location:{pathname:p,search:c,hash:u,state:d,key:h},navigationType:i}},[o,l,c,u,d,h,i]);return Tu(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:M.createElement(Yc.Provider,{value:a},M.createElement(fL.Provider,{children:e,value:f}))}function net({children:n,location:e}){return VJe(eH(n),e)}function eH(n,e=[]){let t=[];return M.Children.forEach(n,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){t.push.apply(t,eH(i.props.children,s));return}zr(i.type===Ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=eH(i.props.children,s)),t.push(o)}),t}var X2="get",Z2="application/x-www-form-urlencoded";function gA(n){return n!=null&&typeof n.tagName=="string"}function iet(n){return gA(n)&&n.tagName.toLowerCase()==="button"}function ret(n){return gA(n)&&n.tagName.toLowerCase()==="form"}function set(n){return gA(n)&&n.tagName.toLowerCase()==="input"}function oet(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aet(n,e){return n.button===0&&(!e||e==="_self")&&!oet(n)}var OD=null;function cet(){if(OD===null)try{new FormData(document.createElement("form"),0),OD=!1}catch{OD=!0}return OD}var uet=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c7(n){return n!=null&&!uet.has(n)?(Tu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Z2}"`),null):n}function det(n,e){let t,i,r,s,o;if(ret(n)){let a=n.getAttribute("action");i=a?Mp(a,e):null,t=n.getAttribute("method")||X2,r=c7(n.getAttribute("enctype"))||Z2,s=new FormData(n)}else if(iet(n)||set(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?Mp(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||X2,r=c7(n.getAttribute("formenctype"))||c7(a.getAttribute("enctype"))||Z2,s=new FormData(a,n),!cet()){let{name:c,type:u,value:d}=n;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(gA(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=X2,i=null,r=Z2,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}function BU(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function het(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fet(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function get(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await het(s,t);return o.links?o.links():[]}return[]}));return vet(i.flat(1).filter(fet).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function yae(n,e,t,i,r,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var u;return t[c].pathname!==l.pathname||((u=t[c].route.path)==null?void 0:u.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=i.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function pet(n,e){return met(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function met(n){return[...new Set(n)]}function bet(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vet(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(bet(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function yet(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Cet(){let n=M.useContext(U0);return BU(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _et(){let n=M.useContext(fA);return BU(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var HU=M.createContext(void 0);HU.displayName="FrameworkContext";function Y1e(){let n=M.useContext(HU);return BU(n,"You must render this element inside a <HydratedRouter> element"),n}function wet(n,e){let t=M.useContext(HU),[i,r]=M.useState(!1),[s,o]=M.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=M.useRef(null);M.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let m=C=>{C.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[n]),M.useEffect(()=>{if(i){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[i]);let f=()=>{r(!0)},p=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,h,{}]:[s,h,{onFocus:Ew(a,f),onBlur:Ew(l,p),onMouseEnter:Ew(c,f),onMouseLeave:Ew(u,p),onTouchStart:Ew(d,f)}]:[!1,h,{}]}function Ew(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xet({page:n,...e}){let{router:t}=Cet(),i=M.useMemo(()=>z1e(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(Let,{page:n,matches:i,...e}):null}function ket(n){let{manifest:e,routeModules:t}=Y1e(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return get(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function Let({page:n,matches:e,...t}){let i=Ac(),{manifest:r,routeModules:s}=Y1e(),{loaderData:o,matches:a}=_et(),l=M.useMemo(()=>yae(n,e,a,r,i,"data"),[n,e,a,r,i]),c=M.useMemo(()=>yae(n,e,a,r,i,"assets"),[n,e,a,r,i]),u=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let f=new Set,p=!1;if(e.forEach(v=>{var y;let C=r.routes[v.route.id];!C||!C.hasLoader||(!l.some(w=>w.route.id===v.route.id)&&v.route.id in o&&((y=s[v.route.id])!=null&&y.shouldRevalidate)||C.hasClientLoader?p=!0:f.add(v.route.id))}),f.size===0)return[];let m=yet(n);return p&&f.size>0&&m.searchParams.set("_routes",e.filter(v=>f.has(v.route.id)).map(v=>v.route.id).join(",")),[m.pathname+m.search]},[o,i,r,l,e,n,s]),d=M.useMemo(()=>pet(c,r),[c,r]),h=ket(c);return M.createElement(M.Fragment,null,u.map(f=>M.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...t})),d.map(f=>M.createElement("link",{key:f,rel:"modulepreload",href:f,...t})),h.map(({key:f,link:p})=>M.createElement("link",{key:f,...p})))}function Eet(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var X1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X1e&&(window.__reactRouterVersion="7.1.3")}catch{}function Det({basename:n,children:e,window:t}){let i=M.useRef();i.current==null&&(i.current=cJe({window:t,v5Compat:!0}));let r=i.current,[s,o]=M.useState({action:r.action,location:r.location}),a=M.useCallback(l=>{M.startTransition(()=>o(l))},[o]);return M.useLayoutEffect(()=>r.listen(a),[r,a]),M.createElement(tet,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var Z1e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VU=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},f){let{basename:p}=M.useContext(Yc),m=typeof c=="string"&&Z1e.test(c),v,C=!1;if(typeof c=="string"&&m&&(v=c,X1e))try{let L=new URL(window.location.href),I=c.startsWith("//")?new URL(L.protocol+c):new URL(c),R=Mp(I.pathname,p);I.origin===L.origin&&R!=null?c=R+I.search+I.hash:C=!0}catch{Tu(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=PJe(c,{relative:r}),[w,_,x]=wet(i,h),k=Ret(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function D(L){e&&e(L),L.defaultPrevented||k(L)}let T=M.createElement("a",{...h,...x,href:v||y,onClick:C||s?e:D,ref:Eet(f,_),target:l,"data-discover":!m&&t==="render"?"true":void 0});return w&&!m?M.createElement(M.Fragment,null,T,M.createElement(xet,{page:y})):T});VU.displayName="Link";var Tet=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=gL(o,{relative:c.relative}),h=Ac(),f=M.useContext(fA),{navigator:p,basename:m}=M.useContext(Yc),v=f!=null&&Fet(d)&&a===!0,C=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=h.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(y=y.toLowerCase(),w=w?w.toLowerCase():null,C=C.toLowerCase()),w&&m&&(w=Mp(w,m)||w);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let x=y===C||!r&&y.startsWith(C)&&y.charAt(_)==="/",k=w!=null&&(w===C||!r&&w.startsWith(C)&&w.charAt(C.length)==="/"),D={isActive:x,isPending:k,isTransitioning:v},T=x?e:void 0,L;typeof i=="function"?L=i(D):L=[i,x?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(D):s;return M.createElement(VU,{...c,"aria-current":T,className:L,ref:u,style:I,to:o,viewTransition:a},typeof l=="function"?l(D):l)});Tet.displayName="NavLink";var Iet=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=X2,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let p=Pet(),m=Oet(a,{relative:c}),v=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&Z1e.test(a),y=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,x=(_==null?void 0:_.getAttribute("formmethod"))||o;p(_||w.currentTarget,{fetcherKey:e,method:x,navigate:t,replace:r,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return M.createElement("form",{ref:f,method:v,action:m,onSubmit:i?l:y,...h,"data-discover":!C&&n==="render"?"true":void 0})});Iet.displayName="Form";function Met(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1e(n){let e=M.useContext(U0);return zr(e,Met(n)),e}function Ret(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=bI(),l=Ac(),c=gL(n,{relative:s});return M.useCallback(u=>{if(aet(u,e)){u.preventDefault();let d=t!==void 0?t:Wx(l)===Wx(c);a(n,{replace:d,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,t,i,e,n,r,s,o])}var Net=0,Aet=()=>`__${String(++Net)}__`;function Pet(){let{router:n}=J1e("useSubmit"),{basename:e}=M.useContext(Yc),t=QJe();return M.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=det(i,e);if(r.navigate===!1){let u=r.fetcherKey||Aet();await n.fetch(u,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Oet(n,{relative:e}={}){let{basename:t}=M.useContext(Yc),i=M.useContext(Xc);zr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...gL(n||".",{relative:e})},o=Ac();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:yf([t,s.pathname])),Wx(s)}function Fet(n,e={}){let t=M.useContext(U1e);zr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=J1e("useViewTransitionState"),r=gL(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Mp(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Mp(t.nextLocation.pathname,i)||t.nextLocation.pathname;return $x(r.pathname,o)!=null||$x(r.pathname,s)!=null}new TextEncoder;var Cae=n=>{if(typeof n>"u")return n;let e=Number(n);return`${e}`===n?e:n},Bet={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},Het={go:()=>{let{search:n,hash:e}=Ac(),t=bI();return M.useCallback(({to:i,type:r,query:s,hash:o,options:{keepQuery:a,keepHash:l}={}})=>{let c={...a&&n&&Dd.parse(n,{ignoreQueryPrefix:!0}),...s};c.to&&(c.to=encodeURIComponent(`${c.to}`));let u=Object.keys(c).length>0,d=`#${(o||l&&e||"").replace(/^#/,"")}`,h=d.length>1,f=`${i||""}${u?Dd.stringify(c,Bet):""}${h?d:""}`;if(r==="path")return f;t(f,{replace:r==="replace"})},[e,n,t])},back:()=>{let n=bI();return M.useCallback(()=>{n(-1)},[n])},parse:()=>{var n;let e=HJe(),{pathname:t,search:i}=Ac(),{resources:r}=M.useContext(Bk),{resource:s,action:o,matchedRoute:a}=q.useMemo(()=>Hge(t,r),[r,t]);return Object.entries(e).length===0&&a&&(e=((n=$x(a,t))==null?void 0:n.params)||{}),M.useCallback(()=>{let l=Dd.parse(i,{ignoreQueryPrefix:!0}),c={...e,...l};return{...s&&{resource:s},...o&&{action:o},...(e==null?void 0:e.id)&&{id:decodeURIComponent(e.id)},pathname:t,params:{...c,current:Cae(c.current),pageSize:Cae(c.pageSize),to:c.to?decodeURIComponent(c.to):void 0}}},[t,i,e,s,o])},Link:q.forwardRef(function(n,e){return q.createElement(VU,{...n,ref:e})})},Vet=({resource:n,meta:e})=>{let t=zk(),{resource:i,resources:r}=Si(n),s=i||r.find(o=>o.list);if(s){let o=t({resource:s,action:"list",meta:e});return o?q.createElement(JJe,{to:o}):(console.warn("No resource is found to navigate to."),null)}return console.warn("No resource is found to navigate to."),null};function zet(n,e=!0){let{navigator:t}=q.useContext(Yc);q.useEffect(()=>{if(!e)return;let i=t.go,r=t.push;return t.push=(...s)=>{n()!==!1&&r(...s)},t.go=(...s)=>{n()!==!1&&i(...s)},()=>{t.push=r,t.go=i}},[t,n,e])}function Wet(n,e=!0,t){let i=q.useCallback(s=>(s.preventDefault(),s.returnValue=n,s.returnValue),[n]);q.useEffect(()=>(e&&window.addEventListener("beforeunload",i),()=>{window.removeEventListener("beforeunload",i)}),[i,e]);let r=q.useCallback(()=>{let s=window.confirm(n);return s&&t&&t(),s},[n]);zet(r,e)}var $et=({translationKey:n="warnWhenUnsavedChanges",message:e="Are you sure you want to leave? You have unsaved changes."})=>{let t=Xn(),{pathname:i}=Ac(),{warnWhen:r,setWarnWhen:s}=Lv();q.useEffect(()=>()=>s==null?void 0:s(!1),[i]);let o=q.useMemo(()=>t(n,e),[n,e,t]);return Wet(o,r,()=>{s==null||s(!1)}),null};function jet({handler:n}){var e;let t=Ac(),{action:i,id:r,params:s,pathname:o,resource:a}=fl(),l=Xn(),c=Xd(),u=(a==null?void 0:a.identifier)??(a==null?void 0:a.name),d=(a==null?void 0:a.label)??((e=a==null?void 0:a.meta)==null?void 0:e.label)??c(u,i==="list"?"plural":"singular"),h=l(`${a==null?void 0:a.name}.${a==null?void 0:a.name}`,d);return M.useLayoutEffect(()=>{let f=$ge(l,a,i,`${r}`,d);n?document.title=n({action:i,resource:{...a??{},label:h,meta:{...a==null?void 0:a.meta,label:h}},params:s,pathname:o,autoGeneratedTitle:f}):document.title=f},[t]),q.createElement(q.Fragment,null)}var u7={},d7,_ae;function Uet(){return _ae||(_ae=1,d7=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),d7}var h7,wae;function qet(){if(wae)return h7;wae=1;var n="%[a-f0-9]{2}",e=new RegExp("("+n+")|([^%]+?)","gi"),t=new RegExp("("+n+")+","gi");function i(o,a){try{return[decodeURIComponent(o.join(""))]}catch{}if(o.length===1)return o;a=a||1;var l=o.slice(0,a),c=o.slice(a);return Array.prototype.concat.call([],i(l),i(c))}function r(o){try{return decodeURIComponent(o)}catch{for(var a=o.match(e)||[],l=1;l<a.length;l++)o=i(a,l).join(""),a=o.match(e)||[];return o}}function s(o){for(var a={"%FE%FF":"","%FF%FE":""},l=t.exec(o);l;){try{a[l[0]]=decodeURIComponent(l[0])}catch{var c=r(l[0]);c!==l[0]&&(a[l[0]]=c)}l=t.exec(o)}a["%C2"]="";for(var u=Object.keys(a),d=0;d<u.length;d++){var h=u[d];o=o.replace(new RegExp(h,"g"),a[h])}return o}return h7=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch{return s(o)}},h7}var f7,Sae;function Get(){return Sae||(Sae=1,f7=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]}),f7}var g7,xae;function Ket(){return xae||(xae=1,g7=function(n,e){for(var t={},i=Object.keys(n),r=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],a=n[o];(r?e.indexOf(o)!==-1:e(o,a,n))&&(t[o]=a)}return t}),g7}var kae;function Qet(){return kae||(kae=1,function(n){const e=Uet(),t=qet(),i=Get(),r=Ket(),s=y=>y==null,o=Symbol("encodeFragmentIdentifier");function a(y){switch(y.arrayFormat){case"index":return w=>(_,x)=>{const k=_.length;return x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?_:x===null?[..._,[u(w,y),"[",k,"]"].join("")]:[..._,[u(w,y),"[",u(k,y),"]=",u(x,y)].join("")]};case"bracket":return w=>(_,x)=>x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?_:x===null?[..._,[u(w,y),"[]"].join("")]:[..._,[u(w,y),"[]=",u(x,y)].join("")];case"colon-list-separator":return w=>(_,x)=>x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?_:x===null?[..._,[u(w,y),":list="].join("")]:[..._,[u(w,y),":list=",u(x,y)].join("")];case"comma":case"separator":case"bracket-separator":{const w=y.arrayFormat==="bracket-separator"?"[]=":"=";return _=>(x,k)=>k===void 0||y.skipNull&&k===null||y.skipEmptyString&&k===""?x:(k=k===null?"":k,x.length===0?[[u(_,y),w,u(k,y)].join("")]:[[x,u(k,y)].join(y.arrayFormatSeparator)])}default:return w=>(_,x)=>x===void 0||y.skipNull&&x===null||y.skipEmptyString&&x===""?_:x===null?[..._,u(w,y)]:[..._,[u(w,y),"=",u(x,y)].join("")]}}function l(y){let w;switch(y.arrayFormat){case"index":return(_,x,k)=>{if(w=/\[(\d*)\]$/.exec(_),_=_.replace(/\[\d*\]$/,""),!w){k[_]=x;return}k[_]===void 0&&(k[_]={}),k[_][w[1]]=x};case"bracket":return(_,x,k)=>{if(w=/(\[\])$/.exec(_),_=_.replace(/\[\]$/,""),!w){k[_]=x;return}if(k[_]===void 0){k[_]=[x];return}k[_]=[].concat(k[_],x)};case"colon-list-separator":return(_,x,k)=>{if(w=/(:list)$/.exec(_),_=_.replace(/:list$/,""),!w){k[_]=x;return}if(k[_]===void 0){k[_]=[x];return}k[_]=[].concat(k[_],x)};case"comma":case"separator":return(_,x,k)=>{const D=typeof x=="string"&&x.includes(y.arrayFormatSeparator),T=typeof x=="string"&&!D&&d(x,y).includes(y.arrayFormatSeparator);x=T?d(x,y):x;const L=D||T?x.split(y.arrayFormatSeparator).map(I=>d(I,y)):x===null?x:d(x,y);k[_]=L};case"bracket-separator":return(_,x,k)=>{const D=/(\[\])$/.test(_);if(_=_.replace(/\[\]$/,""),!D){k[_]=x&&d(x,y);return}const T=x===null?[]:x.split(y.arrayFormatSeparator).map(L=>d(L,y));if(k[_]===void 0){k[_]=T;return}k[_]=[].concat(k[_],T)};default:return(_,x,k)=>{if(k[_]===void 0){k[_]=x;return}k[_]=[].concat(k[_],x)}}}function c(y){if(typeof y!="string"||y.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(y,w){return w.encode?w.strict?e(y):encodeURIComponent(y):y}function d(y,w){return w.decode?t(y):y}function h(y){return Array.isArray(y)?y.sort():typeof y=="object"?h(Object.keys(y)).sort((w,_)=>Number(w)-Number(_)).map(w=>y[w]):y}function f(y){const w=y.indexOf("#");return w!==-1&&(y=y.slice(0,w)),y}function p(y){let w="";const _=y.indexOf("#");return _!==-1&&(w=y.slice(_)),w}function m(y){y=f(y);const w=y.indexOf("?");return w===-1?"":y.slice(w+1)}function v(y,w){return w.parseNumbers&&!Number.isNaN(Number(y))&&typeof y=="string"&&y.trim()!==""?y=Number(y):w.parseBooleans&&y!==null&&(y.toLowerCase()==="true"||y.toLowerCase()==="false")&&(y=y.toLowerCase()==="true"),y}function C(y,w){w=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},w),c(w.arrayFormatSeparator);const _=l(w),x=Object.create(null);if(typeof y!="string"||(y=y.trim().replace(/^[?#&]/,""),!y))return x;for(const k of y.split("&")){if(k==="")continue;let[D,T]=i(w.decode?k.replace(/\+/g," "):k,"=");T=T===void 0?null:["comma","separator","bracket-separator"].includes(w.arrayFormat)?T:d(T,w),_(d(D,w),T,x)}for(const k of Object.keys(x)){const D=x[k];if(typeof D=="object"&&D!==null)for(const T of Object.keys(D))D[T]=v(D[T],w);else x[k]=v(D,w)}return w.sort===!1?x:(w.sort===!0?Object.keys(x).sort():Object.keys(x).sort(w.sort)).reduce((k,D)=>{const T=x[D];return T&&typeof T=="object"&&!Array.isArray(T)?k[D]=h(T):k[D]=T,k},Object.create(null))}n.extract=m,n.parse=C,n.stringify=(y,w)=>{if(!y)return"";w=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},w),c(w.arrayFormatSeparator);const _=T=>w.skipNull&&s(y[T])||w.skipEmptyString&&y[T]==="",x=a(w),k={};for(const T of Object.keys(y))_(T)||(k[T]=y[T]);const D=Object.keys(k);return w.sort!==!1&&D.sort(w.sort),D.map(T=>{const L=y[T];return L===void 0?"":L===null?u(T,w):Array.isArray(L)?L.length===0&&w.arrayFormat==="bracket-separator"?u(T,w)+"[]":L.reduce(x(T),[]).join("&"):u(T,w)+"="+u(L,w)}).filter(T=>T.length>0).join("&")},n.parseUrl=(y,w)=>{w=Object.assign({decode:!0},w);const[_,x]=i(y,"#");return Object.assign({url:_.split("?")[0]||"",query:C(m(y),w)},w&&w.parseFragmentIdentifier&&x?{fragmentIdentifier:d(x,w)}:{})},n.stringifyUrl=(y,w)=>{w=Object.assign({encode:!0,strict:!0,[o]:!0},w);const _=f(y.url).split("?")[0]||"",x=n.extract(y.url),k=n.parse(x,{sort:!1}),D=Object.assign(k,y.query);let T=n.stringify(D,w);T&&(T=`?${T}`);let L=p(y.url);return y.fragmentIdentifier&&(L=`#${w[o]?u(y.fragmentIdentifier,w):y.fragmentIdentifier}`),`${_}${T}${L}`},n.pick=(y,w,_)=>{_=Object.assign({parseFragmentIdentifier:!0,[o]:!1},_);const{url:x,query:k,fragmentIdentifier:D}=n.parseUrl(y,_);return n.stringifyUrl({url:x,query:r(k,w),fragmentIdentifier:D},_)},n.exclude=(y,w,_)=>{const x=Array.isArray(w)?k=>!w.includes(k):(k,D)=>!w(k,D);return n.pick(y,x,_)}}(u7)),u7}var Dw=Qet();function eye(n,e){return function(){return n.apply(e,arguments)}}const{toString:Yet}=Object.prototype,{getPrototypeOf:zU}=Object,pA=(n=>e=>{const t=Yet.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Fu=n=>(n=n.toLowerCase(),e=>pA(e)===n),mA=n=>e=>typeof e===n,{isArray:G0}=Array,jx=mA("undefined");function Xet(n){return n!==null&&!jx(n)&&n.constructor!==null&&!jx(n.constructor)&&Vl(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const tye=Fu("ArrayBuffer");function Zet(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&tye(n.buffer),e}const Jet=mA("string"),Vl=mA("function"),nye=mA("number"),bA=n=>n!==null&&typeof n=="object",ett=n=>n===!0||n===!1,J2=n=>{if(pA(n)!=="object")return!1;const e=zU(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},ttt=Fu("Date"),ntt=Fu("File"),itt=Fu("Blob"),rtt=Fu("FileList"),stt=n=>bA(n)&&Vl(n.pipe),ott=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Vl(n.append)&&((e=pA(n))==="formdata"||e==="object"&&Vl(n.toString)&&n.toString()==="[object FormData]"))},att=Fu("URLSearchParams"),[ltt,ctt,utt,dtt]=["ReadableStream","Request","Response","Headers"].map(Fu),htt=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pL(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),G0(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function iye(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const wb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rye=n=>!jx(n)&&n!==wb;function tH(){const{caseless:n}=rye(this)&&this||{},e={},t=(i,r)=>{const s=n&&iye(e,r)||r;J2(e[s])&&J2(i)?e[s]=tH(e[s],i):J2(i)?e[s]=tH({},i):G0(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&pL(arguments[i],t);return e}const ftt=(n,e,t,{allOwnKeys:i}={})=>(pL(e,(r,s)=>{t&&Vl(r)?n[s]=eye(r,t):n[s]=r},{allOwnKeys:i}),n),gtt=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ptt=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},mtt=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&zU(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},btt=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},vtt=n=>{if(!n)return null;if(G0(n))return n;let e=n.length;if(!nye(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ytt=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&zU(Uint8Array)),Ctt=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},_tt=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},wtt=Fu("HTMLFormElement"),Stt=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),Lae=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),xtt=Fu("RegExp"),sye=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};pL(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},ktt=n=>{sye(n,(e,t)=>{if(Vl(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Vl(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ltt=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return G0(n)?i(n):i(String(n).split(e)),t},Ett=()=>{},Dtt=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,p7="abcdefghijklmnopqrstuvwxyz",Eae="0123456789",oye={DIGIT:Eae,ALPHA:p7,ALPHA_DIGIT:p7+p7.toUpperCase()+Eae},Ttt=(n=16,e=oye.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function Itt(n){return!!(n&&Vl(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Mtt=n=>{const e=new Array(10),t=(i,r)=>{if(bA(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=G0(i)?[]:{};return pL(i,(o,a)=>{const l=t(o,r+1);!jx(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},Rtt=Fu("AsyncFunction"),Ntt=n=>n&&(bA(n)||Vl(n))&&Vl(n.then)&&Vl(n.catch),aye=((n,e)=>n?setImmediate:e?((t,i)=>(wb.addEventListener("message",({source:r,data:s})=>{r===wb&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),wb.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Vl(wb.postMessage)),Att=typeof queueMicrotask<"u"?queueMicrotask.bind(wb):typeof process<"u"&&process.nextTick||aye,at={isArray:G0,isArrayBuffer:tye,isBuffer:Xet,isFormData:ott,isArrayBufferView:Zet,isString:Jet,isNumber:nye,isBoolean:ett,isObject:bA,isPlainObject:J2,isReadableStream:ltt,isRequest:ctt,isResponse:utt,isHeaders:dtt,isUndefined:jx,isDate:ttt,isFile:ntt,isBlob:itt,isRegExp:xtt,isFunction:Vl,isStream:stt,isURLSearchParams:att,isTypedArray:ytt,isFileList:rtt,forEach:pL,merge:tH,extend:ftt,trim:htt,stripBOM:gtt,inherits:ptt,toFlatObject:mtt,kindOf:pA,kindOfTest:Fu,endsWith:btt,toArray:vtt,forEachEntry:Ctt,matchAll:_tt,isHTMLForm:wtt,hasOwnProperty:Lae,hasOwnProp:Lae,reduceDescriptors:sye,freezeMethods:ktt,toObjectSet:Ltt,toCamelCase:Stt,noop:Ett,toFiniteNumber:Dtt,findKey:iye,global:wb,isContextDefined:rye,ALPHABET:oye,generateString:Ttt,isSpecCompliantForm:Itt,toJSONObject:Mtt,isAsyncFn:Rtt,isThenable:Ntt,setImmediate:aye,asap:Att};function Qn(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}at.inherits(Qn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.status}}});const lye=Qn.prototype,cye={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{cye[n]={value:n}});Object.defineProperties(Qn,cye);Object.defineProperty(lye,"isAxiosError",{value:!0});Qn.from=(n,e,t,i,r,s)=>{const o=Object.create(lye);return at.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Qn.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const Ptt=null;function nH(n){return at.isPlainObject(n)||at.isArray(n)}function uye(n){return at.endsWith(n,"[]")?n.slice(0,-2):n}function Dae(n,e,t){return n?n.concat(e).map(function(r,s){return r=uye(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function Ott(n){return at.isArray(n)&&!n.some(nH)}const Ftt=at.toFlatObject(at,{},null,function(e){return/^is[A-Z]/.test(e)});function vA(n,e,t){if(!at.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=at.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!at.isUndefined(v[m])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&at.isSpecCompliantForm(e);if(!at.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(at.isDate(p))return p.toISOString();if(!l&&at.isBlob(p))throw new Qn("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(p)||at.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,v){let C=p;if(p&&!v&&typeof p=="object"){if(at.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(at.isArray(p)&&Ott(p)||(at.isFileList(p)||at.endsWith(m,"[]"))&&(C=at.toArray(p)))return m=uye(m),C.forEach(function(w,_){!(at.isUndefined(w)||w===null)&&e.append(o===!0?Dae([m],_,s):o===null?m:m+"[]",c(w))}),!1}return nH(p)?!0:(e.append(Dae(v,m,s),c(p)),!1)}const d=[],h=Object.assign(Ftt,{defaultVisitor:u,convertValue:c,isVisitable:nH});function f(p,m){if(!at.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),at.forEach(p,function(C,y){(!(at.isUndefined(C)||C===null)&&r.call(e,C,at.isString(y)?y.trim():y,m,h))===!0&&f(C,m?m.concat(y):[y])}),d.pop()}}if(!at.isObject(n))throw new TypeError("data must be an object");return f(n),e}function Tae(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function WU(n,e){this._pairs=[],n&&vA(n,this,e)}const dye=WU.prototype;dye.append=function(e,t){this._pairs.push([e,t])};dye.toString=function(e){const t=e?function(i){return e.call(this,i,Tae)}:Tae;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Btt(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hye(n,e,t){if(!e)return n;const i=t&&t.encode||Btt;at.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=at.isURLSearchParams(e)?e.toString():new WU(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Iae{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){at.forEach(this.handlers,function(i){i!==null&&e(i)})}}const fye={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Htt=typeof URLSearchParams<"u"?URLSearchParams:WU,Vtt=typeof FormData<"u"?FormData:null,ztt=typeof Blob<"u"?Blob:null,Wtt={isBrowser:!0,classes:{URLSearchParams:Htt,FormData:Vtt,Blob:ztt},protocols:["http","https","file","blob","url","data"]},$U=typeof window<"u"&&typeof document<"u",iH=typeof navigator=="object"&&navigator||void 0,$tt=$U&&(!iH||["ReactNative","NativeScript","NS"].indexOf(iH.product)<0),jtt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Utt=$U&&window.location.href||"http://localhost",qtt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$U,hasStandardBrowserEnv:$tt,hasStandardBrowserWebWorkerEnv:jtt,navigator:iH,origin:Utt},Symbol.toStringTag,{value:"Module"})),la={...qtt,...Wtt};function Gtt(n,e){return vA(n,new la.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return la.isNode&&at.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Ktt(n){return at.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qtt(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function gye(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&at.isArray(r)?r.length:o,l?(at.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!at.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&at.isArray(r[o])&&(r[o]=Qtt(r[o])),!a)}if(at.isFormData(n)&&at.isFunction(n.entries)){const t={};return at.forEachEntry(n,(i,r)=>{e(Ktt(i),r,t,0)}),t}return null}function Ytt(n,e,t){if(at.isString(n))try{return(e||JSON.parse)(n),at.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(n)}const mL={transitional:fye,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=at.isObject(e);if(s&&at.isHTMLForm(e)&&(e=new FormData(e)),at.isFormData(e))return r?JSON.stringify(gye(e)):e;if(at.isArrayBuffer(e)||at.isBuffer(e)||at.isStream(e)||at.isFile(e)||at.isBlob(e)||at.isReadableStream(e))return e;if(at.isArrayBufferView(e))return e.buffer;if(at.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Gtt(e,this.formSerializer).toString();if((a=at.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return vA(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),Ytt(e)):e}],transformResponse:[function(e){const t=this.transitional||mL.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(at.isResponse(e)||at.isReadableStream(e))return e;if(e&&at.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Qn.from(a,Qn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:la.classes.FormData,Blob:la.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};at.forEach(["delete","get","head","post","put","patch"],n=>{mL.headers[n]={}});const Xtt=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ztt=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&Xtt[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Mae=Symbol("internals");function Tw(n){return n&&String(n).trim().toLowerCase()}function eT(n){return n===!1||n==null?n:at.isArray(n)?n.map(eT):String(n)}function Jtt(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const ent=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function m7(n,e,t,i,r){if(at.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!at.isString(e)){if(at.isString(i))return e.indexOf(i)!==-1;if(at.isRegExp(i))return i.test(e)}}function tnt(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function nnt(n,e){const t=at.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class rl{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const u=Tw(l);if(!u)throw new Error("header name must be a non-empty string");const d=at.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=eT(a))}const o=(a,l)=>at.forEach(a,(c,u)=>s(c,u,l));if(at.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(at.isString(e)&&(e=e.trim())&&!ent(e))o(Ztt(e),t);else if(at.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(t,e,i);return this}get(e,t){if(e=Tw(e),e){const i=at.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return Jtt(r);if(at.isFunction(t))return t.call(this,r,i);if(at.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tw(e),e){const i=at.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||m7(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=Tw(o),o){const a=at.findKey(i,o);a&&(!t||m7(i,i[a],a,t))&&(delete i[a],r=!0)}}return at.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||m7(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return at.forEach(this,(r,s)=>{const o=at.findKey(i,s);if(o){t[o]=eT(r),delete t[s];return}const a=e?tnt(s):String(s).trim();a!==s&&delete t[s],t[a]=eT(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return at.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&at.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Mae]=this[Mae]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Tw(o);i[a]||(nnt(r,o),i[a]=!0)}return at.isArray(e)?e.forEach(s):s(e),this}}rl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);at.reduceDescriptors(rl.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});at.freezeMethods(rl);function b7(n,e){const t=this||mL,i=e||t,r=rl.from(i.headers);let s=i.data;return at.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function pye(n){return!!(n&&n.__CANCEL__)}function K0(n,e,t){Qn.call(this,n??"canceled",Qn.ERR_CANCELED,e,t),this.name="CanceledError"}at.inherits(K0,Qn,{__CANCEL__:!0});function mye(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Qn("Request failed with status code "+t.status,[Qn.ERR_BAD_REQUEST,Qn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function int(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function rnt(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),t[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=t[d++],d=d%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function snt(n,e){let t=0,i=1e3/e,r,s;const o=(c,u=Date.now())=>{t=u,r=null,s&&(clearTimeout(s),s=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-t;d>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const vI=(n,e,t=3)=>{let i=0;const r=rnt(50,250);return snt(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},Rae=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Nae=n=>(...e)=>at.asap(()=>n(...e)),ont=la.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,la.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(la.origin),la.navigator&&/(msie|trident)/i.test(la.navigator.userAgent)):()=>!0,ant=la.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];at.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),at.isString(i)&&o.push("path="+i),at.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lnt(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function cnt(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function bye(n,e){return n&&!lnt(e)?cnt(n,e):e}const Aae=n=>n instanceof rl?{...n}:n;function lv(n,e){e=e||{};const t={};function i(c,u,d,h){return at.isPlainObject(c)&&at.isPlainObject(u)?at.merge.call({caseless:h},c,u):at.isPlainObject(u)?at.merge({},u):at.isArray(u)?u.slice():u}function r(c,u,d,h){if(at.isUndefined(u)){if(!at.isUndefined(c))return i(void 0,c,d,h)}else return i(c,u,d,h)}function s(c,u){if(!at.isUndefined(u))return i(void 0,u)}function o(c,u){if(at.isUndefined(u)){if(!at.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(Aae(c),Aae(u),d,!0)};return at.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||r,h=d(n[u],e[u],u);at.isUndefined(h)&&d!==a||(t[u]=h)}),t}const vye=n=>{const e=lv({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=rl.from(o),e.url=hye(bye(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(at.isFormData(t)){if(la.hasStandardBrowserEnv||la.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(la.hasStandardBrowserEnv&&(i&&at.isFunction(i)&&(i=i(e)),i||i!==!1&&ont(e.url))){const c=r&&s&&ant.read(s);c&&o.set(r,c)}return e},unt=typeof XMLHttpRequest<"u",dnt=unt&&function(n){return new Promise(function(t,i){const r=vye(n);let s=r.data;const o=rl.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,h,f,p;function m(){f&&f(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function C(){if(!v)return;const w=rl.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:n,request:v};mye(function(D){t(D),m()},function(D){i(D),m()},x),v=null}"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(C)},v.onabort=function(){v&&(i(new Qn("Request aborted",Qn.ECONNABORTED,n,v)),v=null)},v.onerror=function(){i(new Qn("Network Error",Qn.ERR_NETWORK,n,v)),v=null},v.ontimeout=function(){let _=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const x=r.transitional||fye;r.timeoutErrorMessage&&(_=r.timeoutErrorMessage),i(new Qn(_,x.clarifyTimeoutError?Qn.ETIMEDOUT:Qn.ECONNABORTED,n,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&at.forEach(o.toJSON(),function(_,x){v.setRequestHeader(x,_)}),at.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),a&&a!=="json"&&(v.responseType=r.responseType),c&&([h,p]=vI(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([d,f]=vI(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",f)),(r.cancelToken||r.signal)&&(u=w=>{v&&(i(!w||w.type?new K0(null,n,v):w),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const y=int(r.url);if(y&&la.protocols.indexOf(y)===-1){i(new Qn("Unsupported protocol "+y+":",Qn.ERR_BAD_REQUEST,n));return}v.send(s||null)})},hnt=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof Qn?u:new K0(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new Qn(`timeout ${e} of ms exceeded`,Qn.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>at.asap(a),l}},fnt=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},gnt=async function*(n,e){for await(const t of pnt(n))yield*fnt(t,e)},pnt=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Pae=(n,e,t,i)=>{const r=gnt(n,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(t){let h=s+=d;t(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},yA=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yye=yA&&typeof ReadableStream=="function",mnt=yA&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Cye=(n,...e)=>{try{return!!n(...e)}catch{return!1}},bnt=yye&&Cye(()=>{let n=!1;const e=new Request(la.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Oae=64*1024,rH=yye&&Cye(()=>at.isReadableStream(new Response("").body)),yI={stream:rH&&(n=>n.body)};yA&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yI[e]&&(yI[e]=at.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Qn(`Response type '${e}' is not supported`,Qn.ERR_NOT_SUPPORT,i)})})})(new Response);const vnt=async n=>{if(n==null)return 0;if(at.isBlob(n))return n.size;if(at.isSpecCompliantForm(n))return(await new Request(la.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(at.isArrayBufferView(n)||at.isArrayBuffer(n))return n.byteLength;if(at.isURLSearchParams(n)&&(n=n+""),at.isString(n))return(await mnt(n)).byteLength},ynt=async(n,e)=>{const t=at.toFiniteNumber(n.getContentLength());return t??vnt(e)},Cnt=yA&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=vye(n);c=c?(c+"").toLowerCase():"text";let f=hnt([r,s&&s.toAbortSignal()],o),p;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&bnt&&t!=="get"&&t!=="head"&&(v=await ynt(u,i))!==0){let x=new Request(e,{method:"POST",body:i,duplex:"half"}),k;if(at.isFormData(i)&&(k=x.headers.get("content-type"))&&u.setContentType(k),x.body){const[D,T]=Rae(v,vI(Nae(l)));i=Pae(x.body,Oae,D,T)}}at.isString(d)||(d=d?"include":"omit");const C="credentials"in Request.prototype;p=new Request(e,{...h,signal:f,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:C?d:void 0});let y=await fetch(p);const w=rH&&(c==="stream"||c==="response");if(rH&&(a||w&&m)){const x={};["status","statusText","headers"].forEach(L=>{x[L]=y[L]});const k=at.toFiniteNumber(y.headers.get("content-length")),[D,T]=a&&Rae(k,vI(Nae(a),!0))||[];y=new Response(Pae(y.body,Oae,D,()=>{T&&T(),m&&m()}),x)}c=c||"text";let _=await yI[at.findKey(yI,c)||"text"](y,n);return!w&&m&&m(),await new Promise((x,k)=>{mye(x,k,{data:_,headers:rl.from(y.headers),status:y.status,statusText:y.statusText,config:n,request:p})})}catch(C){throw m&&m(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Qn("Network Error",Qn.ERR_NETWORK,n,p),{cause:C.cause||C}):Qn.from(C,C&&C.code,n,p)}}),sH={http:Ptt,xhr:dnt,fetch:Cnt};at.forEach(sH,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Fae=n=>`- ${n}`,_nt=n=>at.isFunction(n)||n===null||n===!1,_ye={getAdapter:n=>{n=at.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!_nt(t)&&(i=sH[(o=String(t)).toLowerCase()],i===void 0))throw new Qn(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Fae).join(`
`):" "+Fae(s[0]):"as no adapter specified";throw new Qn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:sH};function v7(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new K0(null,n)}function Bae(n){return v7(n),n.headers=rl.from(n.headers),n.data=b7.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),_ye.getAdapter(n.adapter||mL.adapter)(n).then(function(i){return v7(n),i.data=b7.call(n,n.transformResponse,i),i.headers=rl.from(i.headers),i},function(i){return pye(i)||(v7(n),i&&i.response&&(i.response.data=b7.call(n,n.transformResponse,i.response),i.response.headers=rl.from(i.response.headers))),Promise.reject(i)})}const wye="1.7.9",CA={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{CA[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Hae={};CA.transitional=function(e,t,i){function r(s,o){return"[Axios v"+wye+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Qn(r(o," has been removed"+(t?" in "+t:"")),Qn.ERR_DEPRECATED);return t&&!Hae[o]&&(Hae[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};CA.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function wnt(n,e,t){if(typeof n!="object")throw new Qn("options must be an object",Qn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Qn("option "+s+" must be "+l,Qn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qn("Unknown option "+s,Qn.ERR_BAD_OPTION)}}const tT={assertOptions:wnt,validators:CA},Xu=tT.validators;class Rb{constructor(e){this.defaults=e,this.interceptors={request:new Iae,response:new Iae}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=lv(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&tT.assertOptions(i,{silentJSONParsing:Xu.transitional(Xu.boolean),forcedJSONParsing:Xu.transitional(Xu.boolean),clarifyTimeoutError:Xu.transitional(Xu.boolean)},!1),r!=null&&(at.isFunction(r)?t.paramsSerializer={serialize:r}:tT.assertOptions(r,{encode:Xu.function,serialize:Xu.function},!0)),tT.assertOptions(t,{baseUrl:Xu.spelling("baseURL"),withXsrfToken:Xu.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&at.merge(s.common,s[t.method]);s&&at.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),t.headers=rl.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const p=[Bae.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,u=Promise.resolve(t);d<h;)u=u.then(p[d++],p[d++]);return u}h=a.length;let f=t;for(d=0;d<h;){const p=a[d++],m=a[d++];try{f=p(f)}catch(v){m.call(this,v);break}}try{u=Bae.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=lv(this.defaults,e);const t=bye(e.baseURL,e.url);return hye(t,e.params,e.paramsSerializer)}}at.forEach(["delete","get","head","options"],function(e){Rb.prototype[e]=function(t,i){return this.request(lv(i||{},{method:e,url:t,data:(i||{}).data}))}});at.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(lv(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Rb.prototype[e]=t(),Rb.prototype[e+"Form"]=t(!0)});class jU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new K0(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jU(function(r){e=r}),cancel:e}}}function Snt(n){return function(t){return n.apply(null,t)}}function xnt(n){return at.isObject(n)&&n.isAxiosError===!0}const oH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oH).forEach(([n,e])=>{oH[e]=n});function Sye(n){const e=new Rb(n),t=eye(Rb.prototype.request,e);return at.extend(t,Rb.prototype,e,{allOwnKeys:!0}),at.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Sye(lv(n,r))},t}const js=Sye(mL);js.Axios=Rb;js.CanceledError=K0;js.CancelToken=jU;js.isCancel=pye;js.VERSION=wye;js.toFormData=vA;js.AxiosError=Qn;js.Cancel=js.CanceledError;js.all=function(e){return Promise.all(e)};js.spread=Snt;js.isAxiosError=xnt;js.mergeConfig=lv;js.AxiosHeaders=rl;js.formToJSON=n=>gye(at.isHTMLForm(n)?new FormData(n):n);js.getAdapter=_ye.getAdapter;js.HttpStatusCode=oH;js.default=js;var knt=n=>{switch(n){case"ne":case"gte":case"lte":return`_${n}`;case"contains":return"_like";default:return""}},Vae=n=>{if(n&&n.length>0){let e=[],t=[];return n.map(i=>{e.push(i.field),t.push(i.order)}),{_sort:e,_order:t}}},zae=n=>{let e={};return n&&n.map(t=>{if(t.operator==="or"||t.operator==="and")throw new Error(`[@refinedev/simple-rest]: \`operator: ${t.operator}\` is not supported. You can create custom data provider. https://refine.dev/docs/api-reference/core/providers/data-provider/#creating-a-data-provider`);if("field"in t){let{field:i,operator:r,value:s}=t;if(i==="q"){e[i]=s;return}let o=knt(r);e[`${i}${o}`]=s}}),e},xye=js.create();xye.interceptors.response.use(n=>n,n=>{var e,t,i;let r={...n,message:(t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message,statusCode:(i=n.response)==null?void 0:i.status};return Promise.reject(r)});var Lnt=(n,e=xye)=>({getList:async({resource:t,pagination:i,filters:r,sorters:s,meta:o})=>{let a=`${n}/${t}`,{current:l=1,pageSize:c=10,mode:u="server"}=i??{},{headers:d,method:h}=o??{},f=h??"get",p=zae(r),m={};u==="server"&&(m._start=(l-1)*c,m._end=l*c);let v=Vae(s);if(v){let{_sort:k,_order:D}=v;m._sort=k.join(","),m._order=D.join(",")}let C={...m,...p},y=Object.keys(C).length?`${a}?${Dw.stringify(C)}`:a,{data:w,headers:_}=await e[f](y,{headers:d}),x=+_["x-total-count"];return{data:w,total:x||w.length}},getMany:async({resource:t,ids:i,meta:r})=>{let{headers:s,method:o}=r??{},a=o??"get",{data:l}=await e[a](`${n}/${t}?${Dw.stringify({id:i})}`,{headers:s});return{data:l}},create:async({resource:t,variables:i,meta:r})=>{let s=`${n}/${t}`,{headers:o,method:a}=r??{},l=a??"post",{data:c}=await e[l](s,i,{headers:o});return{data:c}},update:async({resource:t,id:i,variables:r,meta:s})=>{let o=`${n}/${t}/${i}`,{headers:a,method:l}=s??{},c=l??"patch",{data:u}=await e[c](o,r,{headers:a});return{data:u}},getOne:async({resource:t,id:i,meta:r})=>{let s=`${n}/${t}/${i}`,{headers:o,method:a}=r??{},l=a??"get",{data:c}=await e[l](s,{headers:o});return{data:c}},deleteOne:async({resource:t,id:i,variables:r,meta:s})=>{let o=`${n}/${t}/${i}`,{headers:a,method:l}=s??{},c=l??"delete",{data:u}=await e[c](o,{data:r,headers:a});return{data:u}},getApiUrl:()=>n,custom:async({url:t,method:i,filters:r,sorters:s,payload:o,query:a,headers:l})=>{let c=`${t}?`;if(s){let h=Vae(s);if(h){let{_sort:f,_order:p}=h,m={_sort:f.join(","),_order:p.join(",")};c=`${c}&${Dw.stringify(m)}`}}if(r){let h=zae(r);c=`${c}&${Dw.stringify(h)}`}a&&(c=`${c}&${Dw.stringify(a)}`);let u;switch(i){case"put":case"post":case"patch":u=await e[i](t,o,{headers:l});break;case"delete":u=await e.delete(t,{data:o,headers:l});break;default:u=await e.get(c,{headers:l});break}let{data:d}=u;return Promise.resolve({data:d})}}),Ent=Lnt;const Dnt=()=>V.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[V.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.789.422a4 4 0 0 0-3.578 0l-8 4A4 4 0 0 0 0 8v8a4 4 0 0 0 2.211 3.578l8 4a4 4 0 0 0 3.578 0l8-4A4 4 0 0 0 24 16V8a4 4 0 0 0-2.211-3.578l-8-4ZM8 8a4 4 0 1 1 8 0v8a4 4 0 0 1-8 0V8Z",clipRule:"evenodd"}),V.jsx("path",{fill:"currentColor",d:"M14 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})]}),Tnt=Ut(V.jsx("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkModeOutlined"),Int=Ut(V.jsx("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightModeOutlined"),kye=M.createContext({}),Mnt=({children:n})=>{const e=localStorage.getItem("colorMode"),i=(window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches)?"dark":"light",[r,s]=M.useState(e||i);M.useEffect(()=>{window.localStorage.setItem("colorMode",r)},[r]);const o=()=>{s(r==="light"?"dark":"light")};return V.jsx(kye.Provider,{value:{setMode:o,mode:r},children:V.jsx(c5e,{theme:r==="light"?fae.Blue:fae.BlueDark,children:n})})},Rnt=({sticky:n=!0})=>{const{mode:e,setMode:t}=M.useContext(kye),{data:i}=fN();return V.jsx(Tve,{position:n?"sticky":"relative",children:V.jsx(fU,{children:V.jsxs(xs,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center",children:[V.jsx(A1e,{}),V.jsxs(xs,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center",children:[V.jsx(ua,{color:"inherit",onClick:()=>{t()},children:e==="dark"?V.jsx(Int,{}):V.jsx(Tnt,{})}),((i==null?void 0:i.avatar)||(i==null?void 0:i.name))&&V.jsxs(xs,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center",children:[(i==null?void 0:i.name)&&V.jsx(nn,{sx:{display:{xs:"none",sm:"inline-block"}},variant:"subtitle2",children:i==null?void 0:i.name}),V.jsx(Ive,{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.name})]})]})]})})})},Nnt=()=>{const{dataGridProps:n}=Bv(),e=q.useMemo(()=>[{field:"id",headerName:"Id",minWidth:50},{field:"description",flex:1,headerName:"Description",minWidth:200},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function({row:i}){return V.jsxs(V.Fragment,{children:[V.jsx(Hv,{hideText:!0,recordItemId:i.id}),V.jsx($0,{hideText:!0,recordItemId:i.id}),V.jsx(Zp,{hideText:!0,recordItemId:i.id})]})},align:"center",headerAlign:"center",minWidth:80}],[]);return V.jsx(z0,{children:V.jsx(F0,{...n,columns:e,autoHeight:!0})})};function Ant(n){return Zt("MuiTable",n)}Jt("MuiTable",["root","stickyHeader"]);const Pnt=n=>{const{classes:e,stickyHeader:t}=n;return _t({root:["root",t&&"stickyHeader"]},Ant,e)},Ont=$e("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(sn(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),Wae="table",Fnt=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTable"}),{className:r,component:s=Wae,padding:o="normal",size:a="medium",stickyHeader:l=!1,...c}=i,u={...i,component:s,padding:o,size:a,stickyHeader:l},d=Pnt(u),h=M.useMemo(()=>({padding:o,size:a,stickyHeader:l}),[o,a,l]);return V.jsx(bve.Provider,{value:h,children:V.jsx(Ont,{as:s,role:s===Wae?null:"table",ref:t,className:lt(d.root,r),ownerState:u,...c})})});function Bnt(n){return Zt("MuiTableBody",n)}Jt("MuiTableBody",["root"]);const Hnt=n=>{const{classes:e}=n;return _t({root:["root"]},Bnt,e)},Vnt=$e("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"table-row-group"}),znt={variant:"body"},$ae="tbody",Wnt=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTableBody"}),{className:r,component:s=$ae,...o}=i,a={...i,component:s},l=Hnt(a);return V.jsx(JN.Provider,{value:znt,children:V.jsx(Vnt,{className:lt(l.root,r),as:s,ref:t,role:s===$ae?null:"rowgroup",ownerState:a,...o})})});function $nt(n){return Zt("MuiTableContainer",n)}Jt("MuiTableContainer",["root"]);const jnt=n=>{const{classes:e}=n;return _t({root:["root"]},$nt,e)},Unt=$e("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(n,e)=>e.root})({width:"100%",overflowX:"auto"}),qnt=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTableContainer"}),{className:r,component:s="div",...o}=i,a={...i,component:s},l=jnt(a);return V.jsx(Unt,{ref:t,as:s,className:lt(l.root,r),ownerState:a,...o})});function Gnt(n){return Zt("MuiTableHead",n)}Jt("MuiTableHead",["root"]);const Knt=n=>{const{classes:e}=n;return _t({root:["root"]},Gnt,e)},Qnt=$e("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"table-header-group"}),Ynt={variant:"head"},jae="thead",Xnt=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTableHead"}),{className:r,component:s=jae,...o}=i,a={...i,component:s},l=Knt(a);return V.jsx(JN.Provider,{value:Ynt,children:V.jsx(Qnt,{as:s,className:lt(l.root,r),ref:t,role:s===jae?null:"rowgroup",ownerState:a,...o})})});function Znt(n){return Zt("MuiTableRow",n)}const Uae=Jt("MuiTableRow",["root","selected","hover","head","footer"]),Jnt=n=>{const{classes:e,selected:t,hover:i,head:r,footer:s}=n;return _t({root:["root",t&&"selected",i&&"hover",r&&"head",s&&"footer"]},Znt,e)},eit=$e("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(sn(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Uae.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Uae.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:wn(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:wn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}}))),qae="tr",Gae=M.forwardRef(function(e,t){const i=on({props:e,name:"MuiTableRow"}),{className:r,component:s=qae,hover:o=!1,selected:a=!1,...l}=i,c=M.useContext(JN),u={...i,component:s,hover:o,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},d=Jnt(u);return V.jsx(eit,{as:s,ref:t,className:lt(d.root,r),role:s===qae?null:"row",ownerState:u,...l})}),tit=()=>{const{query:n}=y0(),{data:e,isLoading:t}=n,i=e==null?void 0:e.data;return V.jsx(W0,{isLoading:t,children:V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Id"}),V.jsx(Na,{value:i==null?void 0:i.id}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Description"}),V.jsx(Na,{value:i==null?void 0:i.description})]})})},nit=()=>{var s;const{saveButtonProps:n,refineCore:{formLoading:e},register:t,control:i,formState:{errors:r}}=gl();return V.jsx(H0,{isLoading:e,saveButtonProps:n,children:V.jsx(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:V.jsx(Fn,{...t("description",{required:"This field is required"}),error:!!(r!=null&&r.description),helperText:(s=r==null?void 0:r.description)==null?void 0:s.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"})})})},iit=()=>{var s,o,a;const{saveButtonProps:n,refineCore:{query:e},register:t,control:i,formState:{errors:r}}=gl();return(s=e==null?void 0:e.data)==null||s.data,V.jsx(V0,{saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Fn,{...t("id",{required:"This field is required"}),error:!!(r!=null&&r.id),helperText:(o=r==null?void 0:r.id)==null?void 0:o.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"ID",name:"id",disabled:!0}),V.jsx(Fn,{...t("description",{required:"This field is required"}),error:!!(r!=null&&r.description),helperText:(a=r==null?void 0:r.description)==null?void 0:a.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"})]})})},rit=()=>{var r;const{dataGridProps:n}=Bv(),{data:e,isLoading:t}=Bd({resource:"projects",ids:((r=n==null?void 0:n.rows)==null?void 0:r.map(s=>s==null?void 0:s.project_id))??[],queryOptions:{enabled:!!(n!=null&&n.rows)}}),i=q.useMemo(()=>[{field:"enabled",headerName:"Enabled",minWidth:100,renderCell:function({value:o}){return V.jsx(Pv,{checked:!!o,disabled:!0})}},{field:"name",flex:1,headerName:"Name",minWidth:100},{field:"description",flex:1,headerName:"Description",minWidth:300},{field:"project_id",headerName:"Project",minWidth:150,renderCell:function({value:o}){var a,l;return t?V.jsx(V.Fragment,{children:"Loading..."}):(l=(a=e==null?void 0:e.data)==null?void 0:a.find(c=>c.id===o))==null?void 0:l.description}},{field:"actions",headerName:"Actions",sortable:!1,filterable:!1,renderCell:function({row:o}){return V.jsxs(V.Fragment,{children:[V.jsx(Hv,{hideText:!0,recordItemId:o.id}),V.jsx($0,{hideText:!0,recordItemId:o.id}),V.jsx(Zp,{hideText:!0,recordItemId:o.id})]})},align:"center",headerAlign:"center",minWidth:80}],[e==null?void 0:e.data]);return V.jsx(z0,{children:V.jsx(F0,{...n,columns:i,autoHeight:!0})})},sit=()=>{var o;const{query:n}=y0(),{data:e,isLoading:t}=n,i=e==null?void 0:e.data,{data:r,isLoading:s}=Ev({resource:"projects",id:(i==null?void 0:i.project_id)||"",queryOptions:{enabled:!!i}});return V.jsx(W0,{isLoading:t,children:V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Id"}),V.jsx(Na,{value:i==null?void 0:i.id}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Project"}),s?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(o=r==null?void 0:r.data)==null?void 0:o.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Name"}),V.jsx(Na,{value:i==null?void 0:i.name}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Description"}),V.jsx(Na,{value:i==null?void 0:i.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Enabled"}),V.jsx(B1e,{value:i==null?void 0:i.enabled})]})})},oit=()=>{var a,l,c,u;const{saveButtonProps:n,refineCore:{query:e},register:t,control:i,formState:{errors:r}}=gl(),s=(a=e==null?void 0:e.data)==null?void 0:a.data,{autocompleteProps:o}=Fa({resource:"projects",defaultValue:s==null?void 0:s.project_id});return V.jsx(V0,{saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Fn,{...t("id",{required:"This field is required"}),error:!!(r!=null&&r.id),helperText:(l=r==null?void 0:r.id)==null?void 0:l.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Id",name:"id",disabled:!0}),V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:d})=>V.jsx($o,{...o,...d,onChange:(h,f)=>{d.onChange((f==null?void 0:f.id)??f)},getOptionLabel:h=>{var f,p;return((p=(f=o==null?void 0:o.options)==null?void 0:f.find(m=>{var v,C;return((v=m==null?void 0:m.id)==null?void 0:v.toString())===((C=(h==null?void 0:h.id)??h)==null?void 0:C.toString())}))==null?void 0:p.description)??""},isOptionEqualToValue:(h,f)=>{var p,m;return f===void 0||((p=h==null?void 0:h.id)==null?void 0:p.toString())===((m=(f==null?void 0:f.id)??f)==null?void 0:m.toString())},renderInput:h=>{var f;return V.jsx(Fn,{...h,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(f=r==null?void 0:r.project_id)==null?void 0:f.message,required:!0})}})}),V.jsx(Yr,{control:i,name:"enabled",defaultValue:!0,render:({field:d})=>V.jsx(jC,{label:"Enabled",control:V.jsx(Pv,{...d,checked:d.value,onChange:h=>{d.onChange(h.target.checked)}})})}),V.jsx(Fn,{...t("name",{required:"This field is required"}),error:!!(r!=null&&r.name),helperText:(c=r==null?void 0:r.name)==null?void 0:c.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Name",name:"name"}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(u=r==null?void 0:r.description)==null?void 0:u.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"})]})})},ait=()=>{var o,a;const{saveButtonProps:n,refineCore:{formLoading:e},register:t,control:i,formState:{errors:r}}=gl(),{autocompleteProps:s}=Fa({resource:"projects"});return V.jsx(H0,{isLoading:e,saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:l})=>V.jsx($o,{...s,...l,onChange:(c,u)=>{l.onChange((u==null?void 0:u.id)??u)},getOptionLabel:c=>{var u,d;return((d=(u=s==null?void 0:s.options)==null?void 0:u.find(h=>{var f,p;return((f=h==null?void 0:h.id)==null?void 0:f.toString())===((p=(c==null?void 0:c.id)??c)==null?void 0:p.toString())}))==null?void 0:d.description)??""},isOptionEqualToValue:(c,u)=>{var d,h;return u===void 0||((d=c==null?void 0:c.id)==null?void 0:d.toString())===((h=(u==null?void 0:u.id)??u)==null?void 0:h.toString())},renderInput:c=>{var u;return V.jsx(Fn,{...c,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(u=r==null?void 0:r.project_id)==null?void 0:u.message,required:!0})}})}),V.jsx(Yr,{control:i,name:"enabled",defaultValue:!0,render:({field:l})=>V.jsx(jC,{label:"Enabled",control:V.jsx(Pv,{...l,checked:l.value,onChange:c=>{l.onChange(c.target.checked)}})})}),V.jsx(Fn,{...t("name",{required:"This field is required"}),error:!!(r!=null&&r.name),helperText:(o=r==null?void 0:r.name)==null?void 0:o.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Name",name:"name"}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(a=r==null?void 0:r.description)==null?void 0:a.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"})]})})},lit=()=>{var o,a;const{dataGridProps:n}=Bv(),{data:e,isLoading:t}=Bd({resource:"projects",ids:((o=n==null?void 0:n.rows)==null?void 0:o.map(l=>l==null?void 0:l.project_id))??[],queryOptions:{enabled:!!(n!=null&&n.rows)}}),{data:i,isLoading:r}=Bd({resource:"events",ids:[].concat(...((a=n==null?void 0:n.rows)==null?void 0:a.map(l=>l==null?void 0:l.event_ids))??[]),queryOptions:{enabled:!!(n!=null&&n.rows)}}),s=q.useMemo(()=>[{field:"enabled",headerName:"Enabled",minWidth:50,renderCell:function({value:c}){return V.jsx(Pv,{checked:!!c,disabled:!0})}},{field:"id",headerName:"Id",minWidth:50},{field:"description",headerName:"Description",flex:1},{field:"event_ids",headerName:"Event",minWidth:100,renderCell:function({value:c}){return r?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:c==null?void 0:c.map((u,d)=>{var h,f;return V.jsx(UC,{value:(f=(h=i==null?void 0:i.data)==null?void 0:h.find(p=>p.id===u))==null?void 0:f.name},d)})})}},{field:"project_id",headerName:"Project",minWidth:150,renderCell:function({value:c}){var u,d;return t?V.jsx(V.Fragment,{children:"Loading..."}):(d=(u=e==null?void 0:e.data)==null?void 0:u.find(h=>h.id===c))==null?void 0:d.description}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function({row:c}){return V.jsxs(V.Fragment,{children:[V.jsx(Hv,{hideText:!0,recordItemId:c.id}),V.jsx($0,{hideText:!0,recordItemId:c.id}),V.jsx(Zp,{hideText:!0,recordItemId:c.id})]})},align:"center",headerAlign:"center",minWidth:80}],[e==null?void 0:e.data,i==null?void 0:i.data]);return V.jsx(z0,{children:V.jsx(F0,{...n,columns:s,autoHeight:!0})})},cit=()=>{var l,c,u,d,h;const{query:n}=y0(),{data:e,isLoading:t}=n,i=e==null?void 0:e.data,{data:r,isLoading:s}=Ev({resource:"projects",id:(i==null?void 0:i.project_id)||"",queryOptions:{enabled:!!i}}),{data:o,isLoading:a}=Bd({resource:"events",ids:(i==null?void 0:i.event_ids)||[],queryOptions:{enabled:!!i&&!!((l=i==null?void 0:i.event_ids)!=null&&l.length)}});return V.jsx(W0,{isLoading:t,children:V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Id"}),V.jsx(Na,{value:i==null?void 0:i.id}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Project"}),s?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(c=r==null?void 0:r.data)==null?void 0:c.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Steps"}),V.jsx("pre",{children:i==null?void 0:i.steps}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Event"}),a&&((u=i==null?void 0:i.event_ids)!=null&&u.length)?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(d=i==null?void 0:i.event_ids)!=null&&d.length?V.jsx(xs,{direction:"row",spacing:1,children:(h=o==null?void 0:o.data)==null?void 0:h.map(f=>V.jsx(UC,{value:f==null?void 0:f.name},f==null?void 0:f.name))}):V.jsx(V.Fragment,{})}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Enabled"}),V.jsx(B1e,{value:i==null?void 0:i.enabled})]})})};function uit(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Qae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kae(Object(t),!0).forEach(function(i){uit(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kae(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dit(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function hit(n,e){if(n==null)return{};var t=dit(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function fit(n,e){return git(n)||pit(n,e)||mit(n,e)||bit()}function git(n){if(Array.isArray(n))return n}function pit(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],i=!0,r=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return t}}function mit(n,e){if(n){if(typeof n=="string")return Yae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yae(n,e)}}function Yae(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function bit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vit(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xae(Object(t),!0).forEach(function(i){vit(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xae(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yit(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return e.reduceRight(function(r,s){return s(r)},i)}}function oS(n){return function e(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function CI(n){return{}.toString.call(n).includes("Object")}function Cit(n){return!Object.keys(n).length}function Ux(n){return typeof n=="function"}function _it(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wit(n,e){return CI(e)||pp("changeType"),Object.keys(e).some(function(t){return!_it(n,t)})&&pp("changeField"),e}function Sit(n){Ux(n)||pp("selectorType")}function xit(n){Ux(n)||CI(n)||pp("handlerType"),CI(n)&&Object.values(n).some(function(e){return!Ux(e)})&&pp("handlersType")}function kit(n){n||pp("initialIsRequired"),CI(n)||pp("initialType"),Cit(n)&&pp("initialContent")}function Lit(n,e){throw new Error(n[e]||n.default)}var Eit={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},pp=oS(Lit)(Eit),FD={changes:wit,selector:Sit,handler:xit,initial:kit};function Dit(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};FD.initial(n),FD.handler(e);var t={current:n},i=oS(Mit)(t,e),r=oS(Iit)(t),s=oS(FD.changes)(n),o=oS(Tit)(t);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return FD.selector(c),c(t.current)}function l(c){yit(i,r,s,o)(c)}return[a,l]}function Tit(n,e){return Ux(e)?e(n.current):e}function Iit(n,e){return n.current=Zae(Zae({},n.current),e),e}function Mit(n,e,t){return Ux(e)?e(n.current):Object.keys(t).forEach(function(i){var r;return(r=e[i])===null||r===void 0?void 0:r.call(e,n.current[i])}),t}var Rit={create:Dit},Nit={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Ait(n){return function e(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function Pit(n){return{}.toString.call(n).includes("Object")}function Oit(n){return n||Jae("configIsRequired"),Pit(n)||Jae("configType"),n.urls?(Fit(),{paths:{vs:n.urls.monacoBase}}):n}function Fit(){console.warn(Lye.deprecation)}function Bit(n,e){throw new Error(n[e]||n.default)}var Lye={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Jae=Ait(Bit)(Lye),Hit={config:Oit},Vit=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduceRight(function(s,o){return o(s)},r)}};function Eye(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],Eye(n[t],e[t]))}),Qae(Qae({},n),e)}var zit={type:"cancelation",msg:"operation is manually canceled"};function y7(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return e?r(zit):i(s)}),n.catch(r)});return t.cancel=function(){return e=!0},t}var Wit=Rit.create({config:Nit,isInitialized:!1,resolve:null,reject:null,monaco:null}),Dye=fit(Wit,2),bL=Dye[0],_A=Dye[1];function $it(n){var e=Hit.config(n),t=e.monaco,i=hit(e,["monaco"]);_A(function(r){return{config:Eye(r.config,i),monaco:t}})}function jit(){var n=bL(function(e){var t=e.monaco,i=e.isInitialized,r=e.resolve;return{monaco:t,isInitialized:i,resolve:r}});if(!n.isInitialized){if(_A({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),y7(C7);if(window.monaco&&window.monaco.editor)return Tye(window.monaco),n.resolve(window.monaco),y7(C7);Vit(Uit,Git)(Kit)}return y7(C7)}function Uit(n){return document.body.appendChild(n)}function qit(n){var e=document.createElement("script");return n&&(e.src=n),e}function Git(n){var e=bL(function(i){var r=i.config,s=i.reject;return{config:r,reject:s}}),t=qit("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function Kit(){var n=bL(function(t){var i=t.config,r=t.resolve,s=t.reject;return{config:i,resolve:r,reject:s}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){Tye(t),n.resolve(t)},function(t){n.reject(t)})}function Tye(n){bL().monaco||_A({monaco:n})}function Qit(){return bL(function(n){var e=n.monaco;return e})}var C7=new Promise(function(n,e){return _A({resolve:n,reject:e})}),UU={config:$it,init:jit,__getMonacoInstance:Qit},Yit={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},_7=Yit,Xit={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Zit=Xit;function Jit({children:n}){return q.createElement("div",{style:Zit.container},n)}var ert=Jit,trt=ert;function nrt({width:n,height:e,isEditorReady:t,loading:i,_ref:r,className:s,wrapperProps:o}){return q.createElement("section",{style:{..._7.wrapper,width:n,height:e},...o},!t&&q.createElement(trt,null,i),q.createElement("div",{ref:r,style:{..._7.fullWidth,...!t&&_7.hide},className:s}))}var irt=nrt,Iye=M.memo(irt);function rrt(n){M.useEffect(n,[])}var Mye=rrt;function srt(n,e,t=!0){let i=M.useRef(!0);M.useEffect(i.current||!t?()=>{i.current=!1}:n,e)}var Dl=srt;function MS(){}function by(n,e,t,i){return ort(n,i)||art(n,e,t,i)}function ort(n,e){return n.editor.getModel(Rye(n,e))}function art(n,e,t,i){return n.editor.createModel(e,t,i?Rye(n,i):void 0)}function Rye(n,e){return n.Uri.parse(e)}function lrt({original:n,modified:e,language:t,originalLanguage:i,modifiedLanguage:r,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:d={},height:h="100%",width:f="100%",className:p,wrapperProps:m={},beforeMount:v=MS,onMount:C=MS}){let[y,w]=M.useState(!1),[_,x]=M.useState(!0),k=M.useRef(null),D=M.useRef(null),T=M.useRef(null),L=M.useRef(C),I=M.useRef(v),R=M.useRef(!1);Mye(()=>{let A=UU.init();return A.then(H=>(D.current=H)&&x(!1)).catch(H=>(H==null?void 0:H.type)!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>k.current?F():A.cancel()}),Dl(()=>{if(k.current&&D.current){let A=k.current.getOriginalEditor(),H=by(D.current,n||"",i||t||"text",s||"");H!==A.getModel()&&A.setModel(H)}},[s],y),Dl(()=>{if(k.current&&D.current){let A=k.current.getModifiedEditor(),H=by(D.current,e||"",r||t||"text",o||"");H!==A.getModel()&&A.setModel(H)}},[o],y),Dl(()=>{let A=k.current.getModifiedEditor();A.getOption(D.current.editor.EditorOption.readOnly)?A.setValue(e||""):e!==A.getValue()&&(A.executeEdits("",[{range:A.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),A.pushUndoStop())},[e],y),Dl(()=>{var A,H;(H=(A=k.current)==null?void 0:A.getModel())==null||H.original.setValue(n||"")},[n],y),Dl(()=>{let{original:A,modified:H}=k.current.getModel();D.current.editor.setModelLanguage(A,i||t||"text"),D.current.editor.setModelLanguage(H,r||t||"text")},[t,i,r],y),Dl(()=>{var A;(A=D.current)==null||A.editor.setTheme(c)},[c],y),Dl(()=>{var A;(A=k.current)==null||A.updateOptions(d)},[d],y);let N=M.useCallback(()=>{var W;if(!D.current)return;I.current(D.current);let A=by(D.current,n||"",i||t||"text",s||""),H=by(D.current,e||"",r||t||"text",o||"");(W=k.current)==null||W.setModel({original:A,modified:H})},[t,e,r,n,i,s,o]),O=M.useCallback(()=>{var A;!R.current&&T.current&&(k.current=D.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...d}),N(),(A=D.current)==null||A.editor.setTheme(c),w(!0),R.current=!0)},[d,c,N]);M.useEffect(()=>{y&&L.current(k.current,D.current)},[y]),M.useEffect(()=>{!_&&!y&&O()},[_,y,O]);function F(){var H,W,$,U;let A=(H=k.current)==null?void 0:H.getModel();a||((W=A==null?void 0:A.original)==null||W.dispose()),l||(($=A==null?void 0:A.modified)==null||$.dispose()),(U=k.current)==null||U.dispose()}return q.createElement(Iye,{width:f,height:h,isEditorReady:y,loading:u,_ref:T,className:p,wrapperProps:m})}var crt=lrt;M.memo(crt);function urt(n){let e=M.useRef();return M.useEffect(()=>{e.current=n},[n]),e.current}var drt=urt,BD=new Map;function hrt({defaultValue:n,defaultLanguage:e,defaultPath:t,value:i,language:r,path:s,theme:o="light",line:a,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:h=!1,width:f="100%",height:p="100%",className:m,wrapperProps:v={},beforeMount:C=MS,onMount:y=MS,onChange:w,onValidate:_=MS}){let[x,k]=M.useState(!1),[D,T]=M.useState(!0),L=M.useRef(null),I=M.useRef(null),R=M.useRef(null),N=M.useRef(y),O=M.useRef(C),F=M.useRef(),A=M.useRef(i),H=drt(s),W=M.useRef(!1),$=M.useRef(!1);Mye(()=>{let K=UU.init();return K.then(Z=>(L.current=Z)&&T(!1)).catch(Z=>(Z==null?void 0:Z.type)!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>I.current?z():K.cancel()}),Dl(()=>{var Z,Q,G,J;let K=by(L.current,n||i||"",e||r||"",s||t||"");K!==((Z=I.current)==null?void 0:Z.getModel())&&(d&&BD.set(H,(Q=I.current)==null?void 0:Q.saveViewState()),(G=I.current)==null||G.setModel(K),d&&((J=I.current)==null||J.restoreViewState(BD.get(s))))},[s],x),Dl(()=>{var K;(K=I.current)==null||K.updateOptions(c)},[c],x),Dl(()=>{!I.current||i===void 0||(I.current.getOption(L.current.editor.EditorOption.readOnly)?I.current.setValue(i):i!==I.current.getValue()&&($.current=!0,I.current.executeEdits("",[{range:I.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),I.current.pushUndoStop(),$.current=!1))},[i],x),Dl(()=>{var Z,Q;let K=(Z=I.current)==null?void 0:Z.getModel();K&&r&&((Q=L.current)==null||Q.editor.setModelLanguage(K,r))},[r],x),Dl(()=>{var K;a!==void 0&&((K=I.current)==null||K.revealLine(a))},[a],x),Dl(()=>{var K;(K=L.current)==null||K.editor.setTheme(o)},[o],x);let U=M.useCallback(()=>{var K;if(!(!R.current||!L.current)&&!W.current){O.current(L.current);let Z=s||t,Q=by(L.current,i||n||"",e||r||"",Z||"");I.current=(K=L.current)==null?void 0:K.editor.create(R.current,{model:Q,automaticLayout:!0,...c},u),d&&I.current.restoreViewState(BD.get(Z)),L.current.editor.setTheme(o),a!==void 0&&I.current.revealLine(a),k(!0),W.current=!0}},[n,e,t,i,r,s,c,u,d,o,a]);M.useEffect(()=>{x&&N.current(I.current,L.current)},[x]),M.useEffect(()=>{!D&&!x&&U()},[D,x,U]),A.current=i,M.useEffect(()=>{var K,Z;x&&w&&((K=F.current)==null||K.dispose(),F.current=(Z=I.current)==null?void 0:Z.onDidChangeModelContent(Q=>{$.current||w(I.current.getValue(),Q)}))},[x,w]),M.useEffect(()=>{if(x){let K=L.current.editor.onDidChangeMarkers(Z=>{var G;let Q=(G=I.current.getModel())==null?void 0:G.uri;if(Q&&Z.find(J=>J.path===Q.path)){let J=L.current.editor.getModelMarkers({resource:Q});_==null||_(J)}});return()=>{K==null||K.dispose()}}return()=>{}},[x,_]);function z(){var K,Z;(K=F.current)==null||K.dispose(),h?d&&BD.set(s,I.current.saveViewState()):(Z=I.current.getModel())==null||Z.dispose(),I.current.dispose()}return q.createElement(Iye,{width:f,height:p,isEditorReady:x,loading:l,_ref:R,className:m,wrapperProps:v})}var frt=hrt,wA=M.memo(frt);const grt=()=>{var l,c,u;const{saveButtonProps:n,refineCore:{query:e},register:t,control:i,formState:{errors:r}}=gl(),s=(l=e==null?void 0:e.data)==null?void 0:l.data,{autocompleteProps:o}=Fa({resource:"projects",defaultValue:s==null?void 0:s.project_id}),{autocompleteProps:a}=Fa({resource:"events",defaultValue:s==null?void 0:s.event_ids});return V.jsx(V0,{saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Fn,{...t("id",{required:"This field is required"}),error:!!(r!=null&&r.id),helperText:(c=r==null?void 0:r.id)==null?void 0:c.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Id",name:"id",disabled:!0}),V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:d})=>V.jsx($o,{...o,...d,onChange:(h,f)=>{d.onChange((f==null?void 0:f.id)??f)},getOptionLabel:h=>{var f,p;return((p=(f=o==null?void 0:o.options)==null?void 0:f.find(m=>{var v,C;return((v=m==null?void 0:m.id)==null?void 0:v.toString())===((C=(h==null?void 0:h.id)??h)==null?void 0:C.toString())}))==null?void 0:p.description)??""},isOptionEqualToValue:(h,f)=>{var p,m;return f===void 0||((p=h==null?void 0:h.id)==null?void 0:p.toString())===((m=(f==null?void 0:f.id)??f)==null?void 0:m.toString())},renderInput:h=>{var f;return V.jsx(Fn,{...h,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(f=r==null?void 0:r.project_id)==null?void 0:f.message,required:!0})}})}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(u=r==null?void 0:r.description)==null?void 0:u.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"}),V.jsx(Yr,{control:i,name:"event_ids",rules:{required:"This field is required"},defaultValue:[],render:({field:d})=>V.jsx($o,{...a,...d,multiple:!0,onChange:(h,f)=>{d.onChange(f==null?void 0:f.map(p=>(p==null?void 0:p.id)??p))},getOptionLabel:h=>{var f,p;return((p=(f=a==null?void 0:a.options)==null?void 0:f.find(m=>{var v,C;return((v=m==null?void 0:m.id)==null?void 0:v.toString())===((C=(h==null?void 0:h.id)??h)==null?void 0:C.toString())}))==null?void 0:p.name)??""},isOptionEqualToValue:(h,f)=>{var p,m;return f===void 0||((p=h==null?void 0:h.id)==null?void 0:p.toString())===((m=(f==null?void 0:f.id)??f)==null?void 0:m.toString())},renderInput:h=>{var f;return V.jsx(Fn,{...h,label:"Event",margin:"normal",variant:"outlined",error:!!(r!=null&&r.event_ids),helperText:(f=r==null?void 0:r.event_ids)==null?void 0:f.message,required:!0})}})}),V.jsx(Yr,{control:i,name:"enabled",defaultValue:null,render:({field:d})=>V.jsx(jC,{label:"Enabled",control:V.jsx(Pv,{...d,checked:d.value,onChange:h=>{d.onChange(h.target.checked)}})})}),V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Steps"}),V.jsx(Yr,{control:i,rules:{required:"This field is required"},defaultValue:!0,name:"steps",render:({field:d})=>V.jsx(wA,{...d,height:"10vh",defaultLanguage:"json",onChange:h=>{d.onChange(h)}})})]})]})})},prt=()=>{var a;const{saveButtonProps:n,refineCore:{formLoading:e},register:t,control:i,formState:{errors:r}}=gl(),{autocompleteProps:s}=Fa({resource:"projects"}),{autocompleteProps:o}=Fa({resource:"events"});return V.jsx(H0,{isLoading:e,saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:l})=>V.jsx($o,{...s,...l,onChange:(c,u)=>{l.onChange((u==null?void 0:u.id)??u)},getOptionLabel:c=>{var u,d;return((d=(u=s==null?void 0:s.options)==null?void 0:u.find(h=>{var f,p;return((f=h==null?void 0:h.id)==null?void 0:f.toString())===((p=(c==null?void 0:c.id)??c)==null?void 0:p.toString())}))==null?void 0:d.description)??""},isOptionEqualToValue:(c,u)=>{var d,h;return u===void 0||((d=c==null?void 0:c.id)==null?void 0:d.toString())===((h=(u==null?void 0:u.id)??u)==null?void 0:h.toString())},renderInput:c=>{var u;return V.jsx(Fn,{...c,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(u=r==null?void 0:r.project_id)==null?void 0:u.message,required:!0})}})}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(a=r==null?void 0:r.description)==null?void 0:a.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"}),V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Steps"}),V.jsx(Yr,{control:i,rules:{required:"This field is required"},defaultValue:null,name:"steps",render:({field:l})=>V.jsx(wA,{...l,height:"10vh",defaultLanguage:"json",onChange:c=>{l.onChange(c)}})})]}),V.jsx(Yr,{control:i,name:"event_ids",rules:{required:"This field is required"},defaultValue:[],render:({field:l})=>V.jsx($o,{...o,...l,multiple:!0,onChange:(c,u)=>{l.onChange(u==null?void 0:u.map(d=>(d==null?void 0:d.id)??d))},getOptionLabel:c=>{var u,d;return((d=(u=o==null?void 0:o.options)==null?void 0:u.find(h=>{var f,p;return((f=h==null?void 0:h.id)==null?void 0:f.toString())===((p=(c==null?void 0:c.id)??c)==null?void 0:p.toString())}))==null?void 0:d.name)??""},isOptionEqualToValue:(c,u)=>{var d,h;return u===void 0||((d=c==null?void 0:c.id)==null?void 0:d.toString())===((h=(u==null?void 0:u.id)??u)==null?void 0:h.toString())},renderInput:c=>{var u;return V.jsx(Fn,{...c,label:"Event",margin:"normal",variant:"outlined",error:!!(r!=null&&r.event_ids),helperText:(u=r==null?void 0:r.event_ids)==null?void 0:u.message,required:!0})}})}),V.jsx(Yr,{control:i,name:"enabled",defaultValue:!0,render:({field:l})=>V.jsx(jC,{label:"Enabled",control:V.jsx(Pv,{...l,checked:l.value,onChange:c=>{l.onChange(c.target.checked)}})})})]})})},mrt=()=>{var o,a;const{dataGridProps:n}=Bv(),{data:e,isLoading:t}=Bd({resource:"projects",ids:((o=n==null?void 0:n.rows)==null?void 0:o.map(l=>l==null?void 0:l.project_id))??[],queryOptions:{enabled:!!(n!=null&&n.rows)}}),{data:i,isLoading:r}=Bd({resource:"groups",ids:[].concat(...((a=n==null?void 0:n.rows)==null?void 0:a.map(l=>l==null?void 0:l.group_ids))??[]),queryOptions:{enabled:!!(n!=null&&n.rows)}}),s=q.useMemo(()=>[{field:"id",headerName:"Id",minWidth:50},{field:"description",flex:1,headerName:"Description",minWidth:200},{field:"group_ids",flex:1,headerName:"Group",minWidth:100,renderCell:function({value:c}){return r?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:c==null?void 0:c.map((u,d)=>{var h,f;return V.jsx(UC,{value:(f=(h=i==null?void 0:i.data)==null?void 0:h.find(p=>p.id===u))==null?void 0:f.name},d)})})}},{field:"contacts",flex:1,headerName:"Contacts",minWidth:200,renderCell:function({row:c}){var u;return V.jsx(V.Fragment,{children:(u=c==null?void 0:c.contacts)==null?void 0:u.map(d=>V.jsx(UC,{value:d},d))})}},{field:"project_id",flex:1,headerName:"Project",minWidth:100,renderCell:function({value:c}){var u,d;return t?V.jsx(V.Fragment,{children:"Loading..."}):(d=(u=e==null?void 0:e.data)==null?void 0:u.find(h=>h.id===c))==null?void 0:d.description}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function({row:c}){return V.jsxs(V.Fragment,{children:[V.jsx(Hv,{hideText:!0,recordItemId:c.id}),V.jsx($0,{hideText:!0,recordItemId:c.id}),V.jsx(Zp,{hideText:!0,recordItemId:c.id})]})},align:"center",headerAlign:"center",minWidth:80}],[e==null?void 0:e.data,i==null?void 0:i.data]);return V.jsx(z0,{children:V.jsx(F0,{...n,columns:s,autoHeight:!0})})},brt=()=>{var l,c,u,d,h,f;const{query:n}=y0(),{data:e,isLoading:t}=n,i=e==null?void 0:e.data,{data:r,isLoading:s}=Bd({resource:"groups",ids:(i==null?void 0:i.group_ids)||[],queryOptions:{enabled:!!i&&!!((l=i==null?void 0:i.group_ids)!=null&&l.length)}}),{data:o,isLoading:a}=Ev({resource:"projects",id:(i==null?void 0:i.project_id)||"",queryOptions:{enabled:!!i}});return V.jsx(W0,{isLoading:t,children:V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Id"}),V.jsx(Na,{value:i==null?void 0:i.id}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Project"}),a?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(c=o==null?void 0:o.data)==null?void 0:c.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Description"}),i==null?void 0:i.description,V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Contacts"}),V.jsx(xs,{direction:"row",spacing:1,children:(u=i==null?void 0:i.contacts)==null?void 0:u.map(p=>V.jsx(UC,{value:p},p))}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Extras"}),V.jsx(Na,{value:i==null?void 0:i.extras}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Group"}),s&&((d=i==null?void 0:i.group_ids)!=null&&d.length)?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(h=i==null?void 0:i.group_ids)!=null&&h.length?V.jsx(xs,{direction:"row",spacing:1,children:(f=r==null?void 0:r.data)==null?void 0:f.map(p=>V.jsx(UC,{value:p==null?void 0:p.name},p==null?void 0:p.name))}):V.jsx(V.Fragment,{})})]})})},Nye=Ut(V.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),vrt=()=>{var d,h,f,p;const{saveButtonProps:n,refineCore:{query:e},register:t,control:i,formState:{errors:r}}=gl(),s=(d=e==null?void 0:e.data)==null?void 0:d.data,{autocompleteProps:o}=Fa({resource:"groups",defaultValue:s==null?void 0:s.group_ids}),{autocompleteProps:a}=Fa({resource:"projects",defaultValue:s==null?void 0:s.project_id}),{fields:l,append:c,remove:u}=$ve({control:i,name:"contacts"});return V.jsx(V0,{saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Fn,{...t("id",{required:"This field is required"}),error:!!(r!=null&&r.id),helperText:(h=r==null?void 0:r.id)==null?void 0:h.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Id",name:"id",disabled:!0}),V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:m})=>V.jsx($o,{...a,...m,onChange:(v,C)=>{m.onChange((C==null?void 0:C.id)??C)},getOptionLabel:v=>{var C,y;return((y=(C=a==null?void 0:a.options)==null?void 0:C.find(w=>{var _,x;return((_=w==null?void 0:w.id)==null?void 0:_.toString())===((x=(v==null?void 0:v.id)??v)==null?void 0:x.toString())}))==null?void 0:y.description)??""},isOptionEqualToValue:(v,C)=>{var y,w;return C===void 0||((y=v==null?void 0:v.id)==null?void 0:y.toString())===((w=(C==null?void 0:C.id)??C)==null?void 0:w.toString())},renderInput:v=>{var C;return V.jsx(Fn,{...v,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(C=r==null?void 0:r.project_id)==null?void 0:C.message,required:!0})}})}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(f=r==null?void 0:r.description)==null?void 0:f.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"}),V.jsx(Fn,{...t("extras",{required:"This field is required"}),defaultValue:"{}",error:!!(r!=null&&r.extras),helperText:(p=r==null?void 0:r.extras)==null?void 0:p.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Extras",name:"extras"}),V.jsx(Yr,{control:i,name:"group_ids",defaultValue:[],render:({field:m})=>V.jsx($o,{...o,...m,multiple:!0,onChange:(v,C)=>{m.onChange(C==null?void 0:C.map(y=>(y==null?void 0:y.id)??y))},getOptionLabel:v=>{var C,y;return((y=(C=o==null?void 0:o.options)==null?void 0:C.find(w=>{var _,x;return((_=w==null?void 0:w.id)==null?void 0:_.toString())===((x=(v==null?void 0:v.id)??v)==null?void 0:x.toString())}))==null?void 0:y.name)??""},isOptionEqualToValue:(v,C)=>{var y,w;return C===void 0||((y=v==null?void 0:v.id)==null?void 0:y.toString())===((w=(C==null?void 0:C.id)??C)==null?void 0:w.toString())},renderInput:v=>{var C;return V.jsx(Fn,{...v,label:"Group",margin:"normal",variant:"outlined",error:!!(r!=null&&r.group_ids),helperText:(C=r==null?void 0:r.group_ids)==null?void 0:C.message})}})}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Contacts"}),V.jsx(xs,{children:l.map((m,v)=>{var C,y,w;return V.jsxs(Fi,{sx:{display:"flex",flexDirection:"row"},children:[V.jsx(Fn,{...t(`contacts.${v}`,{required:"This field is required"}),error:!!((C=r==null?void 0:r.contacts)!=null&&C[v]),helperText:(w=(y=r==null?void 0:r.contacts)==null?void 0:y[v])==null?void 0:w.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Contact",name:`contacts.${v}`},v),V.jsx(ua,{onClick:()=>{u(v)},children:V.jsx(Nye,{})})]})})}),V.jsx(Du,{variant:"outlined",fullWidth:!0,onClick:()=>{c("")},children:"Add contact"})]})})},yrt=()=>{var u,d;const{saveButtonProps:n,refineCore:{formLoading:e},register:t,control:i,formState:{errors:r}}=gl(),{autocompleteProps:s}=Fa({resource:"projects"}),{autocompleteProps:o}=Fa({resource:"groups"}),{fields:a,append:l,remove:c}=$ve({control:i,name:"contacts"});return V.jsx(H0,{isLoading:e,saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:h})=>V.jsx($o,{...s,...h,onChange:(f,p)=>{h.onChange((p==null?void 0:p.id)??p)},getOptionLabel:f=>{var p,m;return((m=(p=s==null?void 0:s.options)==null?void 0:p.find(v=>{var C,y;return((C=v==null?void 0:v.id)==null?void 0:C.toString())===((y=(f==null?void 0:f.id)??f)==null?void 0:y.toString())}))==null?void 0:m.description)??""},isOptionEqualToValue:(f,p)=>{var m,v;return p===void 0||((m=f==null?void 0:f.id)==null?void 0:m.toString())===((v=(p==null?void 0:p.id)??p)==null?void 0:v.toString())},renderInput:f=>{var p;return V.jsx(Fn,{...f,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(p=r==null?void 0:r.project_id)==null?void 0:p.message,required:!0})}})}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(u=r==null?void 0:r.description)==null?void 0:u.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"}),V.jsx(Fn,{...t("extras",{required:"This field is required"}),defaultValue:"{}",error:!!(r!=null&&r.extras),helperText:(d=r==null?void 0:r.extras)==null?void 0:d.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Extras",name:"extras"}),V.jsx(Yr,{control:i,name:"group_ids",defaultValue:[],render:({field:h})=>V.jsx($o,{...o,...h,multiple:!0,onChange:(f,p)=>{h.onChange(p==null?void 0:p.map(m=>(m==null?void 0:m.id)??m))},getOptionLabel:f=>{var p,m;return((m=(p=o==null?void 0:o.options)==null?void 0:p.find(v=>{var C,y;return((C=v==null?void 0:v.id)==null?void 0:C.toString())===((y=(f==null?void 0:f.id)??f)==null?void 0:y.toString())}))==null?void 0:m.name)??""},isOptionEqualToValue:(f,p)=>{var m,v;return p===void 0||((m=f==null?void 0:f.id)==null?void 0:m.toString())===((v=(p==null?void 0:p.id)??p)==null?void 0:v.toString())},renderInput:f=>{var p;return V.jsx(Fn,{...f,label:"Group",margin:"normal",variant:"outlined",error:!!(r!=null&&r.group_ids),helperText:(p=r==null?void 0:r.group_ids)==null?void 0:p.message})}})}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Contacts"}),V.jsx(xs,{children:a.map((h,f)=>{var p,m,v;return V.jsxs(Fi,{sx:{display:"flex",flexDirection:"row"},children:[V.jsx(Fn,{...t(`contacts.${f}`,{required:"This field is required"}),error:!!((p=r==null?void 0:r.contacts)!=null&&p[f]),helperText:(v=(m=r==null?void 0:r.contacts)==null?void 0:m[f])==null?void 0:v.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Contact",name:`contacts.${f}`},f),V.jsx(ua,{onClick:()=>{c(f)},children:V.jsx(Nye,{})})]})})}),V.jsx(Du,{variant:"outlined",fullWidth:!0,onClick:()=>{l("")},children:"Add contact"})]})})},Crt=Ut(V.jsx("path",{d:"M6.36 18.78 6.61 21l1.62-1.54 2.77-7.6c-.68-.17-1.28-.51-1.77-.98zm8.41-7.9c-.49.47-1.1.81-1.77.98l2.77 7.6L17.39 21l.26-2.22zM15 8c0-1.3-.84-2.4-2-2.82V3h-2v2.18C9.84 5.6 9 6.7 9 8c0 1.66 1.34 3 3 3s3-1.34 3-3m-3 1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Architecture"),_rt=Ut(V.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),wrt=Ut(V.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),Srt=Ut(V.jsx("path",{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18c-1.16.41-2 1.51-2 2.82 0 1.66 1.34 3 3 3s3-1.34 3-3c0-1.3-.84-2.4-2-2.82"}),"Route"),xrt=Ut(V.jsx("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18q.15-.36.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive"),krt=Ut(V.jsx("path",{d:"m20.41 8.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9.83c0-.53-.21-1.04-.59-1.42M7 7h7v2H7zm10 10H7v-2h10zm0-4H7v-2h10z"}),"TextSnippet"),Lrt=()=>{var r;const{dataGridProps:n}=Bv(),{data:e,isLoading:t}=Bd({resource:"projects",ids:((r=n==null?void 0:n.rows)==null?void 0:r.map(s=>s==null?void 0:s.project_id))??[],queryOptions:{enabled:!!(n!=null&&n.rows)}}),i=q.useMemo(()=>[{field:"name",headerName:"Name",minWidth:200},{field:"description",flex:1,headerName:"Description",minWidth:200},{field:"project_id",headerName:"Project",minWidth:150,renderCell:function({value:o}){var a,l;return t?V.jsx(V.Fragment,{children:"Loading..."}):(l=(a=e==null?void 0:e.data)==null?void 0:a.find(c=>c.id===o))==null?void 0:l.description}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function({row:o}){return V.jsxs(V.Fragment,{children:[V.jsx(Hv,{hideText:!0,recordItemId:o.id}),V.jsx($0,{hideText:!0,recordItemId:o.id}),V.jsx(Zp,{hideText:!0,recordItemId:o.id})]})},align:"center",headerAlign:"center",minWidth:80}],[e==null?void 0:e.data]);return V.jsx(z0,{children:V.jsx(F0,{...n,columns:i,autoHeight:!0})})},Ert=()=>{var o;const{query:n}=y0(),{data:e,isLoading:t}=n,i=e==null?void 0:e.data,{data:r,isLoading:s}=Ev({resource:"projects",id:(i==null?void 0:i.project_id)||"",queryOptions:{enabled:!!i}});return V.jsx(W0,{isLoading:t,children:V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Id"}),V.jsx(Na,{value:i==null?void 0:i.id}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Project"}),s?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(o=r==null?void 0:r.data)==null?void 0:o.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Name"}),V.jsx(Na,{value:i==null?void 0:i.name}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Description"}),V.jsx(Na,{value:i==null?void 0:i.description})]})})},Drt=()=>{var a,l,c,u;const{saveButtonProps:n,refineCore:{query:e},register:t,control:i,formState:{errors:r}}=gl(),s=(a=e==null?void 0:e.data)==null?void 0:a.data,{autocompleteProps:o}=Fa({resource:"projects",defaultValue:s==null?void 0:s.project_id});return V.jsx(V0,{saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Fn,{...t("id",{required:"This field is required"}),error:!!(r!=null&&r.id),helperText:(l=r==null?void 0:r.id)==null?void 0:l.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Id",name:"id",disabled:!0}),V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:d})=>V.jsx($o,{...o,...d,onChange:(h,f)=>{d.onChange((f==null?void 0:f.id)??f)},getOptionLabel:h=>{var f,p;return((p=(f=o==null?void 0:o.options)==null?void 0:f.find(m=>{var v,C;return((v=m==null?void 0:m.id)==null?void 0:v.toString())===((C=(h==null?void 0:h.id)??h)==null?void 0:C.toString())}))==null?void 0:p.description)??""},isOptionEqualToValue:(h,f)=>{var p,m;return f===void 0||((p=h==null?void 0:h.id)==null?void 0:p.toString())===((m=(f==null?void 0:f.id)??f)==null?void 0:m.toString())},renderInput:h=>{var f;return V.jsx(Fn,{...h,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(f=r==null?void 0:r.project_id)==null?void 0:f.message,required:!0})}})}),V.jsx(Fn,{...t("name",{required:"This field is required"}),error:!!(r!=null&&r.name),helperText:(c=r==null?void 0:r.name)==null?void 0:c.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Name",name:"name"}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(u=r==null?void 0:r.description)==null?void 0:u.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"})]})})},Trt=()=>{var o,a;const{saveButtonProps:n,refineCore:{formLoading:e},register:t,control:i,formState:{errors:r}}=gl(),{autocompleteProps:s}=Fa({resource:"projects"});return V.jsx(H0,{isLoading:e,saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:"00000000-0000-0000-0000-000000000000",render:({field:l})=>V.jsx($o,{...s,...l,onChange:(c,u)=>{l.onChange((u==null?void 0:u.id)??u)},getOptionLabel:c=>{var u,d;return((d=(u=s==null?void 0:s.options)==null?void 0:u.find(h=>{var f,p;return((f=h==null?void 0:h.id)==null?void 0:f.toString())===((p=(c==null?void 0:c.id)??c)==null?void 0:p.toString())}))==null?void 0:d.description)??""},isOptionEqualToValue:(c,u)=>{var d,h;return u===void 0||((d=c==null?void 0:c.id)==null?void 0:d.toString())===((h=(u==null?void 0:u.id)??u)==null?void 0:h.toString())},renderInput:c=>{var u;return V.jsx(Fn,{...c,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(u=r==null?void 0:r.project_id)==null?void 0:u.message,required:!0})}})}),V.jsx(Fn,{...t("name",{required:"This field is required"}),error:!!(r!=null&&r.name),helperText:(o=r==null?void 0:r.name)==null?void 0:o.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Name",name:"name"}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(a=r==null?void 0:r.description)==null?void 0:a.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"})]})})},Irt=()=>{var r;const{dataGridProps:n}=Bv(),{data:e,isLoading:t}=Bd({resource:"projects",ids:((r=n==null?void 0:n.rows)==null?void 0:r.map(s=>s==null?void 0:s.project_id))??[],queryOptions:{enabled:!!(n!=null&&n.rows)}}),i=q.useMemo(()=>[{field:"name",headerName:"Name",minWidth:200},{field:"description",headerName:"Description",minWidth:200,flex:1},{field:"channel",headerName:"Channel",minWidth:200},{field:"project_id",headerName:"Project",minWidth:150,renderCell:function({value:o}){var a,l;return t?V.jsx(V.Fragment,{children:"Loading..."}):(l=(a=e==null?void 0:e.data)==null?void 0:a.find(c=>c.id===o))==null?void 0:l.description}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function({row:o}){return V.jsxs(V.Fragment,{children:[V.jsx(Hv,{hideText:!0,recordItemId:o.id}),V.jsx($0,{hideText:!0,recordItemId:o.id}),V.jsx(Zp,{hideText:!0,recordItemId:o.id})]})},align:"center",headerAlign:"center",minWidth:80}],[e==null?void 0:e.data]);return V.jsx(z0,{children:V.jsx(F0,{...n,columns:i,autoHeight:!0})})},Mrt=()=>{var l;const{query:n}=y0(),{data:e,isLoading:t}=n,i=e==null?void 0:e.data,{data:r,isLoading:s}=Ev({resource:"projects",id:(i==null?void 0:i.project_id)||"",queryOptions:{enabled:!!i}}),a=JSON.parse((i==null?void 0:i.template)??"{}").parts??{};return V.jsx(W0,{isLoading:t,children:V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Id"}),V.jsx(Na,{value:i==null?void 0:i.id}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Project"}),s?V.jsx(V.Fragment,{children:"Loading..."}):V.jsx(V.Fragment,{children:(l=r==null?void 0:r.data)==null?void 0:l.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Channel"}),V.jsx(Na,{value:i==null?void 0:i.channel}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Name"}),V.jsx(Na,{value:i==null?void 0:i.name}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Description"}),V.jsx(Na,{value:i==null?void 0:i.description}),V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Template Parts"}),V.jsx(qnt,{component:qc,children:V.jsxs(Fnt,{children:[V.jsx(Xnt,{children:V.jsxs(Gae,{children:[V.jsx(Cb,{width:120,children:"Part name"}),V.jsx(Cb,{children:"Value"})]})}),V.jsx(Wnt,{children:Object.entries(a).map(([c,u])=>V.jsxs(Gae,{sx:{fontFamily:"monospace"},children:[V.jsx(Cb,{children:c}),V.jsx(Cb,{children:V.jsx("pre",{children:u==null?void 0:u.toString()})})]}))})]})})]})})},Rrt=()=>{var a,l,c,u,d;const{saveButtonProps:n,refineCore:{query:e},register:t,control:i,formState:{errors:r}}=gl(),s=(a=e==null?void 0:e.data)==null?void 0:a.data,{autocompleteProps:o}=Fa({resource:"projects",defaultValue:s==null?void 0:s.project_id});return V.jsx(V0,{saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Fn,{...t("id",{required:"This field is required"}),error:!!(r!=null&&r.id),helperText:(l=r==null?void 0:r.id)==null?void 0:l.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Id",name:"id",disabled:!0}),V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:h})=>V.jsx($o,{...o,...h,onChange:(f,p)=>{h.onChange((p==null?void 0:p.id)??p)},getOptionLabel:f=>{var p,m;return((m=(p=o==null?void 0:o.options)==null?void 0:p.find(v=>{var C,y;return((C=v==null?void 0:v.id)==null?void 0:C.toString())===((y=(f==null?void 0:f.id)??f)==null?void 0:y.toString())}))==null?void 0:m.description)??""},isOptionEqualToValue:(f,p)=>{var m,v;return p===void 0||((m=f==null?void 0:f.id)==null?void 0:m.toString())===((v=(p==null?void 0:p.id)??p)==null?void 0:v.toString())},renderInput:f=>{var p;return V.jsx(Fn,{...f,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(p=r==null?void 0:r.project_id)==null?void 0:p.message,required:!0})}})}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(c=r==null?void 0:r.description)==null?void 0:c.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"}),V.jsx(Fn,{...t("channel",{required:"This field is required"}),error:!!(r!=null&&r.channel),helperText:(u=r==null?void 0:r.channel)==null?void 0:u.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Channel",name:"channel",disabled:!0}),V.jsx(Fn,{...t("name",{required:"This field is required"}),error:!!(r!=null&&r.name),helperText:(d=r==null?void 0:r.name)==null?void 0:d.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Name",name:"name"}),V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Template"}),V.jsx(Yr,{control:i,rules:{required:"This field is required"},defaultValue:null,name:"template",render:({field:h})=>V.jsx(wA,{...h,height:"30vh",defaultLanguage:"json"})})]})]})})},Nrt=()=>{var a,l;const{saveButtonProps:n,refineCore:{formLoading:e},register:t,control:i,formState:{errors:r}}=gl(),{autocompleteProps:s}=Fa({resource:"projects"}),{autocompleteProps:o}=Fa({resource:"channels"});return V.jsx(H0,{isLoading:e,saveButtonProps:n,children:V.jsxs(Fi,{component:"form",sx:{display:"flex",flexDirection:"column"},autoComplete:"off",children:[V.jsx(Yr,{control:i,name:"project_id",rules:{required:"This field is required"},defaultValue:null,render:({field:c})=>V.jsx($o,{...s,...c,onChange:(u,d)=>{c.onChange((d==null?void 0:d.id)??d)},getOptionLabel:u=>{var d,h;return((h=(d=s==null?void 0:s.options)==null?void 0:d.find(f=>{var p,m;return((p=f==null?void 0:f.id)==null?void 0:p.toString())===((m=(u==null?void 0:u.id)??u)==null?void 0:m.toString())}))==null?void 0:h.description)??""},isOptionEqualToValue:(u,d)=>{var h,f;return d===void 0||((h=u==null?void 0:u.id)==null?void 0:h.toString())===((f=(d==null?void 0:d.id)??d)==null?void 0:f.toString())},renderInput:u=>{var d;return V.jsx(Fn,{...u,label:"Project",margin:"normal",variant:"outlined",error:!!(r!=null&&r.project_id),helperText:(d=r==null?void 0:r.project_id)==null?void 0:d.message,required:!0})}})}),V.jsx(Fn,{...t("description"),error:!!(r!=null&&r.description),helperText:(a=r==null?void 0:r.description)==null?void 0:a.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Description",name:"description"}),V.jsx(Yr,{control:i,name:"channel",rules:{required:"This field is required"},defaultValue:null,render:({field:c})=>V.jsx($o,{...o,...c,onChange:(u,d)=>{c.onChange(d)},getOptionLabel:u=>u,isOptionEqualToValue:(u,d)=>d===void 0||(u==null?void 0:u.toString())===(d==null?void 0:d.toString()),renderInput:u=>{var d;return V.jsx(Fn,{...u,label:"Channel",margin:"normal",variant:"outlined",error:!!(r!=null&&r.channel),helperText:(d=r==null?void 0:r.channel)==null?void 0:d.message,required:!0})}})}),V.jsx(Fn,{...t("name",{required:"This field is required"}),error:!!(r!=null&&r.name),helperText:(l=r==null?void 0:r.name)==null?void 0:l.message,margin:"normal",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},type:"text",label:"Name",name:"name"}),V.jsxs(xs,{gap:1,children:[V.jsx(nn,{variant:"body1",fontWeight:"bold",children:"Template"}),V.jsx(Yr,{control:i,rules:{required:"This field is required"},defaultValue:null,name:"template",render:({field:c})=>V.jsx(wA,{...c,height:"30vh",defaultLanguage:"json"})})]})]})})};function Art(){return V.jsx(Det,{children:V.jsx(rAe,{children:V.jsxs(Mnt,{children:[V.jsx(aJe,{}),V.jsx(Eme,{styles:{html:{WebkitFontSmoothing:"auto"}}}),V.jsx(nJe,{children:V.jsxs(TRe,{children:[V.jsxs(bRe,{dataProvider:Ent("/api/v1"),notificationProvider:eJe,routerProvider:Het,resources:[{name:"projects",list:"/projects",create:"/projects/create",edit:"/projects/edit/:id",show:"/projects/show/:id",meta:{canDelete:!0,icon:V.jsx(Crt,{})}},{name:"events",list:"/events",create:"/events/create",edit:"/events/edit/:id",show:"/events/show/:id",meta:{canDelete:!0,icon:V.jsx(xrt,{})}},{name:"pipelines",list:"/pipelines",create:"/pipelines/create",edit:"/pipelines/edit/:id",show:"/pipelines/show/:id",meta:{canDelete:!0,icon:V.jsx(Srt,{})}},{name:"recipients",list:"/recipients",create:"/recipients/create",edit:"/recipients/edit/:id",show:"/recipients/show/:id",meta:{canDelete:!0,icon:V.jsx(_rt,{})}},{name:"groups",list:"/groups",create:"/groups/create",edit:"/groups/edit/:id",show:"/groups/show/:id",meta:{canDelete:!0,icon:V.jsx(wrt,{})}},{name:"templates",list:"/templates",create:"/templates/create",edit:"/templates/edit/:id",show:"templates/show/:id",meta:{canDelete:!0,icon:V.jsx(krt,{})}},{name:"channels",meta:{hide:!0}}],options:{syncWithLocation:!0,warnWhenUnsavedChanges:!0,useNewQueryKeys:!0,projectId:"zkVVTP-xIcIDA-4qej35",title:{text:"Notifico",icon:V.jsx(Dnt,{})},disableTelemetry:!0},children:[V.jsx(net,{children:V.jsxs(Ni,{element:V.jsx(jZe,{Header:()=>V.jsx(Rnt,{sticky:!0}),children:V.jsx(eet,{})}),children:[V.jsx(Ni,{index:!0,element:V.jsx(Vet,{resource:"projects"})}),V.jsxs(Ni,{path:"/projects",children:[V.jsx(Ni,{index:!0,element:V.jsx(Nnt,{})}),V.jsx(Ni,{path:"create",element:V.jsx(nit,{})}),V.jsx(Ni,{path:"show/:id",element:V.jsx(tit,{})}),V.jsx(Ni,{path:"edit/:id",element:V.jsx(iit,{})})]}),V.jsxs(Ni,{path:"/events",children:[V.jsx(Ni,{index:!0,element:V.jsx(rit,{})}),V.jsx(Ni,{path:"create",element:V.jsx(ait,{})}),V.jsx(Ni,{path:"show/:id",element:V.jsx(sit,{})}),V.jsx(Ni,{path:"edit/:id",element:V.jsx(oit,{})})]}),V.jsxs(Ni,{path:"/pipelines",children:[V.jsx(Ni,{index:!0,element:V.jsx(lit,{})}),V.jsx(Ni,{path:"create",element:V.jsx(prt,{})}),V.jsx(Ni,{path:"show/:id",element:V.jsx(cit,{})}),V.jsx(Ni,{path:"edit/:id",element:V.jsx(grt,{})})]}),V.jsxs(Ni,{path:"/recipients",children:[V.jsx(Ni,{index:!0,element:V.jsx(mrt,{})}),V.jsx(Ni,{path:"create",element:V.jsx(yrt,{})}),V.jsx(Ni,{path:"show/:id",element:V.jsx(brt,{})}),V.jsx(Ni,{path:"edit/:id",element:V.jsx(vrt,{})})]}),V.jsxs(Ni,{path:"/groups",children:[V.jsx(Ni,{index:!0,element:V.jsx(Lrt,{})}),V.jsx(Ni,{path:"create",element:V.jsx(Trt,{})}),V.jsx(Ni,{path:"show/:id",element:V.jsx(Ert,{})}),V.jsx(Ni,{path:"edit/:id",element:V.jsx(Drt,{})})]}),V.jsxs(Ni,{path:"/templates",children:[V.jsx(Ni,{index:!0,element:V.jsx(Irt,{})}),V.jsx(Ni,{path:"create",element:V.jsx(Nrt,{})}),V.jsx(Ni,{path:"show/:id",element:V.jsx(Mrt,{})}),V.jsx(Ni,{path:"edit/:id",element:V.jsx(Rrt,{})})]}),V.jsx(Ni,{path:"*",element:V.jsx(qZe,{})})]})}),V.jsx(iAe,{}),V.jsx($et,{}),V.jsx(jet,{})]}),V.jsx(DRe,{})]})})]})})})}const Prt="modulepreload",Ort=function(n){return"/"+n},ele={},Aye=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=Ort(l),l in ele)return;ele[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Prt,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Sl(n,e=0){return n[n.length-(1+e)]}function Frt(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function es(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Brt(n,e){const t=n.length-1;e<t&&(n[e]=n[t]),n.pop()}function Hrt(n,e,t){return Vrt(n.length,i=>t(n[i],e))}function Vrt(n,e){let t=0,i=n-1;for(;t<=i;){const r=(t+i)/2|0,s=e(r);if(s<0)t=r+1;else if(s>0)i=r-1;else return r}return-(t+1)}function*qU(n,e){let t,i;for(const r of n)i!==void 0&&e(i,r)?t.push(r):(t&&(yield t),t=[r]),i=r;t&&(yield t)}function Pye(n,e){for(let t=0;t<=n.length;t++)e(t===0?void 0:n[t-1],t===n.length?void 0:n[t])}function zrt(n,e){for(let t=0;t<n.length;t++)e(t===0?void 0:n[t-1],n[t],t+1===n.length?void 0:n[t+1])}function GU(n){return n.filter(e=>!!e)}function tle(n){let e=0;for(let t=0;t<n.length;t++)n[t]&&(n[e]=n[t],e+=1);n.length=e}function Wrt(n){return!Array.isArray(n)||n.length===0}function SA(n){return Array.isArray(n)&&n.length>0}function cv(n,e=t=>t){const t=new Set;return n.filter(i=>{const r=e(i);return t.has(r)?!1:(t.add(r),!0)})}function KU(n,e){return n.length>0?n[0]:e}function na(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let r=t;r<e;r++)i.push(r);else for(let r=t;r>e;r--)i.push(r);return i}function xA(n,e,t){const i=n.slice(0,e),r=n.slice(e);return i.concat(t,r)}function w7(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function HD(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function aH(n,e){for(const t of e)n.push(t)}function $rt(n,e,t){const i=Oye(n,e),r=n.length,s=t.length;n.length=r+s;for(let o=r-1;o>=i;o--)n[o+s]=n[o];for(let o=0;o<s;o++)n[o+i]=t[o]}function nle(n,e,t,i){const r=Oye(n,e);let s=n.splice(r,t);return s===void 0&&(s=[]),$rt(n,r,i),s}function Oye(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var qx;(function(n){function e(s){return s<0}n.isLessThan=e;function t(s){return s<=0}n.isLessThanOrEqual=t;function i(s){return s>0}n.isGreaterThan=i;function r(s){return s===0}n.isNeitherLessOrGreaterThan=r,n.greaterThan=1,n.lessThan=-1,n.neitherLessOrGreaterThan=0})(qx||(qx={}));function Dc(n,e){return(t,i)=>e(n(t),n(i))}function jrt(...n){return(e,t)=>{for(const i of n){const r=i(e,t);if(!qx.isNeitherLessOrGreaterThan(r))return r}return qx.neitherLessOrGreaterThan}}const mp=(n,e)=>n-e,Urt=(n,e)=>mp(n?1:0,e?1:0);function qrt(n){return(e,t)=>-n(e,t)}class Rf{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}const Hy=class Hy{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new Hy(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new Hy(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(r=>((i||qx.isGreaterThan(e(r,t)))&&(i=!1,t=r),!0)),t}};Hy.empty=new Hy(e=>{});let Nb=Hy;function sl(n){return typeof n=="string"}function ca(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function Grt(n){const e=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof e}function Q0(n){return typeof n=="number"&&!isNaN(n)}function ile(n){return!!n&&typeof n[Symbol.iterator]=="function"}function Fye(n){return n===!0||n===!1}function Ol(n){return typeof n>"u"}function qC(n){return!Xa(n)}function Xa(n){return Ol(n)||n===null}function bp(n,e){if(!n)throw new Error("Unexpected type")}function Bye(n){if(Xa(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function _I(n){return typeof n=="function"}function Krt(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)Qrt(n[i],e[i])}function Qrt(n,e){if(sl(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(_I(e)){try{if(n instanceof e)return}catch{}if(!Xa(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function zg(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?zg(i):i}),e}function Yrt(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(Hye.call(t,i)){const r=t[i];typeof r=="object"&&!Object.isFrozen(r)&&!Grt(r)&&e.push(r)}}return n}const Hye=Object.prototype.hasOwnProperty;function Vye(n,e){return lH(n,e,new Set)}function lH(n,e,t){if(Xa(n))return n;const i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){const r=[];for(const s of n)r.push(lH(s,e,t));return r}if(ca(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const r={};for(const s in n)Hye.call(n,s)&&(r[s]=lH(n[s],e,t));return t.delete(n),r}return n}function Pa(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!Pa(n[t],e[t]))return!1}else{const r=[];for(i in n)r.push(i);r.sort();const s=[];for(i in e)s.push(i);if(s.sort(),!Pa(r,s))return!1;for(t=0;t<r.length;t++)if(!Pa(n[r[t]],e[r[t]]))return!1}return!0}function Xrt(n){let e=[];for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}function cH(n){const e=[];for(const t of Xrt(n))typeof n[t]=="function"&&e.push(t);return e}function Zrt(n,e){const t=r=>function(){const s=Array.prototype.slice.call(arguments,0);return e(r,s)},i={};for(const r of n)i[r]=t(r);return i}function zye(){return globalThis._VSCODE_NLS_MESSAGES}function QU(){return globalThis._VSCODE_NLS_LANGUAGE}const Jrt=QU()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function rle(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,r)=>{const s=r[0],o=e[s];let a=i;return typeof o=="string"?a=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(a=String(o)),a}),Jrt&&(t=""+t.replace(/[aouei]/g,"$&$&")+""),t}function P(n,e,...t){return rle(typeof n=="number"?est(n,e):e,t)}function est(n,e){var i;const t=(i=zye())==null?void 0:i[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}const vy="en";let wI=!1,SI=!1,nT=!1,Wye=!1,YU=!1,XU=!1,$ye=!1,VD,S7=vy,sle=vy,tst,au;const Cf=globalThis;let Po;var Cfe;typeof Cf.vscode<"u"&&typeof Cf.vscode.process<"u"?Po=Cf.vscode.process:typeof process<"u"&&typeof((Cfe=process==null?void 0:process.versions)==null?void 0:Cfe.node)=="string"&&(Po=process);var _fe;const nst=typeof((_fe=Po==null?void 0:Po.versions)==null?void 0:_fe.electron)=="string",ist=nst&&(Po==null?void 0:Po.type)==="renderer";var wfe;if(typeof Po=="object"){wI=Po.platform==="win32",SI=Po.platform==="darwin",nT=Po.platform==="linux",nT&&Po.env.SNAP&&Po.env.SNAP_REVISION,Po.env.CI||Po.env.BUILD_ARTIFACTSTAGINGDIRECTORY,VD=vy,S7=vy;const n=Po.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n);VD=e.userLocale,sle=e.osLocale,S7=e.resolvedLanguage||vy,tst=(wfe=e.languagePack)==null?void 0:wfe.translationsConfigFile}catch{}Wye=!0}else typeof navigator=="object"&&!ist?(au=navigator.userAgent,wI=au.indexOf("Windows")>=0,SI=au.indexOf("Macintosh")>=0,XU=(au.indexOf("Macintosh")>=0||au.indexOf("iPad")>=0||au.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,nT=au.indexOf("Linux")>=0,$ye=(au==null?void 0:au.indexOf("Mobi"))>=0,YU=!0,S7=QU()||vy,VD=navigator.language.toLowerCase(),sle=VD):console.error("Unable to resolve platform.");const Ba=wI,An=SI,ga=nT,RS=Wye,Y0=YU,rst=YU&&typeof Cf.importScripts=="function",sst=rst?Cf.origin:void 0,uv=XU,jye=$ye,Wd=au,ost=typeof Cf.postMessage=="function"&&!Cf.importScripts,Uye=(()=>{if(ost){const n=[];Cf.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,r=n.length;i<r;i++){const s=n[i];if(s.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),s.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),Cf.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),Sc=SI||XU?2:wI?1:3;let ole=!0,ale=!1;function ast(){if(!ale){ale=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,ole=new Uint16Array(n.buffer)[0]===513}return ole}const qye=!!(Wd&&Wd.indexOf("Chrome")>=0),lst=!!(Wd&&Wd.indexOf("Firefox")>=0),cst=!!(!qye&&Wd&&Wd.indexOf("Safari")>=0),ust=!!(Wd&&Wd.indexOf("Edg/")>=0),dst=!!(Wd&&Wd.indexOf("Android")>=0),Js={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Un;(function(n){function e(_){return _&&typeof _=="object"&&typeof _[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*r(_){yield _}n.single=r;function s(_){return e(_)?_:r(_)}n.wrap=s;function o(_){return _||t}n.from=o;function*a(_){for(let x=_.length-1;x>=0;x--)yield _[x]}n.reverse=a;function l(_){return!_||_[Symbol.iterator]().next().done===!0}n.isEmpty=l;function c(_){return _[Symbol.iterator]().next().value}n.first=c;function u(_,x){let k=0;for(const D of _)if(x(D,k++))return!0;return!1}n.some=u;function d(_,x){for(const k of _)if(x(k))return k}n.find=d;function*h(_,x){for(const k of _)x(k)&&(yield k)}n.filter=h;function*f(_,x){let k=0;for(const D of _)yield x(D,k++)}n.map=f;function*p(_,x){let k=0;for(const D of _)yield*x(D,k++)}n.flatMap=p;function*m(..._){for(const x of _)yield*x}n.concat=m;function v(_,x,k){let D=k;for(const T of _)D=x(D,T);return D}n.reduce=v;function*C(_,x,k=_.length){for(x<0&&(x+=_.length),k<0?k+=_.length:k>_.length&&(k=_.length);x<k;x++)yield _[x]}n.slice=C;function y(_,x=Number.POSITIVE_INFINITY){const k=[];if(x===0)return[k,_];const D=_[Symbol.iterator]();for(let T=0;T<x;T++){const L=D.next();if(L.done)return[k,n.empty()];k.push(L.value)}return[k,{[Symbol.iterator](){return D}}]}n.consume=y;async function w(_){const x=[];for await(const k of _)x.push(k);return Promise.resolve(x)}n.asyncToArray=w})(Un||(Un={}));var gf;let qr=(gf=class{constructor(e){this.element=e,this.next=gf.Undefined,this.prev=gf.Undefined}},gf.Undefined=new gf(void 0),gf);class Aa{constructor(){this._first=qr.Undefined,this._last=qr.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===qr.Undefined}clear(){let e=this._first;for(;e!==qr.Undefined;){const t=e.next;e.prev=qr.Undefined,e.next=qr.Undefined,e=t}this._first=qr.Undefined,this._last=qr.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new qr(e);if(this._first===qr.Undefined)this._first=i,this._last=i;else if(t){const s=this._last;this._last=i,i.prev=s,s.next=i}else{const s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==qr.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==qr.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==qr.Undefined&&e.next!==qr.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===qr.Undefined&&e.next===qr.Undefined?(this._first=qr.Undefined,this._last=qr.Undefined):e.next===qr.Undefined?(this._last=this._last.prev,this._last.next=qr.Undefined):e.prev===qr.Undefined&&(this._first=this._first.next,this._first.prev=qr.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==qr.Undefined;)yield e.element,e=e.next}}const Gye="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function hst(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of Gye)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const ZU=hst();function JU(n){let e=ZU;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const Kye=new Aa;Kye.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Gx(n,e,t,i,r){if(e=JU(e),r||(r=Un.first(Kye)),t.length>r.maxLen){let c=n-r.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,n+r.maxLen/2),Gx(n,e,t,i,r)}const s=Date.now(),o=n-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-s>=r.timeBudget);c++){const u=o-r.windowSize*c;e.lastIndex=Math.max(0,u);const d=fst(e,t,o,a);if(!d&&l||(l=d,u<=0))break;a=u}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function fst(n,e,t,i){let r;for(;r=n.exec(e);){const s=r.index||0;if(s<=t&&n.lastIndex>=t)return r;if(i>0&&s>i)return null}return null}const id=8;class Qye{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Yye{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Vi{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return kA(e,t)}compute(e,t,i){return i}}class NS{constructor(e,t){this.newValue=e,this.didChange=t}}function kA(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new NS(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&es(n,e);return new NS(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const r=kA(n[i],e[i]);r.didChange&&(n[i]=r.newValue,t=!0)}return new NS(n,t)}class vL{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return kA(e,t)}validate(e){return this.defaultValue}}class X0{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return kA(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}}function xt(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}class Tn extends X0{constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=i),super(e,t,i,r)}validate(e){return xt(e,this.defaultValue)}}function Hm(n,e,t,i){if(typeof n>"u")return e;let r=parseInt(n,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(i,r),r|0)}class vi extends X0{static clampedInt(e,t,i,r){return Hm(e,t,i,r)}constructor(e,t,i,r,s,o=void 0){typeof o<"u"&&(o.type="integer",o.default=i,o.minimum=r,o.maximum=s),super(e,t,i,o),this.minimum=r,this.maximum=s}validate(e){return vi.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function gst(n,e,t,i){if(typeof n>"u")return e;const r=el.float(n,e);return el.clamp(r,t,i)}class el extends X0{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,r,s){typeof s<"u"&&(s.type="number",s.default=i),super(e,t,i,s),this.validationFn=r}validate(e){return this.validationFn(el.float(e,this.defaultValue))}}class wo extends X0{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="string",r.default=i),super(e,t,i,r)}validate(e){return wo.string(e,this.defaultValue)}}function nr(n,e,t,i){return typeof n!="string"?e:i&&n in i?i[n]:t.indexOf(n)===-1?e:n}class er extends X0{constructor(e,t,i,r,s=void 0){typeof s<"u"&&(s.type="string",s.enum=r,s.default=i),super(e,t,i,s),this._allowedValues=r}validate(e){return nr(e,this.defaultValue,this._allowedValues)}}class zD extends Vi{constructor(e,t,i,r,s,o,a=void 0){typeof a<"u"&&(a.type="string",a.enum=s,a.default=r),super(e,t,i,a),this._allowedValues=s,this._convert=o}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function pst(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class mst extends Vi{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[P("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),P("accessibilitySupport.on","Optimize for usage with a Screen Reader."),P("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:P("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class bst extends Vi{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:P("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:P("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:xt(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:xt(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function vst(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var ws;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(ws||(ws={}));function yst(n){switch(n){case"line":return ws.Line;case"block":return ws.Block;case"underline":return ws.Underline;case"line-thin":return ws.LineThin;case"block-outline":return ws.BlockOutline;case"underline-thin":return ws.UnderlineThin}}class Cst extends vL{constructor(){super(143)}compute(e,t,i){const r=["monaco-editor"];return t.get(39)&&r.push(t.get(39)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(74)==="default"?r.push("mouse-default"):t.get(74)==="copy"&&r.push("mouse-copy"),t.get(112)&&r.push("showUnused"),t.get(141)&&r.push("showDeprecated"),r.join(" ")}}class _st extends Tn{constructor(){super(37,"emptySelectionClipboard",!0,{description:P("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class wst extends Vi{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:P("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[P("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),P("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),P("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:P("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[P("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),P("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),P("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:P("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:P("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:An},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:P("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:P("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:xt(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":nr(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":nr(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:xt(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:xt(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:xt(t.loop,this.defaultValue.loop)}}}const qh=class qh extends Vi{constructor(){super(51,"fontLigatures",qh.OFF,{anyOf:[{type:"boolean",description:P("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:P("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:P("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?qh.OFF:e==="true"?qh.ON:e:e?qh.ON:qh.OFF}};qh.OFF='"liga" off, "calt" off',qh.ON='"liga" on, "calt" on';let dv=qh;const Gh=class Gh extends Vi{constructor(){super(54,"fontVariations",Gh.OFF,{anyOf:[{type:"boolean",description:P("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:P("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:P("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?Gh.OFF:e==="true"?Gh.TRANSLATE:e:e?Gh.TRANSLATE:Gh.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}};Gh.OFF="normal",Gh.TRANSLATE="translate";let Kx=Gh;class Sst extends vL{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}class xst extends X0{constructor(){super(52,"fontSize",ol.fontSize,{type:"number",minimum:6,maximum:100,default:ol.fontSize,description:P("fontSize","Controls the font size in pixels.")})}validate(e){const t=el.float(e,this.defaultValue);return t===0?ol.fontSize:el.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}const ad=class ad extends Vi{constructor(){super(53,"fontWeight",ol.fontWeight,{anyOf:[{type:"number",minimum:ad.MINIMUM_VALUE,maximum:ad.MAXIMUM_VALUE,errorMessage:P("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:ad.SUGGESTION_VALUES}],default:ol.fontWeight,description:P("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(vi.clampedInt(e,ol.fontWeight,ad.MINIMUM_VALUE,ad.MAXIMUM_VALUE))}};ad.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],ad.MINIMUM_VALUE=1,ad.MAXIMUM_VALUE=1e3;let uH=ad;class kst extends Vi{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[P("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),P("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),P("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:P("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:P("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:P("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:P("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:P("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:P("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:P("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:P("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:P("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:P("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:P("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{multiple:nr(t.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:t.multipleDefinitions??nr(t.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:t.multipleTypeDefinitions??nr(t.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:t.multipleDeclarations??nr(t.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:t.multipleImplementations??nr(t.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:t.multipleReferences??nr(t.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:t.multipleTests??nr(t.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:wo.string(t.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:wo.string(t.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:wo.string(t.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:wo.string(t.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:wo.string(t.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:wo.string(t.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}}class Lst extends Vi{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:P("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:P("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:P("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:P("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:P("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),delay:vi.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:xt(t.sticky,this.defaultValue.sticky),hidingDelay:vi.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:xt(t.above,this.defaultValue.above)}}}class oC extends vL{constructor(){super(146)}compute(e,t,i){return oC.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let r=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(r=Math.max(r,t-1));const s=(i+e.viewLineCount+r)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/s);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:r,desiredRatio:s,minimapLineCount:o}}static _computeMinimapLayout(e,t){const i=e.outerWidth,r=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const o=t.stableMinimapLayoutInput,a=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.paddingTop===o.paddingTop&&e.paddingBottom===o.paddingBottom&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,u=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=s>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const f=e.minimap.maxColumn,p=e.minimap.size,m=e.minimap.side,v=e.verticalScrollbarWidth,C=e.viewLineCount,y=e.remainingWidth,w=e.isViewportWrapping,_=d?2:3;let x=Math.floor(s*r);const k=x/s;let D=!1,T=!1,L=_*h,I=h/s,R=1;if(p==="fill"||p==="fit"){const{typicalViewportLineCount:$,extraLinesBeforeFirstLine:U,extraLinesBeyondLastLine:z,desiredRatio:K,minimapLineCount:Z}=oC.computeContainedMinimapLineCount({viewLineCount:C,scrollBeyondLastLine:u,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:r,lineHeight:l,pixelRatio:s});if(C/Z>1)D=!0,T=!0,h=1,L=1,I=h/s;else{let G=!1,J=h+1;if(p==="fit"){const ne=Math.ceil((U+C+z)*L);w&&a&&y<=t.stableFitRemainingWidth?(G=!0,J=t.stableFitMaxMinimapScale):G=ne>x}if(p==="fill"||G){D=!0;const ne=h;L=Math.min(l*s,Math.max(1,Math.floor(1/K))),w&&a&&y<=t.stableFitRemainingWidth&&(J=t.stableFitMaxMinimapScale),h=Math.min(J,Math.max(1,Math.floor(L/_))),h>ne&&(R=Math.min(2,h/ne)),I=h/s/R,x=Math.ceil(Math.max($,U+C+z)*L),w?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=y,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const N=Math.floor(f*I),O=Math.min(N,Math.max(0,Math.floor((y-v-2)*I/(c+I)))+id);let F=Math.floor(s*O);const A=F/s;F=Math.floor(F*R);const H=d?1:2,W=m==="left"?0:i-O-v;return{renderMinimap:H,minimapLeft:W,minimapWidth:O,minimapHeightIsEditorHeight:D,minimapIsSampling:T,minimapScale:h,minimapLineHeight:L,minimapCanvasInnerWidth:F,minimapCanvasInnerHeight:x,minimapCanvasOuterWidth:A,minimapCanvasOuterHeight:k}}static computeLayout(e,t){const i=t.outerWidth|0,r=t.outerHeight|0,s=t.lineHeight|0,o=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,u=t.viewLineCount,d=e.get(138),h=d==="inherit"?e.get(137):d,f=h==="inherit"?e.get(133):h,p=e.get(136),m=t.isDominatedByLongLines,v=e.get(57),C=e.get(68).renderType!==0,y=e.get(69),w=e.get(106),_=e.get(84),x=e.get(73),k=e.get(104),D=k.verticalScrollbarSize,T=k.verticalHasArrows,L=k.arrowSize,I=k.horizontalScrollbarSize,R=e.get(43),N=e.get(111)!=="never";let O=e.get(66);R&&N&&(O+=16);let F=0;if(C){const se=Math.max(o,y);F=Math.round(se*l)}let A=0;v&&(A=s*t.glyphMarginDecorationLaneCount);let H=0,W=H+A,$=W+F,U=$+O;const z=i-A-F-O;let K=!1,Z=!1,Q=-1;h==="inherit"&&m?(K=!0,Z=!0):f==="on"||f==="bounded"?Z=!0:f==="wordWrapColumn"&&(Q=p);const G=oC._computeMinimapLayout({outerWidth:i,outerHeight:r,lineHeight:s,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:w,paddingTop:_.top,paddingBottom:_.bottom,minimap:x,verticalScrollbarWidth:D,viewLineCount:u,remainingWidth:z,isViewportWrapping:Z},t.memory||new Yye);G.renderMinimap!==0&&G.minimapLeft===0&&(H+=G.minimapWidth,W+=G.minimapWidth,$+=G.minimapWidth,U+=G.minimapWidth);const J=z-G.minimapWidth,ne=Math.max(1,Math.floor((J-D-2)/a)),ae=T?L:0;return Z&&(Q=Math.max(1,ne),f==="bounded"&&(Q=Math.min(Q,p))),{width:i,height:r,glyphMarginLeft:H,glyphMarginWidth:A,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:W,lineNumbersWidth:F,decorationsLeft:$,decorationsWidth:O,contentLeft:U,contentWidth:J,minimap:G,viewportColumn:ne,isWordWrapMinified:K,isViewportWrapping:Z,wrappingColumn:Q,verticalScrollbarWidth:D,horizontalScrollbarHeight:I,overviewRuler:{top:ae,width:D,height:r-2*ae,right:0}}}}class Est extends Vi{constructor(){super(140,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[P("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),P("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:P("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return nr(e,"simple",["simple","advanced"])}compute(e,t,i){return t.get(2)===2?"advanced":i}}var Wh;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(Wh||(Wh={}));class Dst extends Vi{constructor(){const e={enabled:Wh.OnCode};super(65,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[Wh.Off,Wh.OnCode,Wh.On],default:e.enabled,enumDescriptions:[P("editor.lightbulb.enabled.off","Disable the code action menu."),P("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),P("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:P("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:nr(e.enabled,this.defaultValue.enabled,[Wh.Off,Wh.OnCode,Wh.On])}}}class Tst extends Vi{constructor(){const e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(116,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:P("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:P("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:P("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:P("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),maxLineCount:vi.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:nr(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:xt(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class Ist extends Vi{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(142,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:P("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[P("editor.inlayHints.on","Inlay hints are enabled"),P("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",An?"Ctrl+Option":"Ctrl+Alt"),P("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",An?"Ctrl+Option":"Ctrl+Alt"),P("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:P("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:P("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:P("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:nr(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:vi.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:wo.string(t.fontFamily,this.defaultValue.fontFamily),padding:xt(t.padding,this.defaultValue.padding)}}}class Mst extends Vi{constructor(){super(66,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):vi.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?vi.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}class Rst extends el{constructor(){super(67,"lineHeight",ol.lineHeight,e=>el.clamp(e,0,150),{markdownDescription:P("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class Nst extends Vi{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:P("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:P("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[P("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),P("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),P("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:P("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:P("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:P("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:P("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:P("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:P("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:e.showRegionSectionHeaders,description:P("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:e.showMarkSectionHeaders,description:P("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:e.sectionHeaderFontSize,description:P("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:e.sectionHeaderLetterSpacing,description:P("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),autohide:xt(t.autohide,this.defaultValue.autohide),size:nr(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:nr(t.side,this.defaultValue.side,["right","left"]),showSlider:nr(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:xt(t.renderCharacters,this.defaultValue.renderCharacters),scale:vi.clampedInt(t.scale,1,1,3),maxColumn:vi.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:xt(t.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:xt(t.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:el.clamp(t.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:el.clamp(t.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}function Ast(n){return n==="ctrlCmd"?An?"metaKey":"ctrlKey":"altKey"}class Pst extends Vi{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:P("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:P("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:vi.clampedInt(t.top,0,0,1e3),bottom:vi.clampedInt(t.bottom,0,0,1e3)}}}class Ost extends Vi{constructor(){const e={enabled:!0,cycle:!0};super(86,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:P("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:P("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),cycle:xt(t.cycle,this.defaultValue.cycle)}}}class Fst extends vL{constructor(){super(144)}compute(e,t,i){return e.pixelRatio}}class Bst extends Vi{constructor(){super(88,"placeholder",void 0)}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e:this.defaultValue}}class Hst extends Vi{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[P("on","Quick suggestions show inside the suggest widget"),P("inline","Quick suggestions show as ghost text"),P("off","Quick suggestions are disabled")]}];super(90,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:P("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:P("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:P("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:P("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:r}=e,s=["on","inline","off"];let o,a,l;return typeof t=="boolean"?o=t?"on":"off":o=nr(t,this.defaultValue.other,s),typeof i=="boolean"?a=i?"on":"off":a=nr(i,this.defaultValue.comments,s),typeof r=="boolean"?l=r?"on":"off":l=nr(r,this.defaultValue.strings,s),{other:o,comments:a,strings:l}}}class Vst extends Vi{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[P("lineNumbers.off","Line numbers are not rendered."),P("lineNumbers.on","Line numbers are rendered as absolute number."),P("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),P("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:P("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function xI(n){const e=n.get(99);return e==="editable"?n.get(92):e!=="on"}class zst extends Vi{constructor(){const e=[],t={type:"number",description:P("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(103,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:P("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:P("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:vi.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const r=i;t.push({column:vi.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((i,r)=>i.column-r.column),t}return this.defaultValue}}class Wst extends Vi{constructor(){super(93,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function lle(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}let $st=class extends Vi{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(104,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[P("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),P("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),P("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:P("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[P("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),P("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),P("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:P("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:P("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:P("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:P("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:P("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=vi.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=vi.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:vi.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:lle(t.vertical,this.defaultValue.vertical),horizontal:lle(t.horizontal,this.defaultValue.horizontal),useShadows:xt(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:xt(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:xt(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:xt(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:xt(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:vi.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:vi.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:xt(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:xt(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};const su="inUntrustedWorkspace",Dm={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class jst extends Vi{constructor(){const e={nonBasicASCII:su,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:su,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(126,"unicodeHighlight",e,{[Dm.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,su],default:e.nonBasicASCII,description:P("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Dm.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:P("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Dm.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:P("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Dm.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,su],default:e.includeComments,description:P("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[Dm.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,su],default:e.includeStrings,description:P("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[Dm.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:P("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Dm.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:P("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(Pa(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},i=!0)),t.allowedLocales&&e&&(Pa(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},i=!0));const r=super.applyUpdate(e,t);return i?new NS(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:aC(t.nonBasicASCII,su,[!0,!1,su]),invisibleCharacters:xt(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:xt(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:aC(t.includeComments,su,[!0,!1,su]),includeStrings:aC(t.includeStrings,su,[!0,!1,su]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[r,s]of Object.entries(e))s===!0&&(i[r]=!0);return i}}class Ust extends Vi{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:P("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[P("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),P("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),P("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:P("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:P("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:P("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),mode:nr(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:nr(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:xt(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:xt(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:wo.string(t.fontFamily,this.defaultValue.fontFamily)}}}class qst extends Vi{constructor(){const e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(63,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:P("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[P("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),P("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),P("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:P("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:P("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),showToolbar:nr(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:wo.string(t.fontFamily,this.defaultValue.fontFamily),keepOnBlur:xt(t.keepOnBlur,this.defaultValue.keepOnBlur)}}}class Gst extends Vi{constructor(){const e={enabled:Js.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Js.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:P("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:P("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:xt(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Kst extends Vi{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[P("editor.guides.bracketPairs.true","Enables bracket pair guides."),P("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),P("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:P("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[P("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),P("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),P("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:P("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:P("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:P("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[P("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),P("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),P("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:P("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:aC(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:aC(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:xt(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:xt(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:aC(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function aC(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class Qst extends Vi{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(119,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[P("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),P("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:P("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:P("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:P("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:P("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[P("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),P("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),P("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),P("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:P("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:P("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:P("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:P("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:P("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:P("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:P("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:P("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:P("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:nr(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:xt(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:xt(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:xt(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:xt(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:nr(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:xt(t.showIcons,this.defaultValue.showIcons),showStatusBar:xt(t.showStatusBar,this.defaultValue.showStatusBar),preview:xt(t.preview,this.defaultValue.preview),previewMode:nr(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:xt(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:xt(t.showMethods,this.defaultValue.showMethods),showFunctions:xt(t.showFunctions,this.defaultValue.showFunctions),showConstructors:xt(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:xt(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:xt(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:xt(t.showFields,this.defaultValue.showFields),showVariables:xt(t.showVariables,this.defaultValue.showVariables),showClasses:xt(t.showClasses,this.defaultValue.showClasses),showStructs:xt(t.showStructs,this.defaultValue.showStructs),showInterfaces:xt(t.showInterfaces,this.defaultValue.showInterfaces),showModules:xt(t.showModules,this.defaultValue.showModules),showProperties:xt(t.showProperties,this.defaultValue.showProperties),showEvents:xt(t.showEvents,this.defaultValue.showEvents),showOperators:xt(t.showOperators,this.defaultValue.showOperators),showUnits:xt(t.showUnits,this.defaultValue.showUnits),showValues:xt(t.showValues,this.defaultValue.showValues),showConstants:xt(t.showConstants,this.defaultValue.showConstants),showEnums:xt(t.showEnums,this.defaultValue.showEnums),showEnumMembers:xt(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:xt(t.showKeywords,this.defaultValue.showKeywords),showWords:xt(t.showWords,this.defaultValue.showWords),showColors:xt(t.showColors,this.defaultValue.showColors),showFiles:xt(t.showFiles,this.defaultValue.showFiles),showReferences:xt(t.showReferences,this.defaultValue.showReferences),showFolders:xt(t.showFolders,this.defaultValue.showFolders),showTypeParameters:xt(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:xt(t.showSnippets,this.defaultValue.showSnippets),showUsers:xt(t.showUsers,this.defaultValue.showUsers),showIssues:xt(t.showIssues,this.defaultValue.showIssues)}}}class Yst extends Vi{constructor(){super(114,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:P("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:P("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:xt(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:xt(e.selectSubwords,this.defaultValue.selectSubwords)}}}class Xst extends Vi{constructor(){const e=[];super(131,"wordSegmenterLocales",e,{anyOf:[{description:P("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:P("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(e){if(typeof e=="string"&&(e=[e]),Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="string")try{Intl.Segmenter.supportedLocalesOf(i).length>0&&t.push(i)}catch{}return t}return this.defaultValue}}class Zst extends Vi{constructor(){super(139,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[P("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),P("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),P("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),P("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:P("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return t.get(2)===2?0:i}}class Jst extends vL{constructor(){super(147)}compute(e,t,i){const r=t.get(146);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}class eot extends Vi{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:P("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:P("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[P("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),P("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),showDropSelector:nr(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class tot extends Vi{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:P("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:P("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[P("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),P("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:xt(t.enabled,this.defaultValue.enabled),showPasteSelector:nr(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const not="Consolas, 'Courier New', monospace",iot="Menlo, Monaco, 'Courier New', monospace",rot="'Droid Sans Mono', 'monospace', monospace",ol={fontFamily:An?iot:ga?rot:not,fontWeight:"normal",fontSize:An?12:14,lineHeight:0,letterSpacing:0},yy=[];function Ze(n){return yy[n.id]=n,n}const Vv={acceptSuggestionOnCommitCharacter:Ze(new Tn(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:P("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ze(new er(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",P("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:P("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ze(new mst),accessibilityPageSize:Ze(new vi(3,"accessibilityPageSize",10,1,1073741824,{description:P("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Ze(new wo(4,"ariaLabel",P("editorViewAccessibleLabel","Editor content"))),ariaRequired:Ze(new Tn(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Ze(new Tn(8,"screenReaderAnnounceInlineSuggestion",!0,{description:P("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Ze(new er(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",P("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),P("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:P("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:Ze(new er(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",P("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),P("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:P("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:Ze(new er(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",P("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:P("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ze(new er(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",P("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:P("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ze(new er(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",P("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),P("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:P("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ze(new zD(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],pst,{enumDescriptions:[P("editor.autoIndent.none","The editor will not insert indentation automatically."),P("editor.autoIndent.keep","The editor will keep the current line's indentation."),P("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),P("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),P("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:P("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ze(new Tn(13,"automaticLayout",!1)),autoSurround:Ze(new er(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[P("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),P("editor.autoSurround.quotes","Surround with quotes but not brackets."),P("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:P("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ze(new Gst),bracketPairGuides:Ze(new Kst),stickyTabStops:Ze(new Tn(117,"stickyTabStops",!1,{description:P("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ze(new Tn(17,"codeLens",!0,{description:P("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ze(new wo(18,"codeLensFontFamily","",{description:P("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ze(new vi(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:P("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ze(new Tn(20,"colorDecorators",!0,{description:P("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:Ze(new er(149,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[P("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),P("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),P("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:P("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:Ze(new vi(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:P("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Ze(new Tn(22,"columnSelection",!1,{description:P("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ze(new bst),contextmenu:Ze(new Tn(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Ze(new Tn(25,"copyWithSyntaxHighlighting",!0,{description:P("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ze(new zD(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],vst,{description:P("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ze(new er(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[P("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),P("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),P("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:P("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ze(new zD(28,"cursorStyle",ws.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],yst,{description:P("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ze(new vi(29,"cursorSurroundingLines",0,0,1073741824,{description:P("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ze(new er(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[P("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),P("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:P("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:Ze(new vi(31,"cursorWidth",0,0,1073741824,{markdownDescription:P("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ze(new Tn(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ze(new Tn(33,"disableMonospaceOptimizations",!1)),domReadOnly:Ze(new Tn(34,"domReadOnly",!1)),dragAndDrop:Ze(new Tn(35,"dragAndDrop",!0,{description:P("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ze(new _st),dropIntoEditor:Ze(new eot),stickyScroll:Ze(new Tst),experimentalWhitespaceRendering:Ze(new er(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[P("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),P("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),P("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:P("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Ze(new wo(39,"extraEditorClassName","")),fastScrollSensitivity:Ze(new el(40,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:P("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ze(new wst),fixedOverflowWidgets:Ze(new Tn(42,"fixedOverflowWidgets",!1)),folding:Ze(new Tn(43,"folding",!0,{description:P("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ze(new er(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[P("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),P("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:P("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ze(new Tn(45,"foldingHighlight",!0,{description:P("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ze(new Tn(46,"foldingImportsByDefault",!1,{description:P("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ze(new vi(47,"foldingMaximumRegions",5e3,10,65e3,{description:P("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ze(new Tn(48,"unfoldOnClickAfterEndOfLine",!1,{description:P("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ze(new wo(49,"fontFamily",ol.fontFamily,{description:P("fontFamily","Controls the font family.")})),fontInfo:Ze(new Sst),fontLigatures2:Ze(new dv),fontSize:Ze(new xst),fontWeight:Ze(new uH),fontVariations:Ze(new Kx),formatOnPaste:Ze(new Tn(55,"formatOnPaste",!1,{description:P("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ze(new Tn(56,"formatOnType",!1,{description:P("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ze(new Tn(57,"glyphMargin",!0,{description:P("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ze(new kst),hideCursorInOverviewRuler:Ze(new Tn(59,"hideCursorInOverviewRuler",!1,{description:P("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ze(new Lst),inDiffEditor:Ze(new Tn(61,"inDiffEditor",!1)),letterSpacing:Ze(new el(64,"letterSpacing",ol.letterSpacing,n=>el.clamp(n,-5,20),{description:P("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ze(new Dst),lineDecorationsWidth:Ze(new Mst),lineHeight:Ze(new Rst),lineNumbers:Ze(new Vst),lineNumbersMinChars:Ze(new vi(69,"lineNumbersMinChars",5,1,300)),linkedEditing:Ze(new Tn(70,"linkedEditing",!1,{description:P("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Ze(new Tn(71,"links",!0,{description:P("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ze(new er(72,"matchBrackets","always",["always","near","never"],{description:P("matchBrackets","Highlight matching brackets.")})),minimap:Ze(new Nst),mouseStyle:Ze(new er(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ze(new el(75,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:P("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ze(new Tn(76,"mouseWheelZoom",!1,{markdownDescription:An?P("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):P("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ze(new Tn(77,"multiCursorMergeOverlapping",!0,{description:P("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ze(new zD(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ast,{markdownEnumDescriptions:[P("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),P("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:P({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ze(new er(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[P("multiCursorPaste.spread","Each cursor pastes a single line of the text."),P("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:P("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Ze(new vi(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:P("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Ze(new er(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[P("occurrencesHighlight.off","Does not highlight occurrences."),P("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),P("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:P("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:Ze(new Tn(82,"overviewRulerBorder",!0,{description:P("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ze(new vi(83,"overviewRulerLanes",3,0,3)),padding:Ze(new Pst),pasteAs:Ze(new tot),parameterHints:Ze(new Ost),peekWidgetDefaultFocus:Ze(new er(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[P("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),P("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:P("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:Ze(new Bst),definitionLinkOpensInPeek:Ze(new Tn(89,"definitionLinkOpensInPeek",!1,{description:P("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ze(new Hst),quickSuggestionsDelay:Ze(new vi(91,"quickSuggestionsDelay",10,0,1073741824,{description:P("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ze(new Tn(92,"readOnly",!1)),readOnlyMessage:Ze(new Wst),renameOnType:Ze(new Tn(94,"renameOnType",!1,{description:P("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:P("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ze(new Tn(95,"renderControlCharacters",!0,{description:P("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ze(new er(96,"renderFinalNewline",ga?"dimmed":"on",["off","on","dimmed"],{description:P("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ze(new er(97,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",P("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:P("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ze(new Tn(98,"renderLineHighlightOnlyWhenFocus",!1,{description:P("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ze(new er(99,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ze(new er(100,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",P("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),P("renderWhitespace.selection","Render whitespace characters only on selected text."),P("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:P("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ze(new vi(101,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ze(new Tn(102,"roundedSelection",!0,{description:P("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ze(new zst),scrollbar:Ze(new $st),scrollBeyondLastColumn:Ze(new vi(105,"scrollBeyondLastColumn",4,0,1073741824,{description:P("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ze(new Tn(106,"scrollBeyondLastLine",!0,{description:P("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ze(new Tn(107,"scrollPredominantAxis",!0,{description:P("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ze(new Tn(108,"selectionClipboard",!0,{description:P("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:ga})),selectionHighlight:Ze(new Tn(109,"selectionHighlight",!0,{description:P("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ze(new Tn(110,"selectOnLineNumbers",!0)),showFoldingControls:Ze(new er(111,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[P("showFoldingControls.always","Always show the folding controls."),P("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),P("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:P("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ze(new Tn(112,"showUnused",!0,{description:P("showUnused","Controls fading out of unused code.")})),showDeprecated:Ze(new Tn(141,"showDeprecated",!0,{description:P("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ze(new Ist),snippetSuggestions:Ze(new er(113,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[P("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),P("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),P("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),P("snippetSuggestions.none","Do not show snippet suggestions.")],description:P("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ze(new Yst),smoothScrolling:Ze(new Tn(115,"smoothScrolling",!1,{description:P("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ze(new vi(118,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ze(new Qst),inlineSuggest:Ze(new Ust),inlineEdit:Ze(new qst),inlineCompletionsAccessibilityVerbose:Ze(new Tn(150,"inlineCompletionsAccessibilityVerbose",!1,{description:P("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:Ze(new vi(120,"suggestFontSize",0,0,1e3,{markdownDescription:P("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Ze(new vi(121,"suggestLineHeight",0,0,1e3,{markdownDescription:P("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ze(new Tn(122,"suggestOnTriggerCharacters",!0,{description:P("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ze(new er(123,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[P("suggestSelection.first","Always select the first suggestion."),P("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),P("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:P("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ze(new er(124,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[P("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),P("tabCompletion.off","Disable tab completions."),P("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:P("tabCompletion","Enables tab completions.")})),tabIndex:Ze(new vi(125,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ze(new jst),unusualLineTerminators:Ze(new er(127,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[P("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),P("unusualLineTerminators.off","Unusual line terminators are ignored."),P("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:P("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ze(new Tn(128,"useShadowDOM",!0)),useTabStops:Ze(new Tn(129,"useTabStops",!0,{description:P("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:Ze(new er(130,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[P("wordBreak.normal","Use the default line break rule."),P("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:P("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:Ze(new Xst),wordSeparators:Ze(new wo(132,"wordSeparators",Gye,{description:P("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ze(new er(133,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[P("wordWrap.off","Lines will never wrap."),P("wordWrap.on","Lines will wrap at the viewport width."),P({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),P({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:P({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ze(new wo(134,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:Ze(new wo(135,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:Ze(new vi(136,"wordWrapColumn",80,1,1073741824,{markdownDescription:P({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ze(new er(137,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ze(new er(138,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ze(new Cst),defaultColorDecorators:Ze(new Tn(148,"defaultColorDecorators",!1,{markdownDescription:P("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Ze(new Fst),tabFocusMode:Ze(new Tn(145,"tabFocusMode",!1,{markdownDescription:P("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Ze(new oC),wrappingInfo:Ze(new Jst),wrappingIndent:Ze(new Zst),wrappingStrategy:Ze(new Est)};class sot{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?GC.isErrorNoTelemetry(e)?new GC(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const Xye=new sot;function _i(n){yL(n)||Xye.onUnexpectedError(n)}function eq(n){yL(n)||Xye.onUnexpectedExternalError(n)}function cle(n){if(n instanceof Error){const{name:e,message:t}=n,i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:GC.isErrorNoTelemetry(n)}}return n}const kI="Canceled";function yL(n){return n instanceof CL?!0:n instanceof Error&&n.name===kI&&n.message===kI}class CL extends Error{constructor(){super(kI),this.name=this.message}}function oot(){const n=new Error(kI);return n.name=n.message,n}function LA(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function tq(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class aot extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class GC extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof GC)return e;const t=new GC;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class ti extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,ti.prototype)}}function KC(n,e){const t=this;let i=!1,r;return function(){return i||(i=!0,r=n.apply(t,arguments)),r}}function Zye(n){return typeof n=="object"&&n!==null&&typeof n.dispose=="function"&&n.dispose.length===0}function Us(n){if(Un.is(n)){const e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function Ad(...n){return cn(()=>Us(n))}function cn(n){return{dispose:KC(()=>{n()})}}const cR=class cR{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Us(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?cR.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}};cR.DISABLE_DISPOSED_WARNING=!1;let It=cR;const kK=class kK{constructor(){this._store=new It,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};kK.None=Object.freeze({dispose(){}});let je=kK;class Nf{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)==null||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)==null||e.dispose(),this._value=void 0}}class lot{constructor(e){this.object=e}dispose(){}}class nq{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Us(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){var r;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||(r=this._store.get(e))==null||r.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;(t=this._store.get(e))==null||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const cot=globalThis.performance&&typeof globalThis.performance.now=="function";class zv{static create(e){return new zv(e)}constructor(e){this._now=cot&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var ut;(function(n){n.None=()=>je.None;function e(O,F){return h(O,()=>{},0,void 0,!0,void 0,F)}n.defer=e;function t(O){return(F,A=null,H)=>{let W=!1,$;return $=O(U=>{if(!W)return $?$.dispose():W=!0,F.call(A,U)},null,H),W&&$.dispose(),$}}n.once=t;function i(O,F){return n.once(n.filter(O,F))}n.onceIf=i;function r(O,F,A){return u((H,W=null,$)=>O(U=>H.call(W,F(U)),null,$),A)}n.map=r;function s(O,F,A){return u((H,W=null,$)=>O(U=>{F(U),H.call(W,U)},null,$),A)}n.forEach=s;function o(O,F,A){return u((H,W=null,$)=>O(U=>F(U)&&H.call(W,U),null,$),A)}n.filter=o;function a(O){return O}n.signal=a;function l(...O){return(F,A=null,H)=>{const W=Ad(...O.map($=>$(U=>F.call(A,U))));return d(W,H)}}n.any=l;function c(O,F,A,H){let W=A;return r(O,$=>(W=F(W,$),W),H)}n.reduce=c;function u(O,F){let A;const H={onWillAddFirstListener(){A=O(W.fire,W)},onDidRemoveLastListener(){A==null||A.dispose()}},W=new ke(H);return F==null||F.add(W),W.event}function d(O,F){return F instanceof Array?F.push(O):F&&F.add(O),O}function h(O,F,A=100,H=!1,W=!1,$,U){let z,K,Z,Q=0,G;const J={leakWarningThreshold:$,onWillAddFirstListener(){z=O(ae=>{Q++,K=F(K,ae),H&&!Z&&(ne.fire(K),K=void 0),G=()=>{const se=K;K=void 0,Z=void 0,(!H||Q>1)&&ne.fire(se),Q=0},typeof A=="number"?(clearTimeout(Z),Z=setTimeout(G,A)):Z===void 0&&(Z=0,queueMicrotask(G))})},onWillRemoveListener(){W&&Q>0&&(G==null||G())},onDidRemoveLastListener(){G=void 0,z.dispose()}},ne=new ke(J);return U==null||U.add(ne),ne.event}n.debounce=h;function f(O,F=0,A){return n.debounce(O,(H,W)=>H?(H.push(W),H):[W],F,void 0,!0,void 0,A)}n.accumulate=f;function p(O,F=(H,W)=>H===W,A){let H=!0,W;return o(O,$=>{const U=H||!F($,W);return H=!1,W=$,U},A)}n.latch=p;function m(O,F,A){return[n.filter(O,F,A),n.filter(O,H=>!F(H),A)]}n.split=m;function v(O,F=!1,A=[],H){let W=A.slice(),$=O(K=>{W?W.push(K):z.fire(K)});H&&H.add($);const U=()=>{W==null||W.forEach(K=>z.fire(K)),W=null},z=new ke({onWillAddFirstListener(){$||($=O(K=>z.fire(K)),H&&H.add($))},onDidAddFirstListener(){W&&(F?setTimeout(U):U())},onDidRemoveLastListener(){$&&$.dispose(),$=null}});return H&&H.add(z),z.event}n.buffer=v;function C(O,F){return(H,W,$)=>{const U=F(new w);return O(function(z){const K=U.evaluate(z);K!==y&&H.call(W,K)},void 0,$)}}n.chain=C;const y=Symbol("HaltChainable");class w{constructor(){this.steps=[]}map(F){return this.steps.push(F),this}forEach(F){return this.steps.push(A=>(F(A),A)),this}filter(F){return this.steps.push(A=>F(A)?A:y),this}reduce(F,A){let H=A;return this.steps.push(W=>(H=F(H,W),H)),this}latch(F=(A,H)=>A===H){let A=!0,H;return this.steps.push(W=>{const $=A||!F(W,H);return A=!1,H=W,$?W:y}),this}evaluate(F){for(const A of this.steps)if(F=A(F),F===y)break;return F}}function _(O,F,A=H=>H){const H=(...z)=>U.fire(A(...z)),W=()=>O.on(F,H),$=()=>O.removeListener(F,H),U=new ke({onWillAddFirstListener:W,onDidRemoveLastListener:$});return U.event}n.fromNodeEventEmitter=_;function x(O,F,A=H=>H){const H=(...z)=>U.fire(A(...z)),W=()=>O.addEventListener(F,H),$=()=>O.removeEventListener(F,H),U=new ke({onWillAddFirstListener:W,onDidRemoveLastListener:$});return U.event}n.fromDOMEventEmitter=x;function k(O){return new Promise(F=>t(O)(F))}n.toPromise=k;function D(O){const F=new ke;return O.then(A=>{F.fire(A)},()=>{F.fire(void 0)}).finally(()=>{F.dispose()}),F.event}n.fromPromise=D;function T(O,F){return O(A=>F.fire(A))}n.forward=T;function L(O,F,A){return F(A),O(H=>F(H))}n.runAndSubscribe=L;class I{constructor(F,A){this._observable=F,this._counter=0,this._hasChanged=!1;const H={onWillAddFirstListener:()=>{F.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{F.removeObserver(this)}};this.emitter=new ke(H),A&&A.add(this.emitter)}beginUpdate(F){this._counter++}handlePossibleChange(F){}handleChange(F,A){this._hasChanged=!0}endUpdate(F){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function R(O,F){return new I(O,F).emitter.event}n.fromObservable=R;function N(O){return(F,A,H)=>{let W=0,$=!1;const U={beginUpdate(){W++},endUpdate(){W--,W===0&&(O.reportChanges(),$&&($=!1,F.call(A)))},handlePossibleChange(){},handleChange(){$=!0}};O.addObserver(U),O.reportChanges();const z={dispose(){O.removeObserver(U)}};return H instanceof It?H.add(z):Array.isArray(H)&&H.push(z),z}}n.fromObservableLight=N})(ut||(ut={}));const Vy=class Vy{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${Vy._idPool++}`,Vy.all.add(this)}start(e){this._stopWatch=new zv,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};Vy.all=new Set,Vy._idPool=0;let dH=Vy,uot=-1;const uR=class uR{constructor(e,t,i=(uR._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=t,this.name=i,this._warnCountdown=0}dispose(){var e;(e=this._stacks)==null||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;const[s,o]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${o}):`;console.warn(a),console.warn(s);const l=new dot(a,s);this._errorHandler(l)}return()=>{const s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(const[i,r]of this._stacks)(!e||t<r)&&(e=[i,r],t=r);return e}};uR._idPool=1;let hH=uR;class iq{static create(){const e=new Error;return new iq(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class dot extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}}class hot extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}}class x7{constructor(e){this.value=e}}const fot=2;let ke=class{constructor(e){var t,i,r,s;this._size=0,this._options=e,this._leakageMon=(t=this._options)!=null&&t.leakWarningThreshold?new hH((e==null?void 0:e.onListenerError)??_i,((i=this._options)==null?void 0:i.leakWarningThreshold)??uot):void 0,this._perfMon=(r=this._options)!=null&&r._profName?new dH(this._options._profName):void 0,this._deliveryQueue=(s=this._options)==null?void 0:s.deliveryQueue}dispose(){var e,t,i,r;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)==null?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(t=this._options)==null?void 0:t.onDidRemoveLastListener)==null||i.call(t),(r=this._leakageMon)==null||r.dispose())}get event(){return this._event??(this._event=(e,t,i)=>{var a,l,c,u,d;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const h=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(h);const f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],p=new hot(`${h}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(((a=this._options)==null?void 0:a.onListenerError)||_i)(p),je.None}if(this._disposed)return je.None;t&&(e=e.bind(t));const r=new x7(e);let s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=iq.create(),s=this._leakageMon.check(r.stack,this._size+1)),this._listeners?this._listeners instanceof x7?(this._deliveryQueue??(this._deliveryQueue=new Jye),this._listeners=[this._listeners,r]):this._listeners.push(r):((c=(l=this._options)==null?void 0:l.onWillAddFirstListener)==null||c.call(l,this),this._listeners=r,(d=(u=this._options)==null?void 0:u.onDidAddFirstListener)==null||d.call(u,this)),this._size++;const o=cn(()=>{s==null||s(),this._removeListener(r)});return i instanceof It?i.add(o):Array.isArray(i)&&i.push(o),o}),this._event}_removeListener(e){var s,o,a,l;if((o=(s=this._options)==null?void 0:s.onWillRemoveListener)==null||o.call(s,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(l=(a=this._options)==null?void 0:a.onDidRemoveLastListener)==null||l.call(a,this),this._size=0;return}const t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;const r=this._deliveryQueue.current===this;if(this._size*fot<=t.length){let c=0;for(let u=0;u<t.length;u++)t[u]?t[c++]=t[u]:r&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=c}}_deliver(e,t){var r;if(!e)return;const i=((r=this._options)==null?void 0:r.onListenerError)||_i;if(!i){e.value(t);return}try{e.value(t)}catch(s){i(s)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,r,s;if((t=this._deliveryQueue)!=null&&t.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)==null||i.stop()),(r=this._perfMon)==null||r.start(this._size),this._listeners)if(this._listeners instanceof x7)this._deliver(this._listeners,e);else{const o=this._deliveryQueue;o.enqueue(this,e,this._listeners.length),this._deliverQueue(o)}(s=this._perfMon)==null||s.stop()}hasListeners(){return this._size>0}};const got=()=>new Jye;class Jye{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class Qx extends ke{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Aa,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class eCe extends Qx{constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class pot extends ke{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e==null?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class mot{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new ke({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),cn(KC(()=>{this.hasListeners&&this.unhook(t);const r=this.events.indexOf(t);this.events.splice(r,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){var t;(t=e.listener)==null||t.dispose(),e.listener=null}dispose(){var e;this.emitter.dispose();for(const t of this.events)(e=t.listener)==null||e.dispose();this.events=[]}}class _L{constructor(){this.data=[]}wrapEvent(e,t,i){return(r,s,o)=>e(a=>{const l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>r.call(s,a)):r.call(s,a);return}const c=l;if(!c){r.call(s,t(i,a));return}c.items??(c.items=[]),c.items.push(a),c.buffers.length===0&&l.buffers.push(()=>{c.reducedResult??(c.reducedResult=i?c.items.reduce(t,i):c.items.reduce(t)),r.call(s,c.reducedResult)})},void 0,o)}bufferEvents(e){const t={buffers:new Array};this.data.push(t);const i=e();return this.data.pop(),t.buffers.forEach(r=>r()),i}}class ule{constructor(){this.listening=!1,this.inputEvent=ut.None,this.inputEventListener=je.None,this.emitter=new ke({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const tCe=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var Pc;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof iT?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ut.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:tCe})})(Pc||(Pc={}));class iT{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?tCe:(this._emitter||(this._emitter=new ke),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let Z0=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new iT),this._token}cancel(){this._token?this._token instanceof iT&&this._token.cancel():this._token=Pc.Cancelled}dispose(e=!1){var t;e&&this.cancel(),(t=this._parentListener)==null||t.dispose(),this._token?this._token instanceof iT&&this._token.dispose():this._token=Pc.None}};class rq{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const rT=new rq,fH=new rq,gH=new rq,nCe=new Array(230),bot=Object.create(null),vot=Object.create(null),sq=[];for(let n=0;n<=193;n++)sq[n]=-1;(function(){const n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(const r of e){const[s,o,a,l,c,u,d,h,f]=r;if(i[o]||(i[o]=!0,bot[a]=o,vot[a.toLowerCase()]=o,s&&(sq[o]=l)),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);rT.define(l,c),fH.define(l,h||c),gH.define(l,f||h||c)}u&&(nCe[u]=l)}})();var ef;(function(n){function e(a){return rT.keyCodeToStr(a)}n.toString=e;function t(a){return rT.strToKeyCode(a)}n.fromString=t;function i(a){return fH.keyCodeToStr(a)}n.toUserSettingsUS=i;function r(a){return gH.keyCodeToStr(a)}n.toUserSettingsGeneral=r;function s(a){return fH.strToKeyCode(a)||gH.strToKeyCode(a)}n.fromUserSettings=s;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return rT.keyCodeToStr(a)}n.toElectronAccelerator=o})(ef||(ef={}));function yot(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}var dle={};let lC;const k7=globalThis.vscode;var Sfe;if(typeof k7<"u"&&typeof k7.process<"u"){const n=k7.process;lC={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof((Sfe=process==null?void 0:process.versions)==null?void 0:Sfe.node)=="string"?lC={get platform(){return process.platform},get arch(){return process.arch},get env(){return dle},cwd(){return dle.VSCODE_CWD||process.cwd()}}:lC={get platform(){return Ba?"win32":An?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const LI=lC.cwd,pH=lC.env,Cot=lC.platform,_ot=65,wot=97,Sot=90,xot=122,vp=46,po=47,Ua=92,Dg=58,kot=63;class iCe extends Error{constructor(e,t,i){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const s=e.indexOf(".")!==-1?"property":"argument";let o=`The "${e}" ${s} ${r} of type ${t}`;o+=`. Received type ${typeof i}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function Lot(n,e){if(n===null||typeof n!="object")throw new iCe(e,"Object",n)}function us(n,e){if(typeof n!="string")throw new iCe(e,"string",n)}const Kf=Cot==="win32";function ei(n){return n===po||n===Ua}function mH(n){return n===po}function Tg(n){return n>=_ot&&n<=Sot||n>=wot&&n<=xot}function EI(n,e,t,i){let r="",s=0,o=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=po}if(i(l)){if(!(o===c-1||a===1))if(a===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==vp||r.charCodeAt(r.length-2)!==vp){if(r.length>2){const u=r.lastIndexOf(t);u===-1?(r="",s=0):(r=r.slice(0,u),s=r.length-1-r.lastIndexOf(t)),o=c,a=0;continue}else if(r.length!==0){r="",s=0,o=c,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",s=2)}else r.length>0?r+=`${t}${n.slice(o+1,c)}`:r=n.slice(o+1,c),s=c-o-1;o=c,a=0}else l===vp&&a!==-1?++a:a=-1}return r}function Eot(n){return n?`${n[0]==="."?"":"."}${n}`:""}function rCe(n,e){Lot(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${Eot(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const da={resolve(...n){let e="",t="",i=!1;for(let r=n.length-1;r>=-1;r--){let s;if(r>=0){if(s=n[r],us(s,`paths[${r}]`),s.length===0)continue}else e.length===0?s=LI():(s=pH[`=${e}`]||LI(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===Ua)&&(s=`${e}\\`));const o=s.length;let a=0,l="",c=!1;const u=s.charCodeAt(0);if(o===1)ei(u)&&(a=1,c=!0);else if(ei(u))if(c=!0,ei(s.charCodeAt(1))){let d=2,h=d;for(;d<o&&!ei(s.charCodeAt(d));)d++;if(d<o&&d!==h){const f=s.slice(h,d);for(h=d;d<o&&ei(s.charCodeAt(d));)d++;if(d<o&&d!==h){for(h=d;d<o&&!ei(s.charCodeAt(d));)d++;(d===o||d!==h)&&(l=`\\\\${f}\\${s.slice(h,d)}`,a=d)}}}else a=1;else Tg(u)&&s.charCodeAt(1)===Dg&&(l=s.slice(0,2),a=2,o>2&&ei(s.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${s.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=EI(t,!i,"\\",ei),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){us(n,"path");const e=n.length;if(e===0)return".";let t=0,i,r=!1;const s=n.charCodeAt(0);if(e===1)return mH(s)?"\\":n;if(ei(s))if(r=!0,ei(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ei(n.charCodeAt(a));)a++;if(a<e&&a!==l){const c=n.slice(l,a);for(l=a;a<e&&ei(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ei(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else Tg(s)&&n.charCodeAt(1)===Dg&&(i=n.slice(0,2),t=2,e>2&&ei(n.charCodeAt(2))&&(r=!0,t=3));let o=t<e?EI(n.slice(t),!r,"\\",ei):"";return o.length===0&&!r&&(o="."),o.length>0&&ei(n.charCodeAt(e-1))&&(o+="\\"),i===void 0?r?`\\${o}`:o:r?`${i}\\${o}`:`${i}${o}`},isAbsolute(n){us(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return ei(t)||e>2&&Tg(t)&&n.charCodeAt(1)===Dg&&ei(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let s=0;s<n.length;++s){const o=n[s];us(o,"path"),o.length>0&&(e===void 0?e=t=o:e+=`\\${o}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof t=="string"&&ei(t.charCodeAt(0))){++r;const s=t.length;s>1&&ei(t.charCodeAt(1))&&(++r,s>2&&(ei(t.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&ei(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return da.normalize(e)},relative(n,e){if(us(n,"from"),us(e,"to"),n===e)return"";const t=da.resolve(n),i=da.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let r=0;for(;r<n.length&&n.charCodeAt(r)===Ua;)r++;let s=n.length;for(;s-1>r&&n.charCodeAt(s-1)===Ua;)s--;const o=s-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===Ua;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Ua;)l--;const c=l-a,u=o<c?o:c;let d=-1,h=0;for(;h<u;h++){const p=n.charCodeAt(r+h);if(p!==e.charCodeAt(a+h))break;p===Ua&&(d=h)}if(h!==u){if(d===-1)return i}else{if(c>u){if(e.charCodeAt(a+h)===Ua)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}o>u&&(n.charCodeAt(r+h)===Ua?d=h:h===2&&(d=3)),d===-1&&(d=0)}let f="";for(h=r+d+1;h<=s;++h)(h===s||n.charCodeAt(h)===Ua)&&(f+=f.length===0?"..":"\\..");return a+=d,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===Ua&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;const e=da.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Ua){if(e.charCodeAt(1)===Ua){const t=e.charCodeAt(2);if(t!==kot&&t!==vp)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Tg(e.charCodeAt(0))&&e.charCodeAt(1)===Dg&&e.charCodeAt(2)===Ua)return`\\\\?\\${e}`;return n},dirname(n){us(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const r=n.charCodeAt(0);if(e===1)return ei(r)?n:".";if(ei(r)){if(t=i=1,ei(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ei(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ei(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ei(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else Tg(r)&&n.charCodeAt(1)===Dg&&(t=e>2&&ei(n.charCodeAt(2))?3:2,i=t);let s=-1,o=!0;for(let a=e-1;a>=i;--a)if(ei(n.charCodeAt(a))){if(!o){s=a;break}}else o=!1;if(s===-1){if(t===-1)return".";s=t}return n.slice(0,s)},basename(n,e){e!==void 0&&us(e,"suffix"),us(n,"path");let t=0,i=-1,r=!0,s;if(n.length>=2&&Tg(n.charCodeAt(0))&&n.charCodeAt(1)===Dg&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=t;--s){const l=n.charCodeAt(s);if(ei(l)){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=t;--s)if(ei(n.charCodeAt(s))){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){us(n,"path");let e=0,t=-1,i=0,r=-1,s=!0,o=0;n.length>=2&&n.charCodeAt(1)===Dg&&Tg(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(ei(l)){if(!s){i=a+1;break}continue}r===-1&&(s=!1,r=a+1),l===vp?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:rCe.bind(null,"\\"),parse(n){us(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,r=n.charCodeAt(0);if(t===1)return ei(r)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(ei(r)){if(i=1,ei(n.charCodeAt(1))){let d=2,h=d;for(;d<t&&!ei(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&ei(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&!ei(n.charCodeAt(d));)d++;d===t?i=d:d!==h&&(i=d+1)}}}}else if(Tg(r)&&n.charCodeAt(1)===Dg){if(t<=2)return e.root=e.dir=n,e;if(i=2,ei(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let s=-1,o=i,a=-1,l=!0,c=n.length-1,u=0;for(;c>=i;--c){if(r=n.charCodeAt(c),ei(r)){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===vp?s===-1?s=c:u!==1&&(u=1):s!==-1&&(u=-1)}return a!==-1&&(s===-1||u===0||u===1&&s===a-1&&s===o+1?e.base=e.name=n.slice(o,a):(e.name=n.slice(o,s),e.base=n.slice(o,a),e.ext=n.slice(s,a))),o>0&&o!==i?e.dir=n.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Dot=(()=>{if(Kf){const n=/\\/g;return()=>{const e=LI().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>LI()})(),Lr={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const r=i>=0?n[i]:Dot();us(r,`paths[${i}]`),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===po)}return e=EI(e,!t,"/",mH),t?`/${e}`:e.length>0?e:"."},normalize(n){if(us(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===po,t=n.charCodeAt(n.length-1)===po;return n=EI(n,!e,"/",mH),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return us(n,"path"),n.length>0&&n.charCodeAt(0)===po},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];us(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Lr.normalize(e)},relative(n,e){if(us(n,"from"),us(e,"to"),n===e||(n=Lr.resolve(n),e=Lr.resolve(e),n===e))return"";const t=1,i=n.length,r=i-t,s=1,o=e.length-s,a=r<o?r:o;let l=-1,c=0;for(;c<a;c++){const d=n.charCodeAt(t+c);if(d!==e.charCodeAt(s+c))break;d===po&&(l=c)}if(c===a)if(o>a){if(e.charCodeAt(s+c)===po)return e.slice(s+c+1);if(c===0)return e.slice(s+c)}else r>a&&(n.charCodeAt(t+c)===po?l=c:c===0&&(l=0));let u="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===po)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(s+l)}`},toNamespacedPath(n){return n},dirname(n){if(us(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===po;let t=-1,i=!0;for(let r=n.length-1;r>=1;--r)if(n.charCodeAt(r)===po){if(!i){t=r;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&us(e,"ext"),us(n,"path");let t=0,i=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=0;--s){const l=n.charCodeAt(s);if(l===po){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===po){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){us(n,"path");let e=-1,t=0,i=-1,r=!0,s=0;for(let o=n.length-1;o>=0;--o){const a=n.charCodeAt(o);if(a===po){if(!r){t=o+1;break}continue}i===-1&&(r=!1,i=o+1),a===vp?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:rCe.bind(null,"/"),parse(n){us(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===po;let i;t?(e.root="/",i=1):i=0;let r=-1,s=0,o=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){const u=n.charCodeAt(l);if(u===po){if(!a){s=l+1;break}continue}o===-1&&(a=!1,o=l+1),u===vp?r===-1?r=l:c!==1&&(c=1):r!==-1&&(c=-1)}if(o!==-1){const u=s===0&&t?1:s;r===-1||c===0||c===1&&r===o-1&&r===s+1?e.base=e.name=n.slice(u,o):(e.name=n.slice(u,r),e.base=n.slice(u,o),e.ext=n.slice(r,o))}return s>0?e.dir=n.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Lr.win32=da.win32=da;Lr.posix=da.posix=Lr;const sCe=Kf?da.normalize:Lr.normalize,Tot=Kf?da.join:Lr.join,Iot=Kf?da.resolve:Lr.resolve,Mot=Kf?da.relative:Lr.relative,Rot=Kf?da.dirname:Lr.dirname,oCe=Kf?da.basename:Lr.basename,Not=Kf?da.extname:Lr.extname,yp=Kf?da.sep:Lr.sep,Aot=/^\w[\w\d+.-]*$/,Pot=/^\//,Oot=/^\/\//;function Fot(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!Aot.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!Pot.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Oot.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Bot(n,e){return!n&&!e?"file":n}function Hot(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==mu&&(e=mu+e):e=mu;break}return e}const wr="",mu="/",Vot=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Sn{static isUri(e){return e instanceof Sn?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,r,s,o=!1){typeof e=="object"?(this.scheme=e.scheme||wr,this.authority=e.authority||wr,this.path=e.path||wr,this.query=e.query||wr,this.fragment=e.fragment||wr):(this.scheme=Bot(e,o),this.authority=t||wr,this.path=Hot(this.scheme,i||wr),this.query=r||wr,this.fragment=s||wr,Fot(this,o))}get fsPath(){return DI(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:r,query:s,fragment:o}=e;return t===void 0?t=this.scheme:t===null&&(t=wr),i===void 0?i=this.authority:i===null&&(i=wr),r===void 0?r=this.path:r===null&&(r=wr),s===void 0?s=this.query:s===null&&(s=wr),o===void 0?o=this.fragment:o===null&&(o=wr),t===this.scheme&&i===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new Y1(t,i,r,s,o)}static parse(e,t=!1){const i=Vot.exec(e);return i?new Y1(i[2]||wr,WD(i[4]||wr),WD(i[5]||wr),WD(i[7]||wr),WD(i[9]||wr),t):new Y1(wr,wr,wr,wr,wr)}static file(e){let t=wr;if(Ba&&(e=e.replace(/\\/g,mu)),e[0]===mu&&e[1]===mu){const i=e.indexOf(mu,2);i===-1?(t=e.substring(2),e=mu):(t=e.substring(2,i),e=e.substring(i)||mu)}return new Y1("file",t,e,wr,wr)}static from(e,t){return new Y1(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Ba&&e.scheme==="file"?i=Sn.file(da.join(DI(e,!0),...t)).path:i=Lr.join(e.path,...t),e.with({path:i})}toString(e=!1){return bH(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Sn)return e;{const t=new Y1(e);return t._formatted=e.external??null,t._fsPath=e._sep===aCe?e.fsPath??null:null,t}}else return e}}const aCe=Ba?1:void 0;let Y1=class extends Sn{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=DI(this,!1)),this._fsPath}toString(e=!1){return e?bH(this,!0):(this._formatted||(this._formatted=bH(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=aCe),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const lCe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function hle(n,e,t){let i,r=-1;for(let s=0;s<n.length;s++){const o=n.charCodeAt(s);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47||t&&o===91||t&&o===93||t&&o===58)r!==-1&&(i+=encodeURIComponent(n.substring(r,s)),r=-1),i!==void 0&&(i+=n.charAt(s));else{i===void 0&&(i=n.substr(0,s));const a=lCe[o];a!==void 0?(r!==-1&&(i+=encodeURIComponent(n.substring(r,s)),r=-1),i+=a):r===-1&&(r=s)}}return r!==-1&&(i+=encodeURIComponent(n.substring(r))),i!==void 0?i:n}function zot(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=lCe[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function DI(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,Ba&&(t=t.replace(/\//g,"\\")),t}function bH(n,e){const t=e?zot:hle;let i="",{scheme:r,authority:s,path:o,query:a,fragment:l}=n;if(r&&(i+=r,i+=":"),(s||r==="file")&&(i+=mu,i+=mu),s){let c=s.indexOf("@");if(c!==-1){const u=s.substr(0,c);s=s.substr(c+1),c=u.lastIndexOf(":"),c===-1?i+=t(u,!1,!1):(i+=t(u.substr(0,c),!1,!1),i+=":",i+=t(u.substr(c+1),!1,!0)),i+="@"}s=s.toLowerCase(),c=s.lastIndexOf(":"),c===-1?i+=t(s,!1,!0):(i+=t(s.substr(0,c),!1,!0),i+=s.substr(c))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const c=o.charCodeAt(1);c>=65&&c<=90&&(o=`/${String.fromCharCode(c+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){const c=o.charCodeAt(0);c>=65&&c<=90&&(o=`${String.fromCharCode(c+32)}:${o.substr(2)}`)}i+=t(o,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:hle(l,!1,!1)),i}function cCe(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+cCe(n.substr(3)):n}}const fle=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function WD(n){return n.match(fle)?n.replace(fle,e=>cCe(e)):n}let Pe=class Vm{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Vm(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Vm.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Vm.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return Vm.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,r=t.lineNumber|0;if(i===r){const s=e.column|0,o=t.column|0;return s-o}return i-r}clone(){return new Vm(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Vm(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}},_e=class ys{constructor(e,t,i,r){e>i||e===i&&t>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return ys.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return ys.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return ys.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return ys.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return ys.plusRange(this,e)}static plusRange(e,t){let i,r,s,o;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new ys(i,r,s,o)}intersectRanges(e){return ys.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,u=t.endColumn;return i<a?(i=a,r=l):i===a&&(r=Math.max(r,l)),s>c?(s=c,o=u):s===c&&(o=Math.min(o,u)),i>s||i===s&&r>o?null:new ys(i,r,s,o)}equalsRange(e){return ys.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return ys.getEndPosition(this)}static getEndPosition(e){return new Pe(e.endLineNumber,e.endColumn)}getStartPosition(){return ys.getStartPosition(this)}static getStartPosition(e){return new Pe(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new ys(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new ys(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return ys.collapseToStart(this)}static collapseToStart(e){return new ys(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return ys.collapseToEnd(this)}static collapseToEnd(e){return new ys(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new ys(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new ys(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new ys(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const s=e.startLineNumber|0,o=t.startLineNumber|0;if(s===o){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,u=t.endLineNumber|0;if(c===u){const d=e.endColumn|0,h=t.endColumn|0;return d-h}return c-u}return a-l}return s-o}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}},wi=class oc extends _e{constructor(e,t,i,r){super(e,t,i,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return oc.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new oc(this.startLineNumber,this.startColumn,e,t):new oc(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Pe(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new Pe(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new oc(e,t,this.endLineNumber,this.endColumn):new oc(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new oc(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new oc(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new oc(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new oc(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,r,s){return s===0?new oc(e,t,i,r):new oc(i,r,e,t)}};const vH=Object.create(null);function Y(n,e){if(sl(e)){const t=vH[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return vH[n]=e,{id:n}}function uCe(){return vH}const Wot={add:Y("add",6e4),plus:Y("plus",6e4),gistNew:Y("gist-new",6e4),repoCreate:Y("repo-create",6e4),lightbulb:Y("lightbulb",60001),lightBulb:Y("light-bulb",60001),repo:Y("repo",60002),repoDelete:Y("repo-delete",60002),gistFork:Y("gist-fork",60003),repoForked:Y("repo-forked",60003),gitPullRequest:Y("git-pull-request",60004),gitPullRequestAbandoned:Y("git-pull-request-abandoned",60004),recordKeys:Y("record-keys",60005),keyboard:Y("keyboard",60005),tag:Y("tag",60006),gitPullRequestLabel:Y("git-pull-request-label",60006),tagAdd:Y("tag-add",60006),tagRemove:Y("tag-remove",60006),person:Y("person",60007),personFollow:Y("person-follow",60007),personOutline:Y("person-outline",60007),personFilled:Y("person-filled",60007),gitBranch:Y("git-branch",60008),gitBranchCreate:Y("git-branch-create",60008),gitBranchDelete:Y("git-branch-delete",60008),sourceControl:Y("source-control",60008),mirror:Y("mirror",60009),mirrorPublic:Y("mirror-public",60009),star:Y("star",60010),starAdd:Y("star-add",60010),starDelete:Y("star-delete",60010),starEmpty:Y("star-empty",60010),comment:Y("comment",60011),commentAdd:Y("comment-add",60011),alert:Y("alert",60012),warning:Y("warning",60012),search:Y("search",60013),searchSave:Y("search-save",60013),logOut:Y("log-out",60014),signOut:Y("sign-out",60014),logIn:Y("log-in",60015),signIn:Y("sign-in",60015),eye:Y("eye",60016),eyeUnwatch:Y("eye-unwatch",60016),eyeWatch:Y("eye-watch",60016),circleFilled:Y("circle-filled",60017),primitiveDot:Y("primitive-dot",60017),closeDirty:Y("close-dirty",60017),debugBreakpoint:Y("debug-breakpoint",60017),debugBreakpointDisabled:Y("debug-breakpoint-disabled",60017),debugHint:Y("debug-hint",60017),terminalDecorationSuccess:Y("terminal-decoration-success",60017),primitiveSquare:Y("primitive-square",60018),edit:Y("edit",60019),pencil:Y("pencil",60019),info:Y("info",60020),issueOpened:Y("issue-opened",60020),gistPrivate:Y("gist-private",60021),gitForkPrivate:Y("git-fork-private",60021),lock:Y("lock",60021),mirrorPrivate:Y("mirror-private",60021),close:Y("close",60022),removeClose:Y("remove-close",60022),x:Y("x",60022),repoSync:Y("repo-sync",60023),sync:Y("sync",60023),clone:Y("clone",60024),desktopDownload:Y("desktop-download",60024),beaker:Y("beaker",60025),microscope:Y("microscope",60025),vm:Y("vm",60026),deviceDesktop:Y("device-desktop",60026),file:Y("file",60027),fileText:Y("file-text",60027),more:Y("more",60028),ellipsis:Y("ellipsis",60028),kebabHorizontal:Y("kebab-horizontal",60028),mailReply:Y("mail-reply",60029),reply:Y("reply",60029),organization:Y("organization",60030),organizationFilled:Y("organization-filled",60030),organizationOutline:Y("organization-outline",60030),newFile:Y("new-file",60031),fileAdd:Y("file-add",60031),newFolder:Y("new-folder",60032),fileDirectoryCreate:Y("file-directory-create",60032),trash:Y("trash",60033),trashcan:Y("trashcan",60033),history:Y("history",60034),clock:Y("clock",60034),folder:Y("folder",60035),fileDirectory:Y("file-directory",60035),symbolFolder:Y("symbol-folder",60035),logoGithub:Y("logo-github",60036),markGithub:Y("mark-github",60036),github:Y("github",60036),terminal:Y("terminal",60037),console:Y("console",60037),repl:Y("repl",60037),zap:Y("zap",60038),symbolEvent:Y("symbol-event",60038),error:Y("error",60039),stop:Y("stop",60039),variable:Y("variable",60040),symbolVariable:Y("symbol-variable",60040),array:Y("array",60042),symbolArray:Y("symbol-array",60042),symbolModule:Y("symbol-module",60043),symbolPackage:Y("symbol-package",60043),symbolNamespace:Y("symbol-namespace",60043),symbolObject:Y("symbol-object",60043),symbolMethod:Y("symbol-method",60044),symbolFunction:Y("symbol-function",60044),symbolConstructor:Y("symbol-constructor",60044),symbolBoolean:Y("symbol-boolean",60047),symbolNull:Y("symbol-null",60047),symbolNumeric:Y("symbol-numeric",60048),symbolNumber:Y("symbol-number",60048),symbolStructure:Y("symbol-structure",60049),symbolStruct:Y("symbol-struct",60049),symbolParameter:Y("symbol-parameter",60050),symbolTypeParameter:Y("symbol-type-parameter",60050),symbolKey:Y("symbol-key",60051),symbolText:Y("symbol-text",60051),symbolReference:Y("symbol-reference",60052),goToFile:Y("go-to-file",60052),symbolEnum:Y("symbol-enum",60053),symbolValue:Y("symbol-value",60053),symbolRuler:Y("symbol-ruler",60054),symbolUnit:Y("symbol-unit",60054),activateBreakpoints:Y("activate-breakpoints",60055),archive:Y("archive",60056),arrowBoth:Y("arrow-both",60057),arrowDown:Y("arrow-down",60058),arrowLeft:Y("arrow-left",60059),arrowRight:Y("arrow-right",60060),arrowSmallDown:Y("arrow-small-down",60061),arrowSmallLeft:Y("arrow-small-left",60062),arrowSmallRight:Y("arrow-small-right",60063),arrowSmallUp:Y("arrow-small-up",60064),arrowUp:Y("arrow-up",60065),bell:Y("bell",60066),bold:Y("bold",60067),book:Y("book",60068),bookmark:Y("bookmark",60069),debugBreakpointConditionalUnverified:Y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:Y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:Y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:Y("debug-breakpoint-data-unverified",60072),debugBreakpointData:Y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:Y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:Y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:Y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:Y("debug-breakpoint-log-disabled",60075),briefcase:Y("briefcase",60076),broadcast:Y("broadcast",60077),browser:Y("browser",60078),bug:Y("bug",60079),calendar:Y("calendar",60080),caseSensitive:Y("case-sensitive",60081),check:Y("check",60082),checklist:Y("checklist",60083),chevronDown:Y("chevron-down",60084),chevronLeft:Y("chevron-left",60085),chevronRight:Y("chevron-right",60086),chevronUp:Y("chevron-up",60087),chromeClose:Y("chrome-close",60088),chromeMaximize:Y("chrome-maximize",60089),chromeMinimize:Y("chrome-minimize",60090),chromeRestore:Y("chrome-restore",60091),circleOutline:Y("circle-outline",60092),circle:Y("circle",60092),debugBreakpointUnverified:Y("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:Y("terminal-decoration-incomplete",60092),circleSlash:Y("circle-slash",60093),circuitBoard:Y("circuit-board",60094),clearAll:Y("clear-all",60095),clippy:Y("clippy",60096),closeAll:Y("close-all",60097),cloudDownload:Y("cloud-download",60098),cloudUpload:Y("cloud-upload",60099),code:Y("code",60100),collapseAll:Y("collapse-all",60101),colorMode:Y("color-mode",60102),commentDiscussion:Y("comment-discussion",60103),creditCard:Y("credit-card",60105),dash:Y("dash",60108),dashboard:Y("dashboard",60109),database:Y("database",60110),debugContinue:Y("debug-continue",60111),debugDisconnect:Y("debug-disconnect",60112),debugPause:Y("debug-pause",60113),debugRestart:Y("debug-restart",60114),debugStart:Y("debug-start",60115),debugStepInto:Y("debug-step-into",60116),debugStepOut:Y("debug-step-out",60117),debugStepOver:Y("debug-step-over",60118),debugStop:Y("debug-stop",60119),debug:Y("debug",60120),deviceCameraVideo:Y("device-camera-video",60121),deviceCamera:Y("device-camera",60122),deviceMobile:Y("device-mobile",60123),diffAdded:Y("diff-added",60124),diffIgnored:Y("diff-ignored",60125),diffModified:Y("diff-modified",60126),diffRemoved:Y("diff-removed",60127),diffRenamed:Y("diff-renamed",60128),diff:Y("diff",60129),diffSidebyside:Y("diff-sidebyside",60129),discard:Y("discard",60130),editorLayout:Y("editor-layout",60131),emptyWindow:Y("empty-window",60132),exclude:Y("exclude",60133),extensions:Y("extensions",60134),eyeClosed:Y("eye-closed",60135),fileBinary:Y("file-binary",60136),fileCode:Y("file-code",60137),fileMedia:Y("file-media",60138),filePdf:Y("file-pdf",60139),fileSubmodule:Y("file-submodule",60140),fileSymlinkDirectory:Y("file-symlink-directory",60141),fileSymlinkFile:Y("file-symlink-file",60142),fileZip:Y("file-zip",60143),files:Y("files",60144),filter:Y("filter",60145),flame:Y("flame",60146),foldDown:Y("fold-down",60147),foldUp:Y("fold-up",60148),fold:Y("fold",60149),folderActive:Y("folder-active",60150),folderOpened:Y("folder-opened",60151),gear:Y("gear",60152),gift:Y("gift",60153),gistSecret:Y("gist-secret",60154),gist:Y("gist",60155),gitCommit:Y("git-commit",60156),gitCompare:Y("git-compare",60157),compareChanges:Y("compare-changes",60157),gitMerge:Y("git-merge",60158),githubAction:Y("github-action",60159),githubAlt:Y("github-alt",60160),globe:Y("globe",60161),grabber:Y("grabber",60162),graph:Y("graph",60163),gripper:Y("gripper",60164),heart:Y("heart",60165),home:Y("home",60166),horizontalRule:Y("horizontal-rule",60167),hubot:Y("hubot",60168),inbox:Y("inbox",60169),issueReopened:Y("issue-reopened",60171),issues:Y("issues",60172),italic:Y("italic",60173),jersey:Y("jersey",60174),json:Y("json",60175),kebabVertical:Y("kebab-vertical",60176),key:Y("key",60177),law:Y("law",60178),lightbulbAutofix:Y("lightbulb-autofix",60179),linkExternal:Y("link-external",60180),link:Y("link",60181),listOrdered:Y("list-ordered",60182),listUnordered:Y("list-unordered",60183),liveShare:Y("live-share",60184),loading:Y("loading",60185),location:Y("location",60186),mailRead:Y("mail-read",60187),mail:Y("mail",60188),markdown:Y("markdown",60189),megaphone:Y("megaphone",60190),mention:Y("mention",60191),milestone:Y("milestone",60192),gitPullRequestMilestone:Y("git-pull-request-milestone",60192),mortarBoard:Y("mortar-board",60193),move:Y("move",60194),multipleWindows:Y("multiple-windows",60195),mute:Y("mute",60196),noNewline:Y("no-newline",60197),note:Y("note",60198),octoface:Y("octoface",60199),openPreview:Y("open-preview",60200),package:Y("package",60201),paintcan:Y("paintcan",60202),pin:Y("pin",60203),play:Y("play",60204),run:Y("run",60204),plug:Y("plug",60205),preserveCase:Y("preserve-case",60206),preview:Y("preview",60207),project:Y("project",60208),pulse:Y("pulse",60209),question:Y("question",60210),quote:Y("quote",60211),radioTower:Y("radio-tower",60212),reactions:Y("reactions",60213),references:Y("references",60214),refresh:Y("refresh",60215),regex:Y("regex",60216),remoteExplorer:Y("remote-explorer",60217),remote:Y("remote",60218),remove:Y("remove",60219),replaceAll:Y("replace-all",60220),replace:Y("replace",60221),repoClone:Y("repo-clone",60222),repoForcePush:Y("repo-force-push",60223),repoPull:Y("repo-pull",60224),repoPush:Y("repo-push",60225),report:Y("report",60226),requestChanges:Y("request-changes",60227),rocket:Y("rocket",60228),rootFolderOpened:Y("root-folder-opened",60229),rootFolder:Y("root-folder",60230),rss:Y("rss",60231),ruby:Y("ruby",60232),saveAll:Y("save-all",60233),saveAs:Y("save-as",60234),save:Y("save",60235),screenFull:Y("screen-full",60236),screenNormal:Y("screen-normal",60237),searchStop:Y("search-stop",60238),server:Y("server",60240),settingsGear:Y("settings-gear",60241),settings:Y("settings",60242),shield:Y("shield",60243),smiley:Y("smiley",60244),sortPrecedence:Y("sort-precedence",60245),splitHorizontal:Y("split-horizontal",60246),splitVertical:Y("split-vertical",60247),squirrel:Y("squirrel",60248),starFull:Y("star-full",60249),starHalf:Y("star-half",60250),symbolClass:Y("symbol-class",60251),symbolColor:Y("symbol-color",60252),symbolConstant:Y("symbol-constant",60253),symbolEnumMember:Y("symbol-enum-member",60254),symbolField:Y("symbol-field",60255),symbolFile:Y("symbol-file",60256),symbolInterface:Y("symbol-interface",60257),symbolKeyword:Y("symbol-keyword",60258),symbolMisc:Y("symbol-misc",60259),symbolOperator:Y("symbol-operator",60260),symbolProperty:Y("symbol-property",60261),wrench:Y("wrench",60261),wrenchSubaction:Y("wrench-subaction",60261),symbolSnippet:Y("symbol-snippet",60262),tasklist:Y("tasklist",60263),telescope:Y("telescope",60264),textSize:Y("text-size",60265),threeBars:Y("three-bars",60266),thumbsdown:Y("thumbsdown",60267),thumbsup:Y("thumbsup",60268),tools:Y("tools",60269),triangleDown:Y("triangle-down",60270),triangleLeft:Y("triangle-left",60271),triangleRight:Y("triangle-right",60272),triangleUp:Y("triangle-up",60273),twitter:Y("twitter",60274),unfold:Y("unfold",60275),unlock:Y("unlock",60276),unmute:Y("unmute",60277),unverified:Y("unverified",60278),verified:Y("verified",60279),versions:Y("versions",60280),vmActive:Y("vm-active",60281),vmOutline:Y("vm-outline",60282),vmRunning:Y("vm-running",60283),watch:Y("watch",60284),whitespace:Y("whitespace",60285),wholeWord:Y("whole-word",60286),window:Y("window",60287),wordWrap:Y("word-wrap",60288),zoomIn:Y("zoom-in",60289),zoomOut:Y("zoom-out",60290),listFilter:Y("list-filter",60291),listFlat:Y("list-flat",60292),listSelection:Y("list-selection",60293),selection:Y("selection",60293),listTree:Y("list-tree",60294),debugBreakpointFunctionUnverified:Y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:Y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:Y("debug-breakpoint-function-disabled",60296),debugStackframeActive:Y("debug-stackframe-active",60297),circleSmallFilled:Y("circle-small-filled",60298),debugStackframeDot:Y("debug-stackframe-dot",60298),terminalDecorationMark:Y("terminal-decoration-mark",60298),debugStackframe:Y("debug-stackframe",60299),debugStackframeFocused:Y("debug-stackframe-focused",60299),debugBreakpointUnsupported:Y("debug-breakpoint-unsupported",60300),symbolString:Y("symbol-string",60301),debugReverseContinue:Y("debug-reverse-continue",60302),debugStepBack:Y("debug-step-back",60303),debugRestartFrame:Y("debug-restart-frame",60304),debugAlt:Y("debug-alt",60305),callIncoming:Y("call-incoming",60306),callOutgoing:Y("call-outgoing",60307),menu:Y("menu",60308),expandAll:Y("expand-all",60309),feedback:Y("feedback",60310),gitPullRequestReviewer:Y("git-pull-request-reviewer",60310),groupByRefType:Y("group-by-ref-type",60311),ungroupByRefType:Y("ungroup-by-ref-type",60312),account:Y("account",60313),gitPullRequestAssignee:Y("git-pull-request-assignee",60313),bellDot:Y("bell-dot",60314),debugConsole:Y("debug-console",60315),library:Y("library",60316),output:Y("output",60317),runAll:Y("run-all",60318),syncIgnored:Y("sync-ignored",60319),pinned:Y("pinned",60320),githubInverted:Y("github-inverted",60321),serverProcess:Y("server-process",60322),serverEnvironment:Y("server-environment",60323),pass:Y("pass",60324),issueClosed:Y("issue-closed",60324),stopCircle:Y("stop-circle",60325),playCircle:Y("play-circle",60326),record:Y("record",60327),debugAltSmall:Y("debug-alt-small",60328),vmConnect:Y("vm-connect",60329),cloud:Y("cloud",60330),merge:Y("merge",60331),export:Y("export",60332),graphLeft:Y("graph-left",60333),magnet:Y("magnet",60334),notebook:Y("notebook",60335),redo:Y("redo",60336),checkAll:Y("check-all",60337),pinnedDirty:Y("pinned-dirty",60338),passFilled:Y("pass-filled",60339),circleLargeFilled:Y("circle-large-filled",60340),circleLarge:Y("circle-large",60341),circleLargeOutline:Y("circle-large-outline",60341),combine:Y("combine",60342),gather:Y("gather",60342),table:Y("table",60343),variableGroup:Y("variable-group",60344),typeHierarchy:Y("type-hierarchy",60345),typeHierarchySub:Y("type-hierarchy-sub",60346),typeHierarchySuper:Y("type-hierarchy-super",60347),gitPullRequestCreate:Y("git-pull-request-create",60348),runAbove:Y("run-above",60349),runBelow:Y("run-below",60350),notebookTemplate:Y("notebook-template",60351),debugRerun:Y("debug-rerun",60352),workspaceTrusted:Y("workspace-trusted",60353),workspaceUntrusted:Y("workspace-untrusted",60354),workspaceUnknown:Y("workspace-unknown",60355),terminalCmd:Y("terminal-cmd",60356),terminalDebian:Y("terminal-debian",60357),terminalLinux:Y("terminal-linux",60358),terminalPowershell:Y("terminal-powershell",60359),terminalTmux:Y("terminal-tmux",60360),terminalUbuntu:Y("terminal-ubuntu",60361),terminalBash:Y("terminal-bash",60362),arrowSwap:Y("arrow-swap",60363),copy:Y("copy",60364),personAdd:Y("person-add",60365),filterFilled:Y("filter-filled",60366),wand:Y("wand",60367),debugLineByLine:Y("debug-line-by-line",60368),inspect:Y("inspect",60369),layers:Y("layers",60370),layersDot:Y("layers-dot",60371),layersActive:Y("layers-active",60372),compass:Y("compass",60373),compassDot:Y("compass-dot",60374),compassActive:Y("compass-active",60375),azure:Y("azure",60376),issueDraft:Y("issue-draft",60377),gitPullRequestClosed:Y("git-pull-request-closed",60378),gitPullRequestDraft:Y("git-pull-request-draft",60379),debugAll:Y("debug-all",60380),debugCoverage:Y("debug-coverage",60381),runErrors:Y("run-errors",60382),folderLibrary:Y("folder-library",60383),debugContinueSmall:Y("debug-continue-small",60384),beakerStop:Y("beaker-stop",60385),graphLine:Y("graph-line",60386),graphScatter:Y("graph-scatter",60387),pieChart:Y("pie-chart",60388),bracket:Y("bracket",60175),bracketDot:Y("bracket-dot",60389),bracketError:Y("bracket-error",60390),lockSmall:Y("lock-small",60391),azureDevops:Y("azure-devops",60392),verifiedFilled:Y("verified-filled",60393),newline:Y("newline",60394),layout:Y("layout",60395),layoutActivitybarLeft:Y("layout-activitybar-left",60396),layoutActivitybarRight:Y("layout-activitybar-right",60397),layoutPanelLeft:Y("layout-panel-left",60398),layoutPanelCenter:Y("layout-panel-center",60399),layoutPanelJustify:Y("layout-panel-justify",60400),layoutPanelRight:Y("layout-panel-right",60401),layoutPanel:Y("layout-panel",60402),layoutSidebarLeft:Y("layout-sidebar-left",60403),layoutSidebarRight:Y("layout-sidebar-right",60404),layoutStatusbar:Y("layout-statusbar",60405),layoutMenubar:Y("layout-menubar",60406),layoutCentered:Y("layout-centered",60407),target:Y("target",60408),indent:Y("indent",60409),recordSmall:Y("record-small",60410),errorSmall:Y("error-small",60411),terminalDecorationError:Y("terminal-decoration-error",60411),arrowCircleDown:Y("arrow-circle-down",60412),arrowCircleLeft:Y("arrow-circle-left",60413),arrowCircleRight:Y("arrow-circle-right",60414),arrowCircleUp:Y("arrow-circle-up",60415),layoutSidebarRightOff:Y("layout-sidebar-right-off",60416),layoutPanelOff:Y("layout-panel-off",60417),layoutSidebarLeftOff:Y("layout-sidebar-left-off",60418),blank:Y("blank",60419),heartFilled:Y("heart-filled",60420),map:Y("map",60421),mapHorizontal:Y("map-horizontal",60421),foldHorizontal:Y("fold-horizontal",60421),mapFilled:Y("map-filled",60422),mapHorizontalFilled:Y("map-horizontal-filled",60422),foldHorizontalFilled:Y("fold-horizontal-filled",60422),circleSmall:Y("circle-small",60423),bellSlash:Y("bell-slash",60424),bellSlashDot:Y("bell-slash-dot",60425),commentUnresolved:Y("comment-unresolved",60426),gitPullRequestGoToChanges:Y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:Y("git-pull-request-new-changes",60428),searchFuzzy:Y("search-fuzzy",60429),commentDraft:Y("comment-draft",60430),send:Y("send",60431),sparkle:Y("sparkle",60432),insert:Y("insert",60433),mic:Y("mic",60434),thumbsdownFilled:Y("thumbsdown-filled",60435),thumbsupFilled:Y("thumbsup-filled",60436),coffee:Y("coffee",60437),snake:Y("snake",60438),game:Y("game",60439),vr:Y("vr",60440),chip:Y("chip",60441),piano:Y("piano",60442),music:Y("music",60443),micFilled:Y("mic-filled",60444),repoFetch:Y("repo-fetch",60445),copilot:Y("copilot",60446),lightbulbSparkle:Y("lightbulb-sparkle",60447),robot:Y("robot",60448),sparkleFilled:Y("sparkle-filled",60449),diffSingle:Y("diff-single",60450),diffMultiple:Y("diff-multiple",60451),surroundWith:Y("surround-with",60452),share:Y("share",60453),gitStash:Y("git-stash",60454),gitStashApply:Y("git-stash-apply",60455),gitStashPop:Y("git-stash-pop",60456),vscode:Y("vscode",60457),vscodeInsiders:Y("vscode-insiders",60458),codeOss:Y("code-oss",60459),runCoverage:Y("run-coverage",60460),runAllCoverage:Y("run-all-coverage",60461),coverage:Y("coverage",60462),githubProject:Y("github-project",60463),mapVertical:Y("map-vertical",60464),foldVertical:Y("fold-vertical",60464),mapVerticalFilled:Y("map-vertical-filled",60465),foldVerticalFilled:Y("fold-vertical-filled",60465),goToSearch:Y("go-to-search",60466),percentage:Y("percentage",60467),sortPercentage:Y("sort-percentage",60467),attach:Y("attach",60468)},$ot={dialogError:Y("dialog-error","error"),dialogWarning:Y("dialog-warning","warning"),dialogInfo:Y("dialog-info","info"),dialogClose:Y("dialog-close","close"),treeItemExpanded:Y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:Y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:Y("tree-filter-on-type-off","list-selection"),treeFilterClear:Y("tree-filter-clear","close"),treeItemLoading:Y("tree-item-loading","loading"),menuSelection:Y("menu-selection","check"),menuSubmenu:Y("menu-submenu","chevron-right"),menuBarMore:Y("menubar-more","more"),scrollbarButtonLeft:Y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:Y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:Y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:Y("scrollbar-button-down","triangle-down"),toolBarMore:Y("toolbar-more","more"),quickInputBack:Y("quick-input-back","arrow-left"),dropDownButton:Y("drop-down-button",60084),symbolCustomColor:Y("symbol-customcolor",60252),exportIcon:Y("export",60332),workspaceUnspecified:Y("workspace-unspecified",60355),newLine:Y("newline",60394),thumbsDownFilled:Y("thumbsdown-filled",60435),thumbsUpFilled:Y("thumbsup-filled",60436),gitFetch:Y("git-fetch",60445),lightbulbSparkleAutofix:Y("lightbulb-sparkle-autofix",60447),debugBreakpointPending:Y("debug-breakpoint-pending",60377)},Lt={...Wot,...$ot};let dCe=class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new ke,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),cn(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var r;(r=this._factories.get(e))==null||r.dispose();const i=new jot(this,e,t);return this._factories.set(e,i),cn(()=>{const s=this._factories.get(e);!s||s!==i||(this._factories.delete(e),s.dispose())})}async getOrCreate(e){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(await i.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class jot extends je{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}}let Yx=class{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class oq{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class EA{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var gle;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(gle||(gle={}));var ple;(function(n){const e=new Map;e.set(0,Lt.symbolMethod),e.set(1,Lt.symbolFunction),e.set(2,Lt.symbolConstructor),e.set(3,Lt.symbolField),e.set(4,Lt.symbolVariable),e.set(5,Lt.symbolClass),e.set(6,Lt.symbolStruct),e.set(7,Lt.symbolInterface),e.set(8,Lt.symbolModule),e.set(9,Lt.symbolProperty),e.set(10,Lt.symbolEvent),e.set(11,Lt.symbolOperator),e.set(12,Lt.symbolUnit),e.set(13,Lt.symbolValue),e.set(15,Lt.symbolEnum),e.set(14,Lt.symbolConstant),e.set(15,Lt.symbolEnum),e.set(16,Lt.symbolEnumMember),e.set(17,Lt.symbolKeyword),e.set(27,Lt.symbolSnippet),e.set(18,Lt.symbolText),e.set(19,Lt.symbolColor),e.set(20,Lt.symbolFile),e.set(21,Lt.symbolReference),e.set(22,Lt.symbolCustomColor),e.set(23,Lt.symbolFolder),e.set(24,Lt.symbolTypeParameter),e.set(25,Lt.account),e.set(26,Lt.issues);function t(s){let o=e.get(s);return o||(console.info("No codicon found for CompletionItemKind "+s),o=Lt.symbolProperty),o}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function r(s,o){let a=i.get(s);return typeof a>"u"&&!o&&(a=9),a}n.fromString=r})(ple||(ple={}));var mle;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(mle||(mle={}));class Uot{constructor(e,t,i,r){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=r}equals(e){return _e.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var ble;(function(n){n[n.Automatic=0]="Automatic",n[n.PasteAs=1]="PasteAs"})(ble||(ble={}));var vle;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(vle||(vle={}));var yle;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(yle||(yle={}));P("Array","array"),P("Boolean","boolean"),P("Class","class"),P("Constant","constant"),P("Constructor","constructor"),P("Enum","enumeration"),P("EnumMember","enumeration member"),P("Event","event"),P("Field","field"),P("File","file"),P("Function","function"),P("Interface","interface"),P("Key","key"),P("Method","method"),P("Module","module"),P("Namespace","namespace"),P("Null","null"),P("Number","number"),P("Object","object"),P("Operator","operator"),P("Package","package"),P("Property","property"),P("String","string"),P("Struct","struct"),P("TypeParameter","type parameter"),P("Variable","variable");var yH;(function(n){const e=new Map;e.set(0,Lt.symbolFile),e.set(1,Lt.symbolModule),e.set(2,Lt.symbolNamespace),e.set(3,Lt.symbolPackage),e.set(4,Lt.symbolClass),e.set(5,Lt.symbolMethod),e.set(6,Lt.symbolProperty),e.set(7,Lt.symbolField),e.set(8,Lt.symbolConstructor),e.set(9,Lt.symbolEnum),e.set(10,Lt.symbolInterface),e.set(11,Lt.symbolFunction),e.set(12,Lt.symbolVariable),e.set(13,Lt.symbolConstant),e.set(14,Lt.symbolString),e.set(15,Lt.symbolNumber),e.set(16,Lt.symbolBoolean),e.set(17,Lt.symbolArray),e.set(18,Lt.symbolObject),e.set(19,Lt.symbolKey),e.set(20,Lt.symbolNull),e.set(21,Lt.symbolEnumMember),e.set(22,Lt.symbolStruct),e.set(23,Lt.symbolEvent),e.set(24,Lt.symbolOperator),e.set(25,Lt.symbolTypeParameter);function t(i){let r=e.get(i);return r||(console.info("No codicon found for SymbolKind "+i),r=Lt.symbolProperty),r}n.toIcon=t})(yH||(yH={}));const uc=class uc{static fromValue(e){switch(e){case"comment":return uc.Comment;case"imports":return uc.Imports;case"region":return uc.Region}return new uc(e)}constructor(e){this.value=e}};uc.Comment=new uc("comment"),uc.Imports=new uc("imports"),uc.Region=new uc("region");let CH=uc;var Cle;(function(n){n[n.AIGenerated=1]="AIGenerated"})(Cle||(Cle={}));var _le;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(_le||(_le={}));var wle;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(wle||(wle={}));var Sle;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(Sle||(Sle={}));class qot{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(e=>{e&&e.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const Rr=new dCe,_H=new dCe;var xle;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(xle||(xle={}));var wH;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(wH||(wH={}));var SH;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(SH||(SH={}));var xH;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(xH||(xH={}));var kH;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(kH||(kH={}));var LH;(function(n){n[n.Deprecated=1]="Deprecated"})(LH||(LH={}));var EH;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(EH||(EH={}));var DH;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(DH||(DH={}));var TH;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(TH||(TH={}));var IH;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(IH||(IH={}));var MH;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(MH||(MH={}));var RH;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(RH||(RH={}));var NH;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.inlineEdit=63]="inlineEdit",n[n.letterSpacing=64]="letterSpacing",n[n.lightbulb=65]="lightbulb",n[n.lineDecorationsWidth=66]="lineDecorationsWidth",n[n.lineHeight=67]="lineHeight",n[n.lineNumbers=68]="lineNumbers",n[n.lineNumbersMinChars=69]="lineNumbersMinChars",n[n.linkedEditing=70]="linkedEditing",n[n.links=71]="links",n[n.matchBrackets=72]="matchBrackets",n[n.minimap=73]="minimap",n[n.mouseStyle=74]="mouseStyle",n[n.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=76]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",n[n.multiCursorModifier=78]="multiCursorModifier",n[n.multiCursorPaste=79]="multiCursorPaste",n[n.multiCursorLimit=80]="multiCursorLimit",n[n.occurrencesHighlight=81]="occurrencesHighlight",n[n.overviewRulerBorder=82]="overviewRulerBorder",n[n.overviewRulerLanes=83]="overviewRulerLanes",n[n.padding=84]="padding",n[n.pasteAs=85]="pasteAs",n[n.parameterHints=86]="parameterHints",n[n.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",n[n.placeholder=88]="placeholder",n[n.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",n[n.quickSuggestions=90]="quickSuggestions",n[n.quickSuggestionsDelay=91]="quickSuggestionsDelay",n[n.readOnly=92]="readOnly",n[n.readOnlyMessage=93]="readOnlyMessage",n[n.renameOnType=94]="renameOnType",n[n.renderControlCharacters=95]="renderControlCharacters",n[n.renderFinalNewline=96]="renderFinalNewline",n[n.renderLineHighlight=97]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=99]="renderValidationDecorations",n[n.renderWhitespace=100]="renderWhitespace",n[n.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",n[n.roundedSelection=102]="roundedSelection",n[n.rulers=103]="rulers",n[n.scrollbar=104]="scrollbar",n[n.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=106]="scrollBeyondLastLine",n[n.scrollPredominantAxis=107]="scrollPredominantAxis",n[n.selectionClipboard=108]="selectionClipboard",n[n.selectionHighlight=109]="selectionHighlight",n[n.selectOnLineNumbers=110]="selectOnLineNumbers",n[n.showFoldingControls=111]="showFoldingControls",n[n.showUnused=112]="showUnused",n[n.snippetSuggestions=113]="snippetSuggestions",n[n.smartSelect=114]="smartSelect",n[n.smoothScrolling=115]="smoothScrolling",n[n.stickyScroll=116]="stickyScroll",n[n.stickyTabStops=117]="stickyTabStops",n[n.stopRenderingLineAfter=118]="stopRenderingLineAfter",n[n.suggest=119]="suggest",n[n.suggestFontSize=120]="suggestFontSize",n[n.suggestLineHeight=121]="suggestLineHeight",n[n.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",n[n.suggestSelection=123]="suggestSelection",n[n.tabCompletion=124]="tabCompletion",n[n.tabIndex=125]="tabIndex",n[n.unicodeHighlighting=126]="unicodeHighlighting",n[n.unusualLineTerminators=127]="unusualLineTerminators",n[n.useShadowDOM=128]="useShadowDOM",n[n.useTabStops=129]="useTabStops",n[n.wordBreak=130]="wordBreak",n[n.wordSegmenterLocales=131]="wordSegmenterLocales",n[n.wordSeparators=132]="wordSeparators",n[n.wordWrap=133]="wordWrap",n[n.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=136]="wordWrapColumn",n[n.wordWrapOverride1=137]="wordWrapOverride1",n[n.wordWrapOverride2=138]="wordWrapOverride2",n[n.wrappingIndent=139]="wrappingIndent",n[n.wrappingStrategy=140]="wrappingStrategy",n[n.showDeprecated=141]="showDeprecated",n[n.inlayHints=142]="inlayHints",n[n.editorClassName=143]="editorClassName",n[n.pixelRatio=144]="pixelRatio",n[n.tabFocusMode=145]="tabFocusMode",n[n.layoutInfo=146]="layoutInfo",n[n.wrappingInfo=147]="wrappingInfo",n[n.defaultColorDecorators=148]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(NH||(NH={}));var AH;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(AH||(AH={}));var PH;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(PH||(PH={}));var OH;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(OH||(OH={}));var FH;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(FH||(FH={}));var BH;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(BH||(BH={}));var HH;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(HH||(HH={}));var VH;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(VH||(VH={}));var zH;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(zH||(zH={}));var WH;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(WH||(WH={}));var $H;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})($H||($H={}));var jH;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(jH||(jH={}));var UH;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(UH||(UH={}));var qH;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(qH||(qH={}));var GH;(function(n){n[n.Normal=1]="Normal",n[n.Underlined=2]="Underlined"})(GH||(GH={}));var KH;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(KH||(KH={}));var QH;(function(n){n[n.AIGenerated=1]="AIGenerated"})(QH||(QH={}));var YH;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(YH||(YH={}));var XH;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(XH||(XH={}));var ZH;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(ZH||(ZH={}));var JH;(function(n){n[n.Word=0]="Word",n[n.Line=1]="Line",n[n.Suggest=2]="Suggest"})(JH||(JH={}));var eV;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(eV||(eV={}));var tV;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(tV||(tV={}));var nV;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(nV||(nV={}));var iV;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(iV||(iV={}));var rV;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(rV||(rV={}));var sV;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(sV||(sV={}));var oV;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(oV||(oV={}));var aV;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(aV||(aV={}));var lV;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(lV||(lV={}));var cV;(function(n){n[n.Deprecated=1]="Deprecated"})(cV||(cV={}));var uV;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(uV||(uV={}));var dV;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(dV||(dV={}));var hV;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(hV||(hV={}));var fV;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(fV||(fV={}));var pf;let Got=(pf=class{static chord(e,t){return yot(e,t)}},pf.CtrlCmd=2048,pf.Shift=1024,pf.Alt=512,pf.WinCtrl=256,pf);function hCe(){return{editor:void 0,languages:void 0,CancellationTokenSource:Z0,Emitter:ke,KeyCode:$H,KeyMod:Got,Position:Pe,Range:_e,Selection:wi,SelectionDirection:sV,MarkerSeverity:jH,MarkerTag:UH,Uri:Sn,Token:Yx}}function Kot(n,e){const t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}const yi=window;function fCe(n){return n}class Qot{constructor(e,t){this.lastCache=void 0,this.lastArgKey=void 0,typeof e=="function"?(this._fn=e,this._computeKey=fCe):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}}class kle{get cachedValues(){return this._map}constructor(e,t){this._map=new Map,this._map2=new Map,typeof e=="function"?(this._fn=e,this._computeKey=fCe):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);if(this._map2.has(t))return this._map2.get(t);const i=this._fn(e);return this._map.set(e,i),this._map2.set(t,i),i}}class Rp{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function Yot(n){return!n||typeof n!="string"?!0:n.trim().length===0}const Xot=/{(\d+)}/g;function gV(n,...e){return e.length===0?n:n.replace(Xot,function(t,i){const r=parseInt(i,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function Zot(n){return n.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function AS(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Af(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function DA(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function Jot(n,e){if(!n)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let r=i,s=-1;for(;s=n.lastIndexOf(e,r-1),!(s===-1||s+t!==r);){if(s===0)return"";r=s}return n.substring(0,r)}function eat(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function gCe(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=Af(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function tat(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function J0(n){return n.split(/\r\n|\r|\n/)}function Oa(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function Oo(n,e=0,t=n.length){for(let i=e;i<t;i++){const r=n.charCodeAt(i);if(r!==32&&r!==9)return n.substring(e,i)}return n.substring(e,t)}function Wv(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function pV(n,e){return n<e?-1:n>e?1:0}function aq(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){const l=n.charCodeAt(t),c=e.charCodeAt(r);if(l<c)return-1;if(l>c)return 1}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function Lle(n,e){return wL(n,e,0,n.length,0,e.length)}function wL(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){let l=n.charCodeAt(t),c=e.charCodeAt(r);if(l===c)continue;if(l>=128||c>=128)return aq(n.toLowerCase(),e.toLowerCase(),t,i,r,s);Cy(l)&&(l-=32),Cy(c)&&(c-=32);const u=l-c;if(u!==0)return u}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function $D(n){return n>=48&&n<=57}function Cy(n){return n>=97&&n<=122}function Wg(n){return n>=65&&n<=90}function _y(n,e){return n.length===e.length&&wL(n,e)===0}function lq(n,e){const t=e.length;return e.length>n.length?!1:wL(n,e,0,t)===0}function mV(n,e){const t=Math.min(n.length,e.length);let i;for(i=0;i<t;i++)if(n.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function bV(n,e){const t=Math.min(n.length,e.length);let i;const r=n.length-1,s=e.length-1;for(i=0;i<t;i++)if(n.charCodeAt(r-i)!==e.charCodeAt(s-i))return i;return t}function hs(n){return 55296<=n&&n<=56319}function QC(n){return 56320<=n&&n<=57343}function cq(n,e){return(n-55296<<10)+(e-56320)+65536}function TI(n,e,t){const i=n.charCodeAt(t);if(hs(i)&&t+1<e){const r=n.charCodeAt(t+1);if(QC(r))return cq(i,r)}return i}function nat(n,e){const t=n.charCodeAt(e-1);if(QC(t)&&e>1){const i=n.charCodeAt(e-2);if(hs(i))return cq(i,t)}return t}class uq{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=nat(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=TI(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class II{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new uq(e,t)}nextGraphemeLength(){const e=MI.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const s=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(Ele(r,o)){t.setOffset(s);break}r=o}return t.offset-i}prevGraphemeLength(){const e=MI.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const s=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(Ele(o,r)){t.setOffset(s);break}r=o}return i-t.offset}eol(){return this._iterator.eol()}}function dq(n,e){return new II(n,e).nextGraphemeLength()}function pCe(n,e){return new II(n,e).prevGraphemeLength()}function iat(n,e){e>0&&QC(n.charCodeAt(e))&&e--;const t=e+dq(n,e);return[t-pCe(n,t),t]}let L7;function rat(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Xx(n){return L7||(L7=rat()),L7.test(n)}const sat=/^[\t\n\r\x20-\x7E]*$/;function hq(n){return sat.test(n)}const mCe=/[\u2028\u2029]/;function bCe(n){return mCe.test(n)}function Np(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function fq(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const oat="\uFEFF";function gq(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function vCe(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function Ele(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}const db=class db{static getInstance(){return db._INSTANCE||(db._INSTANCE=new db),db._INSTANCE}constructor(){this._data=aat()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let r=1;for(;r<=i;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}};db._INSTANCE=null;let MI=db;function aat(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function lat(n,e){if(n===0)return 0;const t=cat(n,e);if(t!==void 0)return t;const i=new uq(e,n);return i.prevCodePoint(),i.offset}function cat(n,e){const t=new uq(e,n);let i=t.prevCodePoint();for(;uat(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!fq(i))return;let r=t.offset;return r>0&&t.prevCodePoint()===8205&&(r=t.offset),r}function uat(n){return 127995<=n&&n<=127999}const ld=class ld{static getInstance(e){return ld.cache.get(Array.from(e))}static getLocales(){return ld._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};ld.ambiguousCharacterData=new Rp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ld.cache=new Qot({getCacheKey:JSON.stringify},e=>{function t(u){const d=new Map;for(let h=0;h<u.length;h+=2)d.set(u[h],u[h+1]);return d}function i(u,d){const h=new Map(u);for(const[f,p]of d)h.set(f,p);return h}function r(u,d){if(!u)return d;const h=new Map;for(const[f,p]of u)d.has(f)&&h.set(f,p);return h}const s=ld.ambiguousCharacterData.value;let o=e.filter(u=>!u.startsWith("_")&&u in s);o.length===0&&(o=["_default"]);let a;for(const u of o){const d=t(s[u]);a=r(a,d)}const l=t(s._common),c=i(l,a);return new ld(c)}),ld._locales=new Rp(()=>Object.keys(ld.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));let Zx=ld;const zy=class zy{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(zy.getRawData())),this._data}static isInvisibleCharacter(e){return zy.getData().has(e)}static get codePoints(){return zy.getData()}};zy._data=void 0;let PS=zy;const dR=class dR{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}getWindowId(e){return e.vscodeWindowId}};dR.INSTANCE=new dR;let vV=dR;function yCe(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}function dat(n){return vV.INSTANCE.getZoomFactor(n)}const e_=navigator.userAgent,Oc=e_.indexOf("Firefox")>=0,Ab=e_.indexOf("AppleWebKit")>=0,SL=e_.indexOf("Chrome")>=0,Pf=!SL&&e_.indexOf("Safari")>=0,CCe=!SL&&!Pf&&Ab;e_.indexOf("Electron/")>=0;const Dle=e_.indexOf("Android")>=0;let sT=!1;if(typeof yi.matchMedia=="function"){const n=yi.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=yi.matchMedia("(display-mode: fullscreen)");sT=n.matches,yCe(yi,n,({matches:t})=>{sT&&e.matches||(sT=t)})}function hat(){return sT}const _Ce={clipboard:{writeText:RS||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:RS||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:RS||hat()?0:navigator.keyboard||Pf?1:2,touch:"ontouchstart"in yi||navigator.maxTouchPoints>0,pointerEvents:yi.PointerEvent&&("ontouchstart"in yi||navigator.maxTouchPoints>0)};function yV(n,e){if(typeof n=="number"){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new E7([jD(t,e),jD(i,e)]):new E7([jD(t,e)])}else{const t=[];for(let i=0;i<n.length;i++)t.push(jD(n[i],e));return new E7(t)}}function jD(n,e){const t=!!(n&2048),i=!!(n&256),r=e===2?i:t,s=!!(n&1024),o=!!(n&512),a=e===2?t:i,l=n&255;return new hv(r,s,o,a,l)}class hv{constructor(e,t,i,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyCode=s}equals(e){return e instanceof hv&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class E7{constructor(e){if(e.length===0)throw LA("chords");this.chords=e}}class fat{constructor(e,t,i,r,s,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyLabel=s,this.keyAriaLabel=o}}class gat{}function pat(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return ef.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(Oc)switch(e){case 59:return 85;case 60:if(ga)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(An)return 57;break}else if(Ab){if(An&&e===93)return 57;if(!An&&e===92)return 57}return nCe[e]||0}const mat=An?256:2048,bat=512,vat=1024,yat=An?2048:256;class Bi{constructor(e){var i;this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=(i=t.getModifierState)==null?void 0:i.call(t,"AltGraph"),this.keyCode=pat(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=mat),this.altKey&&(t|=bat),this.shiftKey&&(t|=vat),this.metaKey&&(t|=yat),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new hv(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const Tle=new WeakMap;function Cat(n){if(!n.parent||n.parent===n)return null;try{const e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}class _at{static getSameOriginWindowChain(e){let t=Tle.get(e);if(!t){t=[],Tle.set(e,t);let i=e,r;do r=Cat(i),r?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=r;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,r=0;const s=this.getSameOriginWindowChain(e);for(const o of s){const a=o.window.deref();if(i+=(a==null?void 0:a.scrollY)??0,r+=(a==null?void 0:a.scrollX)??0,a===t||!o.iframeElement)break;const l=o.iframeElement.getBoundingClientRect();i+=l.top,r+=l.left}return{top:i,left:r}}}class Cu{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=_at.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class fv{constructor(e,t=0,i=0){var s;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let r=!1;if(SL){const o=navigator.userAgent.match(/Chrome\/(\d+)/);r=(o?parseInt(o[1]):123)<=122}if(e){const o=e,a=e,l=((s=e.view)==null?void 0:s.devicePixelRatio)||1;if(typeof o.wheelDeltaY<"u")r?this.deltaY=o.wheelDeltaY/(120*l):this.deltaY=o.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS<"u"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(e.type==="wheel"){const c=e;c.deltaMode===c.DOM_DELTA_LINE?Oc&&!An?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")Pf&&Ba?this.deltaX=-(o.wheelDeltaX/120):r?this.deltaX=o.wheelDeltaX/(120*l):this.deltaX=o.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS<"u"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const c=e;c.deltaMode===c.DOM_DELTA_LINE?Oc&&!An?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(r?this.deltaY=e.wheelDelta/(120*l):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)==null||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)==null||e.stopPropagation()}}const wCe=Symbol("MicrotaskDelay");function CV(n){return!!n&&typeof n.then=="function"}function SCe(n){const e=new Z0,t=n(e.token),i=new Promise((r,s)=>{const o=e.token.onCancellationRequested(()=>{o.dispose(),s(new CL)});Promise.resolve(t).then(a=>{o.dispose(),e.dispose(),r(a)},a=>{o.dispose(),e.dispose(),s(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(r,s){return i.then(r,s)}catch(r){return this.then(void 0,r)}finally(r){return i.finally(r)}}}class wat{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,i(r)})})}dispose(){this.isDisposed=!0}}const Sat=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},xat=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class xL{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((r,s)=>{this.doResolve=r,this.doReject=s}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const r=this.task;return this.task=null,r()}}));const i=()=>{var r;this.deferred=null,(r=this.doResolve)==null||r.call(this,null)};return this.deferred=t===wCe?xat(i):Sat(t,i),this.completionPromise}isTriggered(){var e;return!!((e=this.deferred)!=null&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)==null||e.call(this,new CL),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)==null||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class xCe{constructor(e){this.delayer=new xL(e),this.throttler=new wat}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function Jx(n,e){return e?new Promise((t,i)=>{const r=setTimeout(()=>{s.dispose(),t()},n),s=e.onCancellationRequested(()=>{clearTimeout(r),s.dispose(),i(new CL)})}):SCe(t=>Jx(n,t))}function _V(n,e=0,t){const i=setTimeout(()=>{n(),t&&r.dispose()},e),r=cn(()=>{clearTimeout(i),t==null||t.deleteAndLeak(r)});return t==null||t.add(r),r}class $v{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new ti("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new ti("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class pq{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new ti("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const r=i.setInterval(()=>{e()},t);this.disposable=cn(()=>{i.clearInterval(r),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class Lo{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)==null||e.call(this)}}let kCe,OS;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?OS=(n,e)=>{Uye(()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:OS=(n,e,t)=>{const i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0);let r=!1;return{dispose(){r||(r=!0,n.cancelIdleCallback(i))}}},kCe=n=>OS(globalThis,n)})();class kat{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(i){this._error=i}finally{this._didRun=!0}},this._handle=OS(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class Lat extends kat{constructor(e){super(globalThis,e)}}class LCe{get isRejected(){var e;return((e=this.outcome)==null?void 0:e.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new CL)}}var wV;(function(n){async function e(i){let r;const s=await Promise.all(i.map(o=>o.then(a=>a,a=>{r||(r=a)})));if(typeof r<"u")throw r;return s}n.settled=e;function t(i){return new Promise(async(r,s)=>{try{await i(r,s)}catch(o){s(o)}})}n.withAsyncBody=t})(wV||(wV={}));const ka=class ka{static fromArray(e){return new ka(t=>{t.emitMany(e)})}static fromPromise(e){return new ka(async t=>{t.emitMany(await e)})}static fromPromises(e){return new ka(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new ka(async t=>{await Promise.all(e.map(async i=>{for await(const r of i)t.emitOne(r)}))})}constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new ke,queueMicrotask(async()=>{const i={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(i)),this.resolve()}catch(r){this.reject(r)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await ut.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var t;return(t=this._onReturn)==null||t.call(this),{done:!0,value:void 0}}}}static map(e,t){return new ka(async i=>{for await(const r of e)i.emitOne(t(r))})}map(e){return ka.map(this,e)}static filter(e,t){return new ka(async i=>{for await(const r of e)t(r)&&i.emitOne(r)})}filter(e){return ka.filter(this,e)}static coalesce(e){return ka.filter(e,t=>!!t)}coalesce(){return ka.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return ka.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};ka.EMPTY=ka.fromArray([]);let Ile=ka;/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:ECe,setPrototypeOf:Mle,isFrozen:Eat,getPrototypeOf:Dat,getOwnPropertyDescriptor:Tat}=Object;let{freeze:Ha,seal:Fc,create:DCe}=Object,{apply:SV,construct:xV}=typeof Reflect<"u"&&Reflect;Ha||(Ha=function(e){return e});Fc||(Fc=function(e){return e});SV||(SV=function(e,t,i){return e.apply(t,i)});xV||(xV=function(e,t){return new e(...t)});const UD=Ul(Array.prototype.forEach),Rle=Ul(Array.prototype.pop),Iw=Ul(Array.prototype.push),oT=Ul(String.prototype.toLowerCase),D7=Ul(String.prototype.toString),Nle=Ul(String.prototype.match),Mw=Ul(String.prototype.replace),Iat=Ul(String.prototype.indexOf),Mat=Ul(String.prototype.trim),du=Ul(Object.prototype.hasOwnProperty),wa=Ul(RegExp.prototype.test),Rw=Rat(TypeError);function Ul(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return SV(n,e,i)}}function Rat(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return xV(n,t)}}function bi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oT;Mle&&Mle(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=t(r);s!==r&&(Eat(e)||(e[i]=s),r=s)}n[r]=!0}return n}function Nat(n){for(let e=0;e<n.length;e++)du(n,e)||(n[e]=null);return n}function zm(n){const e=DCe(null);for(const[t,i]of ECe(n))du(n,t)&&(Array.isArray(i)?e[t]=Nat(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=zm(i):e[t]=i);return e}function Nw(n,e){for(;n!==null;){const i=Tat(n,e);if(i){if(i.get)return Ul(i.get);if(typeof i.value=="function")return Ul(i.value)}n=Dat(n)}function t(){return null}return t}const Ale=Ha(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T7=Ha(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I7=Ha(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Aat=Ha(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M7=Ha(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Pat=Ha(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ple=Ha(["#text"]),Ole=Ha(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),R7=Ha(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fle=Ha(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qD=Ha(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Oat=Fc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Fat=Fc(/<%[\w\W]*|[\w\W]*%>/gm),Bat=Fc(/\${[\w\W]*}/gm),Hat=Fc(/^data-[\-\w.\u00B7-\uFFFF]/),Vat=Fc(/^aria-[\-\w]+$/),TCe=Fc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zat=Fc(/^(?:\w+script|data):/i),Wat=Fc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ICe=Fc(/^html$/i),$at=Fc(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ble=Object.freeze({__proto__:null,MUSTACHE_EXPR:Oat,ERB_EXPR:Fat,TMPLIT_EXPR:Bat,DATA_ATTR:Hat,ARIA_ATTR:Vat,IS_ALLOWED_URI:TCe,IS_SCRIPT_OR_DATA:zat,ATTR_WHITESPACE:Wat,DOCTYPE_NAME:ICe,CUSTOM_ELEMENT:$at});const Aw={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},jat=function(){return typeof window>"u"?null:window},Uat=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function MCe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jat();const e=yt=>MCe(yt);if(e.version="3.1.7",e.removed=[],!n||!n.document||n.document.nodeType!==Aw.document)return e.isSupported=!1,e;let{document:t}=n;const i=t,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=n,p=l.prototype,m=Nw(p,"cloneNode"),v=Nw(p,"remove"),C=Nw(p,"nextSibling"),y=Nw(p,"childNodes"),w=Nw(p,"parentNode");if(typeof o=="function"){const yt=t.createElement("template");yt.content&&yt.content.ownerDocument&&(t=yt.content.ownerDocument)}let _,x="";const{implementation:k,createNodeIterator:D,createDocumentFragment:T,getElementsByTagName:L}=t,{importNode:I}=i;let R={};e.isSupported=typeof ECe=="function"&&typeof w=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:O,TMPLIT_EXPR:F,DATA_ATTR:A,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:U}=Ble;let{IS_ALLOWED_URI:z}=Ble,K=null;const Z=bi({},[...Ale,...T7,...I7,...M7,...Ple]);let Q=null;const G=bi({},[...Ole,...R7,...Fle,...qD]);let J=Object.seal(DCe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ne=null,ae=null,se=!0,X=!0,oe=!1,ve=!0,me=!1,ye=!0,Le=!1,ie=!1,Ee=!1,Ue=!1,re=!1,fe=!1,Ce=!0,Me=!1;const Te="user-content-";let Ae=!0,Ne=!1,Ge={},gt=null;const rt=bi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let it=null;const Xe=bi({},["audio","video","img","source","image","track"]);let st=null;const Ke=bi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kt="http://www.w3.org/1998/Math/MathML",Gt="http://www.w3.org/2000/svg",Dt="http://www.w3.org/1999/xhtml";let xe=Dt,Re=!1,Et=null;const Mt=bi({},[kt,Gt,Dt],D7);let hn=null;const en=["application/xhtml+xml","text/html"],fi="text/html";let Qt=null,He=null;const Bt=t.createElement("form"),fn=function(Ie){return Ie instanceof RegExp||Ie instanceof Function},bn=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(He&&He===Ie)){if((!Ie||typeof Ie!="object")&&(Ie={}),Ie=zm(Ie),hn=en.indexOf(Ie.PARSER_MEDIA_TYPE)===-1?fi:Ie.PARSER_MEDIA_TYPE,Qt=hn==="application/xhtml+xml"?D7:oT,K=du(Ie,"ALLOWED_TAGS")?bi({},Ie.ALLOWED_TAGS,Qt):Z,Q=du(Ie,"ALLOWED_ATTR")?bi({},Ie.ALLOWED_ATTR,Qt):G,Et=du(Ie,"ALLOWED_NAMESPACES")?bi({},Ie.ALLOWED_NAMESPACES,D7):Mt,st=du(Ie,"ADD_URI_SAFE_ATTR")?bi(zm(Ke),Ie.ADD_URI_SAFE_ATTR,Qt):Ke,it=du(Ie,"ADD_DATA_URI_TAGS")?bi(zm(Xe),Ie.ADD_DATA_URI_TAGS,Qt):Xe,gt=du(Ie,"FORBID_CONTENTS")?bi({},Ie.FORBID_CONTENTS,Qt):rt,ne=du(Ie,"FORBID_TAGS")?bi({},Ie.FORBID_TAGS,Qt):{},ae=du(Ie,"FORBID_ATTR")?bi({},Ie.FORBID_ATTR,Qt):{},Ge=du(Ie,"USE_PROFILES")?Ie.USE_PROFILES:!1,se=Ie.ALLOW_ARIA_ATTR!==!1,X=Ie.ALLOW_DATA_ATTR!==!1,oe=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,ve=Ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,me=Ie.SAFE_FOR_TEMPLATES||!1,ye=Ie.SAFE_FOR_XML!==!1,Le=Ie.WHOLE_DOCUMENT||!1,Ue=Ie.RETURN_DOM||!1,re=Ie.RETURN_DOM_FRAGMENT||!1,fe=Ie.RETURN_TRUSTED_TYPE||!1,Ee=Ie.FORCE_BODY||!1,Ce=Ie.SANITIZE_DOM!==!1,Me=Ie.SANITIZE_NAMED_PROPS||!1,Ae=Ie.KEEP_CONTENT!==!1,Ne=Ie.IN_PLACE||!1,z=Ie.ALLOWED_URI_REGEXP||TCe,xe=Ie.NAMESPACE||Dt,J=Ie.CUSTOM_ELEMENT_HANDLING||{},Ie.CUSTOM_ELEMENT_HANDLING&&fn(Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&fn(Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&typeof Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),me&&(X=!1),re&&(Ue=!0),Ge&&(K=bi({},Ple),Q=[],Ge.html===!0&&(bi(K,Ale),bi(Q,Ole)),Ge.svg===!0&&(bi(K,T7),bi(Q,R7),bi(Q,qD)),Ge.svgFilters===!0&&(bi(K,I7),bi(Q,R7),bi(Q,qD)),Ge.mathMl===!0&&(bi(K,M7),bi(Q,Fle),bi(Q,qD))),Ie.ADD_TAGS&&(K===Z&&(K=zm(K)),bi(K,Ie.ADD_TAGS,Qt)),Ie.ADD_ATTR&&(Q===G&&(Q=zm(Q)),bi(Q,Ie.ADD_ATTR,Qt)),Ie.ADD_URI_SAFE_ATTR&&bi(st,Ie.ADD_URI_SAFE_ATTR,Qt),Ie.FORBID_CONTENTS&&(gt===rt&&(gt=zm(gt)),bi(gt,Ie.FORBID_CONTENTS,Qt)),Ae&&(K["#text"]=!0),Le&&bi(K,["html","head","body"]),K.table&&(bi(K,["tbody"]),delete ne.tbody),Ie.TRUSTED_TYPES_POLICY){if(typeof Ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rw('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rw('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=Ie.TRUSTED_TYPES_POLICY,x=_.createHTML("")}else _===void 0&&(_=Uat(f,r)),_!==null&&typeof x=="string"&&(x=_.createHTML(""));Ha&&Ha(Ie),He=Ie}},ot=bi({},["mi","mo","mn","ms","mtext"]),le=bi({},["annotation-xml"]),ue=bi({},["title","style","font","a","script"]),pe=bi({},[...T7,...I7,...Aat]),we=bi({},[...M7,...Pat]),De=function(Ie){let ct=w(Ie);(!ct||!ct.tagName)&&(ct={namespaceURI:xe,tagName:"template"});const Pt=oT(Ie.tagName),gi=oT(ct.tagName);return Et[Ie.namespaceURI]?Ie.namespaceURI===Gt?ct.namespaceURI===Dt?Pt==="svg":ct.namespaceURI===kt?Pt==="svg"&&(gi==="annotation-xml"||ot[gi]):!!pe[Pt]:Ie.namespaceURI===kt?ct.namespaceURI===Dt?Pt==="math":ct.namespaceURI===Gt?Pt==="math"&&le[gi]:!!we[Pt]:Ie.namespaceURI===Dt?ct.namespaceURI===Gt&&!le[gi]||ct.namespaceURI===kt&&!ot[gi]?!1:!we[Pt]&&(ue[Pt]||!pe[Pt]):!!(hn==="application/xhtml+xml"&&Et[Ie.namespaceURI]):!1},Oe=function(Ie){Iw(e.removed,{element:Ie});try{w(Ie).removeChild(Ie)}catch{v(Ie)}},Qe=function(Ie,ct){try{Iw(e.removed,{attribute:ct.getAttributeNode(Ie),from:ct})}catch{Iw(e.removed,{attribute:null,from:ct})}if(ct.removeAttribute(Ie),Ie==="is"&&!Q[Ie])if(Ue||re)try{Oe(ct)}catch{}else try{ct.setAttribute(Ie,"")}catch{}},Ct=function(Ie){let ct=null,Pt=null;if(Ee)Ie="<remove></remove>"+Ie;else{const di=Nle(Ie,/^[\r\n\t ]+/);Pt=di&&di[0]}hn==="application/xhtml+xml"&&xe===Dt&&(Ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ie+"</body></html>");const gi=_?_.createHTML(Ie):Ie;if(xe===Dt)try{ct=new h().parseFromString(gi,hn)}catch{}if(!ct||!ct.documentElement){ct=k.createDocument(xe,"template",null);try{ct.documentElement.innerHTML=Re?x:gi}catch{}}const Br=ct.body||ct.documentElement;return Ie&&Pt&&Br.insertBefore(t.createTextNode(Pt),Br.childNodes[0]||null),xe===Dt?L.call(ct,Le?"html":"body")[0]:Le?ct.documentElement:Br},At=function(Ie){return D.call(Ie.ownerDocument||Ie,Ie,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},qt=function(Ie){return Ie instanceof d&&(typeof Ie.nodeName!="string"||typeof Ie.textContent!="string"||typeof Ie.removeChild!="function"||!(Ie.attributes instanceof u)||typeof Ie.removeAttribute!="function"||typeof Ie.setAttribute!="function"||typeof Ie.namespaceURI!="string"||typeof Ie.insertBefore!="function"||typeof Ie.hasChildNodes!="function")},Vt=function(Ie){return typeof a=="function"&&Ie instanceof a},zt=function(Ie,ct,Pt){R[Ie]&&UD(R[Ie],gi=>{gi.call(e,ct,Pt,He)})},Mn=function(Ie){let ct=null;if(zt("beforeSanitizeElements",Ie,null),qt(Ie))return Oe(Ie),!0;const Pt=Qt(Ie.nodeName);if(zt("uponSanitizeElement",Ie,{tagName:Pt,allowedTags:K}),Ie.hasChildNodes()&&!Vt(Ie.firstElementChild)&&wa(/<[/\w]/g,Ie.innerHTML)&&wa(/<[/\w]/g,Ie.textContent)||Ie.nodeType===Aw.progressingInstruction||ye&&Ie.nodeType===Aw.comment&&wa(/<[/\w]/g,Ie.data))return Oe(Ie),!0;if(!K[Pt]||ne[Pt]){if(!ne[Pt]&&et(Pt)&&(J.tagNameCheck instanceof RegExp&&wa(J.tagNameCheck,Pt)||J.tagNameCheck instanceof Function&&J.tagNameCheck(Pt)))return!1;if(Ae&&!gt[Pt]){const gi=w(Ie)||Ie.parentNode,Br=y(Ie)||Ie.childNodes;if(Br&&gi){const di=Br.length;for(let Ms=di-1;Ms>=0;--Ms){const oo=m(Br[Ms],!0);oo.__removalCount=(Ie.__removalCount||0)+1,gi.insertBefore(oo,C(Ie))}}}return Oe(Ie),!0}return Ie instanceof l&&!De(Ie)||(Pt==="noscript"||Pt==="noembed"||Pt==="noframes")&&wa(/<\/no(script|embed|frames)/i,Ie.innerHTML)?(Oe(Ie),!0):(me&&Ie.nodeType===Aw.text&&(ct=Ie.textContent,UD([N,O,F],gi=>{ct=Mw(ct,gi," ")}),Ie.textContent!==ct&&(Iw(e.removed,{element:Ie.cloneNode()}),Ie.textContent=ct)),zt("afterSanitizeElements",Ie,null),!1)},Ye=function(Ie,ct,Pt){if(Ce&&(ct==="id"||ct==="name")&&(Pt in t||Pt in Bt))return!1;if(!(X&&!ae[ct]&&wa(A,ct))){if(!(se&&wa(H,ct))){if(!Q[ct]||ae[ct]){if(!(et(Ie)&&(J.tagNameCheck instanceof RegExp&&wa(J.tagNameCheck,Ie)||J.tagNameCheck instanceof Function&&J.tagNameCheck(Ie))&&(J.attributeNameCheck instanceof RegExp&&wa(J.attributeNameCheck,ct)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(ct))||ct==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&wa(J.tagNameCheck,Pt)||J.tagNameCheck instanceof Function&&J.tagNameCheck(Pt))))return!1}else if(!st[ct]){if(!wa(z,Mw(Pt,$,""))){if(!((ct==="src"||ct==="xlink:href"||ct==="href")&&Ie!=="script"&&Iat(Pt,"data:")===0&&it[Ie])){if(!(oe&&!wa(W,Mw(Pt,$,"")))){if(Pt)return!1}}}}}}return!0},et=function(Ie){return Ie!=="annotation-xml"&&Nle(Ie,U)},Rt=function(Ie){zt("beforeSanitizeAttributes",Ie,null);const{attributes:ct}=Ie;if(!ct)return;const Pt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q};let gi=ct.length;for(;gi--;){const Br=ct[gi],{name:di,namespaceURI:Ms,value:oo}=Br,ao=Qt(di);let _n=di==="value"?oo:Mat(oo);if(Pt.attrName=ao,Pt.attrValue=_n,Pt.keepAttr=!0,Pt.forceKeepAttr=void 0,zt("uponSanitizeAttribute",Ie,Pt),_n=Pt.attrValue,Pt.forceKeepAttr||(Qe(di,Ie),!Pt.keepAttr))continue;if(!ve&&wa(/\/>/i,_n)){Qe(di,Ie);continue}me&&UD([N,O,F],bl=>{_n=Mw(_n,bl," ")});const $r=Qt(Ie.nodeName);if(Ye($r,ao,_n)){if(Me&&(ao==="id"||ao==="name")&&(Qe(di,Ie),_n=Te+_n),ye&&wa(/((--!?|])>)|<\/(style|title)/i,_n)){Qe(di,Ie);continue}if(_&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ms)switch(f.getAttributeType($r,ao)){case"TrustedHTML":{_n=_.createHTML(_n);break}case"TrustedScriptURL":{_n=_.createScriptURL(_n);break}}try{Ms?Ie.setAttributeNS(Ms,di,_n):Ie.setAttribute(di,_n),qt(Ie)?Oe(Ie):Rle(e.removed)}catch{}}}zt("afterSanitizeAttributes",Ie,null)},pn=function yt(Ie){let ct=null;const Pt=At(Ie);for(zt("beforeSanitizeShadowDOM",Ie,null);ct=Pt.nextNode();)zt("uponSanitizeShadowNode",ct,null),!Mn(ct)&&(ct.content instanceof s&&yt(ct.content),Rt(ct));zt("afterSanitizeShadowDOM",Ie,null)};return e.sanitize=function(yt){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=null,Pt=null,gi=null,Br=null;if(Re=!yt,Re&&(yt="<!-->"),typeof yt!="string"&&!Vt(yt))if(typeof yt.toString=="function"){if(yt=yt.toString(),typeof yt!="string")throw Rw("dirty is not a string, aborting")}else throw Rw("toString is not a function");if(!e.isSupported)return yt;if(ie||bn(Ie),e.removed=[],typeof yt=="string"&&(Ne=!1),Ne){if(yt.nodeName){const oo=Qt(yt.nodeName);if(!K[oo]||ne[oo])throw Rw("root node is forbidden and cannot be sanitized in-place")}}else if(yt instanceof a)ct=Ct("<!---->"),Pt=ct.ownerDocument.importNode(yt,!0),Pt.nodeType===Aw.element&&Pt.nodeName==="BODY"||Pt.nodeName==="HTML"?ct=Pt:ct.appendChild(Pt);else{if(!Ue&&!me&&!Le&&yt.indexOf("<")===-1)return _&&fe?_.createHTML(yt):yt;if(ct=Ct(yt),!ct)return Ue?null:fe?x:""}ct&&Ee&&Oe(ct.firstChild);const di=At(Ne?yt:ct);for(;gi=di.nextNode();)Mn(gi)||(gi.content instanceof s&&pn(gi.content),Rt(gi));if(Ne)return yt;if(Ue){if(re)for(Br=T.call(ct.ownerDocument);ct.firstChild;)Br.appendChild(ct.firstChild);else Br=ct;return(Q.shadowroot||Q.shadowrootmode)&&(Br=I.call(i,Br,!0)),Br}let Ms=Le?ct.outerHTML:ct.innerHTML;return Le&&K["!doctype"]&&ct.ownerDocument&&ct.ownerDocument.doctype&&ct.ownerDocument.doctype.name&&wa(ICe,ct.ownerDocument.doctype.name)&&(Ms="<!DOCTYPE "+ct.ownerDocument.doctype.name+`>
`+Ms),me&&UD([N,O,F],oo=>{Ms=Mw(Ms,oo," ")}),_&&fe?_.createHTML(Ms):Ms},e.setConfig=function(){let yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bn(yt),ie=!0},e.clearConfig=function(){He=null,ie=!1},e.isValidAttribute=function(yt,Ie,ct){He||bn({});const Pt=Qt(yt),gi=Qt(Ie);return Ye(Pt,gi,ct)},e.addHook=function(yt,Ie){typeof Ie=="function"&&(R[yt]=R[yt]||[],Iw(R[yt],Ie))},e.removeHook=function(yt){if(R[yt])return Rle(R[yt])},e.removeHooks=function(yt){R[yt]&&(R[yt]=[])},e.removeAllHooks=function(){R={}},e}var th=MCe();th.version;th.isSupported;const RCe=th.sanitize;th.setConfig;th.clearConfig;th.isValidAttribute;const NCe=th.addHook,ACe=th.removeHook;th.removeHooks;th.removeAllHooks;var Cn;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",n.vscodeNotebookMetadata="vscode-notebook-metadata",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting",n.outputChannel="output"})(Cn||(Cn={}));function mq(n,e){return Sn.isUri(n)?_y(n.scheme,e):lq(n,e+":")}function Hle(n,...e){return e.some(t=>mq(n,t))}const qat="tkn";class Gat{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(e){this._preferredWebSchema=e}get _remoteResourcesPath(){return Lr.join(this._serverRootPath,Cn.vscodeRemoteResource)}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return _i(a),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const r=this._ports[t],s=this._connectionTokens[t];let o=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(o+=`&${qat}=${encodeURIComponent(s)}`),Sn.from({scheme:Y0?this._preferredWebSchema:Cn.vscodeRemoteResource,authority:`${i}:${r}`,path:this._remoteResourcesPath,query:o})}}const PCe=new Gat,Kat="vscode-app",dx=class dx{asBrowserUri(e){const t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===Cn.vscodeRemote?PCe.rewrite(e):e.scheme===Cn.file&&(RS||sst===`${Cn.vscodeFileResource}://${dx.FALLBACK_AUTHORITY}`)?e.with({scheme:Cn.vscodeFileResource,authority:e.authority||dx.FALLBACK_AUTHORITY,query:null,fragment:null}):e}toUri(e,t){if(Sn.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){const i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return Sn.joinPath(Sn.parse(i,!0),e);const r=Tot(i,e);return Sn.file(r)}return Sn.parse(t.toUrl(e))}};dx.FALLBACK_AUTHORITY=Kat;let kV=dx;const TA=new kV;var LV;(function(n){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(s){let o;typeof s=="string"?o=new URL(s).searchParams:s instanceof URL?o=s.searchParams:Sn.isUri(s)&&(o=new URL(s.toString(!0)).searchParams);const a=o==null?void 0:o.get(t);if(a)return e.get(a)}n.getHeadersFromQuery=i;function r(s,o,a){if(!globalThis.crossOriginIsolated)return;const l=o&&a?"3":a?"2":"1";s instanceof URLSearchParams?s.set(t,l):s[t]=l}n.addSearchParam=r})(LV||(LV={}));function OCe(n){return IA(n,0)}function IA(n,e){switch(typeof n){case"object":return n===null?cf(349,e):Array.isArray(n)?Yat(n,e):Xat(n,e);case"string":return bq(n,e);case"boolean":return Qat(n,e);case"number":return cf(n,e);case"undefined":return cf(937,e);default:return cf(617,e)}}function cf(n,e){return(e<<5)-e+n|0}function Qat(n,e){return cf(n?433:863,e)}function bq(n,e){e=cf(149417,e);for(let t=0,i=n.length;t<i;t++)e=cf(n.charCodeAt(t),e);return e}function Yat(n,e){return e=cf(104579,e),n.reduce((t,i)=>IA(i,t),e)}function Xat(n,e){return e=cf(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=bq(i,t),IA(n[i],t)),e)}function N7(n,e,t=32){const i=t-e,r=~((1<<i)-1);return(n<<e|(r&n)>>>i)>>>0}function Vle(n,e=0,t=n.byteLength,i=0){for(let r=0;r<t;r++)n[e+r]=i}function Zat(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function Pw(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):Zat((n>>>0).toString(16),e/4)}const hR=class hR{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let r=this._buffLen,s=this._leftoverHighSurrogate,o,a;for(s!==0?(o=s,a=-1,s=0):(o=e.charCodeAt(0),a=0);;){let l=o;if(hs(o))if(a+1<t){const c=e.charCodeAt(a+1);QC(c)?(a++,l=cq(o,c)):l=65533}else{s=o;break}else QC(o)&&(l=65533);if(r=this._push(i,r,l),a++,a<t)o=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Pw(this._h0)+Pw(this._h1)+Pw(this._h2)+Pw(this._h3)+Pw(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Vle(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Vle(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=hR._bigBlock32,t=this._buffDV;for(let d=0;d<64;d+=4)e.setUint32(d,t.getUint32(d,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,N7(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i=this._h0,r=this._h1,s=this._h2,o=this._h3,a=this._h4,l,c,u;for(let d=0;d<80;d++)d<20?(l=r&s|~r&o,c=1518500249):d<40?(l=r^s^o,c=1859775393):d<60?(l=r&s|r&o|s&o,c=2400959708):(l=r^s^o,c=3395469782),u=N7(i,5)+l+a+c+e.getUint32(d*4,!1)&4294967295,a=o,o=s,s=N7(r,30),r=i,i=u;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+a&4294967295}};hR._bigBlock32=new DataView(new ArrayBuffer(320));let EV=hR;const{registerWindow:rDt,getWindow:Ft,getDocument:sDt,getWindows:FCe,getWindowsCount:Jat,getWindowId:RI,getWindowById:zle,hasWindow:oDt,onDidRegisterWindow:MA,onWillUnregisterWindow:elt,onDidUnregisterWindow:tlt}=function(){const n=new Map;Kot(yi,1);const e={window:yi,disposables:new It};n.set(yi.vscodeWindowId,e);const t=new ke,i=new ke,r=new ke;function s(o,a){return(typeof o=="number"?n.get(o):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:i.event,registerWindow(o){if(n.has(o.vscodeWindowId))return je.None;const a=new It,l={window:o,disposables:a.add(new It)};return n.set(o.vscodeWindowId,l),a.add(cn(()=>{n.delete(o.vscodeWindowId),i.fire(o)})),a.add(ze(o,pt.BEFORE_UNLOAD,()=>{r.fire(o)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return n.has(o)},getWindowById:s,getWindow(o){var c;const a=o;if((c=a==null?void 0:a.ownerDocument)!=null&&c.defaultView)return a.ownerDocument.defaultView.window;const l=o;return l!=null&&l.view?l.view.window:yi},getDocument(o){return Ft(o).document}}}();function Iu(n){for(;n.firstChild;)n.firstChild.remove()}class nlt{constructor(e,t,i,r){this._node=e,this._type=t,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function ze(n,e,t,i){return new nlt(n,e,t,i)}function ilt(n,e){return function(t){return e(new Cu(n,t))}}function rlt(n){return function(e){return n(new Bi(e))}}const ms=function(e,t,i,r){let s=i;return t==="click"||t==="mousedown"||t==="contextmenu"?s=ilt(Ft(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(s=rlt(i)),ze(e,t,s,r)};function GD(n,e,t){return OS(n,e,t)}let BCe,Va;class vq extends pq{constructor(e){super(),this.defaultTarget=e&&Ft(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}}class A7{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){_i(e)}}static sort(e,t){return t.priority-e.priority}}(function(){const n=new Map,e=new Map,t=new Map,i=new Map,r=s=>{t.set(s,!1);const o=n.get(s)??[];for(e.set(s,o),n.set(s,[]),i.set(s,!0);o.length>0;)o.sort(A7.sort),o.shift().execute();i.set(s,!1)};Va=(s,o,a=0)=>{const l=RI(s),c=new A7(o,a);let u=n.get(l);return u||(u=[],n.set(l,u)),u.push(c),t.get(l)||(t.set(l,!0),s.requestAnimationFrame(()=>r(l))),c},BCe=(s,o,a)=>{const l=RI(s);if(i.get(l)){const c=new A7(o,a);let u=e.get(l);return u||(u=[],e.set(l,u)),u.push(c),c}else return Va(s,o,a)}})();function yq(n){return Ft(n).getComputedStyle(n,null)}function DV(n,e){const t=Ft(n),i=t.document;if(n!==i.body)return new tf(n.clientWidth,n.clientHeight);if(uv&&(t!=null&&t.visualViewport))return new tf(t.visualViewport.width,t.visualViewport.height);if(t!=null&&t.innerWidth&&t.innerHeight)return new tf(t.innerWidth,t.innerHeight);if(i.body&&i.body.clientWidth&&i.body.clientHeight)return new tf(i.body.clientWidth,i.body.clientHeight);if(i.documentElement&&i.documentElement.clientWidth&&i.documentElement.clientHeight)return new tf(i.documentElement.clientWidth,i.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class mr{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const r=yq(e),s=r?r.getPropertyValue(t):"0";return mr.convertToPixels(e,s)}static getBorderLeftWidth(e){return mr.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return mr.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return mr.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return mr.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return mr.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return mr.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return mr.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return mr.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return mr.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return mr.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return mr.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return mr.getDimension(e,"margin-bottom","marginBottom")}}const hb=class hb{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new hb(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof hb?e:new hb(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};hb.None=new hb(0,0);let tf=hb;function slt(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;const r=VCe(n)?null:yq(n);r&&(i-=r.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=mr.getBorderLeftWidth(n),t+=mr.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function Fl(n){const e=n.getBoundingClientRect(),t=Ft(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function HCe(n){let e=n,t=1;do{const i=yq(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function Cq(n){const e=mr.getMarginLeft(n)+mr.getMarginRight(n);return n.offsetWidth+e}function P7(n){const e=mr.getBorderLeftWidth(n)+mr.getBorderRightWidth(n),t=mr.getPaddingLeft(n)+mr.getPaddingRight(n);return n.offsetWidth-e-t}function olt(n){const e=mr.getBorderTopWidth(n)+mr.getBorderBottomWidth(n),t=mr.getPaddingTop(n)+mr.getPaddingBottom(n);return n.offsetHeight-e-t}function TV(n){const e=mr.getMarginTop(n)+mr.getMarginBottom(n);return n.offsetHeight+e}function gs(n,e){return!!(e!=null&&e.contains(n))}function alt(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function O7(n,e,t){return!!alt(n,e,t)}function VCe(n){return n&&!!n.host&&!!n.mode}function NI(n){return!!YC(n)}function YC(n){var e;for(;n.parentNode;){if(n===((e=n.ownerDocument)==null?void 0:e.body))return null;n=n.parentNode}return VCe(n)?n:null}function Eo(){let n=wq().activeElement;for(;n!=null&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function _q(n){return Eo()===n}function zCe(n){return gs(Eo(),n)}function wq(){return Jat()<=1?yi.document:Array.from(FCe()).map(({window:e})=>e.document).find(e=>e.hasFocus())??yi.document}function aS(){var e;return((e=wq().defaultView)==null?void 0:e.window)??yi}const WCe=new Map;function ql(n=yi.document.head,e,t){const i=document.createElement("style");if(i.type="text/css",i.media="screen",e==null||e(i),n.appendChild(i),t&&t.add(cn(()=>i.remove())),n===yi.document.head){const r=new Set;WCe.set(i,r);for(const{window:s,disposables:o}of FCe()){if(s===yi)continue;const a=o.add(llt(i,r,s));t==null||t.add(a)}}return i}function llt(n,e,t){var s,o;const i=new It,r=n.cloneNode(!0);t.document.head.appendChild(r),i.add(cn(()=>r.remove()));for(const a of dlt(n))(o=r.sheet)==null||o.insertRule(a.cssText,(s=r.sheet)==null?void 0:s.cssRules.length);return i.add(clt.observe(n,i,{childList:!0})(()=>{r.textContent=n.textContent})),e.add(r),i.add(cn(()=>e.delete(r))),i}const clt=new class{constructor(){this.mutationObservers=new Map}observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));const r=OCe(t);let s=i.get(r);if(s)s.users+=1;else{const o=new ke,a=new MutationObserver(c=>o.fire(c));a.observe(n,t);const l=s={users:1,observer:a,onDidMutate:o.event};e.add(cn(()=>{l.users-=1,l.users===0&&(o.dispose(),a.disconnect(),i==null||i.delete(r),(i==null?void 0:i.size)===0&&this.mutationObservers.delete(n))})),i.set(r,s)}return s.onDidMutate}};let F7=null;function ult(){return F7||(F7=ql()),F7}function dlt(n){var e,t;return(e=n==null?void 0:n.sheet)!=null&&e.rules?n.sheet.rules:(t=n==null?void 0:n.sheet)!=null&&t.cssRules?n.sheet.cssRules:[]}function IV(n,e,t=ult()){var i;if(!(!t||!e)){(i=t.sheet)==null||i.insertRule(`${n} {${e}}`,0);for(const r of WCe.get(t)??[])IV(n,e,r)}}function Ls(n){return n instanceof HTMLElement||n instanceof Ft(n).HTMLElement}function Wle(n){return n instanceof HTMLAnchorElement||n instanceof Ft(n).HTMLAnchorElement}function hlt(n){return n instanceof SVGElement||n instanceof Ft(n).SVGElement}function Sq(n){return n instanceof MouseEvent||n instanceof Ft(n).MouseEvent}function Xh(n){return n instanceof KeyboardEvent||n instanceof Ft(n).KeyboardEvent}const pt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Ab?"webkitAnimationStart":"animationstart",ANIMATION_END:Ab?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Ab?"webkitAnimationIteration":"animationiteration"};function flt(n){const e=n;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const In={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};function glt(n){const e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function plt(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class AI extends je{static hasFocusWithin(e){if(Ls(e)){const t=YC(e),i=t?t.activeElement:e.ownerDocument.activeElement;return gs(i,e)}else{const t=e;return gs(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new ke),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ke),this.onDidBlur=this._onDidBlur.event;let t=AI.hasFocusWithin(e),i=!1;const r=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(i=!0,(Ls(e)?Ft(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{AI.hasFocusWithin(e)!==t&&(t?s():r())},this._register(ze(e,pt.FOCUS,r,!0)),this._register(ze(e,pt.BLUR,s,!0)),Ls(e)&&(this._register(ze(e,pt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(ze(e,pt.FOCUS_OUT,()=>this._refreshStateHandler())))}}function ek(n){return new AI(n)}function mlt(n,e){return n.after(e),e}function Tt(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function xq(n,e){return n.insertBefore(e,n.firstChild),e}function Wo(n,...e){n.innerText="",Tt(n,...e)}const blt=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var tk;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(tk||(tk={}));function $Ce(n,e,t,...i){const r=blt.exec(e);if(!r)throw new Error("Bad use of emmet");const s=r[1]||"div";let o;return n!==tk.HTML?o=document.createElementNS(n,s):o=document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?o[a]=l:a==="selected"?l&&o.setAttribute(a,"true"):o.setAttribute(a,l))}),o.append(...i),o}function jt(n,e,...t){return $Ce(tk.HTML,n,e,...t)}jt.SVG=function(n,e,...t){return $Ce(tk.SVG,n,e,...t)};function jCe(...n){for(const e of n)e.style.display="",e.removeAttribute("aria-hidden")}function $le(...n){for(const e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function jle(n,e){const t=n.devicePixelRatio*e;return Math.max(1,Math.floor(t))/n.devicePixelRatio}function UCe(n){yi.open(n,"_blank","noopener")}function vlt(n,e){const t=()=>{e(),i=Va(n,t)};let i=Va(n,t);return cn(()=>i.dispose())}PCe.setPreferredWebSchema(/^https:/.test(yi.location.href)?"https":"http");function Of(n){return n?`url('${TA.uriToBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function B7(n){return`'${n.replace(/'/g,"%27")}'`}function _f(n,e){if(n!==void 0){const t=n.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=_f(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function ylt(n,e=!1){const t=document.createElement("a");return NCe("afterSanitizeAttributes",i=>{for(const r of["href","src"])if(i.hasAttribute(r)){const s=i.getAttribute(r);if(r==="href"&&s.startsWith("#"))continue;if(t.href=s,!n.includes(t.protocol.replace(/:$/,""))){if(e&&r==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(r)}}}),cn(()=>{ACe("afterSanitizeAttributes")})}const Clt=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class rp extends ke{constructor(){super(),this._subscriptions=new It,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(ut.runAndSubscribe(MA,({window:e,disposables:t})=>this.registerListeners(e,t),{window:yi,disposables:this._subscriptions}))}registerListeners(e,t){t.add(ze(e,"keydown",i=>{if(i.defaultPrevented)return;const r=new Bi(i);if(!(r.keyCode===6&&i.repeat)){if(i.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(i.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(i.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(i.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(r.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=i,this.fire(this._keyStatus))}},!0)),t.add(ze(e,"keyup",i=>{i.defaultPrevented||(!i.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!i.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!i.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!i.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=i,this.fire(this._keyStatus)))},!0)),t.add(ze(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(ze(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(ze(e.document.body,"mousemove",i=>{i.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),t.add(ze(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return rp.instance||(rp.instance=new rp),rp.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class _lt extends je{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(ze(this.element,pt.DRAG_START,e=>{var t,i;(i=(t=this.callbacks).onDragStart)==null||i.call(t,e)})),this.callbacks.onDrag&&this._register(ze(this.element,pt.DRAG,e=>{var t,i;(i=(t=this.callbacks).onDrag)==null||i.call(t,e)})),this._register(ze(this.element,pt.DRAG_ENTER,e=>{var t,i;this.counter++,this.dragStartTime=e.timeStamp,(i=(t=this.callbacks).onDragEnter)==null||i.call(t,e)})),this._register(ze(this.element,pt.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)==null||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(ze(this.element,pt.DRAG_LEAVE,e=>{var t,i;this.counter--,this.counter===0&&(this.dragStartTime=0,(i=(t=this.callbacks).onDragLeave)==null||i.call(t,e))})),this._register(ze(this.element,pt.DRAG_END,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDragEnd)==null||i.call(t,e)})),this._register(ze(this.element,pt.DROP,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDrop)==null||i.call(t,e)}))}}const wlt=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function On(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const r=wlt.exec(n);if(!r||!r.groups)throw new Error("Bad use of h");const s=r.groups.tag||"div",o=document.createElement(s);r.groups.id&&(o.id=r.groups.id);const a=[];if(r.groups.class)for(const c of r.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(const c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(o.className=a.join(" "));const l={};if(r.groups.name&&(l[r.groups.name]=o),i)for(const c of i)Ls(c)?o.appendChild(c):typeof c=="string"?o.append(c):"root"in c&&(Object.assign(l,c),o.appendChild(c.root));for(const[c,u]of Object.entries(t))if(c!=="className")if(c==="style")for(const[d,h]of Object.entries(u))o.style.setProperty(Ule(d),typeof h=="number"?h+"px":""+h);else c==="tabIndex"?o.tabIndex=u:o.setAttribute(Ule(c),u.toString());return l.root=o,l}function Ule(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class Slt extends je{constructor(e){super(),this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){var i;(i=this._mediaQueryList)==null||i.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class xlt extends je{get value(){return this._value}constructor(e){super(),this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(e);const t=this._register(new Slt(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const t=document.createElement("canvas").getContext("2d"),i=e.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/r}}class klt{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(e){const t=RI(e);let i=this.mapWindowIdToPixelRatioMonitor.get(t);return i||(i=new xlt(e),this.mapWindowIdToPixelRatioMonitor.set(t,i),ut.once(tlt)(({vscodeWindowId:r})=>{r===t&&(i==null||i.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))})),i}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}const PI=new klt;class qCe{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=ou(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=ou(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=ou(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=ou(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=ou(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=ou(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=ou(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=ou(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=ou(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=ou(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=ou(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function ou(n){return typeof n=="number"?`${n}px`:n}function Wn(n){return new qCe(n)}function eo(n,e){n instanceof qCe?(n.setFontFamily(e.getMassagedFontFamily()),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setFontVariationSettings(e.fontVariationSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily(),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.fontVariationSettings=e.fontVariationSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class Llt{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class kq{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(e){var t;this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),(t=this._container)==null||t.remove(),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");eo(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");eo(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const r=document.createElement("div");eo(r,this._bareFontInfo),r.style.fontStyle="italic",e.appendChild(r);const s=[];for(const o of this._requests){let a;o.type===0&&(a=t),o.type===2&&(a=i),o.type===1&&(a=r),a.appendChild(document.createElement("br"));const l=document.createElement("span");kq._render(l,o),a.appendChild(l),s.push(l)}this._container=e,this._testElements=s}static _render(e,t){if(t.chr===" "){let i="";for(let r=0;r<8;r++)i+=i;e.innerText=i}else{let i=t.chr;for(let r=0;r<8;r++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],r=this._testElements[e];i.fulfill(r.offsetWidth/256)}}}function Elt(n,e,t){new kq(e,t).read(n)}const Yg=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ke,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Dlt=An?1.5:1.35,H7=8;class Pb{static createFromValidatedSettings(e,t,i){const r=e.get(49),s=e.get(53),o=e.get(52),a=e.get(51),l=e.get(54),c=e.get(67),u=e.get(64);return Pb._create(r,s,o,a,l,c,u,t,i)}static _create(e,t,i,r,s,o,a,l,c){o===0?o=Dlt*i:o<H7&&(o=o*i),o=Math.round(o),o<H7&&(o=H7);const u=1+(c?0:Yg.getZoomLevel()*.1);return i*=u,o*=u,s===Kx.TRANSLATE&&(t==="normal"||t==="bold"?s=Kx.OFF:(s=`'wght' ${parseInt(t,10)}`,t="normal")),new Pb({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:r,fontVariationSettings:s,lineHeight:o,letterSpacing:a})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=ol.fontFamily,t=Pb._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const Tlt=2;class MV extends Pb{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=Tlt,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class Ilt extends je{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){const t=RI(e);let i=this._cache.get(t);return i||(i=new Mlt,this._cache.set(t,i)),i}_writeToCache(e,t,i){this._ensureCache(e).put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){const t=this._ensureCache(e),i=t.getValues();let r=!1;for(const s of i)s.isTrusted||(r=!0,t.remove(s));r&&this._onDidChange.fire()}readFontInfo(e,t){const i=this._ensureCache(e);if(!i.has(t)){let r=this._actualReadFontInfo(e,t);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new MV({pixelRatio:PI.getInstance(e).value,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,fontVariationSettings:r.fontVariationSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),middotWidth:Math.max(r.middotWidth,5),wsmiddotWidth:Math.max(r.wsmiddotWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(e,t,r)}return i.get(t)}_createRequest(e,t,i,r){const s=new Llt(e,t);return i.push(s),r==null||r.push(s),s}_actualReadFontInfo(e,t){const i=[],r=[],s=this._createRequest("n",0,i,r),o=this._createRequest("",0,i,null),a=this._createRequest(" ",0,i,r),l=this._createRequest("0",0,i,r),c=this._createRequest("1",0,i,r),u=this._createRequest("2",0,i,r),d=this._createRequest("3",0,i,r),h=this._createRequest("4",0,i,r),f=this._createRequest("5",0,i,r),p=this._createRequest("6",0,i,r),m=this._createRequest("7",0,i,r),v=this._createRequest("8",0,i,r),C=this._createRequest("9",0,i,r),y=this._createRequest("",0,i,r),w=this._createRequest("",0,i,null),_=this._createRequest("",0,i,r),x=this._createRequest("",0,i,null),k="|/-_ilm%";for(let R=0,N=k.length;R<N;R++)this._createRequest(k.charAt(R),0,i,r),this._createRequest(k.charAt(R),1,i,r),this._createRequest(k.charAt(R),2,i,r);Elt(e,t,i);const D=Math.max(l.width,c.width,u.width,d.width,h.width,f.width,p.width,m.width,v.width,C.width);let T=t.fontFeatureSettings===dv.OFF;const L=r[0].width;for(let R=1,N=r.length;T&&R<N;R++){const O=L-r[R].width;if(O<-.001||O>.001){T=!1;break}}let I=!0;return T&&w.width!==L&&(I=!1),w.width>y.width&&(I=!1),new MV({pixelRatio:PI.getInstance(e).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:T,typicalHalfwidthCharacterWidth:s.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:I,spaceWidth:a.width,middotWidth:_.width,wsmiddotWidth:x.width,maxDigitWidth:D},!0)}}class Mlt{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const RV=new Ilt;var _u;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(_u||(_u={}));const ui=Nn("instantiationService");function Rlt(n,e,t){e[_u.DI_TARGET]===e?e[_u.DI_DEPENDENCIES].push({id:n,index:t}):(e[_u.DI_DEPENDENCIES]=[{id:n,index:t}],e[_u.DI_TARGET]=e)}function Nn(n){if(_u.serviceIds.has(n))return _u.serviceIds.get(n);const e=function(t,i,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Rlt(e,t,r)};return e.toString=()=>n,_u.serviceIds.set(n,e),e}const ts=Nn("codeEditorService"),Qo=Nn("modelService"),RA=Nn("textModelService");class wf extends je{constructor(e,t="",i="",r=!0,s){super(),this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=r,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class gv extends je{constructor(){super(...arguments),this._onWillRun=this._register(new ke),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new ke),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(r){i=r}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}const hx=class hx{constructor(){this.id=hx.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new hx,...i]:t=i);return t}async run(){}};hx.ID="vs.actions.separator";let Do=hx;class NA{get actions(){return this._actions}constructor(e,t,i,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=r,this._actions=i}async run(){}}const fR=class fR extends wf{constructor(){super(fR.ID,P("submenu.empty","(empty)"),void 0,!1)}};fR.ID="vs.actions.empty";let NV=fR;function cC(n){return{id:n.id,label:n.label,tooltip:n.tooltip??n.label,class:n.class,enabled:n.enabled??!0,checked:n.checked,run:async(...e)=>n.run(...e)}}var AV;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(AV||(AV={}));var Hn;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(h){const f=e.exec(h.id);if(!f)return t(Lt.error);const[,p,m]=f,v=["codicon","codicon-"+p];return m&&v.push("codicon-modifier-"+m.substring(1)),v}n.asClassNameArray=t;function i(h){return t(h).join(" ")}n.asClassName=i;function r(h){return"."+t(h).join(".")}n.asCSSSelector=r;function s(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||AV.isThemeColor(h.color))}n.isThemeIcon=s;const o=new RegExp(`^\\$\\((${n.iconNameExpression}(?:${n.iconModifierExpression})?)\\)$`);function a(h){const f=o.exec(h);if(!f)return;const[,p]=f;return{id:p}}n.fromString=a;function l(h){return{id:h}}n.fromId=l;function c(h,f){let p=h.id;const m=p.lastIndexOf("~");return m!==-1&&(p=p.substring(0,m)),f&&(p=`${p}~${f}`),{id:p}}n.modify=c;function u(h){const f=h.id.lastIndexOf("~");if(f!==-1)return h.id.substring(f+1)}n.getModifier=u;function d(h,f){var p,m;return h.id===f.id&&((p=h.color)==null?void 0:p.id)===((m=f.color)==null?void 0:m.id)}n.isEqual=d})(Hn||(Hn={}));const ml=Nn("commandService"),ya=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ke,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){const o=[];for(const l of n.metadata.args)o.push(l.constraint);const a=n.handler;n.handler=function(l,...c){return Krt(c,o),a(l,...c)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new Aa,this._commands.set(t,i));const r=i.unshift(n),s=cn(()=>{r();const o=this._commands.get(t);o!=null&&o.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(n,e){return ya.registerCommand(n,(t,...i)=>t.get(ml).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return Un.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};ya.registerCommand("noop",()=>{});function V7(...n){switch(n.length){case 1:return P("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return P("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return P("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}const Nlt=P("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),Alt=P("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),Wy=class Wy{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw tq(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(V7("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(V7("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(V7("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),r={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(r)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=Wy._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Nlt);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(Alt);return}const s=this._input.charCodeAt(e);if(t)t=!1;else if(s===47&&!i){e++;break}else s===91?i=!0:s===92?t=!0:s===93&&(i=!1);e++}for(;e<this._input.length&&Wy._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const r=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:r,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};Wy._regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0))),Wy._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let Xm=Wy;const to=new Map;to.set("false",!1);to.set("true",!0);to.set("isMac",An);to.set("isLinux",ga);to.set("isWindows",Ba);to.set("isWeb",Y0);to.set("isMacNative",An&&!Y0);to.set("isEdge",ust);to.set("isFirefox",lst);to.set("isChrome",qye);to.set("isSafari",cst);const Plt=Object.prototype.hasOwnProperty,Olt={regexParsingWithErrorRecovery:!0},Flt=P("contextkey.parser.error.emptyString","Empty context key expression"),Blt=P("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Hlt=P("contextkey.parser.error.noInAfterNot","'in' after 'not'."),qle=P("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Vlt=P("contextkey.parser.error.unexpectedToken","Unexpected token"),zlt=P("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),Wlt=P("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),$lt=P("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");var wd;let jlt=(wd=class{constructor(e=Olt){this._config=e,this._scanner=new Xm,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:Flt,offset:0,lexeme:"",additionalInfo:Blt});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),r=i.type===17?zlt:void 0;throw this._parsingErrors.push({message:Vlt,offset:i.offset,lexeme:Xm.getLexeme(i),additionalInfo:r}),wd._parseError}return t}catch(t){if(t!==wd._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:Kn.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:Kn.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),jo.INSTANCE;case 12:return this._advance(),pa.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,qle),t==null?void 0:t.negate()}case 17:return this._advance(),Uv.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),Kn.true();case 12:return this._advance(),Kn.false();case 0:{this._advance();const t=this._expr();return this._consume(1,qle),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),r.type!==10)throw this._errExpectedButGot("REGEX",r);const s=r.lexeme,o=s.lastIndexOf("/"),a=o===s.length-1?void 0:this._removeFlagsGY(s.substring(o+1));let l;try{l=new RegExp(s.substring(1,o),a)}catch{throw this._errExpectedButGot("REGEX",r)}return nk.create(t,l)}switch(r.type){case 10:case 19:{const s=[r.lexeme];this._advance();let o=this._peek(),a=0;for(let h=0;h<r.lexeme.length;h++)r.lexeme.charCodeAt(h)===40?a++:r.lexeme.charCodeAt(h)===41&&a--;for(;!this._isAtEnd()&&o.type!==15&&o.type!==16;){switch(o.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let h=0;h<o.lexeme.length;h++)o.lexeme.charCodeAt(h)===40?a++:r.lexeme.charCodeAt(h)===41&&a--}if(a<0)break;s.push(Xm.getLexeme(o)),this._advance(),o=this._peek()}const l=s.join(""),c=l.lastIndexOf("/"),u=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1));let d;try{d=new RegExp(l.substring(1,c),u)}catch{throw this._errExpectedButGot("REGEX",r)}return Kn.regex(t,d)}case 18:{const s=r.lexeme;this._advance();let o=null;if(!Yot(s)){const a=s.indexOf("/"),l=s.lastIndexOf("/");if(a!==l&&a>=0){const c=s.slice(a+1,l),u=s[l+1]==="i"?"i":"";try{o=new RegExp(c,u)}catch{throw this._errExpectedButGot("REGEX",r)}}}if(o===null)throw this._errExpectedButGot("REGEX",r);return nk.create(t,o)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Hlt);const r=this._value();return Kn.notIn(t,r)}switch(this._peek().type){case 3:{this._advance();const r=this._value();if(this._previous().type===18)return Kn.equals(t,r);switch(r){case"true":return Kn.has(t);case"false":return Kn.not(t);default:return Kn.equals(t,r)}}case 4:{this._advance();const r=this._value();if(this._previous().type===18)return Kn.notEquals(t,r);switch(r){case"true":return Kn.not(t);case"false":return Kn.has(t);default:return Kn.notEquals(t,r)}}case 5:return this._advance(),VA.create(t,this._value());case 6:return this._advance(),zA.create(t,this._value());case 7:return this._advance(),BA.create(t,this._value());case 8:return this._advance(),HA.create(t,this._value());case 13:return this._advance(),Kn.in(t,this._value());default:return Kn.has(t)}}case 20:throw this._parsingErrors.push({message:Wlt,offset:e.offset,lexeme:"",additionalInfo:$lt}),wd._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const r=P("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,Xm.getLexeme(t)),s=t.offset,o=Xm.getLexeme(t);return this._parsingErrors.push({message:r,offset:s,lexeme:o,additionalInfo:i}),wd._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},wd._parseError=new Error,wd);const LK=class LK{static false(){return jo.INSTANCE}static true(){return pa.INSTANCE}static has(e){return jv.create(e)}static equals(e,t){return kL.create(e,t)}static notEquals(e,t){return OA.create(e,t)}static regex(e,t){return nk.create(e,t)}static in(e,t){return AA.create(e,t)}static notIn(e,t){return PA.create(e,t)}static not(e){return Uv.create(e)}static and(...e){return Sb.create(e,null,!0)}static or(...e){return nf.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}};LK._parser=new jlt({regexParsingWithErrorRecovery:!1});let Kn=LK;function Ult(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function FS(n,e){return n.cmp(e)}const gR=class gR{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return pa.INSTANCE}};gR.INSTANCE=new gR;let jo=gR;const pR=class pR{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return jo.INSTANCE}};pR.INSTANCE=new pR;let pa=pR;class jv{static create(e,t=null){const i=to.get(e);return typeof i=="boolean"?i?pa.INSTANCE:jo.INSTANCE:new jv(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:KCe(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=to.get(this.key);return typeof e=="boolean"?e?pa.INSTANCE:jo.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=Uv.create(this.key,this)),this.negated}}class kL{static create(e,t,i=null){if(typeof t=="boolean")return t?jv.create(e,i):Uv.create(e,i);const r=to.get(e);return typeof r=="boolean"?t===(r?"true":"false")?pa.INSTANCE:jo.INSTANCE:new kL(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=to.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?pa.INSTANCE:jo.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=OA.create(this.key,this.value,this)),this.negated}}class AA{static create(e,t){return new AA(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?Plt.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=PA.create(this.key,this.valueKey)),this.negated}}class PA{static create(e,t){return new PA(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=AA.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class OA{static create(e,t,i=null){if(typeof t=="boolean")return t?Uv.create(e,i):jv.create(e,i);const r=to.get(e);return typeof r=="boolean"?t===(r?"true":"false")?jo.INSTANCE:pa.INSTANCE:new OA(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=to.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?jo.INSTANCE:pa.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=kL.create(this.key,this.value,this)),this.negated}}class Uv{static create(e,t=null){const i=to.get(e);return typeof i=="boolean"?i?jo.INSTANCE:pa.INSTANCE:new Uv(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:KCe(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=to.get(this.key);return typeof e=="boolean"?e?jo.INSTANCE:pa.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=jv.create(this.key,this)),this.negated}}function FA(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):jo.INSTANCE}class BA{static create(e,t,i=null){return FA(t,r=>new BA(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=zA.create(this.key,this.value,this)),this.negated}}class HA{static create(e,t,i=null){return FA(t,r=>new HA(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=VA.create(this.key,this.value,this)),this.negated}}class VA{static create(e,t,i=null){return FA(t,r=>new VA(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=HA.create(this.key,this.value,this)),this.negated}}class zA{static create(e,t,i=null){return FA(t,r=>new zA(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:qv(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=BA.create(this.key,this.value,this)),this.negated}}class nk{static create(e,t){return new nk(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Lq.create(this)),this.negated}}class Lq{static create(e){return new Lq(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function GCe(n){let e=null;for(let t=0,i=n.length;t<i;t++){const r=n[t].substituteConstants();if(n[t]!==r&&e===null){e=[];for(let s=0;s<t;s++)e[s]=n[s]}e!==null&&(e[t]=r)}return e===null?n:e}class Sb{static create(e,t,i){return Sb._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=FS(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=GCe(this.expr);return e===this.expr?this:Sb.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const r=[];let s=!1;for(const o of e)if(o){if(o.type===1){s=!0;continue}if(o.type===0)return jo.INSTANCE;if(o.type===6){r.push(...o.expr);continue}r.push(o)}if(r.length===0&&s)return pa.INSTANCE;if(r.length!==0){if(r.length===1)return r[0];r.sort(FS);for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];for(;r.length>1;){const o=r[r.length-1];if(o.type!==9)break;r.pop();const a=r.pop(),l=r.length===0,c=nf.create(o.expr.map(u=>Sb.create([u,a],null,i)),null,l);c&&(r.push(c),r.sort(FS))}if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)if(r[o].negate().equals(r[a]))return jo.INSTANCE;if(r.length===1)return r[0]}return new Sb(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=nf.create(e,this,!0)}return this.negated}}class nf{static create(e,t,i){return nf._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=FS(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=GCe(this.expr);return e===this.expr?this:nf.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let r=[],s=!1;if(e){for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l){if(l.type===0){s=!0;continue}if(l.type===1)return pa.INSTANCE;if(l.type===9){r=r.concat(l.expr);continue}r.push(l)}}if(r.length===0&&s)return jo.INSTANCE;r.sort(FS)}if(r.length!==0){if(r.length===1)return r[0];for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)if(r[o].negate().equals(r[a]))return pa.INSTANCE;if(r.length===1)return r[0]}return new nf(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),r=[];for(const s of Kle(t))for(const o of Kle(i))r.push(Sb.create([s,o],null,!1));e.unshift(nf.create(r,null,!1))}this.negated=nf.create(e,this,!0)}return this.negated}}const $y=class $y extends jv{static all(){return $y._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?$y._info.push({...i,key:e}):i!==!0&&$y._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return kL.create(this.key,e)}};$y._info=[];let Nt=$y;const ii=Nn("contextKeyService");function KCe(n,e){return n<e?-1:n>e?1:0}function qv(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function PV(n,e){if(n.type===0||e.type===1)return!0;if(n.type===9)return e.type===9?Gle(n.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(PV(n,t))return!0;return!1}if(n.type===6){if(e.type===6)return Gle(e.expr,n.expr);for(const t of n.expr)if(PV(t,e))return!0;return!1}return n.equals(e)}function Gle(n,e){let t=0,i=0;for(;t<n.length&&i<e.length;){const r=n[t].cmp(e[i]);if(r<0)return!1;r===0&&t++,i++}return t===n.length}function Kle(n){return n.type===9?n.expr:[n]}function z7(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Eq(n,e="Unreachable"){throw new Error(e)}function Qle(n){n||_i(new ti("Soft Assertion Failed"))}function pv(n){if(!n()){debugger;n(),_i(new ti("Assertion Failed"))}}function Dq(n,e){let t=0;for(;t<n.length-1;){const i=n[t],r=n[t+1];if(!e(i,r))return!1;t++}return!0}class qlt{constructor(){this.data=new Map}add(e,t){z7(sl(e)),z7(ca(t)),z7(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const Is=new qlt;class Tq{constructor(){this._coreKeybindings=new Aa,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Sc===1){if(e&&e.win)return e.win}else if(Sc===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=Tq.bindToCurrentPlatform(e),i=new It;if(t&&t.primary){const r=yV(t.primary,Sc);r&&i.add(this._registerDefaultKeybinding(r,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let r=0,s=t.secondary.length;r<s;r++){const o=t.secondary[r],a=yV(o,Sc);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-r-1,e.when))}return i}registerCommandAndKeybindingRule(e){return Ad(this.registerKeybindingRule(e),ya.registerCommand(e))}_registerDefaultKeybinding(e,t,i,r,s,o){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:o,weight1:r,weight2:s,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,cn(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Klt)),this._cachedMergedKeybindings.slice(0)}}const LL=new Tq,Glt={EditorModes:"platform.keybindingsRegistry"};Is.add(Glt.EditorModes,LL);function Klt(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}var Qlt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Yle=function(n,e){return function(t,i){e(t,i,n)}},aT;function BS(n){return n.command!==void 0}function Ylt(n){return n.submenu!==void 0}const ce=class ce{constructor(e){if(ce._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);ce._instances.set(e,this),this.id=e}};ce._instances=new Map,ce.CommandPalette=new ce("CommandPalette"),ce.DebugBreakpointsContext=new ce("DebugBreakpointsContext"),ce.DebugCallStackContext=new ce("DebugCallStackContext"),ce.DebugConsoleContext=new ce("DebugConsoleContext"),ce.DebugVariablesContext=new ce("DebugVariablesContext"),ce.NotebookVariablesContext=new ce("NotebookVariablesContext"),ce.DebugHoverContext=new ce("DebugHoverContext"),ce.DebugWatchContext=new ce("DebugWatchContext"),ce.DebugToolBar=new ce("DebugToolBar"),ce.DebugToolBarStop=new ce("DebugToolBarStop"),ce.DebugCallStackToolbar=new ce("DebugCallStackToolbar"),ce.DebugCreateConfiguration=new ce("DebugCreateConfiguration"),ce.EditorContext=new ce("EditorContext"),ce.SimpleEditorContext=new ce("SimpleEditorContext"),ce.EditorContent=new ce("EditorContent"),ce.EditorLineNumberContext=new ce("EditorLineNumberContext"),ce.EditorContextCopy=new ce("EditorContextCopy"),ce.EditorContextPeek=new ce("EditorContextPeek"),ce.EditorContextShare=new ce("EditorContextShare"),ce.EditorTitle=new ce("EditorTitle"),ce.EditorTitleRun=new ce("EditorTitleRun"),ce.EditorTitleContext=new ce("EditorTitleContext"),ce.EditorTitleContextShare=new ce("EditorTitleContextShare"),ce.EmptyEditorGroup=new ce("EmptyEditorGroup"),ce.EmptyEditorGroupContext=new ce("EmptyEditorGroupContext"),ce.EditorTabsBarContext=new ce("EditorTabsBarContext"),ce.EditorTabsBarShowTabsSubmenu=new ce("EditorTabsBarShowTabsSubmenu"),ce.EditorTabsBarShowTabsZenModeSubmenu=new ce("EditorTabsBarShowTabsZenModeSubmenu"),ce.EditorActionsPositionSubmenu=new ce("EditorActionsPositionSubmenu"),ce.ExplorerContext=new ce("ExplorerContext"),ce.ExplorerContextShare=new ce("ExplorerContextShare"),ce.ExtensionContext=new ce("ExtensionContext"),ce.GlobalActivity=new ce("GlobalActivity"),ce.CommandCenter=new ce("CommandCenter"),ce.CommandCenterCenter=new ce("CommandCenterCenter"),ce.LayoutControlMenuSubmenu=new ce("LayoutControlMenuSubmenu"),ce.LayoutControlMenu=new ce("LayoutControlMenu"),ce.MenubarMainMenu=new ce("MenubarMainMenu"),ce.MenubarAppearanceMenu=new ce("MenubarAppearanceMenu"),ce.MenubarDebugMenu=new ce("MenubarDebugMenu"),ce.MenubarEditMenu=new ce("MenubarEditMenu"),ce.MenubarCopy=new ce("MenubarCopy"),ce.MenubarFileMenu=new ce("MenubarFileMenu"),ce.MenubarGoMenu=new ce("MenubarGoMenu"),ce.MenubarHelpMenu=new ce("MenubarHelpMenu"),ce.MenubarLayoutMenu=new ce("MenubarLayoutMenu"),ce.MenubarNewBreakpointMenu=new ce("MenubarNewBreakpointMenu"),ce.PanelAlignmentMenu=new ce("PanelAlignmentMenu"),ce.PanelPositionMenu=new ce("PanelPositionMenu"),ce.ActivityBarPositionMenu=new ce("ActivityBarPositionMenu"),ce.MenubarPreferencesMenu=new ce("MenubarPreferencesMenu"),ce.MenubarRecentMenu=new ce("MenubarRecentMenu"),ce.MenubarSelectionMenu=new ce("MenubarSelectionMenu"),ce.MenubarShare=new ce("MenubarShare"),ce.MenubarSwitchEditorMenu=new ce("MenubarSwitchEditorMenu"),ce.MenubarSwitchGroupMenu=new ce("MenubarSwitchGroupMenu"),ce.MenubarTerminalMenu=new ce("MenubarTerminalMenu"),ce.MenubarViewMenu=new ce("MenubarViewMenu"),ce.MenubarHomeMenu=new ce("MenubarHomeMenu"),ce.OpenEditorsContext=new ce("OpenEditorsContext"),ce.OpenEditorsContextShare=new ce("OpenEditorsContextShare"),ce.ProblemsPanelContext=new ce("ProblemsPanelContext"),ce.SCMInputBox=new ce("SCMInputBox"),ce.SCMChangesSeparator=new ce("SCMChangesSeparator"),ce.SCMChangesContext=new ce("SCMChangesContext"),ce.SCMIncomingChanges=new ce("SCMIncomingChanges"),ce.SCMIncomingChangesContext=new ce("SCMIncomingChangesContext"),ce.SCMIncomingChangesSetting=new ce("SCMIncomingChangesSetting"),ce.SCMOutgoingChanges=new ce("SCMOutgoingChanges"),ce.SCMOutgoingChangesContext=new ce("SCMOutgoingChangesContext"),ce.SCMOutgoingChangesSetting=new ce("SCMOutgoingChangesSetting"),ce.SCMIncomingChangesAllChangesContext=new ce("SCMIncomingChangesAllChangesContext"),ce.SCMIncomingChangesHistoryItemContext=new ce("SCMIncomingChangesHistoryItemContext"),ce.SCMOutgoingChangesAllChangesContext=new ce("SCMOutgoingChangesAllChangesContext"),ce.SCMOutgoingChangesHistoryItemContext=new ce("SCMOutgoingChangesHistoryItemContext"),ce.SCMChangeContext=new ce("SCMChangeContext"),ce.SCMResourceContext=new ce("SCMResourceContext"),ce.SCMResourceContextShare=new ce("SCMResourceContextShare"),ce.SCMResourceFolderContext=new ce("SCMResourceFolderContext"),ce.SCMResourceGroupContext=new ce("SCMResourceGroupContext"),ce.SCMSourceControl=new ce("SCMSourceControl"),ce.SCMSourceControlInline=new ce("SCMSourceControlInline"),ce.SCMSourceControlTitle=new ce("SCMSourceControlTitle"),ce.SCMHistoryTitle=new ce("SCMHistoryTitle"),ce.SCMTitle=new ce("SCMTitle"),ce.SearchContext=new ce("SearchContext"),ce.SearchActionMenu=new ce("SearchActionContext"),ce.StatusBarWindowIndicatorMenu=new ce("StatusBarWindowIndicatorMenu"),ce.StatusBarRemoteIndicatorMenu=new ce("StatusBarRemoteIndicatorMenu"),ce.StickyScrollContext=new ce("StickyScrollContext"),ce.TestItem=new ce("TestItem"),ce.TestItemGutter=new ce("TestItemGutter"),ce.TestProfilesContext=new ce("TestProfilesContext"),ce.TestMessageContext=new ce("TestMessageContext"),ce.TestMessageContent=new ce("TestMessageContent"),ce.TestPeekElement=new ce("TestPeekElement"),ce.TestPeekTitle=new ce("TestPeekTitle"),ce.TestCallStack=new ce("TestCallStack"),ce.TouchBarContext=new ce("TouchBarContext"),ce.TitleBarContext=new ce("TitleBarContext"),ce.TitleBarTitleContext=new ce("TitleBarTitleContext"),ce.TunnelContext=new ce("TunnelContext"),ce.TunnelPrivacy=new ce("TunnelPrivacy"),ce.TunnelProtocol=new ce("TunnelProtocol"),ce.TunnelPortInline=new ce("TunnelInline"),ce.TunnelTitle=new ce("TunnelTitle"),ce.TunnelLocalAddressInline=new ce("TunnelLocalAddressInline"),ce.TunnelOriginInline=new ce("TunnelOriginInline"),ce.ViewItemContext=new ce("ViewItemContext"),ce.ViewContainerTitle=new ce("ViewContainerTitle"),ce.ViewContainerTitleContext=new ce("ViewContainerTitleContext"),ce.ViewTitle=new ce("ViewTitle"),ce.ViewTitleContext=new ce("ViewTitleContext"),ce.CommentEditorActions=new ce("CommentEditorActions"),ce.CommentThreadTitle=new ce("CommentThreadTitle"),ce.CommentThreadActions=new ce("CommentThreadActions"),ce.CommentThreadAdditionalActions=new ce("CommentThreadAdditionalActions"),ce.CommentThreadTitleContext=new ce("CommentThreadTitleContext"),ce.CommentThreadCommentContext=new ce("CommentThreadCommentContext"),ce.CommentTitle=new ce("CommentTitle"),ce.CommentActions=new ce("CommentActions"),ce.CommentsViewThreadActions=new ce("CommentsViewThreadActions"),ce.InteractiveToolbar=new ce("InteractiveToolbar"),ce.InteractiveCellTitle=new ce("InteractiveCellTitle"),ce.InteractiveCellDelete=new ce("InteractiveCellDelete"),ce.InteractiveCellExecute=new ce("InteractiveCellExecute"),ce.InteractiveInputExecute=new ce("InteractiveInputExecute"),ce.InteractiveInputConfig=new ce("InteractiveInputConfig"),ce.ReplInputExecute=new ce("ReplInputExecute"),ce.IssueReporter=new ce("IssueReporter"),ce.NotebookToolbar=new ce("NotebookToolbar"),ce.NotebookStickyScrollContext=new ce("NotebookStickyScrollContext"),ce.NotebookCellTitle=new ce("NotebookCellTitle"),ce.NotebookCellDelete=new ce("NotebookCellDelete"),ce.NotebookCellInsert=new ce("NotebookCellInsert"),ce.NotebookCellBetween=new ce("NotebookCellBetween"),ce.NotebookCellListTop=new ce("NotebookCellTop"),ce.NotebookCellExecute=new ce("NotebookCellExecute"),ce.NotebookCellExecuteGoTo=new ce("NotebookCellExecuteGoTo"),ce.NotebookCellExecutePrimary=new ce("NotebookCellExecutePrimary"),ce.NotebookDiffCellInputTitle=new ce("NotebookDiffCellInputTitle"),ce.NotebookDiffCellMetadataTitle=new ce("NotebookDiffCellMetadataTitle"),ce.NotebookDiffCellOutputsTitle=new ce("NotebookDiffCellOutputsTitle"),ce.NotebookOutputToolbar=new ce("NotebookOutputToolbar"),ce.NotebookOutlineFilter=new ce("NotebookOutlineFilter"),ce.NotebookOutlineActionMenu=new ce("NotebookOutlineActionMenu"),ce.NotebookEditorLayoutConfigure=new ce("NotebookEditorLayoutConfigure"),ce.NotebookKernelSource=new ce("NotebookKernelSource"),ce.BulkEditTitle=new ce("BulkEditTitle"),ce.BulkEditContext=new ce("BulkEditContext"),ce.TimelineItemContext=new ce("TimelineItemContext"),ce.TimelineTitle=new ce("TimelineTitle"),ce.TimelineTitleContext=new ce("TimelineTitleContext"),ce.TimelineFilterSubMenu=new ce("TimelineFilterSubMenu"),ce.AccountsContext=new ce("AccountsContext"),ce.SidebarTitle=new ce("SidebarTitle"),ce.PanelTitle=new ce("PanelTitle"),ce.AuxiliaryBarTitle=new ce("AuxiliaryBarTitle"),ce.AuxiliaryBarHeader=new ce("AuxiliaryBarHeader"),ce.TerminalInstanceContext=new ce("TerminalInstanceContext"),ce.TerminalEditorInstanceContext=new ce("TerminalEditorInstanceContext"),ce.TerminalNewDropdownContext=new ce("TerminalNewDropdownContext"),ce.TerminalTabContext=new ce("TerminalTabContext"),ce.TerminalTabEmptyAreaContext=new ce("TerminalTabEmptyAreaContext"),ce.TerminalStickyScrollContext=new ce("TerminalStickyScrollContext"),ce.WebviewContext=new ce("WebviewContext"),ce.InlineCompletionsActions=new ce("InlineCompletionsActions"),ce.InlineEditsActions=new ce("InlineEditsActions"),ce.InlineEditActions=new ce("InlineEditActions"),ce.NewFile=new ce("NewFile"),ce.MergeInput1Toolbar=new ce("MergeToolbar1Toolbar"),ce.MergeInput2Toolbar=new ce("MergeToolbar2Toolbar"),ce.MergeBaseToolbar=new ce("MergeBaseToolbar"),ce.MergeInputResultToolbar=new ce("MergeToolbarResultToolbar"),ce.InlineSuggestionToolbar=new ce("InlineSuggestionToolbar"),ce.InlineEditToolbar=new ce("InlineEditToolbar"),ce.ChatContext=new ce("ChatContext"),ce.ChatCodeBlock=new ce("ChatCodeblock"),ce.ChatCompareBlock=new ce("ChatCompareBlock"),ce.ChatMessageTitle=new ce("ChatMessageTitle"),ce.ChatExecute=new ce("ChatExecute"),ce.ChatExecuteSecondary=new ce("ChatExecuteSecondary"),ce.ChatInputSide=new ce("ChatInputSide"),ce.AccessibleView=new ce("AccessibleView"),ce.MultiDiffEditorFileToolbar=new ce("MultiDiffEditorFileToolbar"),ce.DiffEditorHunkToolbar=new ce("DiffEditorHunkToolbar"),ce.DiffEditorSelectionToolbar=new ce("DiffEditorSelectionToolbar");let Ws=ce;const Gv=Nn("menuService"),fx=class fx{static for(e){let t=this._all.get(e);return t||(t=new fx(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof fx&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}};fx._all=new Map;let Zm=fx;const XC=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new pot({merge:Zm.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(Zm.for(Ws.CommandPalette)),cn(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(Zm.for(Ws.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new Aa,this._menuItems.set(n,t));const i=t.push(e);return this._onDidChangeMenu.fire(Zm.for(n)),cn(()=>{i(),this._onDidChangeMenu.fire(Zm.for(n))})}appendMenuItems(n){const e=new It;for(const{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===Ws.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)BS(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class HS extends NA{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let Sf=aT=class{static label(e,t){return t!=null&&t.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,r,s,o,a){var c;this.hideActions=r,this.menuKeybinding=s,this._commandService=a,this.id=e.id,this.label=aT.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:(c=e.tooltip)==null?void 0:c.value)??"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){const u=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(u.condition),this.checked&&u.tooltip&&(this.tooltip=typeof u.tooltip=="string"?u.tooltip:u.tooltip.value),this.checked&&Hn.isThemeIcon(u.icon)&&(l=u.icon),this.checked&&u.title&&(this.label=typeof u.title=="string"?u.title:u.title.value)}l||(l=Hn.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new aT(t,void 0,i,r,void 0,o,a):void 0,this._options=i,this.class=l&&Hn.asClassName(l)}run(...e){var i,r;let t=[];return(i=this._options)!=null&&i.arg&&(t=[...t,this._options.arg]),(r=this._options)!=null&&r.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};Sf=aT=Qlt([Yle(5,ii),Yle(6,ml)],Sf);const Kv=Nn("telemetryService"),Bu=Nn("logService");var oa;(function(n){n[n.Off=0]="Off",n[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warning=4]="Warning",n[n.Error=5]="Error"})(oa||(oa={}));const QCe=oa.Info;class YCe extends je{constructor(){super(...arguments),this.level=QCe,this._onDidChangeLogLevel=this._register(new ke),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==oa.Off&&this.level<=e}}class Xlt extends YCe{constructor(e=QCe,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(oa.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(oa.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(oa.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(oa.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(oa.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class Zlt extends YCe{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}function Jlt(n){switch(n){case oa.Trace:return"trace";case oa.Debug:return"debug";case oa.Info:return"info";case oa.Warning:return"warn";case oa.Error:return"error";case oa.Off:return"off"}}new Nt("logLevel",Jlt(oa.Info));class WA{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=Kn.and(i,this.precondition):i=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};LL.registerKeybindingRule(r)}}ya.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){XC.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class Iq extends WA{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,r){return this._implementations.push({priority:e,name:t,implementation:i,when:r}),this._implementations.sort((s,o)=>o.priority-s.priority),{dispose:()=>{for(let s=0;s<this._implementations.length;s++)if(this._implementations[s].implementation===i){this._implementations.splice(s,1);return}}}}runCommand(e,t){const i=e.get(Bu),r=e.get(ii);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const s of this._implementations){if(s.when){const a=r.getContext(Eo());if(!s.when.evaluate(a))continue}const o=s.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${s.name}'.`),typeof o=="boolean"?void 0:o}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class XCe extends WA{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class mv extends WA{static bindToContribution(e){return class extends mv{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,r,s){const o=e(r);o&&this._callback(o,s)}}}static runEditorCommand(e,t,i,r){const s=e.get(ts),o=s.getFocusedCodeEditor()||s.getActiveCodeEditor();if(o)return o.invokeWithinContext(a=>{if(a.get(ii).contextMatchesRules(i??void 0))return r(a,o,t)})}runCommand(e,t){return mv.runEditorCommand(e,t,this.precondition,(i,r,s)=>this.runEditorCommand(i,r,s))}}function an(n){return Cd.INSTANCE.registerEditorCommand(n),n}function ZCe(n,e,t){Cd.INSTANCE.registerEditorContribution(n,e,t)}var uC;(function(n){function e(o){return Cd.INSTANCE.getEditorCommand(o)}n.getEditorCommand=e;function t(){return Cd.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return Cd.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function r(o){return Cd.INSTANCE.getEditorContributions().filter(a=>o.indexOf(a.id)>=0)}n.getSomeEditorContributions=r;function s(){return Cd.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=s})(uC||(uC={}));const ect={EditorCommonContributions:"editor.contributions"},mR=class mR{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};mR.INSTANCE=new mR;let Cd=mR;Is.add(ect.EditorCommonContributions,Cd.INSTANCE);function EL(n){return n.register(),n}const JCe=EL(new Iq({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Ws.MenubarEditMenu,group:"1_do",title:P({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Ws.CommandPalette,group:"",title:P("undo","Undo"),order:1}]}));EL(new XCe(JCe,{id:"default:undo",precondition:void 0}));const e0e=EL(new Iq({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Ws.MenubarEditMenu,group:"1_do",title:P({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Ws.CommandPalette,group:"",title:P("redo","Redo"),order:1}]}));EL(new XCe(e0e,{id:"default:redo",precondition:void 0}));const tct=EL(new Iq({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Ws.MenubarSelectionMenu,group:"1_basic",title:P({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Ws.CommandPalette,group:"",title:P("selectAll","Select All"),order:1}]})),Xle="default",nct="$initialize";let Zle=!1;function OV(n){Y0&&(Zle||(Zle=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class ict{constructor(e,t,i,r,s){this.vsWorker=e,this.req=t,this.channel=i,this.method=r,this.args=s,this.type=0}}class Jle{constructor(e,t,i,r){this.vsWorker=e,this.seq=t,this.res=i,this.err=r,this.type=1}}class rct{constructor(e,t,i,r,s){this.vsWorker=e,this.req=t,this.channel=i,this.eventName=r,this.arg=s,this.type=2}}class sct{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class oct{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class act{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t,i){const r=String(++this._lastSentReq);return new Promise((s,o)=>{this._pendingReplies[r]={resolve:s,reject:o},this._send(new ict(this._workerId,r,e,t,i))})}listen(e,t,i){let r=null;const s=new ke({onWillAddFirstListener:()=>{r=String(++this._lastSentReq),this._pendingEmitters.set(r,s),this._send(new rct(this._workerId,r,e,t,i))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(r),this._send(new oct(this._workerId,r)),r=null}});return s.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}createProxyToRemoteChannel(e,t){const i={get:(r,s)=>(typeof s=="string"&&!r[s]&&(n0e(s)?r[s]=o=>this.listen(e,s,o):t0e(s)?r[s]=this.listen(e,s,void 0):s.charCodeAt(0)===36&&(r[s]=async(...o)=>(await(t==null?void 0:t()),this.sendMessage(e,s,o)))),r[s])};return new Proxy(Object.create(null),i)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(r=>{this._send(new Jle(this._workerId,t,r,void 0))},r=>{r.detail instanceof Error&&(r.detail=cle(r.detail)),this._send(new Jle(this._workerId,t,void 0,cle(r)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.channel,e.eventName,e.arg)(r=>{this._send(new sct(this._workerId,t,r))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class lct extends je{constructor(e,t){super(),this._localChannels=new Map,this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},s=>{this._protocol.handleMessage(s)},s=>{_i(s)})),this._protocol=new act({sendMessage:(s,o)=>{this._worker.postMessage(s,o)},handleMessage:(s,o,a)=>this._handleMessage(s,o,a),handleEvent:(s,o,a)=>this._handleEvent(s,o,a)}),this._protocol.setWorkerId(this._worker.getId());let i=null;const r=globalThis.require;typeof r<"u"&&typeof r.getConfig=="function"?i=r.getConfig():typeof globalThis.requirejs<"u"&&(i=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(Xle,nct,[this._worker.getId(),JSON.parse(JSON.stringify(i)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(Xle,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(s=>{this._onError("Worker failed to load "+t.amdModuleId,s)})}_handleMessage(e,t,i){const r=this._localChannels.get(e);if(!r)return Promise.reject(new Error(`Missing channel ${e} on main thread`));if(typeof r[t]!="function")return Promise.reject(new Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(r[t].apply(r,i))}catch(s){return Promise.reject(s)}}_handleEvent(e,t,i){const r=this._localChannels.get(e);if(!r)throw new Error(`Missing channel ${e} on main thread`);if(n0e(t)){const s=r[t].call(r,i);if(typeof s!="function")throw new Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return s}if(t0e(t)){const s=r[t];if(typeof s!="function")throw new Error(`Missing event ${t} on main thread channel ${e}.`);return s}throw new Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}_onError(e,t){console.error(e),console.info(t)}}function t0e(n){return n[0]==="o"&&n[1]==="n"&&Wg(n.charCodeAt(2))}function n0e(n){return/^onDynamic/.test(n)&&Wg(n.charCodeAt(9))}function Qv(n,e){var i;const t=globalThis.MonacoEnvironment;if(t!=null&&t.createTrustedTypesPolicy)try{return t.createTrustedTypesPolicy(n,e)}catch(r){_i(r);return}try{return(i=globalThis.trustedTypes)==null?void 0:i.createPolicy(n,e)}catch(r){_i(r);return}}let wy;typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?wy=globalThis.workerttPolicy:wy=Qv("defaultWorkerFactory",{createScriptURL:n=>n});function cct(n,e){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",e);if(typeof t.getWorkerUrl=="function"){const i=t.getWorkerUrl("workerMain.js",e);return new Worker(wy?wy.createScriptURL(i):i,{name:e,type:"module"})}}if(n){const i=uct(e,n.toString(!0)),r=new Worker(wy?wy.createScriptURL(i):i,{name:e,type:"module"});return dct(r)}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function uct(n,e,t){if(!(/^((http:)|(https:)|(file:)|(vscode-file:))/.test(e)&&e.substring(0,globalThis.origin.length)!==globalThis.origin)){const s=e.lastIndexOf("?"),o=e.lastIndexOf("#",s),a=s>0?new URLSearchParams(e.substring(s+1,~o?o:void 0)):new URLSearchParams;LV.addSearchParam(a,!0,!0),a.toString()?e=`${e}?${a.toString()}#${n}`:e=`${e}#${n}`}const r=new Blob([GU([`/*${n}*/`,void 0,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(zye())};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(QU())};`,`globalThis._VSCODE_FILE_ROOT = '${globalThis._VSCODE_FILE_ROOT}';`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",`await import(ttPolicy?.createScriptURL('${e}') ?? '${e}');`,"globalThis.postMessage({ type: 'vscode-worker-ready' });",`/*${n}*/`]).join("")],{type:"application/javascript"});return URL.createObjectURL(r)}function dct(n){return new Promise((e,t)=>{n.onmessage=function(i){i.data.type==="vscode-worker-ready"&&(n.onmessage=null,e(n))},n.onerror=t})}function hct(n){return typeof n.then=="function"}class fct extends je{constructor(e,t,i,r,s,o){super(),this.id=i,this.label=r;const a=cct(e,r);hct(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(t,[]),this.worker.then(l=>{l.onmessage=function(c){s(c.data)},l.onmessageerror=o,typeof l.addEventListener=="function"&&l.addEventListener("error",o)}),this._register(cn(()=>{var l;(l=this.worker)==null||l.then(c=>{c.onmessage=null,c.onmessageerror=null,c.removeEventListener("error",o),c.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)==null||i.then(r=>{try{r.postMessage(e,t)}catch(s){_i(s),_i(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:s}))}})}}class gct{constructor(e,t){this.amdModuleId=e,this.label=t,this.esmModuleLocation=TA.asBrowserUri(`${e}.esm.js`)}}const bR=class bR{constructor(){this._webWorkerFailedBeforeError=!1}create(e,t,i){const r=++bR.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new fct(e.esmModuleLocation,e.amdModuleId,r,e.label||"anonymous"+r,t,s=>{OV(s),this._webWorkerFailedBeforeError=s,i(s)})}};bR.LAST_WORKER_ID=0;let FV=bR;function pct(n,e){const t=typeof n=="string"?new gct(n,e):n;return new lct(new FV,t)}var zo;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(zo||(zo={}));class W7{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class mct{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)Ow(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),Ow(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),Ow(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),Ow(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&Ow(this.autoClosingPairsCloseSingleChar,t.close,t)}}function Ow(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}const jy=class jy{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new W7(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new W7({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new W7({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:jy.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:jy.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};jy.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,jy.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;let BV=jy;function xb(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),r=n.getLanguageId(i);let s=i;for(;s+1<t&&n.getLanguageId(s+1)===r;)s++;let o=i;for(;o>0&&n.getLanguageId(o-1)===r;)o--;return new bct(n,r,o,s+1,n.getStartOffset(o),n.getEndOffset(s))}class bct{constructor(e,t,i,r,s,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=s,this._lastCharOffset=o,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function rd(n){return(n&3)!==0}const ece=typeof Buffer<"u";let $7;class Mq{static wrap(e){return ece&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new Mq(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return ece?this.buffer.toString():($7||($7=new TextDecoder),$7.decode(this.buffer))}}function vct(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function yct(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function fu(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function gu(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function tce(n,e){return n[e]}function nce(n,e,t){n[t]=e}let j7;function i0e(){return j7||(j7=new TextDecoder("UTF-16LE")),j7}let U7;function Cct(){return U7||(U7=new TextDecoder("UTF-16BE")),U7}let q7;function r0e(){return q7||(q7=ast()?i0e():Cct()),q7}function _ct(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?wct(n,e,t):i0e().decode(i)}function wct(n,e,t){const i=[];let r=0;for(let s=0;s<t;s++){const o=vct(n,e);e+=2,i[r++]=String.fromCharCode(o)}return i.join("")}class $A{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return r0e().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||hs(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class OI{constructor(e,t,i,r,s,o){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=s,this.reversedRegex=o,this._openSet=OI._toSet(this.open),this._closeSet=OI._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function Sct(n){const e=n.length;n=n.map(o=>[o[0].toLowerCase(),o[1].toLowerCase()]);const t=[];for(let o=0;o<e;o++)t[o]=o;const i=(o,a)=>{const[l,c]=o,[u,d]=a;return l===u||l===d||c===u||c===d},r=(o,a)=>{const l=Math.min(o,a),c=Math.max(o,a);for(let u=0;u<e;u++)t[u]===c&&(t[u]=l)};for(let o=0;o<e;o++){const a=n[o];for(let l=o+1;l<e;l++){const c=n[l];i(a,c)&&r(t[o],t[l])}}const s=[];for(let o=0;o<e;o++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===o){const[u,d]=n[c];a.push(u),l.push(d)}a.length>0&&s.push({open:a,close:l})}return s}class xct{constructor(e,t){this._richEditBracketsBrand=void 0;const i=Sct(t);this.brackets=i.map((r,s)=>new OI(e,s,r.open,r.close,kct(r.open,r.close,i,s),Lct(r.open,r.close,i,s))),this.forwardRegex=Ect(this.brackets),this.reversedRegex=Dct(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const s of r.open)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,s.length);for(const s of r.close)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,s.length)}}}function s0e(n,e,t,i){for(let r=0,s=e.length;r<s;r++){if(r===t)continue;const o=e[r];for(const a of o.open)a.indexOf(n)>=0&&i.push(a);for(const a of o.close)a.indexOf(n)>=0&&i.push(a)}}function o0e(n,e){return n.length-e.length}function jA(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function kct(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)s0e(r[s],t,i,r);return r=jA(r),r.sort(o0e),r.reverse(),DL(r)}function Lct(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)s0e(r[s],t,i,r);return r=jA(r),r.sort(o0e),r.reverse(),DL(r.map(Rq))}function Ect(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=jA(e),DL(e)}function Dct(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=jA(e),DL(e.map(Rq))}function Tct(n){const e=/^[\w ]+$/.test(n);return n=Af(n),e?`\\b${n}\\b`:n}function DL(n,e){const t=`(${n.map(Tct).join(")|(")})`;return gCe(t,!0,e)}const Rq=function(){function n(i){const r=new Uint16Array(i.length);let s=0;for(let o=i.length-1;o>=0;o--)r[s++]=i.charCodeAt(o);return r0e().decode(r)}let e=null,t=null;return function(r){return e!==r&&(e=r,t=n(e)),t}}();class ac{static _findPrevBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=i.length-(s.index||0),a=s[0].length,l=r+o;return new _e(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,r,s){const a=Rq(i).substring(i.length-s,i.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=s.index||0,a=s[0].length;if(a===0)return null;const l=r+o;return new _e(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,r,s){const o=i.substring(r,s);return this.findNextBracketInText(e,t,o,r)}}class Ict{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return cv(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(rd(t.getStandardTokenType(r)))return null;const s=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,i-1)+e,a=ac.findPrevBracketInRange(s,1,o,0,o.length);if(!a)return null;const l=o.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const u=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:l}:null}}function KD(n){return n.global&&(n.lastIndex=0),!0}class Mct{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&KD(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&KD(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&KD(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&KD(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Sy{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=Sy._createOpenBracketRegExp(t[0]),r=Sy._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){const a=this._regExpRules[s];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&r.length>0)for(let s=0,o=this._brackets.length;s<o;s++){const a=this._brackets[s];if(a.openRegExp.test(i)&&a.closeRegExp.test(r))return{indentAction:zo.IndentOutdent}}if(e>=2&&i.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:zo.Indent}}return null}static _createOpenBracketRegExp(e){let t=Af(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Sy._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Af(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Sy._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return _i(t),null}}}const br=Nn("configurationService");function HV(n,e){const t=Object.create(null);for(const i in n)a0e(t,i,n[i],e);return t}function a0e(n,e,t,i){const r=e.split("."),s=r.pop();let o=n;for(let a=0;a<r.length;a++){const l=r[a];let c=o[l];switch(typeof c){case"undefined":c=o[l]=Object.create(null);break;case"object":if(c===null){i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is null`);return}break;default:i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}o=c}if(typeof o=="object"&&o!==null)try{o[s]=t}catch{i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}else i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}function Rct(n,e){const t=e.split(".");l0e(n,t)}function l0e(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(l0e(i,e),Object.keys(i).length===0&&delete n[t])}}function ice(n,e,t){function i(o,a){let l=o;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const r=e.split("."),s=i(n,r);return typeof s>"u"?t:s}function Nct(n){return n.replace(/[\[\]]/g,"")}const bs=Nn("languageService");class pd{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const c0e=[];function $n(n,e,t){e instanceof pd||(e=new pd(e,[],!!t)),c0e.push([n,e])}function rce(){return c0e}const rf=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),UA={JSONContribution:"base.contributions.json"};function Act(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class Pct{constructor(){this._onDidChangeSchema=new ke,this.schemasById={}}registerSchema(e,t){this.schemasById[Act(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const Oct=new Pct;Is.add(UA.JSONContribution,Oct);const Yv={Configuration:"base.contributions.configuration"},Fw="vscode://schemas/settings/resourceLanguage",sce=Is.as(UA.JSONContribution);class Fct{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ke,this._onDidUpdateConfiguration=new ke,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:P("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},sce.registerSchema(Fw,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),sce.registerSchema(Fw,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const i=[];for(const{overrides:r,source:s}of e)for(const o in r){t.add(o);const a=this.configurationDefaultsOverrides.get(o)??this.configurationDefaultsOverrides.set(o,{configurationDefaultOverrides:[]}).get(o),l=r[o];if(a.configurationDefaultOverrides.push({value:l,source:s}),Ap.test(o)){const c=this.mergeDefaultConfigurationsForOverrideIdentifier(o,l,s,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(o,c,s),i.push(...FI(o))}else{const c=this.mergeDefaultConfigurationsForConfigurationProperty(o,l,s,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c;const u=this.configurationProperties[o];u&&(this.updatePropertyDefaultValue(o,u),this.updateSchema(o,u))}}this.doRegisterOverrideIdentifiers(i)}updateDefaultOverrideProperty(e,t,i){const r={type:"object",default:t.value,description:P("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Nct(e)),$ref:Fw,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=r,this.defaultLanguageConfigurationOverridesNode.properties[e]=r}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,r){const s=(r==null?void 0:r.value)||{},o=(r==null?void 0:r.source)??new Map;if(!(o instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const a of Object.keys(t)){const l=t[a];if(ca(l)&&(Ol(s[a])||ca(s[a]))){if(s[a]={...s[a]??{},...l},i)for(const u in l)o.set(`${a}.${u}`,i)}else s[a]=l,i?o.set(a,i):o.delete(a)}return{value:s,source:o}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,r){const s=this.configurationProperties[e],o=(r==null?void 0:r.value)??(s==null?void 0:s.defaultDefaultValue);let a=i;if(ca(t)&&(s!==void 0&&s.type==="object"||s===void 0&&(Ol(o)||ca(o)))){if(a=(r==null?void 0:r.source)??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const c in t)i&&a.set(`${e}.${c}`,i);t={...ca(o)?o:{},...t}}return{value:t,source:a}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(r=>{this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties,void 0,i),this.configurationContributors.push(r),this.registerJSONConfiguration(r)})}validateAndRegisterProperties(e,t=!0,i,r,s=3,o){var c;s=Xa(e.scope)?s:e.scope;const a=e.properties;if(a)for(const u in a){const d=a[u];if(t&&Vct(u,d)){delete a[u];continue}if(d.source=i,d.defaultDefaultValue=a[u].default,this.updatePropertyDefaultValue(u,d),Ap.test(u)?d.scope=void 0:(d.scope=Xa(d.scope)?s:d.scope,d.restricted=Xa(d.restricted)?!!(r!=null&&r.includes(u)):d.restricted),a[u].hasOwnProperty("included")&&!a[u].included){this.excludedConfigurationProperties[u]=a[u],delete a[u];continue}else this.configurationProperties[u]=a[u],(c=a[u].policy)!=null&&c.name&&this.policyConfigurations.set(a[u].policy.name,u);!a[u].deprecationMessage&&a[u].markdownDeprecationMessage&&(a[u].deprecationMessage=a[u].markdownDeprecationMessage),o.add(u)}const l=e.allOf;if(l)for(const u of l)this.validateAndRegisterProperties(u,t,i,r,s,o)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const r=i.properties;if(r)for(const o in r)this.updateSchema(o,r[o]);const s=i.allOf;s==null||s.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:P("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:P("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Fw};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){P("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),P("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){var o;const i=(o=this.configurationDefaultsOverrides.get(e))==null?void 0:o.configurationDefaultOverrideValue;let r,s;i&&(!t.disallowConfigurationDefault||!i.source)&&(r=i.value,s=i.source),Ol(r)&&(r=t.defaultDefaultValue,s=void 0),Ol(r)&&(r=Hct(t.type)),t.default=r,t.defaultValueSource=s}}const u0e="\\[([^\\]]+)\\]",oce=new RegExp(u0e,"g"),Bct=`^(${u0e})+$`,Ap=new RegExp(Bct);function FI(n){const e=[];if(Ap.test(n)){let t=oce.exec(n);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=oce.exec(n)}}return cv(e)}function Hct(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const lT=new Fct;Is.add(Yv.Configuration,lT);function Vct(n,e){var t,i,r,s;return n.trim()?Ap.test(n)?P("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):lT.getConfigurationProperties()[n]!==void 0?P("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):(t=e.policy)!=null&&t.name&&lT.getPolicyConfigurations().get((i=e.policy)==null?void 0:i.name)!==void 0?P("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,(r=e.policy)==null?void 0:r.name,lT.getPolicyConfigurations().get((s=e.policy)==null?void 0:s.name)):null:P("config.property.empty","Cannot register an empty property")}const zct={ModesRegistry:"editor.modesRegistry"};class Wct{constructor(){this._onDidChangeLanguages=new ke,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const ZC=new Wct;Is.add(zct.ModesRegistry,ZC);const Tc="plaintext",$ct=".txt";ZC.registerLanguage({id:Tc,extensions:[$ct],aliases:[P("plainText.alias","Plain Text"),"text"],mimetypes:[rf.text]});Is.as(Yv.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class jct{constructor(e,t){this.languageId=e;const i=t.brackets?ace(t.brackets):[],r=new kle(a=>{const l=new Set;return{info:new Uct(this,a,l),closing:l}}),s=new kle(a=>{const l=new Set,c=new Set;return{info:new qct(this,a,l,c),opening:l,openingColorized:c}});for(const[a,l]of i){const c=r.get(a),u=s.get(l);c.closing.add(u.info),u.opening.add(c.info)}const o=t.colorizedBracketPairs?ace(t.colorizedBracketPairs):i.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,l]of o){const c=r.get(a),u=s.get(l);c.closing.add(u.info),u.openingColorized.add(c.info),u.opening.add(c.info)}this._openingBrackets=new Map([...r.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...s.cachedValues].map(([a,l])=>[a,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return DL(t,e)}}function ace(n){return n.filter(([e,t])=>e!==""&&t!=="")}class d0e{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class Uct extends d0e{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class qct extends d0e{constructor(e,t,i,r){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=r,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var Gct=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},lce=function(n,e){return function(t,i){e(t,i,n)}};class G7{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const nh=Nn("languageConfigurationService");let VV=class extends je{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new Xct),this.onDidChangeEmitter=this._register(new ke),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(zV));this._register(this.configurationService.onDidChangeConfiguration(r=>{const s=r.change.keys.some(a=>i.has(a)),o=r.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new G7(void 0));else for(const a of o)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new G7(a)))})),this._register(this._registry.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new G7(r.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=Kct(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};VV=Gct([lce(0,br),lce(1,bs)],VV);function Kct(n,e,t,i){let r=e.getLanguageConfiguration(n);if(!r){if(!i.isRegisteredLanguageId(n))return new dC(n,{});r=new dC(n,{})}const s=Qct(r.languageId,t),o=f0e([r.underlyingConfig,s]);return new dC(r.languageId,o)}const zV={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Qct(n,e){const t=e.getValue(zV.brackets,{overrideIdentifier:n}),i=e.getValue(zV.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:cce(t),colorizedBracketPairs:cce(i)}}function cce(n){if(Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function h0e(n,e,t){const i=n.getLineContent(e);let r=Oo(i);return r.length>t-1&&(r=r.substring(0,t-1)),r}class Yct{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new uce(e,t,++this._order);return this._entries.push(i),this._resolved=null,cn(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new dC(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(uce.cmp),f0e(this._entries.map(e=>e.configuration)))}}function f0e(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class uce{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class dce{constructor(e){this.languageId=e}}class Xct extends je{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._register(this.register(Tc,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let r=this._entries.get(e);r||(r=new Yct(e),this._entries.set(e,r));const s=r.register(t,i);return this._onDidChange.fire(new dce(e)),cn(()=>{s.dispose(),this._onDidChange.fire(new dce(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class dC{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Sy(this.underlyingConfig):null,this.comments=dC._handleComments(this.underlyingConfig),this.characterPair=new BV(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||ZU,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new Mct(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new jct(e,this.underlyingConfig)}getWordDefinition(){return JU(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new xct(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Ict(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new mct(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,s]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=s}return i}}$n(nh,VV,1);class Ng{constructor(e,t,i,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class hce{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)t[i]=e.charCodeAt(i);return t}}function Zct(n,e,t){return new sf(new hce(n),new hce(e)).ComputeDiff(t).changes}class X1{static Assert(e,t){if(!e)throw new Error(t)}}class Z1{static Copy(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}static Copy2(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}}class fce{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Ng(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class sf{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[r,s,o]=sf._getElements(e),[a,l,c]=sf._getElements(t);this._hasStrings=o&&c,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(sf._isStringArray(t)){const i=new Int32Array(t.length);for(let r=0,s=t.length;r<s;r++)i[r]=bq(t[r],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=sf._getStrictElement(this._originalSequence,e),r=sf._getStrictElement(this._modifiedSequence,t);return i===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,r,s){const o=[!1];let a=this.ComputeDiffRecursive(e,t,i,r,o);return s&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(e,t,i,r,s){for(s[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){let d;return i<=r?(X1.Assert(e===t+1,"originalStart should only be one more than originalEnd"),d=[new Ng(e,0,i,r-i+1)]):e<=t?(X1.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[new Ng(e,t-e+1,i,0)]):(X1.Assert(e===t+1,"originalStart should only be one more than originalEnd"),X1.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const o=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,r,o,a,s),c=o[0],u=a[0];if(l!==null)return l;if(!s[0]){const d=this.ComputeDiffRecursive(e,c,i,u,s);let h=[];return s[0]?h=[new Ng(c+1,t-(c+1)+1,u+1,r-(u+1)+1)]:h=this.ComputeDiffRecursive(c+1,t,u+1,r,s),this.ConcatenateChanges(d,h)}return[new Ng(e,t-e+1,i,r-i+1)]}WALKTRACE(e,t,i,r,s,o,a,l,c,u,d,h,f,p,m,v,C,y){let w=null,_=null,x=new fce,k=t,D=i,T=f[0]-v[0]-r,L=-1073741824,I=this.m_forwardHistory.length-1;do{const R=T+e;R===k||R<D&&c[R-1]<c[R+1]?(d=c[R+1],p=d-T-r,d<L&&x.MarkNextChange(),L=d,x.AddModifiedElement(d+1,p),T=R+1-e):(d=c[R-1]+1,p=d-T-r,d<L&&x.MarkNextChange(),L=d-1,x.AddOriginalElement(d,p+1),T=R-1-e),I>=0&&(c=this.m_forwardHistory[I],e=c[0],k=1,D=c.length-1)}while(--I>=-1);if(w=x.getReverseChanges(),y[0]){let R=f[0]+1,N=v[0]+1;if(w!==null&&w.length>0){const O=w[w.length-1];R=Math.max(R,O.getOriginalEnd()),N=Math.max(N,O.getModifiedEnd())}_=[new Ng(R,h-R+1,N,m-N+1)]}else{x=new fce,k=o,D=a,T=f[0]-v[0]-l,L=1073741824,I=C?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const R=T+s;R===k||R<D&&u[R-1]>=u[R+1]?(d=u[R+1]-1,p=d-T-l,d>L&&x.MarkNextChange(),L=d+1,x.AddOriginalElement(d+1,p+1),T=R+1-s):(d=u[R-1],p=d-T-l,d>L&&x.MarkNextChange(),L=d,x.AddModifiedElement(d+1,p+1),T=R-1-s),I>=0&&(u=this.m_reverseHistory[I],s=u[0],k=1,D=u.length-1)}while(--I>=-1);_=x.getChanges()}return this.ConcatenateChanges(w,_)}ComputeRecursionPoint(e,t,i,r,s,o,a){let l=0,c=0,u=0,d=0,h=0,f=0;e--,i--,s[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=t-e+(r-i),m=p+1,v=new Int32Array(m),C=new Int32Array(m),y=r-i,w=t-e,_=e-i,x=t-r,D=(w-y)%2===0;v[y]=e,C[w]=t,a[0]=!1;for(let T=1;T<=p/2+1;T++){let L=0,I=0;u=this.ClipDiagonalBound(y-T,T,y,m),d=this.ClipDiagonalBound(y+T,T,y,m);for(let N=u;N<=d;N+=2){N===u||N<d&&v[N-1]<v[N+1]?l=v[N+1]:l=v[N-1]+1,c=l-(N-y)-_;const O=l;for(;l<t&&c<r&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(v[N]=l,l+c>L+I&&(L=l,I=c),!D&&Math.abs(N-w)<=T-1&&l>=C[N])return s[0]=l,o[0]=c,O<=C[N]&&T<=1448?this.WALKTRACE(y,u,d,_,w,h,f,x,v,C,l,t,s,c,r,o,D,a):null}const R=(L-e+(I-i)-T)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(L,R))return a[0]=!0,s[0]=L,o[0]=I,R>0&&T<=1448?this.WALKTRACE(y,u,d,_,w,h,f,x,v,C,l,t,s,c,r,o,D,a):(e++,i++,[new Ng(e,t-e+1,i,r-i+1)]);h=this.ClipDiagonalBound(w-T,T,w,m),f=this.ClipDiagonalBound(w+T,T,w,m);for(let N=h;N<=f;N+=2){N===h||N<f&&C[N-1]>=C[N+1]?l=C[N+1]-1:l=C[N-1],c=l-(N-w)-x;const O=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(C[N]=l,D&&Math.abs(N-y)<=T&&l<=v[N])return s[0]=l,o[0]=c,O>=v[N]&&T<=1448?this.WALKTRACE(y,u,d,_,w,h,f,x,v,C,l,t,s,c,r,o,D,a):null}if(T<=1447){let N=new Int32Array(d-u+2);N[0]=y-u+1,Z1.Copy2(v,u,N,1,d-u+1),this.m_forwardHistory.push(N),N=new Int32Array(f-h+2),N[0]=w-h+1,Z1.Copy2(C,h,N,1,f-h+1),this.m_reverseHistory.push(N)}}return this.WALKTRACE(y,u,d,_,w,h,f,x,v,C,l,t,s,c,r,o,D,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,s=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<s&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let r=0,s=0;if(t>0){const d=e[t-1];r=d.originalStart+d.originalLength,s=d.modifiedStart+d.modifiedLength}const o=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let d=1;;d++){const h=i.originalStart-d,f=i.modifiedStart-d;if(h<r||f<s||o&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;const m=(h===r&&f===s?5:0)+this._boundaryScore(h,i.originalLength,f,i.modifiedLength);m>c&&(c=m,l=d)}i.originalStart-=l,i.modifiedStart-=l;const u=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],u)){e[t-1]=u[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const r=e[t-1],s=e[t],o=s.originalStart-r.originalStart-r.originalLength,a=r.originalStart,l=s.originalStart+s.originalLength,c=l-a,u=r.modifiedStart,d=s.modifiedStart+s.modifiedLength,h=d-u;if(o<5&&c<20&&h<20){const f=this._findBetterContiguousSequence(a,c,u,h,o);if(f){const[p,m]=f;(p!==r.originalStart+r.originalLength||m!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=p-r.originalStart,r.modifiedLength=m-r.modifiedStart,s.originalStart=p+o,s.modifiedStart=m+o,s.originalLength=l-s.originalStart,s.modifiedLength=d-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,r,s){if(t<s||r<s)return null;const o=e+t-s+1,a=i+r-s+1;let l=0,c=0,u=0;for(let d=e;d<o;d++)for(let h=i;h<a;h++){const f=this._contiguousSequenceScore(d,h,s);f>0&&f>l&&(l=f,c=d,u=h)}return l>0?[c,u]:null}_contiguousSequenceScore(e,t,i){let r=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(e+s,t+s))return 0;r+=this._originalStringElements[e+s].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,r){const s=this._OriginalRegionIsBoundary(e,t)?1:0,o=this._ModifiedRegionIsBoundary(i,r)?1:0;return s+o}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const r=new Array(e.length+t.length-1);return Z1.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],Z1.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return Z1.Copy(e,0,r,0,e.length),Z1.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,i){if(X1.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),X1.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let s=e.originalLength;const o=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Ng(r,s,o,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,r){if(e>=0&&e<r)return e;const s=i,o=r-i-1,a=t%2===0;if(e<0){const l=s%2===0;return a===l?0:1}else{const l=o%2===0;return a===l?r-1:r-2}}}function BI(n){return n<0?0:n>255?255:n|0}function J1(n){return n<0?0:n>4294967295?4294967295:n|0}class TL{constructor(e){const t=BI(e);this._defaultValue=t,this._asciiMap=TL._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=BI(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class Jct{constructor(e,t,i){const r=new Uint8Array(e*t);for(let s=0,o=e*t;s<o;s++)r[s]=i;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class eut{constructor(e){let t=0,i=0;for(let s=0,o=e.length;s<o;s++){const[a,l,c]=e[s];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const r=new Jct(i,t,0);for(let s=0,o=e.length;s<o;s++){const[a,l,c]=e[s];r.set(a,l,c)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let K7=null;function tut(){return K7===null&&(K7=new eut([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),K7}let Bw=null;function nut(){if(Bw===null){Bw=new TL(0);const n=` 	<>'"`;for(let t=0;t<n.length;t++)Bw.set(n.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)Bw.set(e.charCodeAt(t),2)}return Bw}class HI{static _createLink(e,t,i,r,s){let o=s-1;do{const a=t.charCodeAt(o);if(e.get(a)!==2)break;o--}while(o>r);if(r>0){const a=t.charCodeAt(r-1),l=t.charCodeAt(o);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&o--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:o+2},url:t.substring(r,o+1)}}static computeLinks(e,t=tut()){const i=nut(),r=[];for(let s=1,o=e.getLineCount();s<=o;s++){const a=e.getLineContent(s),l=a.length;let c=0,u=0,d=0,h=1,f=!1,p=!1,m=!1,v=!1;for(;c<l;){let C=!1;const y=a.charCodeAt(c);if(h===13){let w;switch(y){case 40:f=!0,w=0;break;case 41:w=f?0:1;break;case 91:m=!0,p=!0,w=0;break;case 93:m=!1,w=p?0:1;break;case 123:v=!0,w=0;break;case 125:w=v?0:1;break;case 39:case 34:case 96:d===y?w=1:d===39||d===34||d===96?w=0:w=1;break;case 42:w=d===42?1:0;break;case 124:w=d===124?1:0;break;case 32:w=m?0:1;break;default:w=i.get(y)}w===1&&(r.push(HI._createLink(i,a,s,u,c)),C=!0)}else if(h===12){let w;y===91?(p=!0,w=0):w=i.get(y),w===1?C=!0:h=13}else h=t.nextState(h,y),h===0&&(C=!0);C&&(h=1,f=!1,p=!1,v=!1,u=c+1,d=y),c++}h===13&&r.push(HI._createLink(i,a,s,u,l))}return r}}function iut(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:HI.computeLinks(n)}const vR=class vR{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,r,s){if(e&&t){const o=this.doNavigateValueSet(t,s);if(o)return{range:e,value:o}}if(i&&r){const o=this.doNavigateValueSet(r,s);if(o)return{range:i,value:o}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let r=Number(e);const s=parseFloat(e);return!isNaN(r)&&!isNaN(s)&&r===s?r===0&&!t?null:(r=Math.floor(r*i),r+=t?i:-i,String(r/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let r=null;for(let s=0,o=e.length;r===null&&s<o;s++)r=this.valueSetReplace(e[s],t,i);return r}valueSetReplace(e,t,i){let r=e.indexOf(t);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}};vR.INSTANCE=new vR;let WV=vR;const gx=class gx{static getChannel(e){return e.getChannel(gx.CHANNEL_NAME)}static setChannel(e,t){e.setChannel(gx.CHANNEL_NAME,t)}};gx.CHANNEL_NAME="editorWorkerHost";let $V=gx;var gce,pce;class rut{constructor(e,t){this.uri=e,this.value=t}}function sut(n){return Array.isArray(n)}const fb=class fb{constructor(e,t){if(this[gce]="ResourceMap",e instanceof fb)this.map=new Map(e.map),this.toKey=t??fb.defaultToKey;else if(sut(e)){this.map=new Map,this.toKey=t??fb.defaultToKey;for(const[i,r]of e)this.set(i,r)}else this.map=new Map,this.toKey=e??fb.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new rut(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))==null?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(const[i,r]of this.map)e(r.value,r.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(gce=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}};fb.defaultToKey=e=>e.toString();let al=fb;class out{constructor(){this[pce]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let r=this._map.get(e);if(r)r.value=t,i!==0&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.key,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.value,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:[i.key,i.value],done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}[(pce=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class aut extends out{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class IL extends aut{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}}class lut{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class g0e{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class cut extends TL{constructor(e,t){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=t,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let i=0,r=e.length;i<r;i++)this.set(e.charCodeAt(i),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let i=null;for(const r of this._getIntlSegmenterWordsOnLine(e)){if(r.index>t)break;i=r}return i}findNextIntlWordAtOrAfterOffset(e,t){for(const i of this._getIntlSegmenterWordsOnLine(e))if(!(i.index<t))return i;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?this._cachedLine===e?this._cachedSegments:(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e)),this._cachedSegments):[]}_filterWordSegments(e){const t=[];for(const i of e)this._isWordLike(i)&&t.push(i);return t}_isWordLike(e){return!!e.isWordLike}}const mce=new IL(10);function JC(n,e){const t=`${n}/${e.join(",")}`;let i=mce.get(t);return i||(i=new cut(n,e),mce.set(t,i)),i}var VI;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(VI||(VI={}));var Pp;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(Pp||(Pp={}));var e0;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(e0||(e0={}));class cT{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Pa(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class ik{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function uut(n){return n&&typeof n.read=="function"}class Q7{constructor(e,t,i,r,s,o){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=s,this._isTracked=o}}class dut{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class hut{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function fut(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}const gut=999;class ey{constructor(e,t,i,r){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=put(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=gCe(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new dut(t,this.wordSeparators?JC(this.wordSeparators,[]):null,i?this.searchString:null)}}function put(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const r=n.charCodeAt(e);if(r===110||r===114||r===87)return!0}}return!1}function Jm(n,e,t){if(!t)return new ik(n,null);const i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r];return new ik(n,i)}class bce{constructor(e){const t=[];let i=0;for(let r=0,s=e.length;r<s;r++)e.charCodeAt(r)===10&&(t[i++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;i<r;){const s=i+((r-i)/2>>0);t[s]>=e?r=s-1:t[s+1]>=e?(i=s,r=s):i=s+1}return i+1}}class QD{static findMatches(e,t,i,r,s){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,i,new xy(o.wordSeparators,o.regex),r,s):this._doFindMatchesLineByLine(e,i,o,r,s):[]}static _getMultilineMatchRange(e,t,i,r,s,o){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(s),a=t+s+l):a=t+s;let c;if(r){const f=r.findLineFeedCountBeforeOffset(s+o.length)-l;c=a+o.length+f}else c=a+o.length;const u=e.getPositionAt(a),d=e.getPositionAt(c);return new _e(u.lineNumber,u.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,r,s){const o=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new bce(a):null,c=[];let u=0,d;for(i.reset(0);d=i.next(a);)if(c[u++]=Jm(this._getMultilineMatchRange(e,o,a,l,d.index,d[0]),d,r),u>=s)return c;return c}static _doFindMatchesLineByLine(e,t,i,r,s){const o=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,o,r,s),o}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,o,r,s);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<s;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,o,r,s);if(a<s){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,o,r,s)}return o}static _findMatchesInLine(e,t,i,r,s,o,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,f=h.length,p=t.length;let m=-f;for(;(m=t.indexOf(h,m+f))!==-1;)if((!c||Nq(c,t,p,m,f))&&(o[s++]=new ik(new _e(i,m+1+r,i,m+1+f+r),null),s>=l))return s;return s}const u=new xy(e.wordSeparators,e.regex);let d;u.reset(0);do if(d=u.next(t),d&&(o[s++]=Jm(new _e(i,d.index+1+r,i,d.index+1+d[0].length+r),d,a),s>=l))return s;while(d);return s}static findNextMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new xy(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindNextMatchMultiline(e,i,o,r):this._doFindNextMatchLineByLine(e,i,o,r)}static _doFindNextMatchMultiline(e,t,i,r){const s=new Pe(t.lineNumber,1),o=e.getOffsetAt(s),a=e.getLineCount(),l=e.getValueInRange(new _e(s.lineNumber,s.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new bce(l):null;i.reset(t.column-1);const u=i.next(l);return u?Jm(this._getMultilineMatchRange(e,o,l,c,u.index,u[0]),u,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new Pe(1,1),i,r):null}static _doFindNextMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o),l=this._findFirstMatchInLine(i,a,o,t.column,r);if(l)return l;for(let c=1;c<=s;c++){const u=(o+c-1)%s,d=e.getLineContent(u+1),h=this._findFirstMatchInLine(i,d,u+1,1,r);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,r,s){e.reset(r-1);const o=e.next(t);return o?Jm(new _e(i,o.index+1,i,o.index+1+o[0].length),o,s):null}static findPreviousMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new xy(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindPreviousMatchMultiline(e,i,o,r):this._doFindPreviousMatchLineByLine(e,i,o,r)}static _doFindPreviousMatchMultiline(e,t,i,r){const s=this._doFindMatchesMultiline(e,new _e(1,1,t.lineNumber,t.column),i,r,10*gut);if(s.length>0)return s[s.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new Pe(o,e.getLineMaxColumn(o)),i,r):null}static _doFindPreviousMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,o,r);if(l)return l;for(let c=1;c<=s;c++){const u=(s+o-c-1)%s,d=e.getLineContent(u+1),h=this._findLastMatchInLine(i,d,u+1,r);if(h)return h}return null}static _findLastMatchInLine(e,t,i,r){let s=null,o;for(e.reset(0);o=e.next(t);)s=Jm(new _e(i,o.index+1,i,o.index+1+o[0].length),o,r);return s}}function mut(n,e,t,i,r){if(i===0)return!0;const s=e.charCodeAt(i-1);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i);if(n.get(o)!==0)return!0}return!1}function but(n,e,t,i,r){if(i+r===t)return!0;const s=e.charCodeAt(i+r);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i+r-1);if(n.get(o)!==0)return!0}return!1}function Nq(n,e,t,i,r){return mut(n,e,t,i,r)&&but(n,e,t,i,r)}class xy{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const r=i.index,s=i[0].length;if(r===this._prevMatchStartIndex&&s===this._prevMatchLength){if(s===0){TI(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=s,!this._wordSeparators||Nq(this._wordSeparators,e,t,r,s))return i}while(i);return null}}class vut{static computeUnicodeHighlights(e,t,i){const r=i?i.startLineNumber:1,s=i?i.endLineNumber:e.getLineCount(),o=new vce(t),a=o.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${yut(Array.from(a))}`,"g");const c=new xy(null,l),u=[];let d=!1,h,f=0,p=0,m=0;e:for(let v=r,C=s;v<=C;v++){const y=e.getLineContent(v),w=y.length;c.reset(0);do if(h=c.next(y),h){let _=h.index,x=h.index+h[0].length;if(_>0){const L=y.charCodeAt(_-1);hs(L)&&_--}if(x+1<w){const L=y.charCodeAt(x-1);hs(L)&&x++}const k=y.substring(_,x);let D=Gx(_+1,ZU,y,0);D&&D.endColumn<=_+1&&(D=null);const T=o.shouldHighlightNonBasicASCII(k,D?D.word:null);if(T!==0){if(T===3?f++:T===2?p++:T===1?m++:Eq(),u.length>=1e3){d=!0;break e}u.push(new _e(v,_+1,v,x+1))}}while(h)}return{ranges:u,hasMore:d,ambiguousCharacterCount:f,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:m}}static computeUnicodeHighlightReason(e,t){const i=new vce(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const s=e.codePointAt(0),o=i.ambiguousCharacters.getPrimaryConfusable(s),a=Zx.getLocales().filter(l=>!Zx.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(s));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function yut(n,e){return`[${Af(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class vce{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=Zx.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of PS.codePoints)yce(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,s=!1;if(t)for(const o of t){const a=o.codePointAt(0),l=hq(o);r=r||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!PS.isInvisibleCharacter(a)&&(s=!0)}return!r&&s?0:this.options.invisibleCharacters&&!yce(e)&&PS.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function yce(n){return n===" "||n===`
`||n==="	"}class uT{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class p0e{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class dn{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let r=i;for(;r<t.length&&t[r].start<=e.endExclusive;)r++;if(i===r)t.splice(i,0,e);else{const s=Math.min(e.start,t[i].start),o=Math.max(e.endExclusive,t[r-1].endExclusive);t.splice(i,r-i,new dn(s,o))}}static tryCreate(e,t){if(!(e>t))return new dn(e,t)}static ofLength(e){return new dn(0,e)}static ofStartAndLength(e,t){return new dn(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new ti(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new dn(this.start+e,this.endExclusive+e)}deltaStart(e){return new dn(this.start+e,this.endExclusive)}deltaEnd(e){return new dn(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new dn(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new dn(t,i)}intersects(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);return t<i}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new ti(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new ti(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class Aq{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const r=Math.min(e.start,this._sortedRanges[t].start),s=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new dn(r,s))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new Aq;for(const i of this._sortedRanges){const r=i.intersect(e);r&&t.addRange(r)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}function zI(n,e){const t=Cut(n,e);if(t!==-1)return n[t]}function Cut(n,e,t=n.length-1){for(let i=t;i>=0;i--){const r=n[i];if(e(r))return i}return-1}function t0(n,e){const t=rk(n,e);return t===-1?void 0:n[t]}function rk(n,e,t=0,i=n.length){let r=t,s=i;for(;r<s;){const o=Math.floor((r+s)/2);e(n[o])?r=o+1:s=o}return r-1}function _ut(n,e){const t=jV(n,e);return t===n.length?void 0:n[t]}function jV(n,e,t=0,i=n.length){let r=t,s=i;for(;r<s;){const o=Math.floor((r+s)/2);e(n[o])?s=o:r=o+1}return r}const yR=class yR{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(yR.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=rk(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}};yR.assertInvariants=!1;let WI=yR;function m0e(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>0&&(t=r)}return t}function wut(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>=0&&(t=r)}return t}function Sut(n,e){return m0e(n,(t,i)=>-e(t,i))}function xut(n,e){if(n.length===0)return-1;let t=0;for(let i=1;i<n.length;i++){const r=n[i];e(r,n[t])>0&&(t=i)}return t}let Xt=class Hh{static fromRangeInclusive(e){return new Hh(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(e.length===0)return[];let t=new Ml(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new Ml(e[i].slice()));return t.ranges}static join(e){if(e.length===0)throw new ti("lineRanges cannot be empty");let t=e[0].startLineNumber,i=e[0].endLineNumberExclusive;for(let r=1;r<e.length;r++)t=Math.min(t,e[r].startLineNumber),i=Math.max(i,e[r].endLineNumberExclusive);return new Hh(t,i)}static ofLength(e,t){return new Hh(e,e+t)}static deserialize(e){return new Hh(e[0],e[1])}constructor(e,t){if(e>t)throw new ti(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new Hh(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new Hh(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new Hh(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new Hh(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new _e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new _e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new dn(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class Ml{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;const t=jV(this._normalizedRanges,r=>r.endLineNumberExclusive>=e.startLineNumber),i=rk(this._normalizedRanges,r=>r.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const r=this._normalizedRanges[t];this._normalizedRanges[t]=r.join(e)}else{const r=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,r)}}contains(e){const t=t0(this._normalizedRanges,i=>i.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=t0(this._normalizedRanges,i=>i.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;const t=[];let i=0,r=0,s=null;for(;i<this._normalizedRanges.length||r<e._normalizedRanges.length;){let o=null;if(i<this._normalizedRanges.length&&r<e._normalizedRanges.length){const a=this._normalizedRanges[i],l=e._normalizedRanges[r];a.startLineNumber<l.startLineNumber?(o=a,i++):(o=l,r++)}else i<this._normalizedRanges.length?(o=this._normalizedRanges[i],i++):(o=e._normalizedRanges[r],r++);s===null?s=o:s.endLineNumberExclusive>=o.startLineNumber?s=new Xt(s.startLineNumber,Math.max(s.endLineNumberExclusive,o.endLineNumberExclusive)):(t.push(s),s=o)}return s!==null&&t.push(s),new Ml(t)}subtractFrom(e){const t=jV(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),i=rk(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)return new Ml([e]);const r=[];let s=e.startLineNumber;for(let o=t;o<i;o++){const a=this._normalizedRanges[o];a.startLineNumber>s&&r.push(new Xt(s,a.startLineNumber)),s=a.endLineNumberExclusive}return s<e.endLineNumberExclusive&&r.push(new Xt(s,e.endLineNumberExclusive)),new Ml(r)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let i=0,r=0;for(;i<this._normalizedRanges.length&&r<e._normalizedRanges.length;){const s=this._normalizedRanges[i],o=e._normalizedRanges[r],a=s.intersect(o);a&&!a.isEmpty&&t.push(a),s.endLineNumberExclusive<o.endLineNumberExclusive?i++:r++}return new Ml(t)}getWithDelta(e){return new Ml(this._normalizedRanges.map(t=>t.delta(e)))}}const jg=class jg{static betweenPositions(e,t){return e.lineNumber===t.lineNumber?new jg(0,t.column-e.column):new jg(t.lineNumber-e.lineNumber,t.column-1)}static ofRange(e){return jg.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0,i=0;for(const r of e)r===`
`?(t++,i=0):i++;return new jg(t,i)}constructor(e,t){this.lineCount=e,this.columnCount=t}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}createRange(e){return this.lineCount===0?new _e(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new _e(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(e){return this.lineCount===0?new Pe(e.lineNumber,e.column+this.columnCount):new Pe(e.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};jg.zero=new jg(0,0);let Op=jg;class kut{constructor(e){this.text=e,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}getOffsetRange(e){return new dn(this.getOffset(e.getStartPosition()),this.getOffset(e.getEndPosition()))}get textLength(){const e=this.lineStartOffsetByLineIdx.length-1;return new Op(e,this.text.length-this.lineStartOffsetByLineIdx[e])}}class Lut{constructor(e){this.edits=e,pv(()=>Dq(e,(t,i)=>t.range.getEndPosition().isBeforeOrEqual(i.range.getStartPosition())))}apply(e){let t="",i=new Pe(1,1);for(const s of this.edits){const o=s.range,a=o.getStartPosition(),l=o.getEndPosition(),c=Cce(i,a);c.isEmpty()||(t+=e.getValueOfRange(c)),t+=s.text,i=l}const r=Cce(i,e.endPositionExclusive);return r.isEmpty()||(t+=e.getValueOfRange(r)),t}applyToString(e){const t=new Dut(e);return this.apply(t)}getNewRanges(){const e=[];let t=0,i=0,r=0;for(const s of this.edits){const o=Op.ofText(s.text),a=Pe.lift({lineNumber:s.range.startLineNumber+i,column:s.range.startColumn+(s.range.startLineNumber===t?r:0)}),l=o.createRange(a);e.push(l),i=l.endLineNumber-s.range.endLineNumber,r=l.endColumn-s.range.endColumn,t=s.range.endLineNumber}return e}}class Eut{constructor(e,t){this.range=e,this.text=t}toSingleEditOperation(){return{range:this.range,text:this.text}}}function Cce(n,e){if(n.lineNumber===e.lineNumber&&n.column===Number.MAX_SAFE_INTEGER)return _e.fromPositions(e,e);if(!n.isBeforeOrEqual(e))throw new ti("start must be before end");return new _e(n.lineNumber,n.column,e.lineNumber,e.column)}class b0e{get endPositionExclusive(){return this.length.addToPosition(new Pe(1,1))}}class Dut extends b0e{constructor(e){super(),this.value=e,this._t=new kut(this.value)}getValueOfRange(e){return this._t.getOffsetRange(e).substring(this.value)}get length(){return this._t.textLength}}class xo{static inverse(e,t,i){const r=[];let s=1,o=1;for(const l of e){const c=new xo(new Xt(s,l.original.startLineNumber),new Xt(o,l.modified.startLineNumber));c.modified.isEmpty||r.push(c),s=l.original.endLineNumberExclusive,o=l.modified.endLineNumberExclusive}const a=new xo(new Xt(s,t+1),new Xt(o,i+1));return a.modified.isEmpty||r.push(a),r}static clip(e,t,i){const r=[];for(const s of e){const o=s.original.intersect(t),a=s.modified.intersect(i);o&&!o.isEmpty&&a&&!a.isEmpty&&r.push(new xo(o,a))}return r}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new xo(this.modified,this.original)}join(e){return new xo(this.original.join(e.original),this.modified.join(e.modified))}toRangeMapping(){const e=this.original.toInclusiveRange(),t=this.modified.toInclusiveRange();if(e&&t)return new Ya(e,t);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new ti("not a valid diff");return new Ya(new _e(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new _e(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new Ya(new _e(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new _e(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(e,t){if(_ce(this.original.endLineNumberExclusive,e)&&_ce(this.modified.endLineNumberExclusive,t))return new Ya(new _e(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new _e(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new Ya(_e.fromPositions(new Pe(this.original.startLineNumber,1),ty(new Pe(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),_e.fromPositions(new Pe(this.modified.startLineNumber,1),ty(new Pe(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new Ya(_e.fromPositions(ty(new Pe(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),e),ty(new Pe(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),_e.fromPositions(ty(new Pe(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),ty(new Pe(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));throw new ti}}function ty(n,e){if(n.lineNumber<1)return new Pe(1,1);if(n.lineNumber>e.length)return new Pe(e.length,e[e.length-1].length+1);const t=e[n.lineNumber-1];return n.column>t.length+1?new Pe(n.lineNumber,t.length+1):n}function _ce(n,e){return n>=1&&n<=e.length}class ll extends xo{static fromRangeMappings(e){const t=Xt.join(e.map(r=>Xt.fromRangeInclusive(r.originalRange))),i=Xt.join(e.map(r=>Xt.fromRangeInclusive(r.modifiedRange)));return new ll(t,i,e)}constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){var e;return new ll(this.modified,this.original,(e=this.innerChanges)==null?void 0:e.map(t=>t.flip()))}withInnerChangesFromLineRanges(){return new ll(this.original,this.modified,[this.toRangeMapping()])}}class Ya{static assertSorted(e){for(let t=1;t<e.length;t++){const i=e[t-1],r=e[t];if(!(i.originalRange.getEndPosition().isBeforeOrEqual(r.originalRange.getStartPosition())&&i.modifiedRange.getEndPosition().isBeforeOrEqual(r.modifiedRange.getStartPosition())))throw new ti("Range mappings must be sorted")}}constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Ya(this.modifiedRange,this.originalRange)}toTextEdit(e){const t=e.getValueOfRange(this.modifiedRange);return new Eut(this.originalRange,t)}}const Tut=3;class Iut{computeDiff(e,t,i){var l;const s=new Nut(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),o=[];let a=null;for(const c of s.changes){let u;c.originalEndLineNumber===0?u=new Xt(c.originalStartLineNumber+1,c.originalStartLineNumber+1):u=new Xt(c.originalStartLineNumber,c.originalEndLineNumber+1);let d;c.modifiedEndLineNumber===0?d=new Xt(c.modifiedStartLineNumber+1,c.modifiedStartLineNumber+1):d=new Xt(c.modifiedStartLineNumber,c.modifiedEndLineNumber+1);let h=new ll(u,d,(l=c.charChanges)==null?void 0:l.map(f=>new Ya(new _e(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn),new _e(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn))));a&&(a.modified.endLineNumberExclusive===h.modified.startLineNumber||a.original.endLineNumberExclusive===h.original.startLineNumber)&&(h=new ll(a.original.join(h.original),a.modified.join(h.modified),a.innerChanges&&h.innerChanges?a.innerChanges.concat(h.innerChanges):void 0),o.pop()),o.push(h),a=h}return pv(()=>Dq(o,(c,u)=>u.original.startLineNumber-c.original.endLineNumberExclusive===u.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<u.original.startLineNumber&&c.modified.endLineNumberExclusive<u.modified.startLineNumber)),new uT(o,[],s.quitEarly)}}function v0e(n,e,t,i){return new sf(n,e,t).ComputeDiff(i)}let wce=class{constructor(e){const t=[],i=[];for(let r=0,s=e.length;r<s;r++)t[r]=UV(e[r],1),i[r]=qV(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const r=[],s=[],o=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],u=e?this._startColumns[l]:1,d=e?this._endColumns[l]:c.length+1;for(let h=u;h<d;h++)r[a]=c.charCodeAt(h-1),s[a]=l+1,o[a]=h,a++;!e&&l<i&&(r[a]=10,s[a]=l+1,o[a]=c.length+1,a++)}return new Mut(r,s,o)}};class Mut{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class hC{constructor(e,t,i,r,s,o,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const r=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),u=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new hC(r,s,o,a,l,c,u,d)}}function Rut(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,r=n.length;i<r;i++){const s=n[i],o=s.originalStart-(t.originalStart+t.originalLength),a=s.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(o,a)<Tut?(t.originalLength=s.originalStart+s.originalLength-t.originalStart,t.modifiedLength=s.modifiedStart+s.modifiedLength-t.modifiedStart):(e.push(s),t=s)}return e}class VS{constructor(e,t,i,r,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(e,t,i,r,s,o,a){let l,c,u,d,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(u=r.getStartLineNumber(t.modifiedStart)-1,d=0):(u=r.getStartLineNumber(t.modifiedStart),d=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),p=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(f.getElements().length>0&&p.getElements().length>0){let m=v0e(f,p,s,!0).changes;a&&(m=Rut(m)),h=[];for(let v=0,C=m.length;v<C;v++)h.push(hC.createFromDiffChange(m[v],f,p))}}return new VS(l,c,u,d,h)}}class Nut{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new wce(e),this.modified=new wce(t),this.continueLineDiff=Sce(i.maxComputationTime),this.continueCharDiff=Sce(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=v0e(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(VS.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const r=[];let s=0,o=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,u=c?c.originalStart:this.originalLines.length,d=c?c.modifiedStart:this.modifiedLines.length;for(;s<u&&o<d;){const h=this.originalLines[s],f=this.modifiedLines[o];if(h!==f){{let p=UV(h,1),m=UV(f,1);for(;p>1&&m>1;){const v=h.charCodeAt(p-2),C=f.charCodeAt(m-2);if(v!==C)break;p--,m--}(p>1||m>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,p,o+1,1,m)}{let p=qV(h,1),m=qV(f,1);const v=h.length+1,C=f.length+1;for(;p<v&&m<C;){const y=h.charCodeAt(p-1),w=h.charCodeAt(m-1);if(y!==w)break;p++,m++}(p<v||m<C)&&this._pushTrimWhitespaceCharChange(r,s+1,p,v,o+1,m,C)}}s++,o++}c&&(r.push(VS.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=c.originalLength,o+=c.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,t,i,r,s,o,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a))return;let l;this.shouldComputeCharChanges&&(l=[new hC(t,i,t,r,s,o,s,a)]),e.push(new VS(t,t,s,s,l))}_mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber===t&&c.modifiedEndLineNumber===s?(this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new hC(t,i,t,r,s,o,s,a)),!0):c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===s?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new hC(t,i,t,r,s,o,s,a)),!0):!1}}function UV(n,e){const t=Oa(n);return t===-1?e:t+1}function qV(n,e){const t=Wv(n);return t===-1?e:t+2}function Sce(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}class xf{static trivial(e,t){return new xf([new Gr(dn.ofLength(e.length),dn.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new xf([new Gr(dn.ofLength(e.length),dn.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class Gr{static invert(e,t){const i=[];return Pye(e,(r,s)=>{i.push(Gr.fromOffsetPairs(r?r.getEndExclusives():uf.zero,s?s.getStarts():new uf(t,(r?r.seq2Range.endExclusive-r.seq1Range.endExclusive:0)+t)))}),i}static fromOffsetPairs(e,t){return new Gr(new dn(e.offset1,t.offset1),new dn(e.offset2,t.offset2))}static assertSorted(e){let t;for(const i of e){if(t&&!(t.seq1Range.endExclusive<=i.seq1Range.start&&t.seq2Range.endExclusive<=i.seq2Range.start))throw new ti("Sequence diffs must be sorted");t=i}}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new Gr(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new Gr(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new Gr(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new Gr(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new Gr(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(!(!t||!i))return new Gr(t,i)}getStarts(){return new uf(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new uf(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}const gb=class gb{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){return e===0?this:new gb(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}};gb.zero=new gb(0,0),gb.max=new gb(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let uf=gb;const CR=class CR{isValid(){return!0}};CR.instance=new CR;let sk=CR;class Aut{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new ti("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class Y7{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function GV(n){return n===32||n===9}const px=class px{static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let r=0;for(let s=e.startLineNumber-1;s<e.endLineNumberExclusive-1;s++){const o=t[s];for(let l=0;l<o.length;l++){r++;const c=o[l],u=px.getKey(c);this.histogram[u]=(this.histogram[u]||0)+1}r++;const a=px.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=r}computeSimilarity(e){let t=0;const i=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<i;r++)t+=Math.abs((this.histogram[r]??0)-(e.histogram[r]??0));return 1-t/(this.totalCount+e.totalCount)}};px.chrKeys=new Map;let $I=px;class Put{compute(e,t,i=sk.instance,r){if(e.length===0||t.length===0)return xf.trivial(e,t);const s=new Y7(e.length,t.length),o=new Y7(e.length,t.length),a=new Y7(e.length,t.length);for(let p=0;p<e.length;p++)for(let m=0;m<t.length;m++){if(!i.isValid())return xf.trivialTimedOut(e,t);const v=p===0?0:s.get(p-1,m),C=m===0?0:s.get(p,m-1);let y;e.getElement(p)===t.getElement(m)?(p===0||m===0?y=0:y=s.get(p-1,m-1),p>0&&m>0&&o.get(p-1,m-1)===3&&(y+=a.get(p-1,m-1)),y+=r?r(p,m):1):y=-1;const w=Math.max(v,C,y);if(w===y){const _=p>0&&m>0?a.get(p-1,m-1):0;a.set(p,m,_+1),o.set(p,m,3)}else w===v?(a.set(p,m,0),o.set(p,m,1)):w===C&&(a.set(p,m,0),o.set(p,m,2));s.set(p,m,w)}const l=[];let c=e.length,u=t.length;function d(p,m){(p+1!==c||m+1!==u)&&l.push(new Gr(new dn(p+1,c),new dn(m+1,u))),c=p,u=m}let h=e.length-1,f=t.length-1;for(;h>=0&&f>=0;)o.get(h,f)===3?(d(h,f),h--,f--):o.get(h,f)===1?h--:f--;return d(-1,-1),l.reverse(),new xf(l,!1)}}class y0e{compute(e,t,i=sk.instance){if(e.length===0||t.length===0)return xf.trivial(e,t);const r=e,s=t;function o(m,v){for(;m<r.length&&v<s.length&&r.getElement(m)===s.getElement(v);)m++,v++;return m}let a=0;const l=new Out;l.set(0,o(0,0));const c=new Fut;c.set(0,l.get(0)===0?null:new xce(null,0,0,l.get(0)));let u=0;e:for(;;){if(a++,!i.isValid())return xf.trivialTimedOut(r,s);const m=-Math.min(a,s.length+a%2),v=Math.min(a,r.length+a%2);for(u=m;u<=v;u+=2){const C=u===v?-1:l.get(u+1),y=u===m?-1:l.get(u-1)+1,w=Math.min(Math.max(C,y),r.length),_=w-u;if(w>r.length||_>s.length)continue;const x=o(w,_);l.set(u,x);const k=w===C?c.get(u+1):c.get(u-1);if(c.set(u,x!==w?new xce(k,w,_,x-w):k),l.get(u)===r.length&&l.get(u)-u===s.length)break e}}let d=c.get(u);const h=[];let f=r.length,p=s.length;for(;;){const m=d?d.x+d.length:0,v=d?d.y+d.length:0;if((m!==f||v!==p)&&h.push(new Gr(new dn(m,f),new dn(v,p))),!d)break;f=d.x,p=d.y,d=d.prev}return h.reverse(),new xf(h,!1)}}class xce{constructor(e,t,i,r){this.prev=e,this.x=t,this.y=i,this.length=r}}class Out{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const i=this.negativeArr;this.negativeArr=new Int32Array(i.length*2),this.negativeArr.set(i)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const i=this.positiveArr;this.positiveArr=new Int32Array(i.length*2),this.positiveArr.set(i)}this.positiveArr[e]=t}}}class Fut{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}class jI{constructor(e,t,i){this.lines=e,this.range=t,this.considerWhitespaceChanges=i,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let r=this.range.startLineNumber;r<=this.range.endLineNumber;r++){let s=e[r-1],o=0;r===this.range.startLineNumber&&this.range.startColumn>1&&(o=this.range.startColumn-1,s=s.substring(o)),this.lineStartOffsets.push(o);let a=0;if(!i){const c=s.trimStart();a=s.length-c.length,s=c.trimEnd()}this.trimmedWsLengthsByLineIdx.push(a);const l=r===this.range.endLineNumber?Math.min(this.range.endColumn-1-o-a,s.length):s.length;for(let c=0;c<l;c++)this.elements.push(s.charCodeAt(c));r<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new dn(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=Lce(e>0?this.elements[e-1]:-1),i=Lce(e<this.elements.length?this.elements[e]:-1);if(t===7&&i===8)return 0;if(t===8)return 150;let r=0;return t!==i&&(r+=10,t===0&&i===1&&(r+=1)),r+=kce(t),r+=kce(i),r}translateOffset(e,t="right"){const i=rk(this.firstElementOffsetByLineIdx,s=>s<=e),r=e-this.firstElementOffsetByLineIdx[i];return new Pe(this.range.startLineNumber+i,1+this.lineStartOffsets[i]+r+(r===0&&t==="left"?0:this.trimmedWsLengthsByLineIdx[i]))}translateRange(e){const t=this.translateOffset(e.start,"right"),i=this.translateOffset(e.endExclusive,"left");return i.isBefore(t)?_e.fromPositions(i,i):_e.fromPositions(t,i)}findWordContaining(e){if(e<0||e>=this.elements.length||!X7(this.elements[e]))return;let t=e;for(;t>0&&X7(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&X7(this.elements[i]);)i++;return new dn(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){const t=t0(this.firstElementOffsetByLineIdx,r=>r<=e.start)??0,i=_ut(this.firstElementOffsetByLineIdx,r=>e.endExclusive<=r)??this.elements.length;return new dn(t,i)}}function X7(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const But={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function kce(n){return But[n]}function Lce(n){return n===10?8:n===13?7:GV(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}function Hut(n,e,t,i,r,s){let{moves:o,excludedChanges:a}=zut(n,e,t,s);if(!s.isValid())return[];const l=n.filter(u=>!a.has(u)),c=Wut(l,i,r,e,t,s);return aH(o,c),o=$ut(o),o=o.filter(u=>{const d=u.original.toOffsetRange().slice(e).map(f=>f.trim());return d.join(`
`).length>=15&&Vut(d,f=>f.length>=2)>=2}),o=jut(n,o),o}function Vut(n,e){let t=0;for(const i of n)e(i)&&t++;return t}function zut(n,e,t,i){const r=[],s=n.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new $I(l.original,e,l)),o=new Set(n.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new $I(l.modified,t,l))),a=new Set;for(const l of s){let c=-1,u;for(const d of o){const h=l.computeSimilarity(d);h>c&&(c=h,u=d)}if(c>.9&&u&&(o.delete(u),r.push(new xo(l.range,u.range)),a.add(l.source),a.add(u.source)),!i.isValid())return{moves:r,excludedChanges:a}}return{moves:r,excludedChanges:a}}function Wut(n,e,t,i,r,s){const o=[],a=new g0e;for(const h of n)for(let f=h.original.startLineNumber;f<h.original.endLineNumberExclusive-2;f++){const p=`${e[f-1]}:${e[f+1-1]}:${e[f+2-1]}`;a.add(p,{range:new Xt(f,f+3)})}const l=[];n.sort(Dc(h=>h.modified.startLineNumber,mp));for(const h of n){let f=[];for(let p=h.modified.startLineNumber;p<h.modified.endLineNumberExclusive-2;p++){const m=`${t[p-1]}:${t[p+1-1]}:${t[p+2-1]}`,v=new Xt(p,p+3),C=[];a.forEach(m,({range:y})=>{for(const _ of f)if(_.originalLineRange.endLineNumberExclusive+1===y.endLineNumberExclusive&&_.modifiedLineRange.endLineNumberExclusive+1===v.endLineNumberExclusive){_.originalLineRange=new Xt(_.originalLineRange.startLineNumber,y.endLineNumberExclusive),_.modifiedLineRange=new Xt(_.modifiedLineRange.startLineNumber,v.endLineNumberExclusive),C.push(_);return}const w={modifiedLineRange:v,originalLineRange:y};l.push(w),C.push(w)}),f=C}if(!s.isValid())return[]}l.sort(qrt(Dc(h=>h.modifiedLineRange.length,mp)));const c=new Ml,u=new Ml;for(const h of l){const f=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,p=c.subtractFrom(h.modifiedLineRange),m=u.subtractFrom(h.originalLineRange).getWithDelta(f),v=p.getIntersection(m);for(const C of v.ranges){if(C.length<3)continue;const y=C,w=C.delta(-f);o.push(new xo(w,y)),c.addRange(y),u.addRange(w)}}o.sort(Dc(h=>h.original.startLineNumber,mp));const d=new WI(n);for(let h=0;h<o.length;h++){const f=o[h],p=d.findLastMonotonous(k=>k.original.startLineNumber<=f.original.startLineNumber),m=t0(n,k=>k.modified.startLineNumber<=f.modified.startLineNumber),v=Math.max(f.original.startLineNumber-p.original.startLineNumber,f.modified.startLineNumber-m.modified.startLineNumber),C=d.findLastMonotonous(k=>k.original.startLineNumber<f.original.endLineNumberExclusive),y=t0(n,k=>k.modified.startLineNumber<f.modified.endLineNumberExclusive),w=Math.max(C.original.endLineNumberExclusive-f.original.endLineNumberExclusive,y.modified.endLineNumberExclusive-f.modified.endLineNumberExclusive);let _;for(_=0;_<v;_++){const k=f.original.startLineNumber-_-1,D=f.modified.startLineNumber-_-1;if(k>i.length||D>r.length||c.contains(D)||u.contains(k)||!Ece(i[k-1],r[D-1],s))break}_>0&&(u.addRange(new Xt(f.original.startLineNumber-_,f.original.startLineNumber)),c.addRange(new Xt(f.modified.startLineNumber-_,f.modified.startLineNumber)));let x;for(x=0;x<w;x++){const k=f.original.endLineNumberExclusive+x,D=f.modified.endLineNumberExclusive+x;if(k>i.length||D>r.length||c.contains(D)||u.contains(k)||!Ece(i[k-1],r[D-1],s))break}x>0&&(u.addRange(new Xt(f.original.endLineNumberExclusive,f.original.endLineNumberExclusive+x)),c.addRange(new Xt(f.modified.endLineNumberExclusive,f.modified.endLineNumberExclusive+x))),(_>0||x>0)&&(o[h]=new xo(new Xt(f.original.startLineNumber-_,f.original.endLineNumberExclusive+x),new Xt(f.modified.startLineNumber-_,f.modified.endLineNumberExclusive+x)))}return o}function Ece(n,e,t){if(n.trim()===e.trim())return!0;if(n.length>300&&e.length>300)return!1;const r=new y0e().compute(new jI([n],new _e(1,1,1,n.length),!1),new jI([e],new _e(1,1,1,e.length),!1),t);let s=0;const o=Gr.invert(r.diffs,n.length);for(const u of o)u.seq1Range.forEach(d=>{GV(n.charCodeAt(d))||s++});function a(u){let d=0;for(let h=0;h<n.length;h++)GV(u.charCodeAt(h))||d++;return d}const l=a(n.length>e.length?n:e);return s/l>.6&&l>10}function $ut(n){if(n.length===0)return n;n.sort(Dc(t=>t.original.startLineNumber,mp));const e=[n[0]];for(let t=1;t<n.length;t++){const i=e[e.length-1],r=n[t],s=r.original.startLineNumber-i.original.endLineNumberExclusive,o=r.modified.startLineNumber-i.modified.endLineNumberExclusive;if(s>=0&&o>=0&&s+o<=2){e[e.length-1]=i.join(r);continue}e.push(r)}return e}function jut(n,e){const t=new WI(n);return e=e.filter(i=>{const r=t.findLastMonotonous(a=>a.original.startLineNumber<i.original.endLineNumberExclusive)||new xo(new Xt(1,1),new Xt(1,1)),s=t0(n,a=>a.modified.startLineNumber<i.modified.endLineNumberExclusive);return r!==s}),e}function KV(n,e,t){let i=t;return i=Dce(n,e,i),i=Dce(n,e,i),i=Uut(n,e,i),i}function Dce(n,e,t){if(t.length===0)return t;const i=[];i.push(t[0]);for(let s=1;s<t.length;s++){const o=i[i.length-1];let a=t[s];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-o.seq1Range.endExclusive;let c;for(c=1;c<=l&&!(n.getElement(a.seq1Range.start-c)!==n.getElement(a.seq1Range.endExclusive-c)||e.getElement(a.seq2Range.start-c)!==e.getElement(a.seq2Range.endExclusive-c));c++);if(c--,c===l){i[i.length-1]=new Gr(new dn(o.seq1Range.start,a.seq1Range.endExclusive-l),new dn(o.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-c)}i.push(a)}const r=[];for(let s=0;s<i.length-1;s++){const o=i[s+1];let a=i[s];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=o.seq1Range.start-a.seq1Range.endExclusive;let c;for(c=0;c<l&&!(!n.isStronglyEqual(a.seq1Range.start+c,a.seq1Range.endExclusive+c)||!e.isStronglyEqual(a.seq2Range.start+c,a.seq2Range.endExclusive+c));c++);if(c===l){i[s+1]=new Gr(new dn(a.seq1Range.start+l,o.seq1Range.endExclusive),new dn(a.seq2Range.start+l,o.seq2Range.endExclusive));continue}c>0&&(a=a.delta(c))}r.push(a)}return i.length>0&&r.push(i[i.length-1]),r}function Uut(n,e,t){if(!n.getBoundaryScore||!e.getBoundaryScore)return t;for(let i=0;i<t.length;i++){const r=i>0?t[i-1]:void 0,s=t[i],o=i+1<t.length?t[i+1]:void 0,a=new dn(r?r.seq1Range.endExclusive+1:0,o?o.seq1Range.start-1:n.length),l=new dn(r?r.seq2Range.endExclusive+1:0,o?o.seq2Range.start-1:e.length);s.seq1Range.isEmpty?t[i]=Tce(s,n,e,a,l):s.seq2Range.isEmpty&&(t[i]=Tce(s.swap(),e,n,l,a).swap())}return t}function Tce(n,e,t,i,r){let o=1;for(;n.seq1Range.start-o>=i.start&&n.seq2Range.start-o>=r.start&&t.isStronglyEqual(n.seq2Range.start-o,n.seq2Range.endExclusive-o)&&o<100;)o++;o--;let a=0;for(;n.seq1Range.start+a<i.endExclusive&&n.seq2Range.endExclusive+a<r.endExclusive&&t.isStronglyEqual(n.seq2Range.start+a,n.seq2Range.endExclusive+a)&&a<100;)a++;if(o===0&&a===0)return n;let l=0,c=-1;for(let u=-o;u<=a;u++){const d=n.seq2Range.start+u,h=n.seq2Range.endExclusive+u,f=n.seq1Range.start+u,p=e.getBoundaryScore(f)+t.getBoundaryScore(d)+t.getBoundaryScore(h);p>c&&(c=p,l=u)}return n.delta(l)}function qut(n,e,t){const i=[];for(const r of t){const s=i[i.length-1];if(!s){i.push(r);continue}r.seq1Range.start-s.seq1Range.endExclusive<=2||r.seq2Range.start-s.seq2Range.endExclusive<=2?i[i.length-1]=new Gr(s.seq1Range.join(r.seq1Range),s.seq2Range.join(r.seq2Range)):i.push(r)}return i}function Gut(n,e,t){const i=Gr.invert(t,n.length),r=[];let s=new uf(0,0);function o(l,c){if(l.offset1<s.offset1||l.offset2<s.offset2)return;const u=n.findWordContaining(l.offset1),d=e.findWordContaining(l.offset2);if(!u||!d)return;let h=new Gr(u,d);const f=h.intersect(c);let p=f.seq1Range.length,m=f.seq2Range.length;for(;i.length>0;){const v=i[0];if(!(v.seq1Range.intersects(h.seq1Range)||v.seq2Range.intersects(h.seq2Range)))break;const y=n.findWordContaining(v.seq1Range.start),w=e.findWordContaining(v.seq2Range.start),_=new Gr(y,w),x=_.intersect(v);if(p+=x.seq1Range.length,m+=x.seq2Range.length,h=h.join(_),h.seq1Range.endExclusive>=v.seq1Range.endExclusive)i.shift();else break}p+m<(h.seq1Range.length+h.seq2Range.length)*2/3&&r.push(h),s=h.getEndExclusives()}for(;i.length>0;){const l=i.shift();l.seq1Range.isEmpty||(o(l.getStarts(),l),o(l.getEndExclusives().delta(-1),l))}return Kut(t,r)}function Kut(n,e){const t=[];for(;n.length>0||e.length>0;){const i=n[0],r=e[0];let s;i&&(!r||i.seq1Range.start<r.seq1Range.start)?s=n.shift():s=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=s.seq1Range.start?t[t.length-1]=t[t.length-1].join(s):t.push(s)}return t}function Qut(n,e,t){let i=t;if(i.length===0)return i;let r=0,s;do{s=!1;const o=[i[0]];for(let a=1;a<i.length;a++){let u=function(h,f){const p=new dn(c.seq1Range.endExclusive,l.seq1Range.start);return n.getText(p).replace(/\s/g,"").length<=4&&(h.seq1Range.length+h.seq2Range.length>5||f.seq1Range.length+f.seq2Range.length>5)};const l=i[a],c=o[o.length-1];u(c,l)?(s=!0,o[o.length-1]=o[o.length-1].join(l)):o.push(l)}i=o}while(r++<10&&s);return i}function Yut(n,e,t){let i=t;if(i.length===0)return i;let r=0,s;do{s=!1;const a=[i[0]];for(let l=1;l<i.length;l++){let d=function(f,p){const m=new dn(u.seq1Range.endExclusive,c.seq1Range.start);if(n.countLinesIn(m)>5||m.length>500)return!1;const C=n.getText(m).trim();if(C.length>20||C.split(/\r\n|\r|\n/).length>1)return!1;const y=n.countLinesIn(f.seq1Range),w=f.seq1Range.length,_=e.countLinesIn(f.seq2Range),x=f.seq2Range.length,k=n.countLinesIn(p.seq1Range),D=p.seq1Range.length,T=e.countLinesIn(p.seq2Range),L=p.seq2Range.length,I=2*40+50;function R(N){return Math.min(N,I)}return Math.pow(Math.pow(R(y*40+w),1.5)+Math.pow(R(_*40+x),1.5),1.5)+Math.pow(Math.pow(R(k*40+D),1.5)+Math.pow(R(T*40+L),1.5),1.5)>(I**1.5)**1.5*1.3};const c=i[l],u=a[a.length-1];d(u,c)?(s=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}i=a}while(r++<10&&s);const o=[];return zrt(i,(a,l,c)=>{let u=l;function d(C){return C.length>0&&C.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const h=n.extendToFullLines(l.seq1Range),f=n.getText(new dn(h.start,l.seq1Range.start));d(f)&&(u=u.deltaStart(-f.length));const p=n.getText(new dn(l.seq1Range.endExclusive,h.endExclusive));d(p)&&(u=u.deltaEnd(p.length));const m=Gr.fromOffsetPairs(a?a.getEndExclusives():uf.zero,c?c.getStarts():uf.max),v=u.intersect(m);o.length>0&&v.getStarts().equals(o[o.length-1].getEndExclusives())?o[o.length-1]=o[o.length-1].join(v):o.push(v)}),o}class Ice{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:Mce(this.lines[e-1]),i=e===this.lines.length?0:Mce(this.lines[e]);return 1e3-(t+i)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function Mce(n){let e=0;for(;e<n.length&&(n.charCodeAt(e)===32||n.charCodeAt(e)===9);)e++;return e}class C0e{constructor(){this.dynamicProgrammingDiffing=new Put,this.myersDiffingAlgorithm=new y0e}computeDiff(e,t,i){if(e.length<=1&&es(e,t,(x,k)=>x===k))return new uT([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new uT([new ll(new Xt(1,e.length+1),new Xt(1,t.length+1),[new Ya(new _e(1,1,e.length,e[e.length-1].length+1),new _e(1,1,t.length,t[t.length-1].length+1))])],[],!1);const r=i.maxComputationTimeMs===0?sk.instance:new Aut(i.maxComputationTimeMs),s=!i.ignoreTrimWhitespace,o=new Map;function a(x){let k=o.get(x);return k===void 0&&(k=o.size,o.set(x,k)),k}const l=e.map(x=>a(x.trim())),c=t.map(x=>a(x.trim())),u=new Ice(l,e),d=new Ice(c,t),h=u.length+d.length<1700?this.dynamicProgrammingDiffing.compute(u,d,r,(x,k)=>e[x]===t[k]?t[k].length===0?.1:1+Math.log(1+t[k].length):.99):this.myersDiffingAlgorithm.compute(u,d,r);let f=h.diffs,p=h.hitTimeout;f=KV(u,d,f),f=Qut(u,d,f);const m=[],v=x=>{if(s)for(let k=0;k<x;k++){const D=C+k,T=y+k;if(e[D]!==t[T]){const L=this.refineDiff(e,t,new Gr(new dn(D,D+1),new dn(T,T+1)),r,s);for(const I of L.mappings)m.push(I);L.hitTimeout&&(p=!0)}}};let C=0,y=0;for(const x of f){pv(()=>x.seq1Range.start-C===x.seq2Range.start-y);const k=x.seq1Range.start-C;v(k),C=x.seq1Range.endExclusive,y=x.seq2Range.endExclusive;const D=this.refineDiff(e,t,x,r,s);D.hitTimeout&&(p=!0);for(const T of D.mappings)m.push(T)}v(e.length-C);const w=Rce(m,e,t);let _=[];return i.computeMoves&&(_=this.computeMoves(w,e,t,l,c,r,s)),pv(()=>{function x(D,T){if(D.lineNumber<1||D.lineNumber>T.length)return!1;const L=T[D.lineNumber-1];return!(D.column<1||D.column>L.length+1)}function k(D,T){return!(D.startLineNumber<1||D.startLineNumber>T.length+1||D.endLineNumberExclusive<1||D.endLineNumberExclusive>T.length+1)}for(const D of w){if(!D.innerChanges)return!1;for(const T of D.innerChanges)if(!(x(T.modifiedRange.getStartPosition(),t)&&x(T.modifiedRange.getEndPosition(),t)&&x(T.originalRange.getStartPosition(),e)&&x(T.originalRange.getEndPosition(),e)))return!1;if(!k(D.modified,t)||!k(D.original,e))return!1}return!0}),new uT(w,_,p)}computeMoves(e,t,i,r,s,o,a){return Hut(e,t,i,r,s,o).map(u=>{const d=this.refineDiff(t,i,new Gr(u.original.toOffsetRange(),u.modified.toOffsetRange()),o,a),h=Rce(d.mappings,t,i,!0);return new p0e(u,h)})}refineDiff(e,t,i,r,s){const a=Zut(i).toRangeMapping2(e,t),l=new jI(e,a.originalRange,s),c=new jI(t,a.modifiedRange,s),u=l.length+c.length<500?this.dynamicProgrammingDiffing.compute(l,c,r):this.myersDiffingAlgorithm.compute(l,c,r);let d=u.diffs;return d=KV(l,c,d),d=Gut(l,c,d),d=qut(l,c,d),d=Yut(l,c,d),{mappings:d.map(f=>new Ya(l.translateRange(f.seq1Range),c.translateRange(f.seq2Range))),hitTimeout:u.hitTimeout}}}function Rce(n,e,t,i=!1){const r=[];for(const s of qU(n.map(o=>Xut(o,e,t)),(o,a)=>o.original.overlapOrTouch(a.original)||o.modified.overlapOrTouch(a.modified))){const o=s[0],a=s[s.length-1];r.push(new ll(o.original.join(a.original),o.modified.join(a.modified),s.map(l=>l.innerChanges[0])))}return pv(()=>!i&&r.length>0&&(r[0].modified.startLineNumber!==r[0].original.startLineNumber||t.length-r[r.length-1].modified.endLineNumberExclusive!==e.length-r[r.length-1].original.endLineNumberExclusive)?!1:Dq(r,(s,o)=>o.original.startLineNumber-s.original.endLineNumberExclusive===o.modified.startLineNumber-s.modified.endLineNumberExclusive&&s.original.endLineNumberExclusive<o.original.startLineNumber&&s.modified.endLineNumberExclusive<o.modified.startLineNumber)),r}function Xut(n,e,t){let i=0,r=0;n.modifiedRange.endColumn===1&&n.originalRange.endColumn===1&&n.originalRange.startLineNumber+i<=n.originalRange.endLineNumber&&n.modifiedRange.startLineNumber+i<=n.modifiedRange.endLineNumber&&(r=-1),n.modifiedRange.startColumn-1>=t[n.modifiedRange.startLineNumber-1].length&&n.originalRange.startColumn-1>=e[n.originalRange.startLineNumber-1].length&&n.originalRange.startLineNumber<=n.originalRange.endLineNumber+r&&n.modifiedRange.startLineNumber<=n.modifiedRange.endLineNumber+r&&(i=1);const s=new Xt(n.originalRange.startLineNumber+i,n.originalRange.endLineNumber+1+r),o=new Xt(n.modifiedRange.startLineNumber+i,n.modifiedRange.endLineNumber+1+r);return new ll(s,o,[n])}function Zut(n){return new xo(new Xt(n.seq1Range.start+1,n.seq1Range.endExclusive+1),new Xt(n.seq2Range.start+1,n.seq2Range.endExclusive+1))}const Nce={getLegacy:()=>new Iut,getDefault:()=>new C0e};function Cp(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class Vn{constructor(e,t,i,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Cp(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class yc{constructor(e,t,i,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Cp(Math.max(Math.min(1,t),0),3),this.l=Cp(Math.max(Math.min(1,i),0),3),this.a=Cp(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=e.a,o=Math.max(t,i,r),a=Math.min(t,i,r);let l=0,c=0;const u=(a+o)/2,d=o-a;if(d>0){switch(c=Math.min(u<=.5?d/(2*u):d/(2-2*u),1),o){case t:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-t)/d+2;break;case r:l=(t-i)/d+4;break}l*=60,l=Math.round(l)}return new yc(l,c,u,s)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:r,a:s}=e;let o,a,l;if(i===0)o=a=l=r;else{const c=r<.5?r*(1+i):r+i-r*i,u=2*r-c;o=yc._hue2rgb(u,c,t+1/3),a=yc._hue2rgb(u,c,t),l=yc._hue2rgb(u,c,t-1/3)}return new Vn(Math.round(o*255),Math.round(a*255),Math.round(l*255),s)}}class ky{constructor(e,t,i,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Cp(Math.max(Math.min(1,t),0),3),this.v=Cp(Math.max(Math.min(1,i),0),3),this.a=Cp(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=s-o,l=s===0?0:a/s;let c;return a===0?c=0:s===t?c=((i-r)/a%6+6)%6:s===i?c=(r-t)/a+2:c=(t-i)/a+4,new ky(Math.round(c*60),l,s,e.a)}static toRGBA(e){const{h:t,s:i,v:r,a:s}=e,o=r*i,a=o*(1-Math.abs(t/60%2-1)),l=r-o;let[c,u,d]=[0,0,0];return t<60?(c=o,u=a):t<120?(c=a,u=o):t<180?(u=o,d=a):t<240?(u=a,d=o):t<300?(c=a,d=o):t<=360&&(c=o,d=a),c=Math.round((c+l)*255),u=Math.round((u+l)*255),d=Math.round((d+l)*255),new Vn(c,u,d,s)}}const sr=class sr{static fromHex(e){return sr.Format.CSS.parseHex(e)||sr.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:yc.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:ky.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof Vn)this.rgba=e;else if(e instanceof yc)this._hsla=e,this.rgba=yc.toRGBA(e);else if(e instanceof ky)this._hsva=e,this.rgba=ky.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&Vn.equals(this.rgba,e.rgba)&&yc.equals(this.hsla,e.hsla)&&ky.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=sr._relativeLuminanceForComponent(this.rgba.r),t=sr._relativeLuminanceForComponent(this.rgba.g),i=sr._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*i;return Cp(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new sr(new yc(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new sr(new yc(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:r,a:s}=this.rgba;return new sr(new Vn(t,i,r,s*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new sr(new Vn(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:r,a:s}=this.rgba;return new sr(new Vn(e.rgba.r-s*(e.rgba.r-t),e.rgba.g-s*(e.rgba.g-i),e.rgba.b-s*(e.rgba.b-r),1))}toString(){return this._toString||(this._toString=sr.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(s-r)/s,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(r-s)/r,e.darken(i)}};sr.white=new sr(new Vn(255,255,255,1)),sr.black=new sr(new Vn(0,0,0,1)),sr.red=new sr(new Vn(255,0,0,1)),sr.blue=new sr(new Vn(0,0,255,1)),sr.green=new sr(new Vn(0,255,0,1)),sr.cyan=new sr(new Vn(0,255,255,1)),sr.lightgrey=new sr(new Vn(211,211,211,1)),sr.transparent=new sr(new Vn(0,0,0,0));let tt=sr;(function(n){(function(e){(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:n.Format.CSS.formatRGBA(f)}t.formatRGB=i;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=r;function s(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(f)}t.formatHSL=s;function o(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=o;function a(f){const p=f.toString(16);return p.length!==2?"0"+p:p}function l(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}t.formatHex=l;function c(f,p=!1){return p&&f.rgba.a===1?n.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}t.formatHexA=c;function u(f){return f.isOpaque()?n.Format.CSS.formatHex(f):n.Format.CSS.formatRGBA(f)}t.format=u;function d(f){const p=f.length;if(p===0||f.charCodeAt(0)!==35)return null;if(p===7){const m=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),v=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),C=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new n(new Vn(m,v,C,1))}if(p===9){const m=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),v=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),C=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),y=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new n(new Vn(m,v,C,y/255))}if(p===4){const m=h(f.charCodeAt(1)),v=h(f.charCodeAt(2)),C=h(f.charCodeAt(3));return new n(new Vn(16*m+m,16*v+v,16*C+C))}if(p===5){const m=h(f.charCodeAt(1)),v=h(f.charCodeAt(2)),C=h(f.charCodeAt(3)),y=h(f.charCodeAt(4));return new n(new Vn(16*m+m,16*v+v,16*C+C,(16*y+y)/255))}return null}t.parseHex=d;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(tt);function _0e(n){const e=[];for(const t of n){const i=Number(t);(i||i===0&&t.replace(/\s/g,"")!=="")&&e.push(i)}return e}function Pq(n,e,t,i){return{red:n/255,blue:t/255,green:e/255,alpha:i}}function Hw(n,e){const t=e.index,i=e[0].length;if(!t)return;const r=n.positionAt(t);return{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column+i}}function Jut(n,e){if(!n)return;const t=tt.Format.CSS.parseHex(e);if(t)return{range:n,color:Pq(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function Ace(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),s=_0e(r);return{range:n,color:Pq(s[0],s[1],s[2],t?s[3]:1)}}function Pce(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),s=_0e(r),o=new tt(new yc(s[0],s[1]/100,s[2]/100,t?s[3]:1));return{range:n,color:Pq(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function Vw(n,e){return typeof n=="string"?[...n.matchAll(e)]:n.findMatches(e)}function edt(n){const e=[],i=Vw(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const r of i){const s=r.filter(c=>c!==void 0),o=s[1],a=s[2];if(!a)continue;let l;if(o==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=Ace(Hw(n,r),Vw(a,c),!1)}else if(o==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=Ace(Hw(n,r),Vw(a,c),!0)}else if(o==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=Pce(Hw(n,r),Vw(a,c),!1)}else if(o==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=Pce(Hw(n,r),Vw(a,c),!0)}else o==="#"&&(l=Jut(Hw(n,r),o+a));l&&e.push(l)}return e}function tdt(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:edt(n)}const Oce=new RegExp("\\bMARK:\\s*(.*)$","d"),ndt=/^-+|-+$/g;function idt(n,e){var i;let t=[];if(e.findRegionSectionHeaders&&((i=e.foldingRules)!=null&&i.markers)){const r=rdt(n,e);t=t.concat(r)}if(e.findMarkSectionHeaders){const r=sdt(n);t=t.concat(r)}return t}function rdt(n,e){const t=[],i=n.getLineCount();for(let r=1;r<=i;r++){const s=n.getLineContent(r),o=s.match(e.foldingRules.markers.start);if(o){const a={startLineNumber:r,startColumn:o[0].length+1,endLineNumber:r,endColumn:s.length+1};if(a.endColumn>a.startColumn){const l={range:a,...w0e(s.substring(o[0].length)),shouldBeInComments:!1};(l.text||l.hasSeparatorLine)&&t.push(l)}}}return t}function sdt(n){const e=[],t=n.getLineCount();for(let i=1;i<=t;i++){const r=n.getLineContent(i);odt(r,i,e)}return e}function odt(n,e,t){Oce.lastIndex=0;const i=Oce.exec(n);if(i){const r=i.indices[1][0]+1,s=i.indices[1][1]+1,o={startLineNumber:e,startColumn:r,endLineNumber:e,endColumn:s};if(o.endColumn>o.startColumn){const a={range:o,...w0e(i[1]),shouldBeInComments:!0};(a.text||a.hasSeparatorLine)&&t.push(a)}}}function w0e(n){n=n.trim();const e=n.startsWith("-");return n=n.replace(ndt,""),{text:n,hasSeparatorLine:e}}class adt{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=J1(e);const i=this.values,r=this.prefixSum,s=t.length;return s===0?!1:(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=J1(e),t=J1(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=J1(e),t=J1(t);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;const s=i.length-e;return t>=s&&(t=s),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=J1(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,r=0,s=0,o=0;for(;t<=i;)if(r=t+(i-t)/2|0,s=this.prefixSum[r],o=s-this.values[r],e<o)i=r-1;else if(e>=s)t=r+1;else break;return new S0e(r,e-o)}}class ldt{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new S0e(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=xA(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],r=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=r+i;for(let s=0;s<i;s++)this._indexBySum[r+s]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class S0e{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class cdt{constructor(e,t,i,r){this._uri=e,this._lines=t,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Pe(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new adt(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=J0(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const r=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(e.lineNumber+s-1,0,i[s]),r[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}const Fce=60*1e3;class udt extends je{constructor(e,t,i=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const r=new pq;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Fce/2)),this._register(r)}}dispose(){for(const e in this._syncedModels)Us(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t=!1){for(const i of e){const r=i.toString();this._syncedModels[r]||this._beginModelSync(i,t),this._syncedModels[r]&&(this._syncedModelsLastUsedTime[r]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>Fce&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const r=e.toString();this._proxy.$acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const s=new It;s.add(i.onDidChangeContent(o=>{this._proxy.$acceptModelChanged(r.toString(),o)})),s.add(i.onWillDispose(()=>{this._stopModelSync(r)})),s.add(cn(()=>{this._proxy.$acceptRemovedModel(r)})),this._syncedModels[r]=s}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Us(t)}}class ddt{constructor(){this._models=Object.create(null)}getModel(e){return this._models[e]}getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}$acceptNewModel(e){this._models[e.url]=new hdt(Sn.parse(e.url),e.lines,e.EOL,e.versionId)}$acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}$acceptRemovedModel(e){this._models[e]&&delete this._models[e]}}class hdt extends cdt{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const r=this._lines[i],s=this.offsetAt(new Pe(i+1,1)),o=r.matchAll(e);for(const a of o)(a.index||a.index===0)&&(a.index=a.index+s),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=Gx(e.column,JU(t),this._lines[e.lineNumber-1],0);return i?new _e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let r=0,s="",o=0,a=[];return{*[Symbol.iterator](){for(;;)if(o<a.length){const l=s.substring(a[o].start,a[o].end);o+=1,yield l}else if(r<t.length)s=t[r],a=i(s,e),o=0,r+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],r=this._wordenize(i,t),s=[];for(const o of r)s.push({word:i.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,t){const i=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let o=i+1;o<r;o++)s.push(this._lines[o]);return s.push(this._lines[r].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Pe.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,r=!1;if(t<1)t=1,i=1,r=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,r=!0;else{const s=this._lines[t-1].length+1;i<1?(i=1,r=!0):i>s&&(i=s,r=!0)}return r?{lineNumber:t,column:i}:e}}const _R=class _R{constructor(){this._workerTextModelSyncServer=new ddt}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e)}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t)}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e)}async $computeUnicodeHighlights(e,t,i){const r=this._getModel(e);return r?vut.computeUnicodeHighlights(r,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(e,t){const i=this._getModel(e);return i?idt(i,t):[]}async $computeDiff(e,t,i,r){const s=this._getModel(e),o=this._getModel(t);return!s||!o?null:dT.computeDiff(s,o,i,r)}static computeDiff(e,t,i,r){const s=r==="advanced"?Nce.getDefault():Nce.getLegacy(),o=e.getLinesContent(),a=t.getLinesContent(),l=s.computeDiff(o,a,i),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function u(d){return d.map(h=>{var f;return[h.original.startLineNumber,h.original.endLineNumberExclusive,h.modified.startLineNumber,h.modified.endLineNumberExclusive,(f=h.innerChanges)==null?void 0:f.map(p=>[p.originalRange.startLineNumber,p.originalRange.startColumn,p.originalRange.endLineNumber,p.originalRange.endColumn,p.modifiedRange.startLineNumber,p.modifiedRange.startColumn,p.modifiedRange.endLineNumber,p.modifiedRange.endColumn])]})}return{identical:c,quitEarly:l.hitTimeout,changes:u(l.changes),moves:l.moves.map(d=>[d.lineRangeMapping.original.startLineNumber,d.lineRangeMapping.original.endLineNumberExclusive,d.lineRangeMapping.modified.startLineNumber,d.lineRangeMapping.modified.endLineNumberExclusive,u(d.changes)])}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),r=t.getLineCount();if(i!==r)return!1;for(let s=1;s<=i;s++){const o=e.getLineContent(s),a=t.getLineContent(s);if(o!==a)return!1}return!0}async $computeMoreMinimalEdits(e,t,i){const r=this._getModel(e);if(!r)return t;const s=[];let o;t=t.slice(0).sort((l,c)=>{if(l.range&&c.range)return _e.compareRangesUsingStarts(l.range,c.range);const u=l.range?0:1,d=c.range?0:1;return u-d});let a=0;for(let l=1;l<t.length;l++)_e.getEndPosition(t[a].range).equals(_e.getStartPosition(t[l].range))?(t[a].range=_e.fromPositions(_e.getStartPosition(t[a].range),_e.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:c,eol:u}of t){if(typeof u=="number"&&(o=u),_e.isEmpty(l)&&!c)continue;const d=r.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,r.eol),d===c)continue;if(Math.max(c.length,d.length)>dT._diffLimit){s.push({range:l,text:c});continue}const h=Zct(d,c,i),f=r.offsetAt(_e.lift(l).getStartPosition());for(const p of h){const m=r.positionAt(f+p.originalStart),v=r.positionAt(f+p.originalStart+p.originalLength),C={text:c.substr(p.modifiedStart,p.modifiedLength),range:{startLineNumber:m.lineNumber,startColumn:m.column,endLineNumber:v.lineNumber,endColumn:v.column}};r.getValueInRange(C.range)!==C.text&&s.push(C)}}return typeof o=="number"&&s.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),s}async $computeLinks(e){const t=this._getModel(e);return t?iut(t):null}async $computeDefaultDocumentColors(e){const t=this._getModel(e);return t?tdt(t):null}async $textualSuggest(e,t,i,r){const s=new zv,o=new RegExp(i,r),a=new Set;e:for(const l of e){const c=this._getModel(l);if(c){for(const u of c.words(o))if(!(u===t||!isNaN(Number(u)))&&(a.add(u),a.size>dT._suggestionsLimit))break e}}return{words:Array.from(a),duration:s.elapsed()}}async $computeWordRanges(e,t,i,r){const s=this._getModel(e);if(!s)return Object.create(null);const o=new RegExp(i,r),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=s.getLineWords(l,o);for(const u of c){if(!isNaN(Number(u.word)))continue;let d=a[u.word];d||(d=[],a[u.word]=d),d.push({startLineNumber:l,startColumn:u.startColumn,endLineNumber:l,endColumn:u.endColumn})}}return a}async $navigateValueSet(e,t,i,r,s){const o=this._getModel(e);if(!o)return null;const a=new RegExp(r,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=o.getValueInRange(t),c=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const u=o.getValueInRange(c);return WV.INSTANCE.navigateValueSet(t,l,c,u,i)}};_R._diffLimit=1e5,_R._suggestionsLimit=1e4;let QV=_R;class dT extends QV{constructor(e,t){super(),this._host=e,this._foreignModuleFactory=t,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(e,t,i){const o={host:Zrt(i,(a,l)=>this._host.$fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(cH(this._foreignModule))):new Promise((a,l)=>{const c=u=>{this._foreignModule=u.create(o,t),a(cH(this._foreignModule))};{const u=TA.asBrowserUri(`${e}.js`).toString(!0);Aye(()=>import(`${u}`),[]).then(c).catch(l)}})}$fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}typeof importScripts=="function"&&(globalThis.monaco=hCe());const Oq=Nn("textResourceConfigurationService"),x0e=Nn("textResourcePropertiesService"),xi=Nn("ILanguageFeaturesService");var Fq=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},eb=function(n,e){return function(t,i){e(t,i,n)}};const Bce=5*60*1e3;function tb(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let YV=class extends je{constructor(e,t,i,r,s,o){super(),this._languageConfigurationService=s,this._modelService=t,this._workerManager=this._register(new XV(e,this._modelService)),this._logService=r,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:async(a,l)=>{if(!tb(this._modelService,a.uri))return Promise.resolve({links:[]});const u=await(await this._workerWithResources([a.uri])).$computeLinks(a.uri.toString());return u&&{links:u}}})),this._register(o.completionProvider.register("*",new fdt(this._workerManager,i,this._modelService,this._languageConfigurationService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return tb(this._modelService,e)}async computedUnicodeHighlights(e,t,i){return(await this._workerWithResources([e])).$computeUnicodeHighlights(e.toString(),t,i)}async computeDiff(e,t,i,r){const o=await(await this._workerWithResources([e,t],!0)).$computeDiff(e.toString(),t.toString(),i,r);if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:l(o.changes),moves:o.moves.map(c=>new p0e(new xo(new Xt(c[0],c[1]),new Xt(c[2],c[3])),l(c[4])))};function l(c){return c.map(u=>{var d;return new ll(new Xt(u[0],u[1]),new Xt(u[2],u[3]),(d=u[4])==null?void 0:d.map(h=>new Ya(new _e(h[0],h[1],h[2],h[3]),new _e(h[4],h[5],h[6],h[7]))))})}}async computeMoreMinimalEdits(e,t,i=!1){if(SA(t)){if(!tb(this._modelService,e))return Promise.resolve(t);const r=zv.create(),s=this._workerWithResources([e]).then(o=>o.$computeMoreMinimalEdits(e.toString(),t,i));return s.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),r.elapsed())),Promise.race([s,Jx(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return tb(this._modelService,e)}async navigateValueSet(e,t,i){const r=this._modelService.getModel(e);if(!r)return null;const s=this._languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),o=s.source,a=s.flags;return(await this._workerWithResources([e])).$navigateValueSet(e.toString(),t,i,o,a)}canComputeWordRanges(e){return tb(this._modelService,e)}async computeWordRanges(e,t){const i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);const r=this._languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),s=r.source,o=r.flags;return(await this._workerWithResources([e])).$computeWordRanges(e.toString(),t,s,o)}async findSectionHeaders(e,t){return(await this._workerWithResources([e])).$findSectionHeaders(e.toString(),t)}async computeDefaultDocumentColors(e){return(await this._workerWithResources([e])).$computeDefaultDocumentColors(e.toString())}async _workerWithResources(e,t=!1){return await(await this._workerManager.withWorker()).workerWithSyncedResources(e,t)}};YV=Fq([eb(1,Qo),eb(2,Oq),eb(3,Bu),eb(4,nh),eb(5,xi)],YV);class fdt{constructor(e,t,i,r){this.languageConfigurationService=r,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if(i.wordBasedSuggestions==="off")return;const r=[];if(i.wordBasedSuggestions==="currentDocument")tb(this._modelService,e.uri)&&r.push(e.uri);else for(const d of this._modelService.getModels())tb(this._modelService,d.uri)&&(d===e?r.unshift(d.uri):(i.wordBasedSuggestions==="allDocuments"||d.getLanguageId()===e.getLanguageId())&&r.push(d.uri));if(r.length===0)return;const s=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),o=e.getWordAtPosition(t),a=o?new _e(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):_e.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),u=await(await this._workerManager.withWorker()).textualSuggest(r,o==null?void 0:o.word,s);if(u)return{duration:u.duration,suggestions:u.words.map(d=>({kind:18,label:d,insertText:d,range:{insert:l,replace:a}}))}}}let XV=class extends je{constructor(e,t){super(),this._workerDescriptor=e,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new vq).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Bce/2),yi),this._register(this._modelService.onModelRemoved(r=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Bce&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new UI(this._workerDescriptor,!1,this._modelService)),Promise.resolve(this._editorWorkerClient)}};XV=Fq([eb(1,Qo)],XV);class gdt{constructor(e){this._instance=e,this.proxy=this._instance}dispose(){this._instance.dispose()}setChannel(e,t){throw new Error("Not supported")}}let UI=class extends je{constructor(e,t,i){super(),this._workerDescriptor=e,this._disposed=!1,this._modelService=i,this._keepIdleModels=t,this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(pct(this._workerDescriptor)),$V.setChannel(this._worker,this._createEditorWorkerHost())}catch(e){OV(e),this._worker=this._createFallbackLocalWorker()}return this._worker}async _getProxy(){try{const e=this._getOrCreateWorker().proxy;return await e.$ping(),e}catch(e){return OV(e),this._worker=this._createFallbackLocalWorker(),this._worker.proxy}}_createFallbackLocalWorker(){return new gdt(new dT(this._createEditorWorkerHost(),null))}_createEditorWorkerHost(){return{$fhr:(e,t)=>this.fhr(e,t)}}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new udt(e,this._modelService,this._keepIdleModels))),this._modelManager}async workerWithSyncedResources(e,t=!1){if(this._disposed)return Promise.reject(oot());const i=await this._getProxy();return this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i}async textualSuggest(e,t,i){const r=await this.workerWithSyncedResources(e),s=i.source,o=i.flags;return r.$textualSuggest(e.map(a=>a.toString()),t,s,o)}dispose(){super.dispose(),this._disposed=!0}};UI=Fq([eb(2,Qo)],UI);var Bl;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST_DARK="hcDark",n.HIGH_CONTRAST_LIGHT="hcLight"})(Bl||(Bl={}));function fC(n){return n===Bl.HIGH_CONTRAST_DARK||n===Bl.HIGH_CONTRAST_LIGHT}function qA(n){return n===Bl.DARK||n===Bl.HIGH_CONTRAST_DARK}const Zc=Nn("themeService");function ny(n){return{id:n}}function ZV(n){switch(n){case Bl.DARK:return"vs-dark";case Bl.HIGH_CONTRAST_DARK:return"hc-black";case Bl.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const k0e={ThemingContribution:"base.contributions.theming"};class pdt{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ke}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),cn(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const L0e=new pdt;Is.add(k0e.ThemingContribution,L0e);function Qf(n){return L0e.onColorThemeChange(n)}class mdt extends je{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var bdt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vdt=function(n,e){return function(t,i){e(t,i,n)}};let JV=class extends je{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new ke),this._onCodeEditorAdd=this._register(new ke),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ke),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new ke),this._onDiffEditorAdd=this._register(new ke),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new ke),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Aa,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const r=e.toString();let s;this._modelProperties.has(r)?s=this._modelProperties.get(r):(s=new Map,this._modelProperties.set(r,s)),s.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}async openCodeEditor(e,t,i){for(const r of this._codeEditorOpenHandlers){const s=await r(e,t,i);if(s!==null)return s}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return cn(t)}};JV=bdt([vdt(0,Zc)],JV);var ydt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Hce=function(n,e){return function(t,i){e(t,i,n)}};let qI=class extends JV{constructor(e,t){super(t),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,r,s)=>r?this.doOpenEditor(r,i):null))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const s=t.resource.scheme;if(s===Cn.http||s===Cn.https)return UCe(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const s={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(s),e.revealPositionInCenter(s,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};qI=ydt([Hce(0,ii),Hce(1,Zc)],qI);$n(ts,qI,0);const Jp=Nn("layoutService");var E0e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},D0e=function(n,e){return function(t,i){e(t,i,n)}};let GI=class{get mainContainer(){var e;return((e=KU(this._codeEditorService.listCodeEditors()))==null?void 0:e.getContainerDomNode())??yi.document.body}get activeContainer(){const e=this._codeEditorService.getFocusedCodeEditor()??this._codeEditorService.getActiveCodeEditor();return(e==null?void 0:e.getContainerDomNode())??this.mainContainer}get mainContainerDimension(){return DV(this.mainContainer)}get activeContainerDimension(){return DV(this.activeContainer)}get containers(){return GU(this._codeEditorService.listCodeEditors().map(e=>e.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())==null||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayoutMainContainer=ut.None,this.onDidLayoutActiveContainer=ut.None,this.onDidLayoutContainer=ut.None,this.onDidChangeActiveContainer=ut.None,this.onDidAddContainer=ut.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};GI=E0e([D0e(0,ts)],GI);let ez=class extends GI{get mainContainer(){return this._container}constructor(e,t){super(t),this._container=e}};ez=E0e([D0e(1,ts)],ez);$n(Jp,GI,1);var ok;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(ok||(ok={}));(function(n){const e="error",t="warning",i="warn",r="info",s="ignore";function o(l){return l?_y(e,l)?n.Error:_y(t,l)||_y(i,l)?n.Warning:_y(r,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=o;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return r;default:return s}}n.toString=a})(ok||(ok={}));const Vr=ok,T0e=Nn("dialogService");var Cdt=Vr;const Hu=Nn("notificationService");class _dt{}const Bq=Nn("undoRedoService");class I0e{constructor(e,t){this.resource=e,this.elements=t}}const Uy=class Uy{constructor(){this.id=Uy._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Uy._ID=0,Uy.None=new Uy;let tz=Uy;const qy=class qy{constructor(){this.id=qy._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};qy._ID=0,qy.None=new qy;let nb=qy;var wdt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vce=function(n,e){return function(t,i){e(t,i,n)}};function YD(n){return n.scheme===Cn.file?n.fsPath:n.path}let M0e=0;class XD{constructor(e,t,i,r,s,o,a){this.id=++M0e,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class zce{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Wce{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);const i=[];return e.length>0&&i.push(P({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(P({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Sdt{constructor(e,t,i,r,s,o,a){this.id=++M0e,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new Wce),this.removedResources.has(t)||this.removedResources.set(t,new zce(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Wce),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new zce(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class R0e{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,r=this._past.length;i<r;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new I0e(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,r=0,s=-1;for(let a=0,l=this._past.length;a<l;a++,r++){const c=this._past[a];i&&(r>=t||c.id!==e.elements[r])&&(i=!1,s=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let a=this._future.length-1;a>=0;a--,r++){const l=this._future[a];i&&(r>=t||l.id!==e.elements[r])&&(i=!1,o=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}s!==-1&&(this._past=this._past.slice(0,s)),o!==-1&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class Z7{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const N0e=new R0e("","");N0e.locked=!0;let nz=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=tz.None,i=nb.None){if(e.type===0){const r=YD(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new XD(e,r,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const r=new Set,s=[],o=[];for(const a of e.resources){const l=YD(a),c=this.getUriComparisonKey(a);r.has(c)||(r.add(c),s.push(l),o.push(c))}s.length===1?this._pushElement(new XD(e,s[0],o[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Sdt(e,s,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const r=e.resourceLabels[t],s=e.strResources[t];let o;this._editStacks.has(s)?o=this._editStacks.get(s):(o=new R0e(r,s),this._editStacks.set(s,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const r=i.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=YD(s.resource),a=this.getUriComparisonKey(s.resource),l=new XD(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=YD(s.resource),a=this.getUriComparisonKey(s.resource),l=new XD(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new I0e(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,i=r)}return[t,i]}canUndo(e){if(e instanceof nb){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){_i(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,r,s){const o=this._acquireLocks(i);let a;try{a=t()}catch(l){return o(),r.dispose(),this._onError(l,e)}return a?a.then(()=>(o(),r.dispose(),s()),l=>(o(),r.dispose(),this._onError(l,e))):(o(),r.dispose(),s())}async _invokeWorkspacePrepare(e){if(typeof e.actual.prepareUndoRedo>"u")return je.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?je.None:t}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(je.None);const i=e.actual.prepareUndoRedo();return i?Zye(i)?t(i):i.then(r=>t(r)):t(je.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||N0e);return new Z7(t)}_tryToSplitAndUndo(e,t,i,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(r),new ZD(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new ZD}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,P({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,P({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,P({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,P({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,P({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const r=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,r,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,r){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(u){u[u.All=0]="All",u[u.This=1]="This",u[u.Cancel=2]="Cancel"})(a||(a={}));const{result:l}=await this._dialogService.prompt({type:Vr.Info,message:P("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:P({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:P({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(l===a.Cancel)return;if(l===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const c=this._checkWorkspaceUndo(e,t,i,!1);if(c)return c.returnValue;r=!0}let s;try{s=await this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return s.dispose(),o.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,s,()=>this._continueUndoInGroup(t.groupId,r))}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=P({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new Z7([e]),r,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof nb){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),s=r.getClosestPastElement();if(!s)return;if(s.groupId){const[a,l]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&l)return this._undo(l,t,i)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,s);try{return s.type===1?this._workspaceUndo(e,s,i):this._resourceUndo(r,s,i)}finally{}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:P("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:P({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:P("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,i=r)}return[t,i]}canRedo(e){if(e instanceof nb){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(r),new ZD(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new ZD}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,P({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,P({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,P({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,P({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,P({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,i,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let r;try{r=await this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const s=this._checkWorkspaceRedo(e,t,i,!0);if(s)return r.dispose(),s.returnValue;for(const o of i.editStacks)o.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,r,()=>this._continueRedoInGroup(t.groupId))}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=P({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new Z7([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof nb){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[r,s]=this._findClosestRedoElementInGroup(i.groupId);if(i!==r&&s)return this._redo(s)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};nz=wdt([Vce(0,T0e),Vce(1,Hu)],nz);class ZD{constructor(e){this.returnValue=e}}$n(Bq,nz,1);function sa(n,e,t){return Math.min(Math.max(n,e),t)}class A0e{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class xdt{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const P0e=Nn("environmentService");var kdt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$ce=function(n,e){return function(t,i){e(t,i,n)}};const Ldt=Nn("ILanguageFeatureDebounceService");var KI;(function(n){const e=new WeakMap;let t=0;function i(r){let s=e.get(r);return s===void 0&&(s=++t,e.set(r,s)),s}n.of=i})(KI||(KI={}));class Edt{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class Ddt{constructor(e,t,i,r,s,o){this._logService=e,this._name=t,this._registry=i,this._default=r,this._min=s,this._max=o,this._cache=new IL(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>IA(KI.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?sa(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let r=this._cache.get(i);r||(r=new xdt(6),this._cache.set(i,r));const s=sa(r.update(t),this._min,this._max);return mq(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${s}ms`),s}_overall(){const e=new A0e;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return sa(e,this._min,this._max)}}let iz=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){const r=(i==null?void 0:i.min)??50,s=(i==null?void 0:i.max)??r**2,o=(i==null?void 0:i.key)??void 0,a=`${KI.of(e)},${r}${o?","+o:""}`;let l=this._data.get(a);return l||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),l=new Edt(r*1.5)):l=new Ddt(this._logService,t,e,this._overallAverage()|0||r*1.5,r,s),this._data.set(a,l)),l}_overallAverage(){const e=new A0e;for(const t of this._data.values())e.update(t.default());return e.value}};iz=kdt([$ce(0,Bu),$ce(1,P0e)],iz);$n(Ldt,iz,1);class bu{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e);const r=this.getFontStyle(e);return r&1&&(i+=" mtki"),r&2&&(i+=" mtkb"),r&4&&(i+=" mtku"),r&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),r=this.getFontStyle(e);let s=`color: ${t[i]};`;r&1&&(s+="font-style: italic;"),r&2&&(s+="font-weight: bold;");let o="";return r&4&&(o+=" underline"),r&8&&(o+=" line-through"),o&&(s+=`text-decoration:${o};`),s}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(i&1),bold:!!(i&2),underline:!!(i&4),strikethrough:!!(i&8)}}}function n0(n){let e=0,t=0,i=0,r=0;for(let s=0,o=n.length;s<o;s++){const a=n.charCodeAt(s);a===13?(e===0&&(t=s),e++,s+1<o&&n.charCodeAt(s+1)===10?(r|=2,s++):r|=3,i=s+1):a===10&&(r|=1,e===0&&(t=s),e++,i=s+1)}return e===0&&(t=n.length),[e,t,n.length-i,r]}var Tdt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},J7=function(n,e){return function(t,i){e(t,i,n)}};let rz=class{constructor(e,t,i,r){this._legend=e,this._themeService=t,this._languageService=i,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new sz}getMetadata(e,t,i){const r=this._languageService.languageIdCodec.encodeLanguageId(i),s=this._hashTable.get(e,t,r);let o;if(s)o=s.metadata;else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let d=0;c>0&&d<this._legend.tokenModifiers.length;d++)c&1&&l.push(this._legend.tokenModifiers[d]),c=c>>1;const u=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);if(typeof u>"u")o=2147483647;else{if(o=0,typeof u.italic<"u"){const d=(u.italic?1:0)<<11;o|=d|1}if(typeof u.bold<"u"){const d=(u.bold?2:0)<<11;o|=d|2}if(typeof u.underline<"u"){const d=(u.underline?4:0)<<11;o|=d|4}if(typeof u.strikethrough<"u"){const d=(u.strikethrough?8:0)<<11;o|=d|8}if(u.foreground){const d=u.foreground<<15;o|=d|16}o===0&&(o=2147483647)}}else o=2147483647,a="not-in-legend";this._hashTable.add(e,t,r,o)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,r,s){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${r} is outside the previous data (length ${s}).`))}};rz=Tdt([J7(1,Zc),J7(2,bs),J7(3,Bu)],rz);class Idt{constructor(e,t,i,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=r,this.next=null}}const Kh=class Kh{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Kh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Kh._SIZES.length?2/3*this._currentLength:0),this._elements=[],Kh._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const r=this._hashFunc(e,t,i);let s=this._elements[r];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===i)return s;s=s.next}return null}add(e,t,i,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=Kh._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Kh._SIZES.length?2/3*this._currentLength:0),this._elements=[],Kh._nullOutEntries(this._elements,this._currentLength);for(const o of s){let a=o;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new Idt(e,t,i,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}};Kh._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];let sz=Kh;const Mdt=Nn("semanticTokensStylingService");var Rdt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},e6=function(n,e){return function(t,i){e(t,i,n)}};let oz=class extends je{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new rz(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};oz=Rdt([e6(0,Zc),e6(1,Bu),e6(2,bs)],oz);$n(Mdt,oz,1);function Ig(n){return n===47||n===92}function O0e(n){return n.replace(/[\\/]/g,Lr.sep)}function Ndt(n){return n.indexOf("/")===-1&&(n=O0e(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function jce(n,e=Lr.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(Ig(i)){if(Ig(n.charCodeAt(1))&&!Ig(n.charCodeAt(2))){let s=3;const o=s;for(;s<t&&!Ig(n.charCodeAt(s));s++);if(o!==s&&!Ig(n.charCodeAt(s+1))){for(s+=1;s<t;s++)if(Ig(n.charCodeAt(s)))return n.slice(0,s+1).replace(/[\\/]/g,e)}}return e}else if(Adt(i)&&n.charCodeAt(1)===58)return Ig(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let r=n.indexOf("://");if(r!==-1){for(r+=3;r<t;r++)if(Ig(n.charCodeAt(r)))return n.slice(0,r+1)}return""}function az(n,e,t,i=yp){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!lq(n,e))return!1;if(e.length===n.length)return!0;let s=e.length;return e.charAt(e.length-1)===i&&s--,n.charAt(s)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function Adt(n){return n>=65&&n<=90||n>=97&&n<=122}const JD="**",Uce="/",hT="[/\\\\]",fT="[^/\\\\]",Pdt=/\//g;function qce(n,e){switch(n){case 0:return"";case 1:return`${fT}*?`;default:return`(?:${hT}|${fT}+${hT}${e?`|${hT}${fT}+`:""})*?`}}function Gce(n,e){if(!n)return[];const t=[];let i=!1,r=!1,s="";for(const o of n){switch(o){case e:if(!i&&!r){t.push(s),s="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1;break}s+=o}return s&&t.push(s),t}function F0e(n){if(!n)return"";let e="";const t=Gce(n,Uce);if(t.every(i=>i===JD))e=".*";else{let i=!1;t.forEach((r,s)=>{if(r===JD){if(i)return;e+=qce(2,s===t.length-1)}else{let o=!1,a="",l=!1,c="";for(const u of r){if(u!=="}"&&o){a+=u;continue}if(l&&(u!=="]"||!c)){let d;u==="-"?d=u:(u==="^"||u==="!")&&!c?d="^":u===Uce?d="":d=Af(u),c+=d;continue}switch(u){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{const h=`(?:${Gce(a,",").map(f=>F0e(f)).join("|")})`;e+=h,o=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=fT;continue;case"*":e+=qce(1);continue;default:e+=Af(u)}}s<t.length-1&&(t[s+1]!==JD||s+2<t.length)&&(e+=hT)}i=r===JD})}return e}const Odt=/^\*\*\/\*\.[\w\.-]+$/,Fdt=/^\*\*\/([\w\.-]+)\/?$/,Bdt=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Hdt=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Vdt=/^\*\*((\/[\w\.-]+)+)\/?$/,zdt=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Kce=new IL(1e4),Qce=function(){return!1},Pd=function(){return null};function Hq(n,e){if(!n)return Pd;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let r=Kce.get(i);if(r)return Yce(r,n);let s;return Odt.test(t)?r=Wdt(t.substr(4),t):(s=Fdt.exec(t6(t,e)))?r=$dt(s[1],t):(e.trimForExclusions?Hdt:Bdt).test(t)?r=jdt(t,e):(s=Vdt.exec(t6(t,e)))?r=Xce(s[1].substr(1),t,!0):(s=zdt.exec(t6(t,e)))?r=Xce(s[1],t,!1):r=Udt(t),Kce.set(i,r),Yce(r,n)}function Yce(n,e){if(typeof e=="string")return n;const t=function(i,r){return az(i,e.base,!ga)?n(DA(i.substr(e.base.length),yp),r):null};return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}function t6(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function Wdt(n,e){return function(t,i){return typeof t=="string"&&t.endsWith(n)?e:null}}function $dt(n,e){const t=`/${n}`,i=`\\${n}`,r=function(o,a){return typeof o!="string"?null:a?a===n?e:null:o===n||o.endsWith(t)||o.endsWith(i)?e:null},s=[n];return r.basenames=s,r.patterns=[e],r.allBasenames=s,r}function jdt(n,e){const t=H0e(n.slice(1,-1).split(",").map(a=>Hq(a,e)).filter(a=>a!==Pd),n),i=t.length;if(!i)return Pd;if(i===1)return t[0];const r=function(a,l){for(let c=0,u=t.length;c<u;c++)if(t[c](a,l))return n;return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function Xce(n,e,t){const i=yp===Lr.sep,r=i?n:n.replace(Pdt,yp),s=yp+r,o=Lr.sep+n;let a;return t?a=function(l,c){return typeof l=="string"&&(l===r||l.endsWith(s)||!i&&(l===n||l.endsWith(o)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===r||!i&&l===n)?e:null},a.allPaths=[(t?"*/":"./")+n],a}function Udt(n){try{const e=new RegExp(`^${F0e(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return Pd}}function qdt(n,e,t){return!n||typeof e!="string"?!1:B0e(n)(e,void 0,t)}function B0e(n,e={}){if(!n)return Qce;if(typeof n=="string"||Gdt(n)){const t=Hq(n,e);if(t===Pd)return Qce;const i=function(r,s){return!!t(r,s)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return Kdt(n,e)}function Gdt(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function Kdt(n,e){const t=H0e(Object.getOwnPropertyNames(n).map(a=>Qdt(a,n[a],e)).filter(a=>a!==Pd)),i=t.length;if(!i)return Pd;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(u,d){let h;for(let f=0,p=t.length;f<p;f++){const m=t[f](u,d);if(typeof m=="string")return m;CV(m)&&(h||(h=[]),h.push(m))}return h?(async()=>{for(const f of h){const p=await f;if(typeof p=="string")return p}return null})():null},l=t.find(u=>!!u.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((u,d)=>d.allPaths?u.concat(d.allPaths):u,[]);return c.length&&(a.allPaths=c),a}const r=function(a,l,c){let u,d;for(let h=0,f=t.length;h<f;h++){const p=t[h];p.requiresSiblings&&c&&(l||(l=oCe(a)),u||(u=l.substr(0,l.length-Not(a).length)));const m=p(a,l,u,c);if(typeof m=="string")return m;CV(m)&&(d||(d=[]),d.push(m))}return d?(async()=>{for(const h of d){const f=await h;if(typeof f=="string")return f}return null})():null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function Qdt(n,e,t){if(e===!1)return Pd;const i=Hq(n,t);if(i===Pd)return Pd;if(typeof e=="boolean")return i;if(e){const r=e.when;if(typeof r=="string"){const s=(o,a,l,c)=>{if(!c||!i(o,a))return null;const u=r.replace("$(basename)",()=>l),d=c(u);return CV(d)?d.then(h=>h?n:null):d?n:null};return s.requiresSiblings=!0,s}}return i}function H0e(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let r;if(e){r=[];for(let a=0,l=i.length;a<l;a++)r.push(e)}else r=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const s=function(a,l){if(typeof a!="string")return null;if(!l){let u;for(u=a.length;u>0;u--){const d=a.charCodeAt(u-1);if(d===47||d===92)break}l=a.substr(u)}const c=i.indexOf(l);return c!==-1?r[c]:null};s.basenames=i,s.patterns=r,s.allBasenames=i;const o=n.filter(a=>!a.basenames);return o.push(s),o}function V0e(n,e,t,i,r,s){if(Array.isArray(n)){let o=0;for(const a of n){const l=V0e(a,e,t,i,r,s);if(l===10)return l;l>o&&(o=l)}return o}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:o,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:u}=n;if(!i&&!c)return 0;u&&r&&(e=r);let d=0;if(l)if(l===e.scheme)d=10;else if(l==="*")d=5;else return 0;if(o)if(o===t)d=10;else if(o==="*")d=Math.max(d,5);else return 0;if(u)if(u===s)d=10;else if(u==="*"&&s!==void 0)d=Math.max(d,5);else return 0;if(a){let h;if(typeof a=="string"?h=a:h={...a,base:sCe(a.base)},h===e.fsPath||qdt(h,e.fsPath))d=10;else return 0}return d}else return 0}}function z0e(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(z0e):!!n.exclusive}class Zce{constructor(e,t,i,r,s){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=r,this.recursive=s}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)==null?void 0:t.toString())===((i=e.notebookUri)==null?void 0:i.toString())&&this.recursive===e.recursive}}class qi{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new ke,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),cn(()=>{if(i){const r=this._entries.indexOf(i);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e,!1);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e,t=!1){const i=[];return this._orderedForEach(e,t,r=>i.push(r.provider)),i}orderedGroups(e){const t=[];let i,r;return this._orderedForEach(e,!1,s=>{i&&r===s._score?i.push(s.provider):(r=s._score,i=[s.provider],t.push(i))}),t}_orderedForEach(e,t,i){this._updateScores(e,t);for(const r of this._entries)r._score>0&&i(r)}_updateScores(e,t){var s,o;const i=(s=this._notebookInfoResolver)==null?void 0:s.call(this,e.uri),r=i?new Zce(e.uri,e.getLanguageId(),i.uri,i.type,t):new Zce(e.uri,e.getLanguageId(),void 0,void 0,t);if(!((o=this._lastCandidate)!=null&&o.equals(r))){this._lastCandidate=r;for(const a of this._entries)if(a._score=V0e(a.selector,r.uri,r.languageId,fut(e),r.notebookUri,r.notebookType),z0e(a.selector)&&a._score>0)if(t)a._score=0;else{for(const l of this._entries)l._score=0;a._score=1e3;break}this._entries.sort(qi._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:lS(e.selector)&&!lS(t.selector)?1:!lS(e.selector)&&lS(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function lS(n){return typeof n=="string"?!1:Array.isArray(n)?n.some(lS):!!n.isBuiltin}class Ydt{constructor(){this.referenceProvider=new qi(this._score.bind(this)),this.renameProvider=new qi(this._score.bind(this)),this.newSymbolNamesProvider=new qi(this._score.bind(this)),this.codeActionProvider=new qi(this._score.bind(this)),this.definitionProvider=new qi(this._score.bind(this)),this.typeDefinitionProvider=new qi(this._score.bind(this)),this.declarationProvider=new qi(this._score.bind(this)),this.implementationProvider=new qi(this._score.bind(this)),this.documentSymbolProvider=new qi(this._score.bind(this)),this.inlayHintsProvider=new qi(this._score.bind(this)),this.colorProvider=new qi(this._score.bind(this)),this.codeLensProvider=new qi(this._score.bind(this)),this.documentFormattingEditProvider=new qi(this._score.bind(this)),this.documentRangeFormattingEditProvider=new qi(this._score.bind(this)),this.onTypeFormattingEditProvider=new qi(this._score.bind(this)),this.signatureHelpProvider=new qi(this._score.bind(this)),this.hoverProvider=new qi(this._score.bind(this)),this.documentHighlightProvider=new qi(this._score.bind(this)),this.multiDocumentHighlightProvider=new qi(this._score.bind(this)),this.selectionRangeProvider=new qi(this._score.bind(this)),this.foldingRangeProvider=new qi(this._score.bind(this)),this.linkProvider=new qi(this._score.bind(this)),this.inlineCompletionsProvider=new qi(this._score.bind(this)),this.inlineEditProvider=new qi(this._score.bind(this)),this.completionProvider=new qi(this._score.bind(this)),this.linkedEditingRangeProvider=new qi(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new qi(this._score.bind(this)),this.documentSemanticTokensProvider=new qi(this._score.bind(this)),this.documentDropEditProvider=new qi(this._score.bind(this)),this.documentPasteEditProvider=new qi(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)==null?void 0:t.call(this,e)}}$n(xi,Ydt,1);function Vq(n){return`--vscode-${n.replace(/\./g,"-")}`}function mt(n){return`var(${Vq(n)})`}function Xdt(n,e){return`var(${Vq(n)}, ${e})`}function Zdt(n){return n!==null&&typeof n=="object"&&"light"in n&&"dark"in n}const W0e={ColorContribution:"base.contributions.colors"},Jdt="default";class eht{constructor(){this._onDidChangeSchema=new ke,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,r=!1,s){const o={id:e,description:i,defaults:t,needsTransparency:r,deprecationMessage:s};this.colorsById[e]=o;const a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(a.deprecationMessage=s),r&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=P("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:Jdt,description:P("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i!=null&&i.defaults){const r=Zdt(i.defaults)?i.defaults[t.type]:i.defaults;return lu(r,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const r=t.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return r!==s?r-s:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const GA=new eht;Is.add(W0e.ColorContribution,GA);function ge(n,e,t,i,r){return GA.registerColor(n,e,t,i,r)}function tht(n,e){var t,i,r,s;switch(n.op){case 0:return(t=lu(n.value,e))==null?void 0:t.darken(n.factor);case 1:return(i=lu(n.value,e))==null?void 0:i.lighten(n.factor);case 2:return(r=lu(n.value,e))==null?void 0:r.transparent(n.factor);case 3:{const o=lu(n.background,e);return o?(s=lu(n.value,e))==null?void 0:s.makeOpaque(o):lu(n.value,e)}case 4:for(const o of n.values){const a=lu(o,e);if(a)return a}return;case 6:return lu(e.defines(n.if)?n.then:n.else,e);case 5:{const o=lu(n.value,e);if(!o)return;const a=lu(n.background,e);return a?o.isDarkerThan(a)?tt.getLighterColor(o,a,n.factor).transparent(n.transparency):tt.getDarkerColor(o,a,n.factor).transparent(n.transparency):o.transparent(n.factor*n.transparency)}default:throw Eq()}}function Xv(n,e){return{op:0,value:n,factor:e}}function ku(n,e){return{op:1,value:n,factor:e}}function Ln(n,e){return{op:2,value:n,factor:e}}function Jce(...n){return{op:4,values:n}}function nht(n,e,t){return{op:6,if:n,then:e,else:t}}function eue(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function lu(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?tt.fromHex(n):e.getColor(n);if(n instanceof tt)return n;if(typeof n=="object")return tht(n,e)}}const $0e="vscode://schemas/workbench-colors",j0e=Is.as(UA.JSONContribution);j0e.registerSchema($0e,GA.getColorSchema());const tue=new Lo(()=>j0e.notifySchemaChanged($0e),200);GA.onDidChangeSchema(()=>{tue.isScheduled()||tue.schedule()});const Ci=ge("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},P("foreground","Overall foreground color. This color is only used if not overridden by a component."));ge("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},P("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));ge("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},P("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));ge("descriptionForeground",{light:"#717171",dark:Ln(Ci,.7),hcDark:Ln(Ci,.7),hcLight:Ln(Ci,.7)},P("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const lz=ge("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},P("iconForeground","The default color for icons in the workbench.")),$d=ge("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},P("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Gn=ge("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},P("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Dr=ge("contrastActiveBorder",{light:null,dark:null,hcDark:$d,hcLight:$d},P("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));ge("selection.background",null,P("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));const iht=ge("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},P("textLinkForeground","Foreground color for links in text."));ge("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},P("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));ge("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:tt.black,hcLight:"#292929"},P("textSeparatorForeground","Color for text separators."));ge("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},P("textPreformatForeground","Foreground color for preformatted text segments."));ge("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},P("textPreformatBackground","Background color for preformatted text segments."));ge("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},P("textBlockQuoteBackground","Background color for block quotes in text."));ge("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:tt.white,hcLight:"#292929"},P("textBlockQuoteBorder","Border color for block quotes in text."));ge("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:tt.black,hcLight:"#F2F2F2"},P("textCodeBlockBackground","Background color for code blocks in text."));ge("sash.hoverBorder",$d,P("sashActiveBorder","Border color of active sashes."));const gT=ge("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:tt.black,hcLight:"#0F4A85"},P("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),rht=ge("badge.foreground",{dark:tt.white,light:"#333",hcDark:tt.white,hcLight:tt.white},P("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),zq=ge("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},P("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),U0e=ge("scrollbarSlider.background",{dark:tt.fromHex("#797979").transparent(.4),light:tt.fromHex("#646464").transparent(.4),hcDark:Ln(Gn,.6),hcLight:Ln(Gn,.4)},P("scrollbarSliderBackground","Scrollbar slider background color.")),q0e=ge("scrollbarSlider.hoverBackground",{dark:tt.fromHex("#646464").transparent(.7),light:tt.fromHex("#646464").transparent(.7),hcDark:Ln(Gn,.8),hcLight:Ln(Gn,.8)},P("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),G0e=ge("scrollbarSlider.activeBackground",{dark:tt.fromHex("#BFBFBF").transparent(.4),light:tt.fromHex("#000000").transparent(.6),hcDark:Gn,hcLight:Gn},P("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),sht=ge("progressBar.background",{dark:tt.fromHex("#0E70C0"),light:tt.fromHex("#0E70C0"),hcDark:Gn,hcLight:Gn},P("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Mu=ge("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:tt.black,hcLight:tt.white},P("editorBackground","Editor background color.")),ML=ge("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:tt.white,hcLight:Ci},P("editorForeground","Editor default foreground color."));ge("editorStickyScroll.background",Mu,P("editorStickyScrollBackground","Background color of sticky scroll in the editor"));ge("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:tt.fromHex("#0F4A85").transparent(.1)},P("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));ge("editorStickyScroll.border",{dark:null,light:null,hcDark:Gn,hcLight:Gn},P("editorStickyScrollBorder","Border color of sticky scroll in the editor"));ge("editorStickyScroll.shadow",zq,P("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const xc=ge("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:tt.white},P("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),KA=ge("editorWidget.foreground",Ci,P("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),K0e=ge("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Gn,hcLight:Gn},P("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));ge("editorWidget.resizeBorder",null,P("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));ge("editorError.background",null,P("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const Wq=ge("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},P("editorError.foreground","Foreground color of error squigglies in the editor."));ge("editorError.border",{dark:null,light:null,hcDark:tt.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},P("errorBorder","If set, color of double underlines for errors in the editor."));const oht=ge("editorWarning.background",null,P("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Fp=ge("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},P("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),QI=ge("editorWarning.border",{dark:null,light:null,hcDark:tt.fromHex("#FFCC00").transparent(.8),hcLight:tt.fromHex("#FFCC00").transparent(.8)},P("warningBorder","If set, color of double underlines for warnings in the editor."));ge("editorInfo.background",null,P("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const bv=ge("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},P("editorInfo.foreground","Foreground color of info squigglies in the editor.")),YI=ge("editorInfo.border",{dark:null,light:null,hcDark:tt.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},P("infoBorder","If set, color of double underlines for infos in the editor.")),aht=ge("editorHint.foreground",{dark:tt.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},P("editorHint.foreground","Foreground color of hint squigglies in the editor."));ge("editorHint.border",{dark:null,light:null,hcDark:tt.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},P("hintBorder","If set, color of double underlines for hints in the editor."));ge("editorLink.activeForeground",{dark:"#4E94CE",light:tt.blue,hcDark:tt.cyan,hcLight:"#292929"},P("activeLinkForeground","Color of active links."));const Ly=ge("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},P("editorSelectionBackground","Color of the editor selection.")),lht=ge("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:tt.white},P("editorSelectionForeground","Color of the selected text for high contrast.")),Q0e=ge("editor.inactiveSelectionBackground",{light:Ln(Ly,.5),dark:Ln(Ly,.5),hcDark:Ln(Ly,.7),hcLight:Ln(Ly,.5)},P("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Y0e=ge("editor.selectionHighlightBackground",{light:eue(Ly,Mu,.3,.6),dark:eue(Ly,Mu,.3,.6),hcDark:null,hcLight:null},P("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Dr,hcLight:Dr},P("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));ge("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},P("editorFindMatch","Color of the current search match."));ge("editor.findMatchForeground",null,P("editorFindMatchForeground","Text color of the current search match."));const sp=ge("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},P("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editor.findMatchHighlightForeground",null,P("findMatchHighlightForeground","Foreground color of the other search matches."),!0);ge("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},P("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editor.findMatchBorder",{light:null,dark:null,hcDark:Dr,hcLight:Dr},P("editorFindMatchBorder","Border color of the current search match."));const Ey=ge("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Dr,hcLight:Dr},P("findMatchHighlightBorder","Border color of the other search matches."));ge("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Ln(Dr,.4),hcLight:Ln(Dr,.4)},P("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},P("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const nue=ge("editorHoverWidget.background",xc,P("hoverBackground","Background color of the editor hover."));ge("editorHoverWidget.foreground",KA,P("hoverForeground","Foreground color of the editor hover."));const cht=ge("editorHoverWidget.border",K0e,P("hoverBorder","Border color of the editor hover."));ge("editorHoverWidget.statusBarBackground",{dark:ku(nue,.2),light:Xv(nue,.05),hcDark:xc,hcLight:xc},P("statusBarBackground","Background color of the editor hover status bar."));const X0e=ge("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:tt.white,hcLight:tt.black},P("editorInlayHintForeground","Foreground color of inline hints")),Z0e=ge("editorInlayHint.background",{dark:Ln(gT,.1),light:Ln(gT,.1),hcDark:Ln(tt.white,.1),hcLight:Ln(gT,.1)},P("editorInlayHintBackground","Background color of inline hints"));ge("editorInlayHint.typeForeground",X0e,P("editorInlayHintForegroundTypes","Foreground color of inline hints for types"));ge("editorInlayHint.typeBackground",Z0e,P("editorInlayHintBackgroundTypes","Background color of inline hints for types"));ge("editorInlayHint.parameterForeground",X0e,P("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters"));ge("editorInlayHint.parameterBackground",Z0e,P("editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));const uht=ge("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},P("editorLightBulbForeground","The color used for the lightbulb actions icon."));ge("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},P("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));ge("editorLightBulbAi.foreground",uht,P("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));ge("editor.snippetTabstopHighlightBackground",{dark:new tt(new Vn(124,124,124,.3)),light:new tt(new Vn(10,50,100,.2)),hcDark:new tt(new Vn(124,124,124,.3)),hcLight:new tt(new Vn(10,50,100,.2))},P("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));ge("editor.snippetTabstopHighlightBorder",null,P("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));ge("editor.snippetFinalTabstopHighlightBackground",null,P("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));ge("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new tt(new Vn(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},P("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const cz=new tt(new Vn(155,185,85,.2)),uz=new tt(new Vn(255,0,0,.2)),dht=ge("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},P("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),hht=ge("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},P("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);ge("diffEditor.insertedLineBackground",{dark:cz,light:cz,hcDark:null,hcLight:null},P("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);ge("diffEditor.removedLineBackground",{dark:uz,light:uz,hcDark:null,hcLight:null},P("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);ge("diffEditorGutter.insertedLineBackground",null,P("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));ge("diffEditorGutter.removedLineBackground",null,P("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const fht=ge("diffEditorOverview.insertedForeground",null,P("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ght=ge("diffEditorOverview.removedForeground",null,P("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));ge("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},P("diffEditorInsertedOutline","Outline color for the text that got inserted."));ge("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},P("diffEditorRemovedOutline","Outline color for text that got removed."));ge("diffEditor.border",{dark:null,light:null,hcDark:Gn,hcLight:Gn},P("diffEditorBorder","Border color between the two text editors."));ge("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},P("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));ge("diffEditor.unchangedRegionBackground","sideBar.background",P("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));ge("diffEditor.unchangedRegionForeground","foreground",P("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));ge("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},P("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const RL=ge("widget.shadow",{dark:Ln(tt.black,.36),light:Ln(tt.black,.16),hcDark:null,hcLight:null},P("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),pht=ge("widget.border",{dark:null,light:null,hcDark:Gn,hcLight:Gn},P("widgetBorder","Border color of widgets such as find/replace inside the editor.")),iue=ge("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},P("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));ge("toolbar.hoverOutline",{dark:null,light:null,hcDark:Dr,hcLight:Dr},P("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));ge("toolbar.activeBackground",{dark:ku(iue,.1),light:Xv(iue,.1),hcDark:null,hcLight:null},P("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));const mht=ge("breadcrumb.foreground",Ln(Ci,.8),P("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),bht=ge("breadcrumb.background",Mu,P("breadcrumbsBackground","Background color of breadcrumb items.")),rue=ge("breadcrumb.focusForeground",{light:Xv(Ci,.2),dark:ku(Ci,.1),hcDark:ku(Ci,.1),hcLight:ku(Ci,.1)},P("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),vht=ge("breadcrumb.activeSelectionForeground",{light:Xv(Ci,.2),dark:ku(Ci,.1),hcDark:ku(Ci,.1),hcLight:ku(Ci,.1)},P("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));ge("breadcrumbPicker.background",xc,P("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const J0e=.5,sue=tt.fromHex("#40C8AE").transparent(J0e),oue=tt.fromHex("#40A6FF").transparent(J0e),aue=tt.fromHex("#606060").transparent(.4),$q=.4,i0=1,dz=ge("merge.currentHeaderBackground",{dark:sue,light:sue,hcDark:null,hcLight:null},P("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ge("merge.currentContentBackground",Ln(dz,$q),P("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const hz=ge("merge.incomingHeaderBackground",{dark:oue,light:oue,hcDark:null,hcLight:null},P("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ge("merge.incomingContentBackground",Ln(hz,$q),P("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const fz=ge("merge.commonHeaderBackground",{dark:aue,light:aue,hcDark:null,hcLight:null},P("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ge("merge.commonContentBackground",Ln(fz,$q),P("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const r0=ge("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},P("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));ge("editorOverviewRuler.currentContentForeground",{dark:Ln(dz,i0),light:Ln(dz,i0),hcDark:r0,hcLight:r0},P("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));ge("editorOverviewRuler.incomingContentForeground",{dark:Ln(hz,i0),light:Ln(hz,i0),hcDark:r0,hcLight:r0},P("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));ge("editorOverviewRuler.commonContentForeground",{dark:Ln(fz,i0),light:Ln(fz,i0),hcDark:r0,hcLight:r0},P("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));ge("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},P("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",P("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const yht=ge("problemsErrorIcon.foreground",Wq,P("problemsErrorIconForeground","The color used for the problems error icon.")),Cht=ge("problemsWarningIcon.foreground",Fp,P("problemsWarningIconForeground","The color used for the problems warning icon.")),_ht=ge("problemsInfoIcon.foreground",bv,P("problemsInfoIconForeground","The color used for the problems info icon.")),wht=ge("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},P("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);ge("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},P("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0);const lue=ge("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},P("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Sht=ge("minimap.infoHighlight",{dark:bv,light:bv,hcDark:YI,hcLight:YI},P("minimapInfo","Minimap marker color for infos.")),xht=ge("minimap.warningHighlight",{dark:Fp,light:Fp,hcDark:QI,hcLight:QI},P("overviewRuleWarning","Minimap marker color for warnings.")),kht=ge("minimap.errorHighlight",{dark:new tt(new Vn(255,18,18,.7)),light:new tt(new Vn(255,18,18,.7)),hcDark:new tt(new Vn(255,50,50,1)),hcLight:"#B5200D"},P("minimapError","Minimap marker color for errors.")),Lht=ge("minimap.background",null,P("minimapBackground","Minimap background color.")),Eht=ge("minimap.foregroundOpacity",tt.fromHex("#000f"),P("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));ge("minimapSlider.background",Ln(U0e,.5),P("minimapSliderBackground","Minimap slider background color."));ge("minimapSlider.hoverBackground",Ln(q0e,.5),P("minimapSliderHoverBackground","Minimap slider background color when hovering."));ge("minimapSlider.activeBackground",Ln(G0e,.5),P("minimapSliderActiveBackground","Minimap slider background color when clicked on."));ge("charts.foreground",Ci,P("chartsForeground","The foreground color used in charts."));ge("charts.lines",Ln(Ci,.5),P("chartsLines","The color used for horizontal lines in charts."));ge("charts.red",Wq,P("chartsRed","The red color used in chart visualizations."));ge("charts.blue",bv,P("chartsBlue","The blue color used in chart visualizations."));ge("charts.yellow",Fp,P("chartsYellow","The yellow color used in chart visualizations."));ge("charts.orange",wht,P("chartsOrange","The orange color used in chart visualizations."));ge("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},P("chartsGreen","The green color used in chart visualizations."));ge("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},P("chartsPurple","The purple color used in chart visualizations."));const Dht=ge("input.background",{dark:"#3C3C3C",light:tt.white,hcDark:tt.black,hcLight:tt.white},P("inputBoxBackground","Input box background.")),Tht=ge("input.foreground",Ci,P("inputBoxForeground","Input box foreground.")),Iht=ge("input.border",{dark:null,light:null,hcDark:Gn,hcLight:Gn},P("inputBoxBorder","Input box border.")),e_e=ge("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Gn,hcLight:Gn},P("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Mht=ge("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},P("inputOption.hoverBackground","Background color of activated options in input fields.")),t_e=ge("inputOption.activeBackground",{dark:Ln($d,.4),light:Ln($d,.2),hcDark:tt.transparent,hcLight:tt.transparent},P("inputOption.activeBackground","Background hover color of options in input fields.")),n_e=ge("inputOption.activeForeground",{dark:tt.white,light:tt.black,hcDark:Ci,hcLight:Ci},P("inputOption.activeForeground","Foreground color of activated options in input fields."));ge("input.placeholderForeground",{light:Ln(Ci,.5),dark:Ln(Ci,.5),hcDark:Ln(Ci,.7),hcLight:Ln(Ci,.7)},P("inputPlaceholderForeground","Input box foreground color for placeholder text."));const Rht=ge("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:tt.black,hcLight:tt.white},P("inputValidationInfoBackground","Input validation background color for information severity.")),Nht=ge("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Ci},P("inputValidationInfoForeground","Input validation foreground color for information severity.")),Aht=ge("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Gn,hcLight:Gn},P("inputValidationInfoBorder","Input validation border color for information severity.")),Pht=ge("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:tt.black,hcLight:tt.white},P("inputValidationWarningBackground","Input validation background color for warning severity.")),Oht=ge("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Ci},P("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Fht=ge("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Gn,hcLight:Gn},P("inputValidationWarningBorder","Input validation border color for warning severity.")),Bht=ge("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:tt.black,hcLight:tt.white},P("inputValidationErrorBackground","Input validation background color for error severity.")),Hht=ge("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Ci},P("inputValidationErrorForeground","Input validation foreground color for error severity.")),Vht=ge("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Gn,hcLight:Gn},P("inputValidationErrorBorder","Input validation border color for error severity.")),QA=ge("dropdown.background",{dark:"#3C3C3C",light:tt.white,hcDark:tt.black,hcLight:tt.white},P("dropdownBackground","Dropdown background.")),zht=ge("dropdown.listBackground",{dark:null,light:null,hcDark:tt.black,hcLight:tt.white},P("dropdownListBackground","Dropdown list background.")),jq=ge("dropdown.foreground",{dark:"#F0F0F0",light:Ci,hcDark:tt.white,hcLight:Ci},P("dropdownForeground","Dropdown foreground.")),Uq=ge("dropdown.border",{dark:QA,light:"#CECECE",hcDark:Gn,hcLight:Gn},P("dropdownBorder","Dropdown border.")),i_e=ge("button.foreground",tt.white,P("buttonForeground","Button foreground color.")),Wht=ge("button.separator",Ln(i_e,.4),P("buttonSeparator","Button separator color.")),cS=ge("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},P("buttonBackground","Button background color.")),$ht=ge("button.hoverBackground",{dark:ku(cS,.2),light:Xv(cS,.2),hcDark:cS,hcLight:cS},P("buttonHoverBackground","Button background color when hovering.")),jht=ge("button.border",Gn,P("buttonBorder","Button border color.")),Uht=ge("button.secondaryForeground",{dark:tt.white,light:tt.white,hcDark:tt.white,hcLight:Ci},P("buttonSecondaryForeground","Secondary button foreground color.")),gz=ge("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:tt.white},P("buttonSecondaryBackground","Secondary button background color.")),qht=ge("button.secondaryHoverBackground",{dark:ku(gz,.2),light:Xv(gz,.2),hcDark:null,hcLight:null},P("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),uS=ge("radio.activeForeground",n_e,P("radioActiveForeground","Foreground color of active radio option.")),Ght=ge("radio.activeBackground",t_e,P("radioBackground","Background color of active radio option.")),Kht=ge("radio.activeBorder",e_e,P("radioActiveBorder","Border color of the active radio option.")),Qht=ge("radio.inactiveForeground",null,P("radioInactiveForeground","Foreground color of inactive radio option.")),Yht=ge("radio.inactiveBackground",null,P("radioInactiveBackground","Background color of inactive radio option.")),Xht=ge("radio.inactiveBorder",{light:Ln(uS,.2),dark:Ln(uS,.2),hcDark:Ln(uS,.4),hcLight:Ln(uS,.2)},P("radioInactiveBorder","Border color of the inactive radio option.")),Zht=ge("radio.inactiveHoverBackground",Mht,P("radioHoverBackground","Background color of inactive active radio option when hovering.")),Jht=ge("checkbox.background",QA,P("checkbox.background","Background color of checkbox widget."));ge("checkbox.selectBackground",xc,P("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const eft=ge("checkbox.foreground",jq,P("checkbox.foreground","Foreground color of checkbox widget.")),tft=ge("checkbox.border",Uq,P("checkbox.border","Border color of checkbox widget."));ge("checkbox.selectBorder",lz,P("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const nft=ge("keybindingLabel.background",{dark:new tt(new Vn(128,128,128,.17)),light:new tt(new Vn(221,221,221,.4)),hcDark:tt.transparent,hcLight:tt.transparent},P("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),ift=ge("keybindingLabel.foreground",{dark:tt.fromHex("#CCCCCC"),light:tt.fromHex("#555555"),hcDark:tt.white,hcLight:Ci},P("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),rft=ge("keybindingLabel.border",{dark:new tt(new Vn(51,51,51,.6)),light:new tt(new Vn(204,204,204,.4)),hcDark:new tt(new Vn(111,195,223)),hcLight:Gn},P("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),sft=ge("keybindingLabel.bottomBorder",{dark:new tt(new Vn(68,68,68,.6)),light:new tt(new Vn(187,187,187,.4)),hcDark:new tt(new Vn(111,195,223)),hcLight:Ci},P("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),oft=ge("list.focusBackground",null,P("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),aft=ge("list.focusForeground",null,P("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),lft=ge("list.focusOutline",{dark:$d,light:$d,hcDark:Dr,hcLight:Dr},P("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),cft=ge("list.focusAndSelectionOutline",null,P("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),vv=ge("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:tt.fromHex("#0F4A85").transparent(.1)},P("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ak=ge("list.activeSelectionForeground",{dark:tt.white,light:tt.white,hcDark:null,hcLight:null},P("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),r_e=ge("list.activeSelectionIconForeground",null,P("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),uft=ge("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:tt.fromHex("#0F4A85").transparent(.1)},P("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),dft=ge("list.inactiveSelectionForeground",null,P("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),hft=ge("list.inactiveSelectionIconForeground",null,P("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),fft=ge("list.inactiveFocusBackground",null,P("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gft=ge("list.inactiveFocusOutline",null,P("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),s_e=ge("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:tt.white.transparent(.1),hcLight:tt.fromHex("#0F4A85").transparent(.1)},P("listHoverBackground","List/Tree background when hovering over items using the mouse.")),o_e=ge("list.hoverForeground",null,P("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),pft=ge("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},P("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),mft=ge("list.dropBetweenBackground",{dark:lz,light:lz,hcDark:null,hcLight:null},P("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),e2=ge("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:$d,hcLight:$d},P("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));ge("list.focusHighlightForeground",{dark:e2,light:nht(vv,e2,"#BBE7FF"),hcDark:e2,hcLight:e2},P("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));ge("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},P("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));ge("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},P("listErrorForeground","Foreground color of list items containing errors."));ge("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},P("listWarningForeground","Foreground color of list items containing warnings."));const bft=ge("listFilterWidget.background",{light:Xv(xc,0),dark:ku(xc,0),hcDark:xc,hcLight:xc},P("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),vft=ge("listFilterWidget.outline",{dark:tt.transparent,light:tt.transparent,hcDark:"#f38518",hcLight:"#007ACC"},P("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),yft=ge("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Gn,hcLight:Gn},P("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Cft=ge("listFilterWidget.shadow",RL,P("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));ge("list.filterMatchBackground",{dark:sp,light:sp,hcDark:null,hcLight:null},P("listFilterMatchHighlight","Background color of the filtered match."));ge("list.filterMatchBorder",{dark:Ey,light:Ey,hcDark:Gn,hcLight:Dr},P("listFilterMatchHighlightBorder","Border color of the filtered match."));ge("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},P("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const a_e=ge("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},P("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),_ft=ge("tree.inactiveIndentGuidesStroke",Ln(a_e,.4),P("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),wft=ge("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},P("tableColumnsBorder","Table border color between columns.")),Sft=ge("tree.tableOddRowsBackground",{dark:Ln(Ci,.04),light:Ln(Ci,.04),hcDark:null,hcLight:null},P("tableOddRowsBackgroundColor","Background color for odd table rows."));ge("editorActionList.background",xc,P("editorActionListBackground","Action List background color."));ge("editorActionList.foreground",KA,P("editorActionListForeground","Action List foreground color."));ge("editorActionList.focusForeground",ak,P("editorActionListFocusForeground","Action List foreground color for the focused item."));ge("editorActionList.focusBackground",vv,P("editorActionListFocusBackground","Action List background color for the focused item."));const xft=ge("menu.border",{dark:null,light:null,hcDark:Gn,hcLight:Gn},P("menuBorder","Border color of menus.")),kft=ge("menu.foreground",jq,P("menuForeground","Foreground color of menu items.")),Lft=ge("menu.background",QA,P("menuBackground","Background color of menu items.")),Eft=ge("menu.selectionForeground",ak,P("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Dft=ge("menu.selectionBackground",vv,P("menuSelectionBackground","Background color of the selected menu item in menus.")),Tft=ge("menu.selectionBorder",{dark:null,light:null,hcDark:Dr,hcLight:Dr},P("menuSelectionBorder","Border color of the selected menu item in menus.")),Ift=ge("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Gn,hcLight:Gn},P("menuSeparatorBackground","Color of a separator menu item in menus.")),cue=ge("quickInput.background",xc,P("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Mft=ge("quickInput.foreground",KA,P("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Rft=ge("quickInputTitle.background",{dark:new tt(new Vn(255,255,255,.105)),light:new tt(new Vn(0,0,0,.06)),hcDark:"#000000",hcLight:tt.white},P("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),l_e=ge("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:tt.white,hcLight:"#0F4A85"},P("pickerGroupForeground","Quick picker color for grouping labels.")),Nft=ge("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:tt.white,hcLight:"#0F4A85"},P("pickerGroupBorder","Quick picker color for grouping borders.")),uue=ge("quickInput.list.focusBackground",null,"",void 0,P("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),pz=ge("quickInputList.focusForeground",ak,P("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),c_e=ge("quickInputList.focusIconForeground",r_e,P("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),mz=ge("quickInputList.focusBackground",{dark:Jce(uue,vv),light:Jce(uue,vv),hcDark:null,hcLight:null},P("quickInput.listFocusBackground","Quick picker background color for the focused item."));ge("search.resultsInfoForeground",{light:Ci,dark:Ln(Ci,.65),hcDark:Ci,hcLight:Ci},P("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));ge("searchEditor.findMatchBackground",{light:Ln(sp,.66),dark:Ln(sp,.66),hcDark:sp,hcLight:sp},P("searchEditor.queryMatch","Color of the Search Editor query matches."));ge("searchEditor.findMatchBorder",{light:Ln(Ey,.66),dark:Ln(Ey,.66),hcDark:Ey,hcLight:Ey},P("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var Aft=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},due=function(n,e){return function(t,i){e(t,i,n)}};const NL=Nn("hoverService");let lk=class extends je{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(e,t,i={},r,s){super(),this.placement=e,this.instantHover=t,this.overrideOptions=i,this.configurationService=r,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new It),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(e,t){const i=typeof this.overrideOptions=="function"?this.overrideOptions(e,t):this.overrideOptions;this.hoverDisposables.clear();const r=Ls(e.target)?[e.target]:e.target.targetElements;for(const o of r)this.hoverDisposables.add(ms(o,"keydown",a=>{a.equals(9)&&this.hoverService.hideHover()}));const s=Ls(e.content)?void 0:e.content.toString();return this.hoverService.showHover({...e,...i,persistence:{hideOnKeyDown:!0,...i.persistence},id:s,appearance:{...e.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...i.appearance}},t)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};lk=Aft([due(3,br),due(4,NL)],lk);const AL=Nn("contextViewService"),Yf=Nn("contextMenuService"),Ks=Nn("keybindingService");class YA{constructor(){this._hooks=new It,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,r,s){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=s;let o=e;try{e.setPointerCapture(t),this._hooks.add(cn(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{o=Ft(e)}this._hooks.add(ze(o,pt.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(ze(o,pt.POINTER_UP,a=>this.stopMonitoring(!0)))}}function vr(n,e,t){let i=null,r=null;if(typeof t.value=="function"?(i="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",r=t.get),!r)throw new Error("not supported");const s=`$memoize$${e}`;t[i]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,o)}),this[s]}}var Pft=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Di;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(Di||(Di={}));const Bs=class Bs extends je{constructor(){super(),this.dispatched=!1,this.targets=new Aa,this.ignoreTargets=new Aa,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(ut.runAndSubscribe(MA,({window:e,disposables:t})=>{t.add(ze(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(ze(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(ze(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:yi,disposables:this._store}))}static addTarget(e){if(!Bs.isTouchDevice())return je.None;Bs.INSTANCE||(Bs.INSTANCE=new Bs);const t=Bs.INSTANCE.targets.push(e);return cn(t)}static ignoreTarget(e){if(!Bs.isTouchDevice())return je.None;Bs.INSTANCE||(Bs.INSTANCE=new Bs);const t=Bs.INSTANCE.ignoreTargets.push(e);return cn(t)}static isTouchDevice(){return"ontouchstart"in yi||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=e.targetTouches.length;i<r;i++){const s=e.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:t,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[t],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};const o=this.newGestureEvent(Di.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),r=Object.keys(this.activeTouches).length;for(let s=0,o=t.changedTouches.length;s<o;s++){const a=t.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Bs.HOLD_DELAY&&Math.abs(l.initialPageX-Sl(l.rollingPageX))<30&&Math.abs(l.initialPageY-Sl(l.rollingPageY))<30){const u=this.newGestureEvent(Di.Tap,l.initialTarget);u.pageX=Sl(l.rollingPageX),u.pageY=Sl(l.rollingPageY),this.dispatchEvent(u)}else if(c>=Bs.HOLD_DELAY&&Math.abs(l.initialPageX-Sl(l.rollingPageX))<30&&Math.abs(l.initialPageY-Sl(l.rollingPageY))<30){const u=this.newGestureEvent(Di.Contextmenu,l.initialTarget);u.pageX=Sl(l.rollingPageX),u.pageY=Sl(l.rollingPageY),this.dispatchEvent(u)}else if(r===1){const u=Sl(l.rollingPageX),d=Sl(l.rollingPageY),h=Sl(l.rollingTimestamps)-l.rollingTimestamps[0],f=u-l.rollingPageX[0],p=d-l.rollingPageY[0],m=[...this.targets].filter(v=>l.initialTarget instanceof Node&&v.contains(l.initialTarget));this.inertia(e,m,i,Math.abs(f)/h,f>0?1:-1,u,Math.abs(p)/h,p>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(Di.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Di.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Bs.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Di.Change||e.type===Di.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(e.initialTarget))return;const t=[];for(const i of this.targets)if(i.contains(e.initialTarget)){let r=0,s=e.initialTarget;for(;s&&s!==i;)r++,s=s.parentElement;t.push([r,i])}t.sort((i,r)=>i[0]-r[0]);for(const[i,r]of t)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,r,s,o,a,l,c){this.handle=Va(e,()=>{const u=Date.now(),d=u-i;let h=0,f=0,p=!0;r+=Bs.SCROLL_FRICTION*d,a+=Bs.SCROLL_FRICTION*d,r>0&&(p=!1,h=s*r*d),a>0&&(p=!1,f=l*a*d);const m=this.newGestureEvent(Di.Change);m.translationX=h,m.translationY=f,t.forEach(v=>v.dispatchEvent(m)),p||this.inertia(e,t,u,r,s,o+h,a,l,c+f)})}onTouchMove(e){const t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){const s=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}const o=this.activeTouches[s.identifier],a=this.newGestureEvent(Di.Change,o.initialTarget);a.translationX=s.pageX-Sl(o.rollingPageX),a.translationY=s.pageY-Sl(o.rollingPageY),a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Bs.SCROLL_FRICTION=-.005,Bs.HOLD_DELAY=700,Bs.CLEAR_TAP_COUNT_TIME=400;let Uo=Bs;Pft([vr],Uo,"isTouchDevice",null);let Xf=class extends je{onclick(e,t){this._register(ze(e,pt.CLICK,i=>t(new Cu(Ft(e),i))))}onmousedown(e,t){this._register(ze(e,pt.MOUSE_DOWN,i=>t(new Cu(Ft(e),i))))}onmouseover(e,t){this._register(ze(e,pt.MOUSE_OVER,i=>t(new Cu(Ft(e),i))))}onmouseleave(e,t){this._register(ze(e,pt.MOUSE_LEAVE,i=>t(new Cu(Ft(e),i))))}onkeydown(e,t){this._register(ze(e,pt.KEY_DOWN,i=>t(new Bi(i))))}onkeyup(e,t){this._register(ze(e,pt.KEY_UP,i=>t(new Bi(i))))}oninput(e,t){this._register(ze(e,pt.INPUT,t))}onblur(e,t){this._register(ze(e,pt.BLUR,t))}onfocus(e,t){this._register(ze(e,pt.FOCUS,t))}ignoreGesture(e){return Uo.ignoreTarget(e)}};const s0=11;class Oft extends Xf{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Hn.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=s0+"px",this.domNode.style.height=s0+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new YA),this._register(ms(this.bgDomNode,pt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(ms(this.domNode,pt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new vq),this._pointerdownScheduleRepeatTimer=this._register(new $v)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,Ft(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class Fft extends je{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new $v)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)==null||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)==null||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const Bft=140;class u_e extends Xf{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Fft(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new YA),this._shouldRender=!0,this.domNode=Wn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(ze(this.domNode.domNode,pt.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new Oft(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,r){this.slider=Wn(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(ze(this.slider.domNode,pt.POINTER_DOWN,s=>{s.button===0&&(s.preventDefault(),this._sliderPointerDown(s))})),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderPointerPosition(e);i<=s&&s<=r?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const s=Fl(this.domNode.domNode);t=e.pageX-s.left,i=e.pageY-s.top}const r=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>{const o=this._sliderOrthogonalPointerPosition(s),a=Math.abs(o-i);if(Ba&&a>Bft){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const c=this._sliderPointerPosition(s)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const Hft=20;class o0{constructor(e,t,i,r,s,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new o0(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,r,s){const o=Math.max(0,i-e),a=Math.max(0,o-2*t),l=r>0&&r>i;if(!l)return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(Hft,Math.floor(i*a/r))),u=(a-c)/(r-i),d=s*u;return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=o0._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class Vft extends u_e{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new o0(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,s.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const o=(t.arrowSize-s0)/2,a=(t.horizontalScrollbarSize-s0)/2;this._createArrow({className:"scra",icon:Lt.scrollbarButtonLeft,top:a,left:o,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new fv(null,1,0))}),this._createArrow({className:"scra",icon:Lt.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:o,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new fv(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class zft extends u_e{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new o0(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,s.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const o=(t.arrowSize-s0)/2,a=(t.verticalScrollbarSize-s0)/2;this._createArrow({className:"scra",icon:Lt.scrollbarButtonUp,top:o,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new fv(null,0,1))}),this._createArrow({className:"scra",icon:Lt.scrollbarButtonDown,top:void 0,left:a,bottom:o,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new fv(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class XI{constructor(e,t,i,r,s,o,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,r=r|0,s=s|0,o=o|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,t<0&&(t=0),r+t>i&&(r=i-t),r<0&&(r=0),s<0&&(s=0),a+s>o&&(a=o-s),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=r,this.height=s,this.scrollHeight=o,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new XI(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new XI(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,s=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:r,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:l}}}class t_ extends je{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ke),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new XI(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var r;const i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),(r=this._smoothScrolling)==null||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let r;t?r=new ck(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=ck.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class hue{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function n6(n,e){const t=e-n;return function(i){return n+t*jft(i)}}function Wft(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class ck{constructor(e,t,i,r){this.from=e,this.to=t,this.duration=r,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,o;return e<t?(s=e+.75*i,o=t-.75*i):(s=e-.75*i,o=t+.75*i),Wft(n6(e,s),n6(o,t),.33)}return n6(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),r=this.scrollTop(t);return new hue(i,r,!1)}return new hue(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return ck.start(e,t,i)}static start(e,t,i){i=i+10;const r=Date.now()-10;return new ck(e,t,r,i)}}function $ft(n){return Math.pow(n,3)}function jft(n){return 1-$ft(1-n)}const Uft=500,fue=50;class qft{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}const wR=class wR{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,r=this._rear;do{const s=r===this._front?e:Math.pow(2,-i);if(e-=s,t+=this._memory[r].score*s,r===this._front)break;r=(this._capacity+r-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(SL){const t=Ft(e.browserEvent),i=dat(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let r=null;const s=new qft(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=s,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s),s.score=this._computeScore(s,r)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){const r=Math.abs(e.deltaX),s=Math.abs(e.deltaY),o=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(r,o),1),c=Math.max(Math.min(s,a),1),u=Math.max(r,o),d=Math.max(s,a);u%l===0&&d%c===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};wR.INSTANCE=new wR;let ZI=wR;class qq extends Xf{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new ke),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ke),e.style.overflow="hidden",this._options=Kft(t),this._scrollable=i,this._register(this._scrollable.onScroll(s=>{this._onWillScroll.fire(s),this._onDidScroll(s),this._onScroll.fire(s)}));const r={onMouseWheel:s=>this._onMouseWheel(s),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new zft(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new Vft(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Wn(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Wn(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Wn(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,s=>this._onMouseOver(s)),this.onmouseleave(this._listenOnDomNode,s=>this._onMouseLeave(s)),this._hideTimeout=this._register(new $v),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Us(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,An&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new fv(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Us(this._mouseWheelToDispose),e)){const i=r=>{this._onMouseWheel(new fv(r))};this._mouseWheelToDispose.push(ze(this._listenOnDomNode,pt.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){var s;if((s=e.browserEvent)!=null&&s.defaultPrevented)return;const t=ZI.INSTANCE;t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,a=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+o===0?a=o=0:Math.abs(o)>=Math.abs(a)?a=0:o=0),this._options.flipAxes&&([o,a]=[a,o]);const l=!An&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||l)&&!a&&(a=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);const c=this._scrollable.getFutureScrollPosition();let u={};if(o){const d=fue*o,h=c.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(u,h)}if(a){const d=fue*a,h=c.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(u,h)}u=this._scrollable.validateScrollPosition(u),(c.scrollLeft!==u.scrollLeft||c.scrollTop!==u.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),i=!0)}let r=i;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,r=i?" left":"",s=t?" top":"",o=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${s}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${s}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Uft)}}class Gft extends qq{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new t_({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Va(Ft(e),r)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class XA extends qq{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Gq extends qq{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new t_({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Va(Ft(e),r)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(r=>{r.scrollTopChanged&&(this._element.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this._element.scrollLeft=r.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function Kft(n){const e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,An&&(e.className+=" mac"),e}const t2=jt;let Qft=class extends je{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new Gq(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};class Kq extends je{static render(e,t,i){return new Kq(e,t,i)}constructor(e,t,i){super(),this.actionLabel=t.label,this.actionKeybindingLabel=i,this.actionContainer=Tt(e,t2("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Tt(this.actionContainer,t2("a.action")),this.action.setAttribute("role","button"),t.iconClass&&Tt(this.action,t2(`span.icon.${t.iconClass}`));const r=Tt(this.action,t2("span"));r.textContent=i?`${t.label} (${i})`:t.label,this._store.add(new Xft(this.actionContainer,t.run)),this._store.add(new Zft(this.actionContainer,t.run,[3,10])),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function Yft(n,e){return n&&e?P("acessibleViewHint","Inspect this in the accessible view with {0}.",e):n?P("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class Xft extends je{constructor(e,t){super(),this._register(ze(e,pt.CLICK,i=>{i.stopPropagation(),i.preventDefault(),t(e)}))}}class Zft extends je{constructor(e,t,i){super(),this._register(ze(e,pt.KEY_DOWN,r=>{const s=new Bi(r);i.some(o=>s.equals(o))&&(r.stopPropagation(),r.preventDefault(),t(e))}))}}const PL=Nn("openerService");function Jft(n){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},n=n.with({fragment:""})),{selection:e,uri:n}}class kn{get event(){return this.emitter.event}constructor(e,t,i){const r=s=>this.emitter.fire(s);this.emitter=new ke({onWillAddFirstListener:()=>e.addEventListener(t,r,i),onDidRemoveLastListener:()=>e.removeEventListener(t,r,i)})}dispose(){this.emitter.dispose()}}function egt(n,e={}){const t=Qq(e);return t.textContent=n,t}function tgt(n,e={}){const t=Qq(e);return d_e(t,igt(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function Qq(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class ngt{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function d_e(n,e,t,i){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&i)r=document.createElement("code");else if(e.type===5&&t){const s=document.createElement("a");t.disposables.add(ms(s,"click",o=>{t.callback(String(e.index),o)})),r=s}else e.type===8?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(s=>{d_e(r,s,t,i)})}function igt(n,e){const t={type:1,children:[]};let i=0,r=t;const s=[],o=new ngt(n);for(;!o.eos();){let a=o.next();const l=a==="\\"&&bz(o.peek(),e)!==0;if(l&&(a=o.next()),!l&&rgt(a,e)&&a===o.peek()){o.advance(),r.type===2&&(r=s.pop());const c=bz(a,e);if(r.type===c||r.type===5&&c===6)r=s.pop();else{const u={type:c,children:[]};c===5&&(u.index=i,i++),r.children.push(u),s.push(r),r=u}}else if(a===`
`)r.type===2&&(r=s.pop()),r.children.push({type:8});else if(r.type!==2){const c={type:2,content:a};r.children.push(c),s.push(r),r=c}else r.content+=a}return r.type===2&&(r=s.pop()),t}function rgt(n,e){return bz(n,e)!==0}function bz(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const sgt=new RegExp(`(\\\\)?\\$\\((${Hn.iconNameExpression}(?:${Hn.iconModifierExpression})?)\\)`,"g");function Ob(n){const e=new Array;let t,i=0,r=0;for(;(t=sgt.exec(n))!==null;){r=t.index||0,i<r&&e.push(n.substring(i,r)),i=(t.index||0)+t[0].length;const[,s,o]=t;e.push(s?`$(${o})`:JI({id:o}))}return i<n.length&&e.push(n.substring(i)),e}function JI(n){const e=jt("span");return e.classList.add(...Hn.asClassNameArray(n)),e}function h_e(...n){return function(e,t){for(let i=0,r=n.length;i<r;i++){const s=n[i](e,t);if(s)return s}return null}}f_e.bind(void 0,!1);const eM=f_e.bind(void 0,!0);function f_e(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=lq(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function ogt(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function agt(n,e){return vz(n.toLowerCase(),e.toLowerCase(),0,0)}function vz(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let r=null;return(r=vz(n,e,t+1,i+1))?p_e({start:i,end:i+1},r):null}return vz(n,e,t,i+1)}function Yq(n){return 97<=n&&n<=122}function ZA(n){return 65<=n&&n<=90}function Xq(n){return 48<=n&&n<=57}function lgt(n){return n===32||n===9||n===10||n===13}const cgt=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>cgt.add(n.charCodeAt(0)));function g_e(n){return Yq(n)||ZA(n)||Xq(n)}function p_e(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function m_e(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(ZA(i)||Xq(i)||t>0&&!g_e(n.charCodeAt(t-1)))return t}return n.length}function yz(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let r=null,s=i+1;for(r=yz(n,e,t+1,i+1);!r&&(s=m_e(e,s))<e.length;)r=yz(n,e,t+1,s),s++;return r===null?null:p_e({start:i,end:i+1},r)}}function ugt(n){let e=0,t=0,i=0,r=0,s=0;for(let u=0;u<n.length;u++)s=n.charCodeAt(u),ZA(s)&&e++,Yq(s)&&t++,g_e(s)&&i++,Xq(s)&&r++;const o=e/n.length,a=t/n.length,l=i/n.length,c=r/n.length;return{upperPercent:o,lowerPercent:a,alphaPercent:l,numericPercent:c}}function dgt(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function hgt(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:r}=n;return t>.2&&e<.8&&i>.6&&r<.2}function fgt(n){let e=0,t=0,i=0,r=0;for(let s=0;s<n.length;s++)i=n.charCodeAt(s),ZA(i)&&e++,Yq(i)&&t++,lgt(i)&&r++;return(e===0||t===0)&&r===0?n.length<=30:e<=5}function b_e(n,e){if(!e||(e=e.trim(),e.length===0)||!fgt(n))return null;e.length>60&&(e=e.substring(0,60));const t=ugt(e);if(!hgt(t)){if(!dgt(t))return null;e=e.toLowerCase()}let i=null,r=0;for(n=n.toLowerCase();r<e.length&&(i=yz(n,e,0,r))===null;)r=m_e(e,r+1);return i}const ggt=h_e(eM,b_e,ogt),pgt=h_e(eM,b_e,agt),gue=new IL(1e4);function pue(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=gue.get(n);i||(i=new RegExp(eat(n),"i"),gue.set(n,i));const r=i.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?pgt(n,e):ggt(n,e)}function mgt(n,e){const t=C_e(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?bgt(t):null}function bgt(n){if(typeof n>"u")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const r=n[i]+t,s=e[e.length-1];s&&s.end===r?s.end=r+1:e.push({start:r,end:r+1})}return e}const op=128;function Zq(){const n=[],e=[];for(let t=0;t<=op;t++)e[t]=0;for(let t=0;t<=op;t++)n.push(e.slice(0));return n}function v_e(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const y_e=v_e(2*op),Cz=v_e(2*op),Nh=Zq(),Tm=Zq(),n2=Zq();function i2(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!fq(t)}}function mue(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function pT(n,e,t){return e[n]!==t[n]}function vgt(n,e,t,i,r,s,o=!1){for(;e<t&&r<s;)n[e]===i[r]&&(o&&(y_e[e]=r),e+=1),r+=1;return e===t}var gC;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(gC||(gC={}));const EK=class EK{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}};EK.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};let _z=EK;function C_e(n,e,t,i,r,s,o=_z.default){const a=n.length>op?op:n.length,l=i.length>op?op:i.length;if(t>=a||s>=l||a-t>l-s||!vgt(e,t,a,r,s,l,!0))return;ygt(a,l,t,s,e,r);let c=1,u=1,d=t,h=s;const f=[!1];for(c=1,d=t;d<a;c++,d++){const y=y_e[d],w=Cz[d],_=d+1<a?Cz[d+1]:l;for(u=y-s+1,h=y;h<_;u++,h++){let x=Number.MIN_SAFE_INTEGER,k=!1;h<=w&&(x=Cgt(n,e,d,t,i,r,h,l,s,Nh[c-1][u-1]===0,f));let D=0;x!==Number.MAX_SAFE_INTEGER&&(k=!0,D=x+Tm[c-1][u-1]);const T=h>y,L=T?Tm[c][u-1]+(Nh[c][u-1]>0?-5:0):0,I=h>y+1&&Nh[c][u-1]>0,R=I?Tm[c][u-2]+(Nh[c][u-2]>0?-5:0):0;if(I&&(!T||R>=L)&&(!k||R>=D))Tm[c][u]=R,n2[c][u]=3,Nh[c][u]=0;else if(T&&(!k||L>=D))Tm[c][u]=L,n2[c][u]=2,Nh[c][u]=0;else if(k)Tm[c][u]=D,n2[c][u]=1,Nh[c][u]=Nh[c-1][u-1]+1;else throw new Error("not possible")}}if(!f[0]&&!o.firstMatchCanBeWeak)return;c--,u--;const p=[Tm[c][u],s];let m=0,v=0;for(;c>=1;){let y=u;do{const w=n2[c][y];if(w===3)y=y-2;else if(w===2)y=y-1;else break}while(y>=1);m>1&&e[t+c-1]===r[s+u-1]&&!pT(y+s-1,i,r)&&m+1>Nh[c][y]&&(y=u),y===u?m++:m=1,v||(v=y),c--,u=y-1,p.push(u)}l-s===a&&o.boostFullMatch&&(p[0]+=2);const C=v-a;return p[0]-=C,p}function ygt(n,e,t,i,r,s){let o=n-1,a=e-1;for(;o>=t&&a>=i;)r[o]===s[a]&&(Cz[o]=a,o--),a--}function Cgt(n,e,t,i,r,s,o,a,l,c,u){if(e[t]!==s[o])return Number.MIN_SAFE_INTEGER;let d=1,h=!1;return o===t-i?d=n[t]===r[o]?7:5:pT(o,r,s)&&(o===0||!pT(o-1,r,s))?(d=n[t]===r[o]?7:5,h=!0):i2(s,o)&&(o===0||!i2(s,o-1))?d=5:(i2(s,o-1)||mue(s,o-1))&&(d=5,h=!0),d>1&&t===i&&(u[0]=!0),h||(h=pT(o,r,s)||i2(s,o-1)||mue(s,o-1)),t===i?o>l&&(d-=h?3:5):c?d+=h?2:0:d+=h?0:1,o+1===a&&(d-=h?3:5),d}const _gt="$(",Jq=new RegExp(`\\$\\(${Hn.iconNameExpression}(?:${Hn.iconModifierExpression})?\\)`,"g"),wgt=new RegExp(`(\\\\)?${Jq.source}`,"g");function Sgt(n){return n.replace(wgt,(e,t)=>t?e:`\\${e}`)}const xgt=new RegExp(`\\\\${Jq.source}`,"g");function kgt(n){return n.replace(xgt,e=>`\\${e}`)}const Lgt=new RegExp(`(\\s)?(\\\\)?${Jq.source}(\\s)?`,"g");function __e(n){return n.indexOf(_gt)===-1?n:n.replace(Lgt,(e,t,i,r)=>i?e:t||r||"")}function Egt(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const i6=new RegExp(`\\$\\(${Hn.iconNameCharacter}+\\)`,"g");function dS(n){i6.lastIndex=0;let e="";const t=[];let i=0;for(;;){const r=i6.lastIndex,s=i6.exec(n),o=n.substring(r,s==null?void 0:s.index);if(o.length>0){e+=o;for(let a=0;a<o.length;a++)t.push(i)}if(!s)break;i+=s[0].length}return{text:e,iconOffsets:t}}function r6(n,e,t=!1){const{text:i,iconOffsets:r}=e;if(!r||r.length===0)return pue(n,i,t);const s=DA(i," "),o=i.length-s.length,a=pue(n,s,t);if(a)for(const l of a){const c=r[l.start+o]+o;l.start+=c,l.end+=c}return a}function Ah(n){return DI(n,!0)}class Dgt{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:pV(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===Cn.file)return az(Ah(e),Ah(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(vue(e.authority,t.authority))return az(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Sn.joinPath(e,...t)}basenameOrAuthority(e){return eG(e)||e.authority}basename(e){return Lr.basename(e.path)}extname(e){return Lr.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Cn.file?t=Sn.file(Rot(Ah(e))).path:(t=Lr.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Cn.file?t=Sn.file(sCe(Ah(e))).path:t=Lr.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!vue(e.authority,t.authority))return;if(e.scheme===Cn.file){const s=Mot(Ah(e),Ah(t));return Ba?O0e(s):s}let i=e.path||"/";const r=t.path||"/";if(this._ignorePathCasing(e)){let s=0;for(const o=Math.min(i.length,r.length);s<o&&!(i.charCodeAt(s)!==r.charCodeAt(s)&&i.charAt(s).toLowerCase()!==r.charAt(s).toLowerCase());s++);i=r.substr(0,s)+i.substr(s)}return Lr.relative(i,r)}resolvePath(e,t){if(e.scheme===Cn.file){const i=Sn.file(Iot(Ah(e),t));return e.with({authority:i.authority,path:i.path})}return t=Ndt(t),e.with({path:Lr.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&_y(e,t)}hasTrailingPathSeparator(e,t=yp){if(e.scheme===Cn.file){const i=Ah(e);return i.length>jce(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=yp){return yue(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=yp){let i=!1;if(e.scheme===Cn.file){const r=Ah(e);i=r!==void 0&&r.length===jce(r).length&&r[r.length-1]===t}else{t="/";const r=e.path;i=r.length===1&&r.charCodeAt(r.length-1)===47}return!i&&!yue(e,t)?e.with({path:e.path+"/"}):e}}const Ki=new Dgt(()=>!1),Tgt=Ki.isEqual.bind(Ki);Ki.isEqualOrParent.bind(Ki);Ki.getComparisonKey.bind(Ki);Ki.basenameOrAuthority.bind(Ki);const eG=Ki.basename.bind(Ki);Ki.extname.bind(Ki);const Igt=Ki.dirname.bind(Ki);Ki.joinPath.bind(Ki);const Mgt=Ki.normalizePath.bind(Ki);Ki.relativePath.bind(Ki);const bue=Ki.resolvePath.bind(Ki);Ki.isAbsolutePath.bind(Ki);const vue=Ki.isEqualAuthority.bind(Ki),yue=Ki.hasTrailingPathSeparator.bind(Ki);Ki.removeTrailingPathSeparator.bind(Ki);Ki.addTrailingPathSeparator.bind(Ki);var tM;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(o=>{const[a,l]=o.split(":");a&&l&&i.set(a,l)});const s=t.path.substring(0,t.path.indexOf(";"));return s&&i.set(n.META_DATA_MIME,s),i}n.parseMetaData=e})(tM||(tM={}));class w_e{constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw LA("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=Ngt(this.supportThemeIcons?Sgt(e):e).replace(/([ \t]+)/g,(i,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${Agt(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(Af(t),"g");return e.replace(i,(r,s)=>e.charAt(s-1)!=="\\"?`\\${r}`:r)}}function pC(n){return n instanceof w_e?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function Rgt(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&Tgt(Sn.from(n.baseUri),Sn.from(e.baseUri)))}function Ngt(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function Agt(n,e){var r;const t=((r=n.match(/^`+/gm))==null?void 0:r.reduce((s,o)=>s.length>o.length?s:o).length)??0,i=t>=3?t+1:3;return[`${"`".repeat(i)}${e}`,n,`${"`".repeat(i)}`].join(`
`)}function r2(n){return n.replace(/"/g,"&quot;")}function s6(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function Pgt(n){const e=[],t=n.split("|").map(r=>r.trim());n=t[0];const i=t[1];if(i){const r=/height=(\d+)/.exec(i),s=/width=(\d+)/.exec(i),o=r?r[1]:"",a=s?s[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(o));l&&e.push(`width="${a}"`),c&&e.push(`height="${o}"`)}return{href:n,dimensions:e}}class S_e{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const Cue=new S_e("id#");let so={};(function(){function n(e,t){t(so)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(ot){e.defaults=ot}const r=/[&<>"']/,s=new RegExp(r.source,"g"),o=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(o.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=ot=>l[ot];function u(ot,le){if(le){if(r.test(ot))return ot.replace(s,c)}else if(o.test(ot))return ot.replace(a,c);return ot}const d=/(^|[^\[])\^/g;function h(ot,le){let ue=typeof ot=="string"?ot:ot.source;le=le||"";const pe={replace:(we,De)=>{let Oe=typeof De=="string"?De:De.source;return Oe=Oe.replace(d,"$1"),ue=ue.replace(we,Oe),pe},getRegex:()=>new RegExp(ue,le)};return pe}function f(ot){try{ot=encodeURI(ot).replace(/%25/g,"%")}catch{return null}return ot}const p={exec:()=>null};function m(ot,le){const ue=ot.replace(/\|/g,(De,Oe,Qe)=>{let Ct=!1,At=Oe;for(;--At>=0&&Qe[At]==="\\";)Ct=!Ct;return Ct?"|":" |"}),pe=ue.split(/ \|/);let we=0;if(pe[0].trim()||pe.shift(),pe.length>0&&!pe[pe.length-1].trim()&&pe.pop(),le)if(pe.length>le)pe.splice(le);else for(;pe.length<le;)pe.push("");for(;we<pe.length;we++)pe[we]=pe[we].trim().replace(/\\\|/g,"|");return pe}function v(ot,le,ue){const pe=ot.length;if(pe===0)return"";let we=0;for(;we<pe&&ot.charAt(pe-we-1)===le;)we++;return ot.slice(0,pe-we)}function C(ot,le){if(ot.indexOf(le[1])===-1)return-1;let ue=0;for(let pe=0;pe<ot.length;pe++)if(ot[pe]==="\\")pe++;else if(ot[pe]===le[0])ue++;else if(ot[pe]===le[1]&&(ue--,ue<0))return pe;return-1}function y(ot,le,ue,pe){const we=le.href,De=le.title?u(le.title):null,Oe=ot[1].replace(/\\([\[\]])/g,"$1");if(ot[0].charAt(0)!=="!"){pe.state.inLink=!0;const Qe={type:"link",raw:ue,href:we,title:De,text:Oe,tokens:pe.inlineTokens(Oe)};return pe.state.inLink=!1,Qe}return{type:"image",raw:ue,href:we,title:De,text:u(Oe)}}function w(ot,le){const ue=ot.match(/^(\s+)(?:```)/);if(ue===null)return le;const pe=ue[1];return le.split(`
`).map(we=>{const De=we.match(/^\s+/);if(De===null)return we;const[Oe]=De;return Oe.length>=pe.length?we.slice(pe.length):we}).join(`
`)}class _{constructor(le){Zi(this,"options");Zi(this,"rules");Zi(this,"lexer");this.options=le||e.defaults}space(le){const ue=this.rules.block.newline.exec(le);if(ue&&ue[0].length>0)return{type:"space",raw:ue[0]}}code(le){const ue=this.rules.block.code.exec(le);if(ue){const pe=ue[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ue[0],codeBlockStyle:"indented",text:this.options.pedantic?pe:v(pe,`
`)}}}fences(le){const ue=this.rules.block.fences.exec(le);if(ue){const pe=ue[0],we=w(pe,ue[3]||"");return{type:"code",raw:pe,lang:ue[2]?ue[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):ue[2],text:we}}}heading(le){const ue=this.rules.block.heading.exec(le);if(ue){let pe=ue[2].trim();if(/#$/.test(pe)){const we=v(pe,"#");(this.options.pedantic||!we||/ $/.test(we))&&(pe=we.trim())}return{type:"heading",raw:ue[0],depth:ue[1].length,text:pe,tokens:this.lexer.inline(pe)}}}hr(le){const ue=this.rules.block.hr.exec(le);if(ue)return{type:"hr",raw:v(ue[0],`
`)}}blockquote(le){const ue=this.rules.block.blockquote.exec(le);if(ue){let pe=v(ue[0],`
`).split(`
`),we="",De="";const Oe=[];for(;pe.length>0;){let Qe=!1;const Ct=[];let At;for(At=0;At<pe.length;At++)if(/^ {0,3}>/.test(pe[At]))Ct.push(pe[At]),Qe=!0;else if(!Qe)Ct.push(pe[At]);else break;pe=pe.slice(At);const qt=Ct.join(`
`),Vt=qt.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");we=we?`${we}
${qt}`:qt,De=De?`${De}
${Vt}`:Vt;const zt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Vt,Oe,!0),this.lexer.state.top=zt,pe.length===0)break;const Mn=Oe[Oe.length-1];if((Mn==null?void 0:Mn.type)==="code")break;if((Mn==null?void 0:Mn.type)==="blockquote"){const Ye=Mn,et=Ye.raw+`
`+pe.join(`
`),Rt=this.blockquote(et);Oe[Oe.length-1]=Rt,we=we.substring(0,we.length-Ye.raw.length)+Rt.raw,De=De.substring(0,De.length-Ye.text.length)+Rt.text;break}else if((Mn==null?void 0:Mn.type)==="list"){const Ye=Mn,et=Ye.raw+`
`+pe.join(`
`),Rt=this.list(et);Oe[Oe.length-1]=Rt,we=we.substring(0,we.length-Mn.raw.length)+Rt.raw,De=De.substring(0,De.length-Ye.raw.length)+Rt.raw,pe=et.substring(Oe[Oe.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:we,tokens:Oe,text:De}}}list(le){let ue=this.rules.block.list.exec(le);if(ue){let pe=ue[1].trim();const we=pe.length>1,De={type:"list",raw:"",ordered:we,start:we?+pe.slice(0,-1):"",loose:!1,items:[]};pe=we?`\\d{1,9}\\${pe.slice(-1)}`:`\\${pe}`,this.options.pedantic&&(pe=we?pe:"[*+-]");const Oe=new RegExp(`^( {0,3}${pe})((?:[	 ][^\\n]*)?(?:\\n|$))`);let Qe=!1;for(;le;){let Ct=!1,At="",qt="";if(!(ue=Oe.exec(le))||this.rules.block.hr.test(le))break;At=ue[0],le=le.substring(At.length);let Vt=ue[2].split(`
`,1)[0].replace(/^\t+/,pn=>" ".repeat(3*pn.length)),zt=le.split(`
`,1)[0],Mn=!Vt.trim(),Ye=0;if(this.options.pedantic?(Ye=2,qt=Vt.trimStart()):Mn?Ye=ue[1].length+1:(Ye=ue[2].search(/[^ ]/),Ye=Ye>4?1:Ye,qt=Vt.slice(Ye),Ye+=ue[1].length),Mn&&/^ *$/.test(zt)&&(At+=zt+`
`,le=le.substring(zt.length+1),Ct=!0),!Ct){const pn=new RegExp(`^ {0,${Math.min(3,Ye-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),yt=new RegExp(`^ {0,${Math.min(3,Ye-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ie=new RegExp(`^ {0,${Math.min(3,Ye-1)}}(?:\`\`\`|~~~)`),ct=new RegExp(`^ {0,${Math.min(3,Ye-1)}}#`);for(;le;){const Pt=le.split(`
`,1)[0];if(zt=Pt,this.options.pedantic&&(zt=zt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ie.test(zt)||ct.test(zt)||pn.test(zt)||yt.test(le))break;if(zt.search(/[^ ]/)>=Ye||!zt.trim())qt+=`
`+zt.slice(Ye);else{if(Mn||Vt.search(/[^ ]/)>=4||Ie.test(Vt)||ct.test(Vt)||yt.test(Vt))break;qt+=`
`+zt}!Mn&&!zt.trim()&&(Mn=!0),At+=Pt+`
`,le=le.substring(Pt.length+1),Vt=zt.slice(Ye)}}De.loose||(Qe?De.loose=!0:/\n *\n *$/.test(At)&&(Qe=!0));let et=null,Rt;this.options.gfm&&(et=/^\[[ xX]\] /.exec(qt),et&&(Rt=et[0]!=="[ ] ",qt=qt.replace(/^\[[ xX]\] +/,""))),De.items.push({type:"list_item",raw:At,task:!!et,checked:Rt,loose:!1,text:qt,tokens:[]}),De.raw+=At}De.items[De.items.length-1].raw=De.items[De.items.length-1].raw.trimEnd(),De.items[De.items.length-1].text=De.items[De.items.length-1].text.trimEnd(),De.raw=De.raw.trimEnd();for(let Ct=0;Ct<De.items.length;Ct++)if(this.lexer.state.top=!1,De.items[Ct].tokens=this.lexer.blockTokens(De.items[Ct].text,[]),!De.loose){const At=De.items[Ct].tokens.filter(Vt=>Vt.type==="space"),qt=At.length>0&&At.some(Vt=>/\n.*\n/.test(Vt.raw));De.loose=qt}if(De.loose)for(let Ct=0;Ct<De.items.length;Ct++)De.items[Ct].loose=!0;return De}}html(le){const ue=this.rules.block.html.exec(le);if(ue)return{type:"html",block:!0,raw:ue[0],pre:ue[1]==="pre"||ue[1]==="script"||ue[1]==="style",text:ue[0]}}def(le){const ue=this.rules.block.def.exec(le);if(ue){const pe=ue[1].toLowerCase().replace(/\s+/g," "),we=ue[2]?ue[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",De=ue[3]?ue[3].substring(1,ue[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):ue[3];return{type:"def",tag:pe,raw:ue[0],href:we,title:De}}}table(le){const ue=this.rules.block.table.exec(le);if(!ue||!/[:|]/.test(ue[2]))return;const pe=m(ue[1]),we=ue[2].replace(/^\||\| *$/g,"").split("|"),De=ue[3]&&ue[3].trim()?ue[3].replace(/\n[ \t]*$/,"").split(`
`):[],Oe={type:"table",raw:ue[0],header:[],align:[],rows:[]};if(pe.length===we.length){for(const Qe of we)/^ *-+: *$/.test(Qe)?Oe.align.push("right"):/^ *:-+: *$/.test(Qe)?Oe.align.push("center"):/^ *:-+ *$/.test(Qe)?Oe.align.push("left"):Oe.align.push(null);for(let Qe=0;Qe<pe.length;Qe++)Oe.header.push({text:pe[Qe],tokens:this.lexer.inline(pe[Qe]),header:!0,align:Oe.align[Qe]});for(const Qe of De)Oe.rows.push(m(Qe,Oe.header.length).map((Ct,At)=>({text:Ct,tokens:this.lexer.inline(Ct),header:!1,align:Oe.align[At]})));return Oe}}lheading(le){const ue=this.rules.block.lheading.exec(le);if(ue)return{type:"heading",raw:ue[0],depth:ue[2].charAt(0)==="="?1:2,text:ue[1],tokens:this.lexer.inline(ue[1])}}paragraph(le){const ue=this.rules.block.paragraph.exec(le);if(ue){const pe=ue[1].charAt(ue[1].length-1)===`
`?ue[1].slice(0,-1):ue[1];return{type:"paragraph",raw:ue[0],text:pe,tokens:this.lexer.inline(pe)}}}text(le){const ue=this.rules.block.text.exec(le);if(ue)return{type:"text",raw:ue[0],text:ue[0],tokens:this.lexer.inline(ue[0])}}escape(le){const ue=this.rules.inline.escape.exec(le);if(ue)return{type:"escape",raw:ue[0],text:u(ue[1])}}tag(le){const ue=this.rules.inline.tag.exec(le);if(ue)return!this.lexer.state.inLink&&/^<a /i.test(ue[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ue[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ue[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ue[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:ue[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:ue[0]}}link(le){const ue=this.rules.inline.link.exec(le);if(ue){const pe=ue[2].trim();if(!this.options.pedantic&&/^</.test(pe)){if(!/>$/.test(pe))return;const Oe=v(pe.slice(0,-1),"\\");if((pe.length-Oe.length)%2===0)return}else{const Oe=C(ue[2],"()");if(Oe>-1){const Ct=(ue[0].indexOf("!")===0?5:4)+ue[1].length+Oe;ue[2]=ue[2].substring(0,Oe),ue[0]=ue[0].substring(0,Ct).trim(),ue[3]=""}}let we=ue[2],De="";if(this.options.pedantic){const Oe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(we);Oe&&(we=Oe[1],De=Oe[3])}else De=ue[3]?ue[3].slice(1,-1):"";return we=we.trim(),/^</.test(we)&&(this.options.pedantic&&!/>$/.test(pe)?we=we.slice(1):we=we.slice(1,-1)),y(ue,{href:we&&we.replace(this.rules.inline.anyPunctuation,"$1"),title:De&&De.replace(this.rules.inline.anyPunctuation,"$1")},ue[0],this.lexer)}}reflink(le,ue){let pe;if((pe=this.rules.inline.reflink.exec(le))||(pe=this.rules.inline.nolink.exec(le))){const we=(pe[2]||pe[1]).replace(/\s+/g," "),De=ue[we.toLowerCase()];if(!De){const Oe=pe[0].charAt(0);return{type:"text",raw:Oe,text:Oe}}return y(pe,De,pe[0],this.lexer)}}emStrong(le,ue,pe=""){let we=this.rules.inline.emStrongLDelim.exec(le);if(!we||we[3]&&pe.match(/[\p{L}\p{N}]/u))return;if(!(we[1]||we[2]||"")||!pe||this.rules.inline.punctuation.exec(pe)){const Oe=[...we[0]].length-1;let Qe,Ct,At=Oe,qt=0;const Vt=we[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Vt.lastIndex=0,ue=ue.slice(-1*le.length+Oe);(we=Vt.exec(ue))!=null;){if(Qe=we[1]||we[2]||we[3]||we[4]||we[5]||we[6],!Qe)continue;if(Ct=[...Qe].length,we[3]||we[4]){At+=Ct;continue}else if((we[5]||we[6])&&Oe%3&&!((Oe+Ct)%3)){qt+=Ct;continue}if(At-=Ct,At>0)continue;Ct=Math.min(Ct,Ct+At+qt);const zt=[...we[0]][0].length,Mn=le.slice(0,Oe+we.index+zt+Ct);if(Math.min(Oe,Ct)%2){const et=Mn.slice(1,-1);return{type:"em",raw:Mn,text:et,tokens:this.lexer.inlineTokens(et)}}const Ye=Mn.slice(2,-2);return{type:"strong",raw:Mn,text:Ye,tokens:this.lexer.inlineTokens(Ye)}}}}codespan(le){const ue=this.rules.inline.code.exec(le);if(ue){let pe=ue[2].replace(/\n/g," ");const we=/[^ ]/.test(pe),De=/^ /.test(pe)&&/ $/.test(pe);return we&&De&&(pe=pe.substring(1,pe.length-1)),pe=u(pe,!0),{type:"codespan",raw:ue[0],text:pe}}}br(le){const ue=this.rules.inline.br.exec(le);if(ue)return{type:"br",raw:ue[0]}}del(le){const ue=this.rules.inline.del.exec(le);if(ue)return{type:"del",raw:ue[0],text:ue[2],tokens:this.lexer.inlineTokens(ue[2])}}autolink(le){const ue=this.rules.inline.autolink.exec(le);if(ue){let pe,we;return ue[2]==="@"?(pe=u(ue[1]),we="mailto:"+pe):(pe=u(ue[1]),we=pe),{type:"link",raw:ue[0],text:pe,href:we,tokens:[{type:"text",raw:pe,text:pe}]}}}url(le){var pe;let ue;if(ue=this.rules.inline.url.exec(le)){let we,De;if(ue[2]==="@")we=u(ue[0]),De="mailto:"+we;else{let Oe;do Oe=ue[0],ue[0]=((pe=this.rules.inline._backpedal.exec(ue[0]))==null?void 0:pe[0])??"";while(Oe!==ue[0]);we=u(ue[0]),ue[1]==="www."?De="http://"+ue[0]:De=ue[0]}return{type:"link",raw:ue[0],text:we,href:De,tokens:[{type:"text",raw:we,text:we}]}}}inlineText(le){const ue=this.rules.inline.text.exec(le);if(ue){let pe;return this.lexer.state.inRawBlock?pe=ue[0]:pe=u(ue[0]),{type:"text",raw:ue[0],text:pe}}}}const x=/^(?: *(?:\n|$))+/,k=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,D=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,T=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,L=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,I=/(?:[*+-]|\d{1,9}[.)])/,R=h(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,I).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),N=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,O=/^[^\n]+/,F=/(?!\s*\])(?:\\.|[^\[\]\\])+/,A=h(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),H=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,I).getRegex(),W="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,U=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$).replace("tag",W).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z=h(N).replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W).getRegex(),Z={blockquote:h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",z).getRegex(),code:k,def:A,fences:D,heading:L,hr:T,html:U,lheading:R,list:H,newline:x,paragraph:z,table:p,text:O},Q=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W).getRegex(),G={...Z,table:Q,paragraph:h(N).replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Q).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W).getRegex()},J={...Z,html:h(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:p,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(N).replace("hr",T).replace("heading",` *#{1,6} *[^
]`).replace("lheading",R).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ne=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ae=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,se=/^( {2,}|\\)\n(?!\s*$)/,X=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,oe="\\p{P}\\p{S}",ve=h(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,oe).getRegex(),me=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ye=h(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,oe).getRegex(),Le=h("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,oe).getRegex(),ie=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,oe).getRegex(),Ee=h(/\\([punct])/,"gu").replace(/punct/g,oe).getRegex(),Ue=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),re=h($).replace("(?:-->|$)","-->").getRegex(),fe=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",re).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ce=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Me=h(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ce).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Te=h(/^!?\[(label)\]\[(ref)\]/).replace("label",Ce).replace("ref",F).getRegex(),Ae=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),Ne=h("reflink|nolink(?!\\()","g").replace("reflink",Te).replace("nolink",Ae).getRegex(),Ge={_backpedal:p,anyPunctuation:Ee,autolink:Ue,blockSkip:me,br:se,code:ae,del:p,emStrongLDelim:ye,emStrongRDelimAst:Le,emStrongRDelimUnd:ie,escape:ne,link:Me,nolink:Ae,punctuation:ve,reflink:Te,reflinkSearch:Ne,tag:fe,text:X,url:p},gt={...Ge,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",Ce).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ce).getRegex()},rt={...Ge,escape:h(ne).replace("])","~|])").getRegex(),url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},it={...rt,br:h(se).replace("{2,}","*").getRegex(),text:h(rt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xe={normal:Z,gfm:G,pedantic:J},st={normal:Ge,gfm:rt,breaks:it,pedantic:gt};class Ke{constructor(le){Zi(this,"tokens");Zi(this,"options");Zi(this,"state");Zi(this,"tokenizer");Zi(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=le||e.defaults,this.options.tokenizer=this.options.tokenizer||new _,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ue={block:Xe.normal,inline:st.normal};this.options.pedantic?(ue.block=Xe.pedantic,ue.inline=st.pedantic):this.options.gfm&&(ue.block=Xe.gfm,this.options.breaks?ue.inline=st.breaks:ue.inline=st.gfm),this.tokenizer.rules=ue}static get rules(){return{block:Xe,inline:st}}static lex(le,ue){return new Ke(ue).lex(le)}static lexInline(le,ue){return new Ke(ue).inlineTokens(le)}lex(le){le=le.replace(/\r\n|\r/g,`
`),this.blockTokens(le,this.tokens);for(let ue=0;ue<this.inlineQueue.length;ue++){const pe=this.inlineQueue[ue];this.inlineTokens(pe.src,pe.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(le,ue=[],pe=!1){this.options.pedantic?le=le.replace(/\t/g,"    ").replace(/^ +$/gm,""):le=le.replace(/^( *)(\t+)/gm,(Qe,Ct,At)=>Ct+"    ".repeat(At.length));let we,De,Oe;for(;le;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Qe=>(we=Qe.call({lexer:this},le,ue))?(le=le.substring(we.raw.length),ue.push(we),!0):!1))){if(we=this.tokenizer.space(le)){le=le.substring(we.raw.length),we.raw.length===1&&ue.length>0?ue[ue.length-1].raw+=`
`:ue.push(we);continue}if(we=this.tokenizer.code(le)){le=le.substring(we.raw.length),De=ue[ue.length-1],De&&(De.type==="paragraph"||De.type==="text")?(De.raw+=`
`+we.raw,De.text+=`
`+we.text,this.inlineQueue[this.inlineQueue.length-1].src=De.text):ue.push(we);continue}if(we=this.tokenizer.fences(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.heading(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.hr(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.blockquote(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.list(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.html(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.def(le)){le=le.substring(we.raw.length),De=ue[ue.length-1],De&&(De.type==="paragraph"||De.type==="text")?(De.raw+=`
`+we.raw,De.text+=`
`+we.raw,this.inlineQueue[this.inlineQueue.length-1].src=De.text):this.tokens.links[we.tag]||(this.tokens.links[we.tag]={href:we.href,title:we.title});continue}if(we=this.tokenizer.table(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(we=this.tokenizer.lheading(le)){le=le.substring(we.raw.length),ue.push(we);continue}if(Oe=le,this.options.extensions&&this.options.extensions.startBlock){let Qe=1/0;const Ct=le.slice(1);let At;this.options.extensions.startBlock.forEach(qt=>{At=qt.call({lexer:this},Ct),typeof At=="number"&&At>=0&&(Qe=Math.min(Qe,At))}),Qe<1/0&&Qe>=0&&(Oe=le.substring(0,Qe+1))}if(this.state.top&&(we=this.tokenizer.paragraph(Oe))){De=ue[ue.length-1],pe&&(De==null?void 0:De.type)==="paragraph"?(De.raw+=`
`+we.raw,De.text+=`
`+we.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=De.text):ue.push(we),pe=Oe.length!==le.length,le=le.substring(we.raw.length);continue}if(we=this.tokenizer.text(le)){le=le.substring(we.raw.length),De=ue[ue.length-1],De&&De.type==="text"?(De.raw+=`
`+we.raw,De.text+=`
`+we.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=De.text):ue.push(we);continue}if(le){const Qe="Infinite loop on byte: "+le.charCodeAt(0);if(this.options.silent){console.error(Qe);break}else throw new Error(Qe)}}return this.state.top=!0,ue}inline(le,ue=[]){return this.inlineQueue.push({src:le,tokens:ue}),ue}inlineTokens(le,ue=[]){let pe,we,De,Oe=le,Qe,Ct,At;if(this.tokens.links){const qt=Object.keys(this.tokens.links);if(qt.length>0)for(;(Qe=this.tokenizer.rules.inline.reflinkSearch.exec(Oe))!=null;)qt.includes(Qe[0].slice(Qe[0].lastIndexOf("[")+1,-1))&&(Oe=Oe.slice(0,Qe.index)+"["+"a".repeat(Qe[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Qe=this.tokenizer.rules.inline.blockSkip.exec(Oe))!=null;)Oe=Oe.slice(0,Qe.index)+"["+"a".repeat(Qe[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Qe=this.tokenizer.rules.inline.anyPunctuation.exec(Oe))!=null;)Oe=Oe.slice(0,Qe.index)+"++"+Oe.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;le;)if(Ct||(At=""),Ct=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(qt=>(pe=qt.call({lexer:this},le,ue))?(le=le.substring(pe.raw.length),ue.push(pe),!0):!1))){if(pe=this.tokenizer.escape(le)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(pe=this.tokenizer.tag(le)){le=le.substring(pe.raw.length),we=ue[ue.length-1],we&&pe.type==="text"&&we.type==="text"?(we.raw+=pe.raw,we.text+=pe.text):ue.push(pe);continue}if(pe=this.tokenizer.link(le)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(pe=this.tokenizer.reflink(le,this.tokens.links)){le=le.substring(pe.raw.length),we=ue[ue.length-1],we&&pe.type==="text"&&we.type==="text"?(we.raw+=pe.raw,we.text+=pe.text):ue.push(pe);continue}if(pe=this.tokenizer.emStrong(le,Oe,At)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(pe=this.tokenizer.codespan(le)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(pe=this.tokenizer.br(le)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(pe=this.tokenizer.del(le)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(pe=this.tokenizer.autolink(le)){le=le.substring(pe.raw.length),ue.push(pe);continue}if(!this.state.inLink&&(pe=this.tokenizer.url(le))){le=le.substring(pe.raw.length),ue.push(pe);continue}if(De=le,this.options.extensions&&this.options.extensions.startInline){let qt=1/0;const Vt=le.slice(1);let zt;this.options.extensions.startInline.forEach(Mn=>{zt=Mn.call({lexer:this},Vt),typeof zt=="number"&&zt>=0&&(qt=Math.min(qt,zt))}),qt<1/0&&qt>=0&&(De=le.substring(0,qt+1))}if(pe=this.tokenizer.inlineText(De)){le=le.substring(pe.raw.length),pe.raw.slice(-1)!=="_"&&(At=pe.raw.slice(-1)),Ct=!0,we=ue[ue.length-1],we&&we.type==="text"?(we.raw+=pe.raw,we.text+=pe.text):ue.push(pe);continue}if(le){const qt="Infinite loop on byte: "+le.charCodeAt(0);if(this.options.silent){console.error(qt);break}else throw new Error(qt)}}return ue}}class kt{constructor(le){Zi(this,"options");Zi(this,"parser");this.options=le||e.defaults}space(le){return""}code({text:le,lang:ue,escaped:pe}){var Oe;const we=(Oe=(ue||"").match(/^\S*/))==null?void 0:Oe[0],De=le.replace(/\n$/,"")+`
`;return we?'<pre><code class="language-'+u(we)+'">'+(pe?De:u(De,!0))+`</code></pre>
`:"<pre><code>"+(pe?De:u(De,!0))+`</code></pre>
`}blockquote({tokens:le}){return`<blockquote>
${this.parser.parse(le)}</blockquote>
`}html({text:le}){return le}heading({tokens:le,depth:ue}){return`<h${ue}>${this.parser.parseInline(le)}</h${ue}>
`}hr(le){return`<hr>
`}list(le){const ue=le.ordered,pe=le.start;let we="";for(let Qe=0;Qe<le.items.length;Qe++){const Ct=le.items[Qe];we+=this.listitem(Ct)}const De=ue?"ol":"ul",Oe=ue&&pe!==1?' start="'+pe+'"':"";return"<"+De+Oe+`>
`+we+"</"+De+`>
`}listitem(le){let ue="";if(le.task){const pe=this.checkbox({checked:!!le.checked});le.loose?le.tokens.length>0&&le.tokens[0].type==="paragraph"?(le.tokens[0].text=pe+" "+le.tokens[0].text,le.tokens[0].tokens&&le.tokens[0].tokens.length>0&&le.tokens[0].tokens[0].type==="text"&&(le.tokens[0].tokens[0].text=pe+" "+le.tokens[0].tokens[0].text)):le.tokens.unshift({type:"text",raw:pe+" ",text:pe+" "}):ue+=pe+" "}return ue+=this.parser.parse(le.tokens,!!le.loose),`<li>${ue}</li>
`}checkbox({checked:le}){return"<input "+(le?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:le}){return`<p>${this.parser.parseInline(le)}</p>
`}table(le){let ue="",pe="";for(let De=0;De<le.header.length;De++)pe+=this.tablecell(le.header[De]);ue+=this.tablerow({text:pe});let we="";for(let De=0;De<le.rows.length;De++){const Oe=le.rows[De];pe="";for(let Qe=0;Qe<Oe.length;Qe++)pe+=this.tablecell(Oe[Qe]);we+=this.tablerow({text:pe})}return we&&(we=`<tbody>${we}</tbody>`),`<table>
<thead>
`+ue+`</thead>
`+we+`</table>
`}tablerow({text:le}){return`<tr>
${le}</tr>
`}tablecell(le){const ue=this.parser.parseInline(le.tokens),pe=le.header?"th":"td";return(le.align?`<${pe} align="${le.align}">`:`<${pe}>`)+ue+`</${pe}>
`}strong({tokens:le}){return`<strong>${this.parser.parseInline(le)}</strong>`}em({tokens:le}){return`<em>${this.parser.parseInline(le)}</em>`}codespan({text:le}){return`<code>${le}</code>`}br(le){return"<br>"}del({tokens:le}){return`<del>${this.parser.parseInline(le)}</del>`}link({href:le,title:ue,tokens:pe}){const we=this.parser.parseInline(pe),De=f(le);if(De===null)return we;le=De;let Oe='<a href="'+le+'"';return ue&&(Oe+=' title="'+ue+'"'),Oe+=">"+we+"</a>",Oe}image({href:le,title:ue,text:pe}){const we=f(le);if(we===null)return pe;le=we;let De=`<img src="${le}" alt="${pe}"`;return ue&&(De+=` title="${ue}"`),De+=">",De}text(le){return"tokens"in le&&le.tokens?this.parser.parseInline(le.tokens):le.text}}class Gt{strong({text:le}){return le}em({text:le}){return le}codespan({text:le}){return le}del({text:le}){return le}html({text:le}){return le}text({text:le}){return le}link({text:le}){return""+le}image({text:le}){return""+le}br(){return""}}class Dt{constructor(le){Zi(this,"options");Zi(this,"renderer");Zi(this,"textRenderer");this.options=le||e.defaults,this.options.renderer=this.options.renderer||new kt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Gt}static parse(le,ue){return new Dt(ue).parse(le)}static parseInline(le,ue){return new Dt(ue).parseInline(le)}parse(le,ue=!0){let pe="";for(let we=0;we<le.length;we++){const De=le[we];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[De.type]){const Qe=De,Ct=this.options.extensions.renderers[Qe.type].call({parser:this},Qe);if(Ct!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Qe.type)){pe+=Ct||"";continue}}const Oe=De;switch(Oe.type){case"space":{pe+=this.renderer.space(Oe);continue}case"hr":{pe+=this.renderer.hr(Oe);continue}case"heading":{pe+=this.renderer.heading(Oe);continue}case"code":{pe+=this.renderer.code(Oe);continue}case"table":{pe+=this.renderer.table(Oe);continue}case"blockquote":{pe+=this.renderer.blockquote(Oe);continue}case"list":{pe+=this.renderer.list(Oe);continue}case"html":{pe+=this.renderer.html(Oe);continue}case"paragraph":{pe+=this.renderer.paragraph(Oe);continue}case"text":{let Qe=Oe,Ct=this.renderer.text(Qe);for(;we+1<le.length&&le[we+1].type==="text";)Qe=le[++we],Ct+=`
`+this.renderer.text(Qe);ue?pe+=this.renderer.paragraph({type:"paragraph",raw:Ct,text:Ct,tokens:[{type:"text",raw:Ct,text:Ct}]}):pe+=Ct;continue}default:{const Qe='Token with "'+Oe.type+'" type was not found.';if(this.options.silent)return console.error(Qe),"";throw new Error(Qe)}}}return pe}parseInline(le,ue){ue=ue||this.renderer;let pe="";for(let we=0;we<le.length;we++){const De=le[we];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[De.type]){const Qe=this.options.extensions.renderers[De.type].call({parser:this},De);if(Qe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(De.type)){pe+=Qe||"";continue}}const Oe=De;switch(Oe.type){case"escape":{pe+=ue.text(Oe);break}case"html":{pe+=ue.html(Oe);break}case"link":{pe+=ue.link(Oe);break}case"image":{pe+=ue.image(Oe);break}case"strong":{pe+=ue.strong(Oe);break}case"em":{pe+=ue.em(Oe);break}case"codespan":{pe+=ue.codespan(Oe);break}case"br":{pe+=ue.br(Oe);break}case"del":{pe+=ue.del(Oe);break}case"text":{pe+=ue.text(Oe);break}default:{const Qe='Token with "'+Oe.type+'" type was not found.';if(this.options.silent)return console.error(Qe),"";throw new Error(Qe)}}}return pe}}class xe{constructor(le){Zi(this,"options");this.options=le||e.defaults}preprocess(le){return le}postprocess(le){return le}processAllTokens(le){return le}}Zi(xe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Re{constructor(...le){Zi(this,"defaults",t());Zi(this,"options",this.setOptions);Zi(this,"parse",this.parseMarkdown(Ke.lex,Dt.parse));Zi(this,"parseInline",this.parseMarkdown(Ke.lexInline,Dt.parseInline));Zi(this,"Parser",Dt);Zi(this,"Renderer",kt);Zi(this,"TextRenderer",Gt);Zi(this,"Lexer",Ke);Zi(this,"Tokenizer",_);Zi(this,"Hooks",xe);this.use(...le)}walkTokens(le,ue){var we,De;let pe=[];for(const Oe of le)switch(pe=pe.concat(ue.call(this,Oe)),Oe.type){case"table":{const Qe=Oe;for(const Ct of Qe.header)pe=pe.concat(this.walkTokens(Ct.tokens,ue));for(const Ct of Qe.rows)for(const At of Ct)pe=pe.concat(this.walkTokens(At.tokens,ue));break}case"list":{const Qe=Oe;pe=pe.concat(this.walkTokens(Qe.items,ue));break}default:{const Qe=Oe;(De=(we=this.defaults.extensions)==null?void 0:we.childTokens)!=null&&De[Qe.type]?this.defaults.extensions.childTokens[Qe.type].forEach(Ct=>{const At=Qe[Ct].flat(1/0);pe=pe.concat(this.walkTokens(At,ue))}):Qe.tokens&&(pe=pe.concat(this.walkTokens(Qe.tokens,ue)))}}return pe}use(...le){const ue=this.defaults.extensions||{renderers:{},childTokens:{}};return le.forEach(pe=>{const we={...pe};if(we.async=this.defaults.async||we.async||!1,pe.extensions&&(pe.extensions.forEach(De=>{if(!De.name)throw new Error("extension name required");if("renderer"in De){const Oe=ue.renderers[De.name];Oe?ue.renderers[De.name]=function(...Qe){let Ct=De.renderer.apply(this,Qe);return Ct===!1&&(Ct=Oe.apply(this,Qe)),Ct}:ue.renderers[De.name]=De.renderer}if("tokenizer"in De){if(!De.level||De.level!=="block"&&De.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const Oe=ue[De.level];Oe?Oe.unshift(De.tokenizer):ue[De.level]=[De.tokenizer],De.start&&(De.level==="block"?ue.startBlock?ue.startBlock.push(De.start):ue.startBlock=[De.start]:De.level==="inline"&&(ue.startInline?ue.startInline.push(De.start):ue.startInline=[De.start]))}"childTokens"in De&&De.childTokens&&(ue.childTokens[De.name]=De.childTokens)}),we.extensions=ue),pe.renderer){const De=this.defaults.renderer||new kt(this.defaults);for(const Oe in pe.renderer){if(!(Oe in De))throw new Error(`renderer '${Oe}' does not exist`);if(["options","parser"].includes(Oe))continue;const Qe=Oe,Ct=pe.renderer[Qe],At=De[Qe];De[Qe]=(...qt)=>{let Vt=Ct.apply(De,qt);return Vt===!1&&(Vt=At.apply(De,qt)),Vt||""}}we.renderer=De}if(pe.tokenizer){const De=this.defaults.tokenizer||new _(this.defaults);for(const Oe in pe.tokenizer){if(!(Oe in De))throw new Error(`tokenizer '${Oe}' does not exist`);if(["options","rules","lexer"].includes(Oe))continue;const Qe=Oe,Ct=pe.tokenizer[Qe],At=De[Qe];De[Qe]=(...qt)=>{let Vt=Ct.apply(De,qt);return Vt===!1&&(Vt=At.apply(De,qt)),Vt}}we.tokenizer=De}if(pe.hooks){const De=this.defaults.hooks||new xe;for(const Oe in pe.hooks){if(!(Oe in De))throw new Error(`hook '${Oe}' does not exist`);if(Oe==="options")continue;const Qe=Oe,Ct=pe.hooks[Qe],At=De[Qe];xe.passThroughHooks.has(Oe)?De[Qe]=qt=>{if(this.defaults.async)return Promise.resolve(Ct.call(De,qt)).then(zt=>At.call(De,zt));const Vt=Ct.call(De,qt);return At.call(De,Vt)}:De[Qe]=(...qt)=>{let Vt=Ct.apply(De,qt);return Vt===!1&&(Vt=At.apply(De,qt)),Vt}}we.hooks=De}if(pe.walkTokens){const De=this.defaults.walkTokens,Oe=pe.walkTokens;we.walkTokens=function(Qe){let Ct=[];return Ct.push(Oe.call(this,Qe)),De&&(Ct=Ct.concat(De.call(this,Qe))),Ct}}this.defaults={...this.defaults,...we}}),this}setOptions(le){return this.defaults={...this.defaults,...le},this}lexer(le,ue){return Ke.lex(le,ue??this.defaults)}parser(le,ue){return Dt.parse(le,ue??this.defaults)}parseMarkdown(le,ue){return(we,De)=>{const Oe={...De},Qe={...this.defaults,...Oe},Ct=this.onError(!!Qe.silent,!!Qe.async);if(this.defaults.async===!0&&Oe.async===!1)return Ct(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof we>"u"||we===null)return Ct(new Error("marked(): input parameter is undefined or null"));if(typeof we!="string")return Ct(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected"));if(Qe.hooks&&(Qe.hooks.options=Qe),Qe.async)return Promise.resolve(Qe.hooks?Qe.hooks.preprocess(we):we).then(At=>le(At,Qe)).then(At=>Qe.hooks?Qe.hooks.processAllTokens(At):At).then(At=>Qe.walkTokens?Promise.all(this.walkTokens(At,Qe.walkTokens)).then(()=>At):At).then(At=>ue(At,Qe)).then(At=>Qe.hooks?Qe.hooks.postprocess(At):At).catch(Ct);try{Qe.hooks&&(we=Qe.hooks.preprocess(we));let At=le(we,Qe);Qe.hooks&&(At=Qe.hooks.processAllTokens(At)),Qe.walkTokens&&this.walkTokens(At,Qe.walkTokens);let qt=ue(At,Qe);return Qe.hooks&&(qt=Qe.hooks.postprocess(qt)),qt}catch(At){return Ct(At)}}}onError(le,ue){return pe=>{if(pe.message+=`
Please report this to https://github.com/markedjs/marked.`,le){const we="<p>An error occurred:</p><pre>"+u(pe.message+"",!0)+"</pre>";return ue?Promise.resolve(we):we}if(ue)return Promise.reject(pe);throw pe}}}const Et=new Re;function Mt(ot,le){return Et.parse(ot,le)}Mt.options=Mt.setOptions=function(ot){return Et.setOptions(ot),Mt.defaults=Et.defaults,i(Mt.defaults),Mt},Mt.getDefaults=t,Mt.defaults=e.defaults,Mt.use=function(...ot){return Et.use(...ot),Mt.defaults=Et.defaults,i(Mt.defaults),Mt},Mt.walkTokens=function(ot,le){return Et.walkTokens(ot,le)},Mt.parseInline=Et.parseInline,Mt.Parser=Dt,Mt.parser=Dt.parse,Mt.Renderer=kt,Mt.TextRenderer=Gt,Mt.Lexer=Ke,Mt.lexer=Ke.lex,Mt.Tokenizer=_,Mt.Hooks=xe,Mt.parse=Mt;const hn=Mt.options,en=Mt.setOptions,fi=Mt.use,Qt=Mt.walkTokens,He=Mt.parseInline,Bt=Mt,fn=Dt.parse,bn=Ke.lex;e.Hooks=xe,e.Lexer=Ke,e.Marked=Re,e.Parser=Dt,e.Renderer=kt,e.TextRenderer=Gt,e.Tokenizer=_,e.getDefaults=t,e.lexer=bn,e.marked=Mt,e.options=hn,e.parse=Bt,e.parseInline=He,e.parser=fn,e.setOptions=en,e.use=fi,e.walkTokens=Qt})})();so.Hooks||exports.Hooks;so.Lexer||exports.Lexer;so.Marked||exports.Marked;so.Parser||exports.Parser;var x_e=so.Renderer||exports.Renderer;so.TextRenderer||exports.TextRenderer;so.Tokenizer||exports.Tokenizer;var Ogt=so.defaults||exports.defaults;so.getDefaults||exports.getDefaults;var JA=so.lexer||exports.lexer;so.marked||exports.marked;so.options||exports.options;var k_e=so.parse||exports.parse;so.parseInline||exports.parseInline;var Fgt=so.parser||exports.parser;so.setOptions||exports.setOptions;so.use||exports.use;so.walkTokens||exports.walkTokens;function Bgt(n){return JSON.stringify(n,Hgt)}function wz(n){let e=JSON.parse(n);return e=Sz(e),e}function Hgt(n,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function Sz(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Sn.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof Mq||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=Sz(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=Sz(n[t],e+1))}return n}const o6=Object.freeze({image:({href:n,title:e,text:t})=>{let i=[],r=[];return n&&({href:n,dimensions:i}=Pgt(n),r.push(`src="${r2(n)}"`)),t&&r.push(`alt="${r2(t)}"`),e&&r.push(`title="${r2(e)}"`),i.length&&(r=r.concat(i)),"<img "+r.join(" ")+">"},paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>`},link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof n!="string"?"":(n===i&&(i=s6(i)),e=typeof e=="string"?r2(s6(e)):"",n=s6(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${i}</a>`)}});function tG(n,e={},t={}){const i=new It;let r=!1;const s=Qq(e),o=function(m){let v;try{v=wz(decodeURIComponent(m))}catch{}return v?(v=Vye(v,C=>{if(n.uris&&n.uris[C])return Sn.revive(n.uris[C])}),encodeURIComponent(JSON.stringify(v))):m},a=function(m,v){const C=n.uris&&n.uris[m];let y=Sn.revive(C);return v?m.startsWith(Cn.data+":")?m:(y||(y=Sn.parse(m)),TA.uriToBrowserUri(y).toString(!0)):!y||Sn.parse(m).toString()===y.toString()?m:(y.query&&(y=y.with({query:o(y.query)})),y.toString())},l=new x_e;l.image=o6.image,l.link=o6.link,l.paragraph=o6.paragraph;const c=[],u=[];if(e.codeBlockRendererSync?l.code=({text:m,lang:v})=>{const C=Cue.nextId(),y=e.codeBlockRendererSync(_ue(v),m);return u.push([C,y]),`<div class="code" data-code="${C}">${AS(m)}</div>`}:e.codeBlockRenderer&&(l.code=({text:m,lang:v})=>{const C=Cue.nextId(),y=e.codeBlockRenderer(_ue(v),m);return c.push(y.then(w=>[C,w])),`<div class="code" data-code="${C}">${AS(m)}</div>`}),e.actionHandler){const m=function(y){let w=y.target;if(!(w.tagName!=="A"&&(w=w.parentElement,!w||w.tagName!=="A")))try{let _=w.dataset.href;_&&(n.baseUri&&(_=a6(Sn.from(n.baseUri),_)),e.actionHandler.callback(_,y))}catch(_){_i(_)}finally{y.preventDefault()}},v=e.actionHandler.disposables.add(new kn(s,"click")),C=e.actionHandler.disposables.add(new kn(s,"auxclick"));e.actionHandler.disposables.add(ut.any(v.event,C.event)(y=>{const w=new Cu(Ft(s),y);!w.leftButton&&!w.middleButton||m(w)})),e.actionHandler.disposables.add(ze(s,"keydown",y=>{const w=new Bi(y);!w.equals(10)&&!w.equals(3)||m(w)}))}n.supportHtml||(l.html=({text:m})=>{var C;return(C=e.sanitizerOptions)!=null&&C.replaceWithPlaintext?AS(m):(n.isTrusted?m.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?m:""}),t.renderer=l;let d=n.value??"";d.length>1e5&&(d=`${d.substr(0,1e5)}`),n.supportThemeIcons&&(d=kgt(d));let h;if(e.fillInIncompleteTokens){const m={...Ogt,...t},v=JA(d,m),C=Zgt(v);h=Fgt(C,m)}else h=k_e(d,{...t,async:!1});n.supportThemeIcons&&(h=Ob(h).map(v=>typeof v=="string"?v:v.outerHTML).join(""));const p=new DOMParser().parseFromString(xz({isTrusted:n.isTrusted,...e.sanitizerOptions},h),"text/html");if(p.body.querySelectorAll("img, audio, video, source").forEach(m=>{const v=m.getAttribute("src");if(v){let C=v;try{n.baseUri&&(C=a6(Sn.from(n.baseUri),C))}catch{}if(m.setAttribute("src",a(C,!0)),e.remoteImageIsAllowed){const y=Sn.parse(C);y.scheme!==Cn.file&&y.scheme!==Cn.data&&!e.remoteImageIsAllowed(y)&&m.replaceWith(jt("",void 0,m.outerHTML))}}}),p.body.querySelectorAll("a").forEach(m=>{const v=m.getAttribute("href");if(m.setAttribute("href",""),!v||/^data:|javascript:/i.test(v)||/^command:/i.test(v)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(v))m.replaceWith(...m.childNodes);else{let C=a(v,!1);n.baseUri&&(C=a6(Sn.from(n.baseUri),v)),m.dataset.href=C}}),s.innerHTML=xz({isTrusted:n.isTrusted,...e.sanitizerOptions},p.body.innerHTML),c.length>0)Promise.all(c).then(m=>{var y;if(r)return;const v=new Map(m),C=s.querySelectorAll("div[data-code]");for(const w of C){const _=v.get(w.dataset.code??"");_&&Wo(w,_)}(y=e.asyncRenderCallback)==null||y.call(e)});else if(u.length>0){const m=new Map(u),v=s.querySelectorAll("div[data-code]");for(const C of v){const y=m.get(C.dataset.code??"");y&&Wo(C,y)}}if(e.asyncRenderCallback)for(const m of s.getElementsByTagName("img")){const v=i.add(ze(m,"load",()=>{v.dispose(),e.asyncRenderCallback()}))}return{element:s,dispose:()=>{r=!0,i.dispose()}}}function _ue(n){if(!n)return"";const e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function a6(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?bue(n,e).toString():bue(Igt(n),e).toString()}const Vgt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function xz(n,e){const{config:t,allowedSchemes:i}=Wgt(n),r=new It;r.add(wue("uponSanitizeAttribute",(s,o)=>{var a;if(o.attrName==="style"||o.attrName==="class"){if(s.tagName==="SPAN"){if(o.attrName==="style"){o.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(border-radius:[0-9]+px;)?$/.test(o.attrValue);return}else if(o.attrName==="class"){o.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(o.attrValue);return}}o.keepAttr=!1;return}else if(s.tagName==="INPUT"&&((a=s.attributes.getNamedItem("type"))==null?void 0:a.value)==="checkbox"){if(o.attrName==="type"&&o.attrValue==="checkbox"||o.attrName==="disabled"||o.attrName==="checked"){o.keepAttr=!0;return}o.keepAttr=!1}})),r.add(wue("uponSanitizeElement",(s,o)=>{var a;if(o.tagName==="input"&&(((a=s.attributes.getNamedItem("type"))==null?void 0:a.value)==="checkbox"?s.setAttribute("disabled",""):n.replaceWithPlaintext||s.remove()),n.replaceWithPlaintext&&!o.allowedTags[o.tagName]&&o.tagName!=="body"&&s.parentElement){let l,c;if(o.tagName==="#comment")l=`<!--${s.textContent}-->`;else{const f=Vgt.includes(o.tagName),p=s.attributes.length?" "+Array.from(s.attributes).map(m=>`${m.name}="${m.value}"`).join(" "):"";l=`<${o.tagName}${p}>`,f||(c=`</${o.tagName}>`)}const u=document.createDocumentFragment(),d=s.parentElement.ownerDocument.createTextNode(l);u.appendChild(d);const h=c?s.parentElement.ownerDocument.createTextNode(c):void 0;for(;s.firstChild;)u.appendChild(s.firstChild);h&&u.appendChild(h),s.nodeType===Node.COMMENT_NODE?s.parentElement.insertBefore(u,s):s.parentElement.replaceChild(u,s)}})),r.add(ylt(i));try{return RCe(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{r.dispose()}}const zgt=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function Wgt(n){const e=[Cn.http,Cn.https,Cn.mailto,Cn.data,Cn.file,Cn.vscodeFileResource,Cn.vscodeRemote,Cn.vscodeRemoteResource];return n.isTrusted&&e.push(Cn.command),{config:{ALLOWED_TAGS:n.allowedTags??[...Clt],ALLOWED_ATTR:zgt,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function $gt(n){return typeof n=="string"?n:jgt(n)}function jgt(n,e){let t=n.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}`);const i=k_e(t,{async:!1,renderer:Ggt.value}).replace(/&(#\d+|[a-zA-Z]+);/g,r=>Ugt.get(r)??r);return xz({isTrusted:!1},i).toString()}const Ugt=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function qgt(){const n=new x_e;return n.code=({text:e})=>e,n.blockquote=({text:e})=>e+`
`,n.html=e=>"",n.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.hr=()=>"",n.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},n.listitem=({text:e})=>e+`
`,n.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(r=>this.tablecell(r)).join(" ")).join(`
`)+`
`},n.tablerow=({text:e})=>e,n.tablecell=function({tokens:e}){return this.parser.parseInline(e)},n.strong=({text:e})=>e,n.em=({text:e})=>e,n.codespan=({text:e})=>e,n.br=e=>`
`,n.del=({text:e})=>e,n.image=e=>"",n.text=({text:e})=>e,n.link=({text:e})=>e,n}const Ggt=new Rp(n=>qgt());function nM(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function L_e(n){var e,t;if(n.tokens)for(let i=n.tokens.length-1;i>=0;i--){const r=n.tokens[i];if(r.type==="text"){const s=r.raw.split(`
`),o=s[s.length-1];if(o.includes("`"))return ept(n);if(o.includes("**"))return opt(n);if(o.match(/\*\w/))return tpt(n);if(o.match(/(^|\s)__\w/))return apt(n);if(o.match(/(^|\s)_\w/))return npt(n);if(Kgt(o)||Qgt(o)&&n.tokens.slice(0,i).some(a=>a.type==="text"&&a.raw.match(/\[[^\]]*$/))){const a=n.tokens.slice(i+1);return((e=a[0])==null?void 0:e.type)==="link"&&((t=a[1])==null?void 0:t.type)==="text"&&a[1].raw.match(/^ *"[^"]*$/)||o.match(/^[^"]* +"[^"]*$/)?rpt(n):ipt(n)}else if(o.match(/(^|\s)\[\w*/))return spt(n)}}}function Kgt(n){return!!n.match(/(^|\s)\[.*\]\(\w*/)}function Qgt(n){return!!n.match(/^[^\[]*\]\([^\)]*$/)}function Ygt(n){var l;const e=n.items[n.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0;let i;if((t==null?void 0:t.type)==="text"&&!("inRawBlock"in e)&&(i=L_e(t)),!i||i.type!=="paragraph")return;const r=nM(n.items.slice(0,-1)),s=(l=e.raw.match(/^(\s*(-|\d+\.|\*) +)/))==null?void 0:l[0];if(!s)return;const o=s+nM(e.tokens.slice(0,-1))+i.raw,a=JA(r+o)[0];if(a.type==="list")return a}const Xgt=3;function Zgt(n){for(let e=0;e<Xgt;e++){const t=Jgt(n);if(t)n=t;else break}return n}function Jgt(n){let e,t;for(e=0;e<n.length;e++){const i=n[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=lpt(n.slice(e));break}if(e===n.length-1&&i.type==="list"){const r=Ygt(i);if(r){t=[r];break}}if(e===n.length-1&&i.type==="paragraph"){const r=L_e(i);if(r){t=[r];break}}}if(t){const i=[...n.slice(0,e),...t];return i.links=n.links,i}return null}function ept(n){return em(n,"`")}function tpt(n){return em(n,"*")}function npt(n){return em(n,"_")}function ipt(n){return em(n,")")}function rpt(n){return em(n,'")')}function spt(n){return em(n,"](https://microsoft.com)")}function opt(n){return em(n,"**")}function apt(n){return em(n,"__")}function em(n,e){const t=nM(Array.isArray(n)?n:[n]);return JA(t+e)[0]}function lpt(n){const e=nM(n),t=e.split(`
`);let i,r=!1;for(let s=0;s<t.length;s++){const o=t[s].trim();if(typeof i>"u"&&o.match(/^\s*\|/)){const a=o.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(o.match(/^\s*\|/)){if(s!==t.length-1)return;r=!0}else return}if(typeof i=="number"&&i>0){const s=r?t.slice(0,-1).join(`
`):e,o=!!s.match(/\|\s*$/),a=s+(o?"":"|")+`
|${" --- |".repeat(i)}`;return JA(a)}}function wue(n,e){return NCe(n,e),cn(()=>ACe(n))}const Qh=class Qh{static createEmpty(e,t){const i=Qh.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=i,new Qh(r,e,t)}static createFromTextAndMetadata(e,t){let i=0,r="";const s=new Array;for(const{text:o,metadata:a}of e)s.push(i+o.length,a),i+=o.length,r+=o;return new Qh(new Uint32Array(s),r,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=i}equals(e){return e instanceof Qh?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,s=r+(i<<1);for(let o=r;o<s;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=bu.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return bu.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return bu.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return bu.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return bu.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return bu.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Qh.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new nG(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let s=0;s<r;s++)e[s<<1]=e[s+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const s=i+Math.floor((r-i)/2),o=e[s<<1];if(o===t)return s+1;o<t?i=s+1:o>t&&(r=s)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const s=new Array;let o=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(o,a);const c=this._tokens[(t<<1)+1];s.push(r.length,c),t++,o=a}else if(l){if(l.offset>o){r+=this._text.substring(o,l.offset);const c=this._tokens[(t<<1)+1];s.push(r.length,c),o=l.offset}r+=l.text,s.push(r.length,l.tokenMetadata),i++}else break}return new Qh(new Uint32Array(s),r,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),i=this.getEndOffset(e);return this._text.substring(t,i)}forEach(e){const t=this.getCount();for(let i=0;i<t;i++)e(i)}};Qh.defaultTokenMetadata=(32768|2<<24)>>>0;let Ds=Qh;class nG{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let s=this._firstTokenIndex,o=e.getCount();s<o&&!(e.getStartOffset(s)>=i);s++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof nG?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),r=this._source.getEndOffset(t);let s=this._source.getTokenText(t);return i<this._startOffset&&(s=s.substring(this._startOffset-i)),r>this._endOffset&&(s=s.substring(0,s.length-(r-this._endOffset))),s}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}const uk=new class{clone(){return this}equals(n){return this===n}};function E_e(n,e){return new oq([new Yx(0,"",n)],e)}function iG(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0|0|32768|2<<24)>>>0,new EA(t,e===null?uk:e)}const Sue={getInitialState:()=>uk,tokenizeEncoded:(n,e,t)=>iG(0,t)};async function cpt(n,e,t){if(!t)return xue(e,n.languageIdCodec,Sue);const i=await Rr.getOrCreate(t);return xue(e,n.languageIdCodec,i||Sue)}function upt(n,e,t,i,r,s,o){let a="<div>",l=i,c=0,u=!0;for(let d=0,h=e.getCount();d<h;d++){const f=e.getEndOffset(d);if(f<=i)continue;let p="";for(;l<f&&l<r;l++){const m=n.charCodeAt(l);switch(m){case 9:{let v=s-(l+c)%s;for(c+=v-1;v>0;)o&&u?(p+="&#160;",u=!1):(p+=" ",u=!0),v--;break}case 60:p+="&lt;",u=!1;break;case 62:p+="&gt;",u=!1;break;case 38:p+="&amp;",u=!1;break;case 0:p+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:p+="",u=!1;break;case 13:p+="&#8203",u=!1;break;case 32:o&&u?(p+="&#160;",u=!1):(p+=" ",u=!0);break;default:p+=String.fromCharCode(m),u=!1}}if(a+=`<span style="${e.getInlineStyle(d,t)}">${p}</span>`,f>r||l>=r)break}return a+="</div>",a}function xue(n,e,t){let i='<div class="monaco-tokenized-source">';const r=J0(n);let s=t.getInitialState();for(let o=0,a=r.length;o<a;o++){const l=r[o];o>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,s);Ds.convertToEndOffset(c.tokens,l.length);const d=new Ds(c.tokens,l,e).inflate();let h=0;for(let f=0,p=d.getCount();f<p;f++){const m=d.getClassName(f),v=d.getEndOffset(f);i+=`<span class="${m}">${AS(l.substring(h,v))}</span>`,h=v}s=c.endState}return i+="</div>",i}var dpt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kue=function(n,e){return function(t,i){e(t,i,n)}},kz,$b;let Lz=($b=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new ke,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const r=new It,s=r.add(tG(e,{...this._getRenderOptions(e,r),...t},i));return s.element.classList.add("rendered-markdown"),{element:s.element,dispose:()=>r.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:async(i,r)=>{var l,c;let s;i?s=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(s=(l=this._options.editor.getModel())==null?void 0:l.getLanguageId()),s||(s=Tc);const o=await cpt(this._languageService,r,s),a=document.createElement("span");if(a.innerHTML=((c=kz._ttpTokenizer)==null?void 0:c.createHTML(o))??o,this._options.editor){const u=this._options.editor.getOption(50);eo(a,u)}else this._options.codeBlockFontFamily&&(a.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(a.style.fontSize=this._options.codeBlockFontSize),a},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>D_e(this._openerService,i,e.isTrusted),disposables:t}}}},kz=$b,$b._ttpTokenizer=Qv("tokenizeToString",{createHTML(e){return e}}),$b);Lz=kz=dpt([kue(1,bs),kue(2,PL)],Lz);async function D_e(n,e,t){try{return await n.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:hpt(t)})}catch(i){return _i(i),!1}}function hpt(n){return n===!0?!0:n&&Array.isArray(n.enabledCommands)?n.enabledCommands:!1}const Vu=Nn("accessibilityService"),fpt=new Nt("accessibilityModeEnabled",!1),Lue=2e4;let ib,mT,Ez,bT,Dz;function gpt(n){ib=document.createElement("div"),ib.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),ib.appendChild(i),i};mT=e(),Ez=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),ib.appendChild(i),i};bT=t(),Dz=t(),n.appendChild(ib)}function dk(n){ib&&(mT.textContent!==n?(Iu(Ez),rM(mT,n)):(Iu(mT),rM(Ez,n)))}function iM(n){ib&&(bT.textContent!==n?(Iu(Dz),rM(bT,n)):(Iu(bT),rM(Dz,n)))}function rM(n,e){Iu(n),e.length>Lue&&(e=e.substr(0,Lue)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}var ppt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},zw=function(n,e){return function(t,i){e(t,i,n)}};const Zu=jt;let Tz=class extends Xf{get _targetWindow(){return Ft(this._target.targetElements[0])}get _targetDocumentElement(){return Ft(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,r,s,o){var h,f,p,m,v,C,y;super(),this._keybindingService=t,this._configurationService=i,this._openerService=r,this._instantiationService=s,this._accessibilityService=o,this._messageListeners=new It,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new ke),this._onRequestLayout=this._register(new ke),this._linkHandler=e.linkHandler||(w=>D_e(this._openerService,w,pC(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new mpt(e.target),this._hoverPointer=(h=e.appearance)!=null&&h.showPointer?Zu("div.workbench-hover-pointer"):void 0,this._hover=this._register(new Qft),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(f=e.appearance)!=null&&f.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),(p=e.appearance)!=null&&p.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),(m=e.position)!=null&&m.forcePosition&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=((v=e.position)==null?void 0:v.hoverPosition)??3,this.onmousedown(this._hover.containerDomNode,w=>w.stopPropagation()),this.onkeydown(this._hover.containerDomNode,w=>{w.equals(9)&&this.dispose()}),this._register(ze(this._targetWindow,"blur",()=>this.dispose()));const a=Zu("div.hover-row.markdown-hover"),l=Zu("div.hover-contents");if(typeof e.content=="string")l.textContent=e.content,l.style.whiteSpace="pre-wrap";else if(Ls(e.content))l.appendChild(e.content),l.classList.add("html-hover-contents");else{const w=e.content,_=this._instantiationService.createInstance(Lz,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||ol.fontFamily}),{element:x}=_.render(w,{actionHandler:{callback:k=>this._linkHandler(k),disposables:this._messageListeners},asyncRenderCallback:()=>{l.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});l.appendChild(x)}if(a.appendChild(l),this._hover.contentsDomNode.appendChild(a),e.actions&&e.actions.length>0){const w=Zu("div.hover-row.status-bar"),_=Zu("div.actions");e.actions.forEach(x=>{const k=this._keybindingService.lookupKeybinding(x.commandId),D=k?k.getLabel():null;Kq.render(_,{label:x.label,commandId:x.commandId,run:T=>{x.run(T),this.dispose()},iconClass:x.iconClass},D)}),w.appendChild(_),this._hover.containerDomNode.appendChild(w)}this._hoverContainer=Zu("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let c;if(e.actions&&e.actions.length>0?c=!1:((C=e.persistence)==null?void 0:C.hideOnHover)===void 0?c=typeof e.content=="string"||pC(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):c=e.persistence.hideOnHover,(y=e.appearance)!=null&&y.showHoverHint){const w=Zu("div.hover-row.status-bar"),_=Zu("div.info");_.textContent=P("hoverhint","Hold {0} key to mouse over",An?"Option":"Alt"),w.appendChild(_),this._hover.containerDomNode.appendChild(w)}const u=[...this._target.targetElements];c||u.push(this._hoverContainer);const d=this._register(new Eue(u));if(this._register(d.onMouseOut(()=>{this._isLocked||this.dispose()})),c){const w=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new Eue(w)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=d}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=xq(this._hoverContainer,Zu("div")),r=Tt(this._hoverContainer,Zu("div"));i.tabIndex=0,r.tabIndex=0,this._register(ze(r,"focus",s=>{e.focus(),s.preventDefault()})),this._register(ze(i,"focus",s=>{t.focus(),s.preventDefault()}))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const s=i;if(typeof s.tabIndex=="number"&&s.tabIndex>=0)return s}const r=this.findLastFocusableChild(i);if(r)return r}}render(e){var r;e.appendChild(this._hoverContainer);const i=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&Yft(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(r=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))==null?void 0:r.getAriaLabel());i&&iM(i),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=u=>{const d=HCe(u),h=u.getBoundingClientRect();return{top:h.top*d,bottom:h.bottom*d,right:h.right*d,left:h.left*d}},t=this._target.targetElements.map(u=>e(u)),{top:i,right:r,bottom:s,left:o}=t[0],a=r-o,l=s-i,c={top:i,right:r,bottom:s,left:o,width:a,height:l,center:{x:o+a/2,y:i+l/2}};if(this.adjustHorizontalHoverPosition(c),this.adjustVerticalHoverPosition(c),this.adjustHoverMaxHeight(c),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:c.left+=3,c.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:c.left-=3,c.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:c.top+=3,c.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:c.top-=3,c.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}c.center.x=c.left+a/2,c.center.y=c.top+l/2}this.computeXCordinate(c),this.computeYCordinate(c),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(c)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=e.right:this._hoverPosition===0?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=e.top:this._hoverPosition===2?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(this._target.x!==void 0)return;const t=this._hoverPointer?3:0;if(this._forcePosition){const i=t+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-e.right-i}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${e.left-i}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth+t&&(e.left>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(e.left<this._hover.containerDomNode.clientWidth+t&&(this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=1:this._hoverPosition=2),e.left-this._hover.containerDomNode.clientWidth-t<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(e){if(this._target.y!==void 0||this._forcePosition)return;const t=this._hoverPointer?3:0;this._hoverPosition===3?e.top-this._hover.containerDomNode.clientHeight-t<0&&(this._hoverPosition=2):this._hoverPosition===2&&e.bottom+this._hover.containerDomNode.clientHeight+t>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=(this._hoverPointer?3:0)+2;this._hoverPosition===3?t=Math.min(t,e.top-i):this._hoverPosition===2&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const i=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==i&&(this._hover.contentsDomNode.style.paddingRight=i)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top=`${e.center.y-(this._y-t)-3}px`:this._hoverPointer.style.top=`${Math.round(t/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const r=this._x+i;(r<e.left||r>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left=`${i}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};Tz=ppt([zw(1,Ks),zw(2,br),zw(3,PL),zw(4,ui),zw(5,Vu)],Tz);class Eue extends Xf{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new ke),this._elements.forEach(t=>this.onmouseover(t,()=>this._onTargetMouseOver(t))),this._elements.forEach(t=>this.onmouseleave(t,()=>this._onTargetMouseLeave(t)))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=Ft(e).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(Ft(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class mpt{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var Zs;(function(n){function e(s,o){if(s.start>=o.end||o.start>=s.end)return{start:0,end:0};const a=Math.max(s.start,o.start),l=Math.min(s.end,o.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(s){return s.end-s.start<=0}n.isEmpty=t;function i(s,o){return!t(e(s,o))}n.intersects=i;function r(s,o){const a=[],l={start:s.start,end:Math.min(o.start,s.end)},c={start:Math.max(o.end,s.start),end:s.end};return t(l)||a.push(l),t(c)||a.push(c),a}n.relativeComplement=r})(Zs||(Zs={}));function bpt(n){const e=n;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var ap;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(ap||(ap={}));function Dy(n,e,t){const i=t.mode===ap.ALIGN?t.offset:t.offset+t.size,r=t.mode===ap.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=r?r-e:Math.max(n-e,0):e<=r?r-e:e<=n-i?i:0}const Gy=class Gy extends je{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=je.None,this.toDisposeOnSetContainer=je.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=jt(".context-view"),$le(this.view),this.setContainer(e,t),this._register(cn(()=>this.setContainer(null,1)))}setContainer(e,t){var r;this.useFixedPosition=t!==1;const i=this.useShadowDOM;if(this.useShadowDOM=t===3,!(e===this.container&&i===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,(r=this.shadowRootHostElement)==null||r.remove(),this.shadowRootHostElement=null),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=jt(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=vpt,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(jt("slot"))}else this.container.appendChild(this.view);const s=new It;Gy.BUBBLE_UP_EVENTS.forEach(o=>{s.add(ms(this.container,o,a=>{this.onDOMEvent(a,!1)}))}),Gy.BUBBLE_DOWN_EVENTS.forEach(o=>{s.add(ms(this.container,o,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=s}}show(e){var t,i;this.isVisible()&&this.hide(),Iu(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(e.layer??0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",jCe(this.view),this.toDisposeOnClean=e.render(this.view)||je.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)==null||i.call(t)}getViewElement(){return this.view}layout(){var e,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(uv&&_Ce.pointerEvents)){this.hide();return}(t=(e=this.delegate)==null?void 0:e.layout)==null||t.call(e),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(Ls(e)){const h=Fl(e),f=HCe(e);t={top:h.top*f,left:h.left*f,width:h.width*f,height:h.height*f}}else bpt(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=Cq(this.view),r=TV(this.view),s=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;const u=aS();if(a===0){const h={offset:t.top-u.pageYOffset,size:t.height,position:s===0?0:1},f={offset:t.left,size:t.width,position:o===0?0:1,mode:ap.ALIGN};l=Dy(u.innerHeight,r,h)+u.pageYOffset,Zs.intersects({start:l,end:l+r},{start:h.offset,end:h.offset+h.size})&&(f.mode=ap.AVOID),c=Dy(u.innerWidth,i,f)}else{const h={offset:t.left,size:t.width,position:o===0?0:1},f={offset:t.top,size:t.height,position:s===0?0:1,mode:ap.ALIGN};c=Dy(u.innerWidth,i,h),Zs.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(f.mode=ap.AVOID),l=Dy(u.innerHeight,r,f)+u.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(o===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const d=Fl(this.container);this.view.style.top=`${l-(this.useFixedPosition?Fl(this.view).top:d.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?Fl(this.view).left:d.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),$le(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,Ft(e).document.activeElement):t&&!gs(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};Gy.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Gy.BUBBLE_DOWN_EVENTS=["click"];let Iz=Gy;const vpt=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var ypt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Cpt=function(n,e){return function(t,i){e(t,i,n)}};let sM=class extends je{constructor(e){super(),this.layoutService=e,this.contextView=this._register(new Iz(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer(()=>this.layout()))}showContextView(e,t,i){let r;t?t===this.layoutService.getContainer(Ft(t))?r=1:i?r=3:r=2:r=1,this.contextView.setContainer(t??this.layoutService.activeContainer,r),this.contextView.show(e);const s={close:()=>{this.openContextView===s&&this.hideContextView()}};return this.openContextView=s,s}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e),this.openContextView=void 0}};sM=ypt([Cpt(0,Jp)],sM);class _pt extends sM{getContextViewElement(){return this.contextView.getViewElement()}}class wpt{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(e===void 0||sl(e)||Ls(e))r=e;else if(!_I(e.markdown))r=e.markdown??e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(P("iconLabel.loading","Loading..."),t,i),this._cancellationTokenSource=new Z0;const s=this._cancellationTokenSource.token;if(r=await e.markdown(s),r===void 0&&(r=e.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(r,t,i)}show(e,t,i){var s;const r=this._hoverWidget;if(this.hasContent(e)){const o={content:e,target:this.target,actions:i==null?void 0:i.actions,linkHandler:i==null?void 0:i.linkHandler,trapFocus:i==null?void 0:i.trapFocus,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!r,showHoverHint:(s=i==null?void 0:i.appearance)==null?void 0:s.showHoverHint},position:{hoverPosition:2}};this._hoverWidget=this.hoverDelegate.showHover(o,t)}r==null||r.dispose()}hasContent(e){return e?pC(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)==null?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)==null||e.dispose(),(t=this._cancellationTokenSource)==null||t.dispose(!0),this._cancellationTokenSource=void 0}}var Spt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ww=function(n,e){return function(t,i){e(t,i,n)}};let Mz=class extends je{constructor(e,t,i,r,s){super(),this._instantiationService=e,this._keybindingService=i,this._layoutService=r,this._accessibilityService=s,this._managedHovers=new Map,t.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new sM(this._layoutService))}showHover(e,t,i){var l,c,u,d;if(Due(this._currentHoverOptions)===Due(e)||this._currentHover&&((c=(l=this._currentHoverOptions)==null?void 0:l.persistence)!=null&&c.sticky))return;this._currentHoverOptions=e,this._lastHoverOptions=e;const r=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),s=Eo();i||(r&&s?s.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=s):this._lastFocusedElementBeforeOpen=void 0);const o=new It,a=this._instantiationService.createInstance(Tz,e);if((u=e.persistence)!=null&&u.sticky&&(a.isLocked=!0),a.onDispose(()=>{var f,p;((f=this._currentHover)==null?void 0:f.domNode)&&zCe(this._currentHover.domNode)&&((p=this._lastFocusedElementBeforeOpen)==null||p.focus()),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),o.dispose()},void 0,o),!e.container){const h=Ls(e.target)?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer(Ft(h))}if(this._contextViewHandler.showContextView(new xpt(a,t),e.container),a.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,o),(d=e.persistence)!=null&&d.sticky)o.add(ze(Ft(e.container).document,pt.MOUSE_DOWN,h=>{gs(h.target,a.domNode)||this.doHideHover()}));else{if("targetElements"in e.target)for(const f of e.target.targetElements)o.add(ze(f,pt.CLICK,()=>this.hideHover()));else o.add(ze(e.target,pt.CLICK,()=>this.hideHover()));const h=Eo();if(h){const f=Ft(h).document;o.add(ze(h,pt.KEY_DOWN,p=>{var m;return this._keyDown(p,a,!!((m=e.persistence)!=null&&m.hideOnKeyDown))})),o.add(ze(f,pt.KEY_DOWN,p=>{var m;return this._keyDown(p,a,!!((m=e.persistence)!=null&&m.hideOnKeyDown))})),o.add(ze(h,pt.KEY_UP,p=>this._keyUp(p,a))),o.add(ze(f,pt.KEY_UP,p=>this._keyUp(p,a)))}}if("IntersectionObserver"in yi){const h=new IntersectionObserver(p=>this._intersectionChange(p,a),{threshold:0}),f="targetElements"in e.target?e.target.targetElements[0]:e.target;h.observe(f),o.add(cn(()=>h.disconnect()))}return this._currentHover=a,a}hideHover(){var e;(e=this._currentHover)!=null&&e.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(e,t,i){var o,a;if(e.key==="Alt"){t.isLocked=!0;return}const r=new Bi(e);this._keybindingService.resolveKeyboardEvent(r).getSingleModifierDispatchChords().some(l=>!!l)||this._keybindingService.softDispatch(r,r.target).kind!==0||i&&(!((o=this._currentHoverOptions)!=null&&o.trapFocus)||e.key!=="Tab")&&(this.hideHover(),(a=this._lastFocusedElementBeforeOpen)==null||a.focus())}_keyUp(e,t){var i;e.key==="Alt"&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),(i=this._lastFocusedElementBeforeOpen)==null||i.focus()))}setupManagedHover(e,t,i,r){t.setAttribute("custom-hover","true"),t.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",t.title),t.title="");let s,o;const a=(w,_)=>{var k;const x=o!==void 0;w&&(o==null||o.dispose(),o=void 0),_&&(s==null||s.dispose(),s=void 0),x&&((k=e.onDidHideHover)==null||k.call(e),o=void 0)},l=(w,_,x,k)=>new $v(async()=>{(!o||o.isDisposed)&&(o=new wpt(e,x||t,w>0),await o.update(typeof i=="function"?i():i,_,{...r,trapFocus:k}))},w);let c=!1;const u=ze(t,pt.MOUSE_DOWN,()=>{c=!0,a(!0,!0)},!0),d=ze(t,pt.MOUSE_UP,()=>{c=!1},!0),h=ze(t,pt.MOUSE_LEAVE,w=>{c=!1,a(!1,w.fromElement===t)},!0),f=w=>{if(s)return;const _=new It,x={targetElements:[t],dispose:()=>{}};if(e.placement===void 0||e.placement==="mouse"){const k=D=>{x.x=D.x+10,Ls(D.target)&&Tue(D.target,t)!==t&&a(!0,!0)};_.add(ze(t,pt.MOUSE_MOVE,k,!0))}s=_,!(Ls(w.target)&&Tue(w.target,t)!==t)&&_.add(l(e.delay,!1,x))},p=ze(t,pt.MOUSE_OVER,f,!0),m=()=>{if(c||s)return;const w={targetElements:[t],dispose:()=>{}},_=new It,x=()=>a(!0,!0);_.add(ze(t,pt.BLUR,x,!0)),_.add(l(e.delay,!1,w)),s=_};let v;const C=t.tagName.toLowerCase();C!=="input"&&C!=="textarea"&&(v=ze(t,pt.FOCUS,m,!0));const y={show:w=>{a(!1,!0),l(0,w,void 0,w)},hide:()=>{a(!0,!0)},update:async(w,_)=>{i=w,await(o==null?void 0:o.update(i,void 0,_))},dispose:()=>{this._managedHovers.delete(t),p.dispose(),h.dispose(),u.dispose(),d.dispose(),v==null||v.dispose(),a(!0,!0)}};return this._managedHovers.set(t,y),y}showManagedHover(e){const t=this._managedHovers.get(e);t&&t.show(!0)}dispose(){this._managedHovers.forEach(e=>e.dispose()),super.dispose()}};Mz=Spt([Ww(0,ui),Ww(1,Yf),Ww(2,Ks),Ww(3,Jp),Ww(4,Vu)],Mz);function Due(n){if(n!==void 0)return(n==null?void 0:n.id)??n}class xpt{get anchorPosition(){return this._hover.anchor}constructor(e,t=!1){this._hover=e,this._focus=t,this.layer=1}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function Tue(n,e){for(e=e??Ft(n).document.body;!n.hasAttribute("custom-hover")&&n!==e;)n=n.parentElement;return n}$n(NL,Mz,1);Qf((n,e)=>{const t=n.getColor(cht);t&&(e.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`))});const kpt=Nn("IWorkspaceEditService");class rG{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(Fb.is(t))return Fb.lift(t);if(mC.is(t))return mC.lift(t);throw new Error("Unsupported edit")})}}class Fb extends rG{static is(e){return e instanceof Fb?!0:ca(e)&&Sn.isUri(e.resource)&&ca(e.textEdit)}static lift(e){return e instanceof Fb?e:new Fb(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,r){super(r),this.resource=e,this.textEdit=t,this.versionId=i}}class mC extends rG{static is(e){return e instanceof mC?!0:ca(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof mC?e:new mC(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},r){super(r),this.oldResource=e,this.newResource=t,this.options=i}}const Ps={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0,useTrueInlineView:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0,compactMode:!1},Lpt=Object.freeze({id:"editor",order:5,type:"object",title:P("editorConfigurationTitle","Editor"),scope:5}),oM={...Lpt,properties:{"editor.tabSize":{type:"number",default:Js.tabSize,minimum:1,markdownDescription:P("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:P("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:Js.insertSpaces,markdownDescription:P("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:Js.detectIndentation,markdownDescription:P("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:Js.trimAutoWhitespace,description:P("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Js.largeFileOptimizations,description:P("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[P("wordBasedSuggestions.off","Turn off Word Based Suggestions."),P("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),P("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),P("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:P("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[P("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),P("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),P("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:P("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:P("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:P("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!0,description:P("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:P("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:P("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.experimental.treeSitterTelemetry":{type:"boolean",default:!1,markdownDescription:P("editor.experimental.treeSitterTelemetry","Controls whether tree sitter parsing should be turned on and telemetry collected. Setting `editor.experimental.preferTreeSitter` for specific languages will take precedence."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:P("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:P("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:P("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:P("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:P("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:P("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:Ps.maxComputationTime,description:P("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:Ps.maxFileSize,description:P("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:Ps.renderSideBySide,description:P("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:Ps.renderSideBySideInlineBreakpoint,description:P("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:Ps.useInlineViewWhenSpaceIsLimited,description:P("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:Ps.renderMarginRevertIcon,description:P("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:Ps.renderGutterMenu,description:P("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:Ps.ignoreTrimWhitespace,description:P("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:Ps.renderIndicators,description:P("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:Ps.diffCodeLens,description:P("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:Ps.diffWordWrap,markdownEnumDescriptions:[P("wordWrap.off","Lines will never wrap."),P("wordWrap.on","Lines will wrap at the viewport width."),P("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:Ps.diffAlgorithm,markdownEnumDescriptions:[P("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),P("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:Ps.hideUnchangedRegions.enabled,markdownDescription:P("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:Ps.hideUnchangedRegions.revealLineCount,markdownDescription:P("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:Ps.hideUnchangedRegions.minimumLineCount,markdownDescription:P("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:Ps.hideUnchangedRegions.contextLineCount,markdownDescription:P("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:Ps.experimental.showMoves,markdownDescription:P("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:Ps.experimental.showEmptyDecorations,description:P("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")},"diffEditor.experimental.useTrueInlineView":{type:"boolean",default:Ps.experimental.useTrueInlineView,description:P("useTrueInlineView","If enabled and the editor uses the inline view, word changes are rendered inline.")}}};function Ept(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of yy){const e=n.schema;if(typeof e<"u")if(Ept(e))oM.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(oM.properties[t]=e[t])}let s2=null;function T_e(){return s2===null&&(s2=Object.create(null),Object.keys(oM.properties).forEach(n=>{s2[n]=!0})),s2}function Dpt(n){return T_e()[`editor.${n}`]||!1}function Tpt(n){return T_e()[`diffEditor.${n}`]||!1}const Ipt=Is.as(Yv.Configuration);Ipt.registerConfiguration(oM);class Mpt{static insert(e,t){return{range:new _e(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function o2(n){return Object.isFrozen(n)?n:Yrt(n)}class Ss{static createEmptyModel(e){return new Ss({},[],[],void 0,e)}constructor(e,t,i,r,s){this._contents=e,this._keys=t,this._overrides=i,this.raw=r,this.logService=s,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if((e=this.raw)!=null&&e.length){const t=this.raw.map(i=>{if(i instanceof Ss)return i;const r=new Rpt("",this.logService);return r.parseRaw(i),r.configurationModel});this._rawConfiguration=t.reduce((i,r)=>r===i?r:i.merge(r),t[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?ice(this.contents,e):this.contents}inspect(e,t){const i=this;return{get value(){return o2(i.rawConfiguration.getValue(e))},get override(){return t?o2(i.rawConfiguration.getOverrideValue(e,t)):void 0},get merged(){return o2(t?i.rawConfiguration.override(t).getValue(e):i.rawConfiguration.getValue(e))},get overrides(){const r=[];for(const{contents:s,identifiers:o,keys:a}of i.rawConfiguration.overrides){const l=new Ss(s,a,[],void 0,i.logService).getValue(e);l!==void 0&&r.push({identifiers:o,value:l})}return r.length?o2(r):void 0}}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?ice(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var o,a;const t=zg(this.contents),i=zg(this.overrides),r=[...this.keys],s=(o=this.raw)!=null&&o.length?[...this.raw]:[this];for(const l of e)if(s.push(...(a=l.raw)!=null&&a.length?l.raw:[l]),!l.isEmpty()){this.mergeContents(t,l.contents);for(const c of l.overrides){const[u]=i.filter(d=>es(d.identifiers,c.identifiers));u?(this.mergeContents(u.contents,c.contents),u.keys.push(...c.keys),u.keys=cv(u.keys)):i.push(zg(c))}for(const c of l.keys)r.indexOf(c)===-1&&r.push(c)}return new Ss(t,r,i,s.every(l=>l instanceof Ss)?void 0:s,this.logService)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const r of cv([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[r];const o=t[r];o&&(typeof s=="object"&&typeof o=="object"?(s=zg(s),this.mergeContents(s,o)):s=o),i[r]=s}return new Ss(i,this.keys,this.overrides,void 0,this.logService)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&ca(e[i])&&ca(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=zg(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const r=s=>{s&&(i?this.mergeContents(i,s):i=zg(s))};for(const s of this.overrides)s.identifiers.length===1&&s.identifiers[0]===e?t=s.contents:s.identifiers.includes(e)&&r(s.contents);return r(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),Rct(this.contents,e),Ap.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>es(i.identifiers,FI(e))),1))}updateValue(e,t,i){if(a0e(this.contents,e,t,r=>this.logService.error(r)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),Ap.test(e)){const r=FI(e),s={identifiers:r,keys:Object.keys(this.contents[e]),contents:HV(this.contents[e],a=>this.logService.error(a))},o=this.overrides.findIndex(a=>es(a.identifiers,r));o!==-1?this.overrides[o]=s:this.overrides.push(s)}}}class Rpt{constructor(e,t){this._name=e,this.logService=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||Ss.createEmptyModel(this.logService)}parseRaw(e,t){this._raw=e;const{contents:i,keys:r,overrides:s,restricted:o,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new Ss(i,r,s,a?[e]:void 0,this.logService),this._restrictedConfigurations=o||[]}doParseRaw(e,t){const i=Is.as(Yv.Configuration).getConfigurationProperties(),r=this.filter(e,i,!0,t);e=r.raw;const s=HV(e,l=>this.logService.error(`Conflict in settings file ${this._name}: ${l}`)),o=Object.keys(e),a=this.toOverrides(e,l=>this.logService.error(`Conflict in settings file ${this._name}: ${l}`));return{contents:s,keys:o,overrides:a,restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}filter(e,t,i,r){var l,c,u;let s=!1;if(!(r!=null&&r.scopes)&&!(r!=null&&r.skipRestricted)&&!((l=r==null?void 0:r.exclude)!=null&&l.length))return{raw:e,restricted:[],hasExcludedProperties:s};const o={},a=[];for(const d in e)if(Ap.test(d)&&i){const h=this.filter(e[d],t,!1,r);o[d]=h.raw,s=s||h.hasExcludedProperties,a.push(...h.restricted)}else{const h=t[d],f=h?typeof h.scope<"u"?h.scope:3:void 0;h!=null&&h.restricted&&a.push(d),!((c=r.exclude)!=null&&c.includes(d))&&((u=r.include)!=null&&u.includes(d)||(f===void 0||r.scopes===void 0||r.scopes.includes(f))&&!(r.skipRestricted&&(h!=null&&h.restricted)))?o[d]=e[d]:s=!0}return{raw:o,restricted:a,hasExcludedProperties:s}}toOverrides(e,t){const i=[];for(const r of Object.keys(e))if(Ap.test(r)){const s={};for(const o in e[r])s[o]=e[r][o];i.push({identifiers:FI(r),keys:Object.keys(s),contents:HV(s,t)})}return i}}class Npt{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=r,this.defaultConfiguration=s,this.policyConfiguration=o,this.applicationConfiguration=a,this.userConfiguration=l,this.localUserConfiguration=c,this.remoteUserConfiguration=u,this.workspaceConfiguration=d,this.folderConfigurationModel=h,this.memoryConfigurationModel=f}toInspectValue(e){return(e==null?void 0:e.value)!==void 0||(e==null?void 0:e.override)!==void 0||(e==null?void 0:e.overrides)!==void 0?e:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class eP{constructor(e,t,i,r,s,o,a,l,c,u){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=r,this._remoteUserConfiguration=s,this._workspaceConfiguration=o,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this.logService=u,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new al,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=Ss.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const r=this.getConsolidatedConfigurationModel(e,t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),o=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const l of r.overrides)for(const c of l.identifiers)r.getOverrideValue(e,c)!==void 0&&a.add(c);return new Npt(e,t,r.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,s||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let r=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(r=r.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=i.merge(r),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:r,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:r,keys:s}]),e},[])}}static parse(e,t){const i=this.parseConfigurationModel(e.defaults,t),r=this.parseConfigurationModel(e.policy,t),s=this.parseConfigurationModel(e.application,t),o=this.parseConfigurationModel(e.user,t),a=this.parseConfigurationModel(e.workspace,t),l=e.folders.reduce((c,u)=>(c.set(Sn.revive(u[0]),this.parseConfigurationModel(u[1],t)),c),new al);return new eP(i,r,s,o,Ss.createEmptyModel(t),a,l,Ss.createEmptyModel(t),new al,t)}static parseConfigurationModel(e,t){return new Ss(e.contents,e.keys,e.overrides,void 0,t)}}class Apt{constructor(e,t,i,r,s){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=r,this.logService=s,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const a of o)this.affectedKeys.add(a);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=eP.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(e,t){var a;const i=this._marker+e,r=this._affectsConfigStr.indexOf(i);if(r<0)return!1;const s=r+i.length;if(s>=this._affectsConfigStr.length)return!1;const o=this._affectsConfigStr.charCodeAt(s);if(o!==this._markerCode1&&o!==this._markerCode2)return!1;if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(a=this.previous)==null?void 0:a.workspace):void 0,c=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Pa(l,c)}return!0}}class Ppt{constructor(){this._onDidChange=new ke,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const zS=new Ppt,aM={kind:0},Opt={kind:1};function Fpt(n,e,t){return{kind:2,commandId:n,commandArgs:e,isBubble:t}}class WS{constructor(e,t,i){var r;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const s of e){const o=s.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=WS.handleRemovals([].concat(e).concat(t));for(let s=0,o=this._keybindings.length;s<o;s++){const a=this._keybindings[s];if(a.chords.length===0)continue;const l=(r=a.when)==null?void 0:r.substituteConstants();l&&l.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(e,t,i){if(t){for(let r=0;r<t.length;r++)if(t[r]!==e.chords[r])return!1}return!(i&&i.type!==1&&(!e.when||!Ult(i,e.when)))}static handleRemovals(e){const t=new Map;for(let r=0,s=e.length;r<s;r++){const o=e[r];if(o.command&&o.command.charAt(0)==="-"){const a=o.command.substring(1);t.has(a)?t.get(a).push(o):t.set(a,[o])}}if(t.size===0)return e;const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];if(!o.command||o.command.length===0){i.push(o);continue}if(o.command.charAt(0)==="-")continue;const a=t.get(o.command);if(!a||!o.isDefault){i.push(o);continue}let l=!1;for(const c of a){const u=c.when;if(this._isTargetedForRemoval(o,c.chords,u)){l=!0;break}}if(!l){i.push(o);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.command===t.command)continue;let o=!0;for(let a=1;a<s.chords.length&&a<t.chords.length;a++)if(s.chords[a]!==t.chords[a]){o=!1;break}o&&WS.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,r=t.length;i<r;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:PV(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let r=i.length-1;r>=0;r--){const s=i[r];if(t.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(e,t,i){const r=[...t,i];this._log(`| Resolving ${r}`);const s=this._map.get(r[0]);if(s===void 0)return this._log("\\ No keybinding entries."),aM;let o=null;if(r.length<2)o=s;else{o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l];if(r.length>u.chords.length)continue;let d=!0;for(let h=1;h<r.length;h++)if(u.chords[h]!==r[h]){d=!1;break}d&&o.push(u)}}const a=this._findCommand(e,o);return a?r.length<a.chords.length?(this._log(`\\ From ${o.length} keybinding entries, awaiting ${a.chords.length-r.length} more chord(s), when: ${Iue(a.when)}, source: ${Mue(a)}.`),Opt):(this._log(`\\ From ${o.length} keybinding entries, matched ${a.command}, when: ${Iue(a.when)}, source: ${Mue(a)}.`),Fpt(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${o.length} keybinding entries, no when clauses matched the context.`),aM)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const r=t[i];if(WS._contextMatchesRules(e,r.when))return r}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function Iue(n){return n?`${n.serialize()}`:"no when condition"}function Mue(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}const Bpt=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class Hpt extends je{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:ut.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,r,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=r,this._logService=s,this._onDidUpdateKeybindings=this._register(new ke),this._currentChords=[],this._currentChordChecker=new pq,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Ty.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new $v,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),aM;const[r]=i.getDispatchChords();if(r===null)return this._log("\\ Keyboard event cannot be dispatched"),aM;const s=this._contextKeyService.getContext(t),o=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(s,o,r)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw tq("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(P("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:r})=>r).join(", ");this._currentChordStatusMessage=this._notificationService.status(P("next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),zS.enabled&&zS.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],zS.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[r]=i.getSingleModifierDispatchChords();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Ty.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Ty.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getChords();return this._ignoreSingleModifiers=new Ty(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let r=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,o=null;if(i){const[u]=e.getSingleModifierDispatchChords();s=u,o=u?[u]:[]}else[s]=e.getDispatchChords(),o=this._currentChords.map(({keypress:u})=>u);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,o,s);switch(c.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const u=this._currentChords.map(({label:d})=>d).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${u}, ${l}".`),this._notificationService.status(P("missing.chord","The key combination ({0}, {1}) is not a command.",u,l),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}return r}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),r=!0,this._expectAnotherChord(s,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),r;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${c.commandId} ]`),c.commandId===null||c.commandId===""){if(this.inChordMode){const u=this._currentChords.map(({label:d})=>d).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${u}, ${l}".`),this._notificationService.status(P("missing.chord","The key combination ({0}, {1}) is not a command.",u,l),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}}else{this.inChordMode&&this._leaveChordMode(),c.isBubble||(r=!0),this._log(`+ Invoking command ${c.commandId}.`),this._currentlyDispatchingCommandId=c.commandId;try{typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,u=>this._notificationService.warn(u))}finally{this._currentlyDispatchingCommandId=null}Bpt.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding",detail:e.getUserSettingsLabel()??void 0})}return r}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}const SR=class SR{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};SR.EMPTY=new SR(null);let Ty=SR;class Rue{constructor(e,t,i,r,s,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?Rz(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=Rz(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=r,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=a}}function Rz(n){const e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(!r)return[];e.push(r)}return e}class tP{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=i(a);if(l===null)return null;r[s]=$pt(a,l,this.modifierLabels[e])}return r.join(" ")}}const sG=new tP({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:P({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:P({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:P({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:P({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:P({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:P({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:P({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:P({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Vpt=new tP({ctrlKey:P({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:P({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:P({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:P({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:P({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:P({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:P({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:P({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:P({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:P({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:P({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:P({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),zpt=new tP({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),Wpt=new tP({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function $pt(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class jpt extends gat{constructor(e,t){if(super(),t.length===0)throw LA("chords");this._os=e,this._chords=t}getLabel(){return sG.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return Vpt.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:zpt.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return Wpt.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new fat(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class hk extends jpt{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return ef.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":ef.toString(e.keyCode)}_getElectronAccelerator(e){return ef.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=ef.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return hk.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=ef.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=sq[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof hv)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new hv(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=Rz(e.chords.map(r=>this._toKeyCodeChord(r)));return i.length>0?[new hk(i,t)]:[]}}const Upt=Nn("labelService"),qpt=Nn("progressService"),DK=class DK{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}};DK.None=Object.freeze({report(){}});let Nue=DK;const oG=Nn("editorProgressService");class Gpt{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Kpt{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?aq(e,this._value,0,e.length,this._from,this._to):wL(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Qpt{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?aq(e,this._value,0,e.length,this._from,this._to):wL(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ypt{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Qpt(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return Lle(e,this._value.scheme);if(this._states[this._stateIdx]===2)return Lle(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return pV(e,this._value.query);if(this._states[this._stateIdx]===5)return pV(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class a2{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e;return((e=this.left)==null?void 0:e.height)??0}get heightRight(){var e;return((e=this.right)==null?void 0:e.height)??0}}class $S{static forUris(e=()=>!1,t=()=>!1){return new $S(new Ypt(e,t))}static forStrings(){return new $S(new Gpt)}static forConfigKeys(){return new $S(new Kpt)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;this._root||(this._root=new a2,this._root.segment=i.value());const s=[];for(r=this._root;;){const a=i.cmp(r.segment);if(a>0)r.left||(r.left=new a2,r.left.segment=i.value()),s.push([-1,r]),r=r.left;else if(a<0)r.right||(r.right=new a2,r.right.segment=i.value()),s.push([1,r]),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new a2,r.mid.segment=i.value()),s.push([0,r]),r=r.mid;else break}const o=r.value;r.value=t,r.key=e;for(let a=s.length-1;a>=0;a--){const l=s[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const u=s[a][0],d=s[a+1][0];if(u===1&&d===1)s[a][1]=l.rotateLeft();else if(u===-1&&d===-1)s[a][1]=l.rotateRight();else if(u===1&&d===-1)l.right=s[a+1][1]=s[a+1][1].rotateRight(),s[a][1]=l.rotateLeft();else if(u===-1&&d===1)l.left=s[a+1][1]=s[a+1][1].rotateLeft(),s[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}return o}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let s=this._root;for(;s;){const o=i.cmp(s.segment);if(o>0)r.push([-1,s]),s=s.left;else if(o<0)r.push([1,s]),s=s.right;else if(i.hasNext())i.next(),r.push([0,s]),s=s.mid;else break}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const o=this._min(s.right);if(o.key){const{key:a,value:l,segment:c}=o;this._delete(o.key,!1),s.key=a,s.value=l,s.segment=c}}else{const o=s.left??s.right;if(r.length>0){const[a,l]=r[r.length-1];switch(a){case-1:l.left=o;break;case 0:l.mid=o;break;case 1:l.right=o;break}}else this._root=o}for(let o=r.length-1;o>=0;o--){const a=r[o][1];a.updateHeight();const l=a.balanceFactor();if(l>1?(a.right.balanceFactor()>=0||(a.right=a.right.rotateRight()),r[o][1]=a.rotateLeft()):l<-1&&(a.left.balanceFactor()<=0||(a.left=a.left.rotateLeft()),r[o][1]=a.rotateRight()),o>0)switch(r[o-1][0]){case-1:r[o-1][1].left=r[o][1];break;case 1:r[o-1][1].right=r[o][1];break;case 0:r[o-1][1].mid=r[o][1];break}else this._root=r[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const s=t.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let r=this._root;for(;r;){const s=i.cmp(r.segment);if(s>0)r=r.left;else if(s<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else return r.mid?this._entries(r.mid):t?r.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const Xpt=Nn("contextService");class Zpt{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const Jpt="code-workspace";P("codeWorkspace","Code Workspace");const emt="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var Aue;(function(n){n.inspectTokensAction=P("inspectTokens","Developer: Inspect Tokens")})(Aue||(Aue={}));var Pue;(function(n){n.gotoLineActionLabel=P("gotoLineActionLabel","Go to Line/Column...")})(Pue||(Pue={}));var Oue;(function(n){n.helpQuickAccessActionLabel=P("helpQuickAccess","Show all Quick Access Providers")})(Oue||(Oue={}));var Fue;(function(n){n.quickCommandActionLabel=P("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=P("quickCommandActionHelp","Show And Run Commands")})(Fue||(Fue={}));var Bue;(function(n){n.quickOutlineActionLabel=P("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=P("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Bue||(Bue={}));var Nz;(function(n){n.editorViewAccessibleLabel=P("editorViewAccessibleLabel","Editor content")})(Nz||(Nz={}));var Hue;(function(n){n.toggleHighContrast=P("toggleHighContrast","Toggle High Contrast Theme")})(Hue||(Hue={}));var Az;(function(n){n.bulkEditServiceSummary=P("bulkEditServiceSummary","Made {0} edits in {1} files")})(Az||(Az={}));const tmt=Nn("workspaceTrustManagementService");let a0=[],aG=[],I_e=[];function l2(n,e=!1){nmt(n,!1,e)}function nmt(n,e,t){const i=imt(n,e);a0.push(i),i.userConfigured?I_e.push(i):aG.push(i),t&&!i.userConfigured&&a0.forEach(r=>{r.mime===i.mime||r.userConfigured||(i.extension&&r.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&r.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&r.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&r.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function imt(n,e){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:e,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?B0e(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(Lr.sep)>=0:!1}}function rmt(){a0=a0.filter(n=>n.userConfigured),aG=[]}function smt(n,e){return omt(n,e).map(t=>t.id)}function omt(n,e){let t;if(n)switch(n.scheme){case Cn.file:t=n.fsPath;break;case Cn.data:{t=tM.parseMetaData(n).get(tM.META_DATA_LABEL);break}case Cn.vscodeNotebookCell:t=void 0;break;default:t=n.path}if(!t)return[{id:"unknown",mime:rf.unknown}];t=t.toLowerCase();const i=oCe(t),r=Vue(t,i,I_e);if(r)return[r,{id:Tc,mime:rf.text}];const s=Vue(t,i,aG);if(s)return[s,{id:Tc,mime:rf.text}];if(e){const o=amt(e);if(o)return[o,{id:Tc,mime:rf.text}]}return[{id:"unknown",mime:rf.unknown}]}function Vue(n,e,t){var o;let i,r,s;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){i=l;break}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){const c=l.filepatternOnPath?n:e;(o=l.filepatternLowercase)!=null&&o.call(l,c)&&(r=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}if(i)return i;if(r)return r;if(s)return s}function amt(n){if(gq(n)&&(n=n.substr(1)),n.length>0)for(let e=a0.length-1;e>=0;e--){const t=a0[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t}}const c2=Object.prototype.hasOwnProperty,zue="vs.editor.nullLanguage";class lmt{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(zue,0),this._register(Tc,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||zue}}const mx=class mx extends je{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,mx.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new lmt,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(ZC.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){mx.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},rmt();const e=[].concat(ZC.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=i.identifier}),i.mimetypes.forEach(r=>{this._mimeTypesMap[r]=i.identifier})}),Is.as(Yv.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;c2.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${i}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)l2({id:i,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)l2({id:i,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)l2({id:i,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);tat(l)||l2({id:i,mime:r,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${t.id}]: Invalid regular expression \`${a}\`: `,l)}}e.aliases.push(i);let s=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?s=[null]:s=t.aliases),s!==null)for(const a of s)!a||a.length===0||e.aliases.push(a);const o=s!==null&&s.length>0;if(!(o&&s[0]===null)){const a=(o?s[0]:null)||i;(o||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?c2.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return c2.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&c2.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:smt(e,t)}};mx.instanceCount=0;let Pz=mx;const Bc=(n,e)=>n===e;function cmt(n=Bc){return(e,t)=>es(e,t,n)}function Wue(n,e,t){{const i=n;return(r,s)=>r==null||s===void 0||s===null?s===r:i(r,s)}}class qo{constructor(e,t,i){this.owner=e,this.debugNameSource=t,this.referenceFn=i}getDebugName(e){return umt(e,this)}}const $ue=new Map,Oz=new WeakMap;function umt(n,e){const t=Oz.get(n);if(t)return t;const i=dmt(n,e);if(i){let r=$ue.get(i)??0;r++,$ue.set(i,r);const s=r===1?i:`${i}#${r}`;return Oz.set(n,s),s}}function dmt(n,e){const t=Oz.get(n);if(t)return t;const i=e.owner?fmt(e.owner)+".":"";let r;const s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(r=s(),r!==void 0)return i+r}else return i+s;const o=e.referenceFn;if(o!==void 0&&(r=lG(o),r!==void 0))return i+r;if(e.owner!==void 0){const a=hmt(e.owner,n);if(a!==void 0)return i+a}}function hmt(n,e){for(const t in n)if(n[t]===e)return t}const jue=new Map,Uue=new WeakMap;function fmt(n){const e=Uue.get(n);if(e)return e;const t=gmt(n);let i=jue.get(t)??0;i++,jue.set(t,i);const r=i===1?t:`${t}#${i}`;return Uue.set(n,r),r}function gmt(n){const e=n.constructor;return e?e.name:"Object"}function lG(n){const e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e),r=i?i[1]:void 0;return r==null?void 0:r.trim()}let pmt;function M_e(){return pmt}let R_e;function mmt(n){R_e=n}let N_e;function bmt(n){N_e=n}let Fz;function vmt(n){Fz=n}class A_e{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,r=t===void 0?e:t;return Fz({owner:i,debugName:()=>{const s=lG(r);if(s!==void 0)return s;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(r.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:r},s=>r(this.read(s),s))}flatten(){return Fz({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(R_e(this,t)),this}keepObserved(e){return e.add(N_e(this)),this}}class n_ extends A_e{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Xr(n,e){const t=new OL(n,e);try{n(t)}finally{t.finish()}}let u2;function hS(n){if(u2)n(u2);else{const e=new OL(n,void 0);u2=e;try{n(e)}finally{e.finish(),u2=void 0}}}function cG(n,e,t){n?e(n):Xr(e,t)}class OL{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():lG(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:i,observable:r}=e[t];i.endUpdate(r)}this.updatingObservers=null}}function Bn(n,e){let t;return typeof n=="string"?t=new qo(void 0,n,void 0):t=new qo(n,void 0,void 0),new uG(t,e,Bc)}class uG extends n_{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._value=t}get(){return this._value}set(e,t,i){var s;if(i===void 0&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new OL(()=>{},()=>`Setting ${this.debugName}`));try{const o=this._value;this._setValue(e),(s=M_e())==null||s.handleObservableChanged(this,{oldValue:o,newValue:e,change:i,didChange:!0,hadValue:!0});for(const a of this.observers)t.updateObserver(a,this),a.handleChange(this,i)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function P_e(n,e){let t;return typeof n=="string"?t=new qo(void 0,n,void 0):t=new qo(n,void 0,void 0),new ymt(t,e,Bc)}class ymt extends uG{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;(e=this._value)==null||e.dispose()}}function ln(n,e){return e!==void 0?new l0(new qo(n,void 0,e),e,void 0,void 0,void 0,Bc):new l0(new qo(void 0,void 0,n),n,void 0,void 0,void 0,Bc)}function dG(n,e,t){return new Cmt(new qo(n,void 0,e),e,void 0,void 0,void 0,Bc,t)}function nP(n,e){return new l0(new qo(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??Bc)}vmt(nP);function i_(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const r=new It;return new l0(new qo(i,void 0,t),s=>(r.clear(),t(s,r)),void 0,void 0,()=>r.dispose(),Bc)}function sd(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);let r;return new l0(new qo(i,void 0,t),s=>{r?r.clear():r=new It;const o=t(s);return o&&r.add(o),o},void 0,void 0,()=>{r&&(r.dispose(),r=void 0)},Bc)}class l0 extends n_{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,r,s=void 0,o){var a;super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=i,this._handleChange=r,this._handleLastObserverRemoved=s,this._equalityComparator=o,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(a=this.createChangeSummary)==null?void 0:a.call(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(e=this._handleLastObserverRemoved)==null||e.call(this)}get(){var e;if(this.observers.size===0){const t=this._computeFn(this,(e=this.createChangeSummary)==null?void 0:e.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var o;if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=this.state!==0,i=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=(o=this.createChangeSummary)==null?void 0:o.call(this);try{this.value=this._computeFn(this,r)}finally{for(const a of this.dependenciesToBeRemoved)a.removeObserver(this);this.dependenciesToBeRemoved.clear()}if(t&&!this._equalityComparator(i,this.value))for(const a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}pv(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:s=>s===e},this.changeSummary):!0,r=this.state===3;if(i&&(this.state===1||r)&&(this.state=2,r))for(const s of this.observers)s.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class Cmt extends l0{constructor(e,t,i,r,s=void 0,o,a){super(e,t,i,r,s,o),this.set=a}}function Yn(n){return new sP(new qo(void 0,void 0,n),n,void 0,void 0)}function iP(n,e){return new sP(new qo(n.owner,n.debugName,n.debugReferenceFn??e),e,void 0,void 0)}function rP(n,e){return new sP(new qo(n.owner,n.debugName,n.debugReferenceFn??e),e,n.createEmptyChangeSummary,n.handleChange)}function Lu(n){const e=new It,t=iP({owner:void 0,debugName:void 0,debugReferenceFn:n},i=>{e.clear(),n(i,e)});return cn(()=>{t.dispose(),e.dispose()})}class sP{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,r){var s;this._debugNameData=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(s=this.createChangeSummary)==null?void 0:s.call(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var i,r;if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){(i=M_e())==null||i.handleAutorunTriggered(this);const s=this.changeSummary;this.changeSummary=(r=this.createChangeSummary)==null?void 0:r.call(this),this._runFn(this,s)}}finally{for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,pv(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:r=>r===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(n){n.Observer=sP})(Yn);function lM(n){return new _mt(n)}class _mt extends A_e{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function kr(...n){let e,t,i;return n.length===3?[e,t,i]=n:[t,i]=n,new Iy(new qo(e,void 0,i),t,i,()=>Iy.globalTransaction,Bc)}class Iy extends n_{constructor(e,t,i,r,s){super(),this._debugNameData=e,this.event=t,this._getValue=i,this._getTransaction=r,this._equalityComparator=s,this.hasValue=!1,this.handleEvent=o=>{const a=this._getValue(o),l=this.value;(!this.hasValue||!this._equalityComparator(l,a))&&(this.value=a,this.hasValue&&cG(this._getTransaction(),u=>{for(const d of this.observers)u.updateObserver(d,this),d.handleChange(this,void 0)},()=>{const u=this.getDebugName();return"Event fired"+(u?`: ${u}`:"")}),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(n){n.Observer=Iy;function e(t,i){let r=!1;Iy.globalTransaction===void 0&&(Iy.globalTransaction=t,r=!0);try{i()}finally{r&&(Iy.globalTransaction=void 0)}}n.batchEventsGlobally=e})(kr);function Rl(n,e){return new wmt(n,e)}class wmt extends n_{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{Xr(i=>{for(const r of this.observers)i.updateObserver(r,this),r.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function hG(n){return typeof n=="string"?new que(n):new que(void 0,n)}class que extends n_{get debugName(){return new qo(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){Xr(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function Smt(n){const e=new O_e(!1,void 0);return n.addObserver(e),cn(()=>{n.removeObserver(e)})}bmt(Smt);function oP(n,e){const t=new O_e(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),cn(()=>{n.removeObserver(t)})}mmt(oP);class O_e{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function xmt(n,e){let t;return nP({owner:n,debugReferenceFn:e},r=>(t=e(r,t),t))}function kmt(n,e){return xmt(n,(t,i)=>i??e(t))}function Lmt(n,e,t,i){return e||(e=r=>r!=null),new Promise((r,s)=>{let o=!0,a=!1;const l=n.map(u=>({isFinished:e(u),error:!1,state:u})),c=Yn(u=>{const{isFinished:d,error:h,state:f}=l.read(u);(d||h)&&(o?a=!0:c.dispose(),h?s(h===!0?f:h):r(f))});o=!1,a&&c.dispose()})}class Emt extends n_{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const e=[...this.observers];for(const t of e)t.endUpdate(this)}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,i){if(i===void 0&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new OL(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),i!==void 0&&this._deltas.push(i),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(s,o)=>{},handlePossibleChange:s=>{}},this),this._updateCounter>1)for(const s of this.observers)s.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function Bz(n,e){return n.lazy?new Emt(new qo(n.owner,n.debugName,void 0),e,n.equalsFn??Bc):new uG(new qo(n.owner,n.debugName,void 0),e,n.equalsFn??Bc)}const bx=class bx extends je{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new ke),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new ke),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new ke({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,bx.instanceCount++,this._registry=this._register(new Pz(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){bx.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return KU(i,null)}createById(e){return new Gue(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new Gue(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=Tc),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),Rr.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}};bx.instanceCount=0;let Hz=bx;class Gue{constructor(e,t){this._value=kr(this,e,()=>t()),this.onDidChange=ut.fromObservable(this._value)}get languageId(){return this._value.get()}}const F_e={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:rf.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"},Dmt=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});let aP=Dmt;const Tmt=new Rp(()=>aP("mouse",!1)),Imt=new Rp(()=>aP("element",!1));function Mmt(n){aP=n}function Gl(n){return n==="element"?Imt.value:Tmt.value}function fG(){return aP("element",!0)}let B_e={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function Rmt(n){B_e=n}function ih(){return B_e}class Nmt{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(r=>r.splice(e,t,i))}}class Im extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Kue(n,e){const t=[];for(const i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const r=Zs.intersect(n,i.range);Zs.isEmpty(r)||t.push({range:r,size:i.size})}return t}function Vz({start:n,end:e},t){return{start:n+t,end:e+t}}function Amt(n){const e=[];let t=null;for(const i of n){const r=i.range.start,s=i.range.end,o=i.size;if(t&&o===t.size){t.range.end=s;continue}t={range:{start:r,end:s},size:o},e.push(t)}return e}function Pmt(...n){return Amt(n.reduce((e,t)=>e.concat(t),[]))}class Omt{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){const r=i.length-t,s=Kue({start:0,end:e},this.groups),o=Kue({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:Vz(l.range,r),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=Pmt(s,a,o),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const r of this.groups){const s=r.range.end-r.range.start,o=i+s*r.size;if(e<o)return t+Math.floor((e-i)/r.size);t+=s,i=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const r of this.groups){const s=r.range.end-r.range.start,o=i+s;if(e<o)return this._paddingTop+t+(e-i)*r.size;t+=s*r.size,i=o}return-1}}class Fmt{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const r=jt(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(r);t={domNode:r,templateId:e,templateData:o}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Zf=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const Mm={CurrentDragAndDropData:void 0},Ju={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class FL{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Bmt{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Hmt{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function Vmt(n,e){return Array.isArray(n)&&Array.isArray(e)?es(n,e):n===e}class zmt{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,r)=>r,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}const xR=class xR{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:P7(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,r=Ju){var o,a;if(this.virtualDelegate=t,this.domId=`list_id_${++xR.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new xL(50),this.splicing=!1,this.dragOverAnimationStopDisposable=je.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=je.None,this.onDragLeaveTimeout=je.None,this.disposables=new It,this._onDidChangeContentHeight=new ke,this._onDidChangeContentWidth=new ke,this.onDidChangeContentHeight=ut.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(r.paddingTop??0);for(const l of i)this.renderers.set(l.templateId,l);this.cache=this.disposables.add(new Fmt(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=r.horizontalScrolling??Ju.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof r.paddingBottom>"u"?0:r.paddingBottom,this.accessibilityProvider=new zmt(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(r.transformOptimization??Ju.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Uo.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new t_({forceIntegerValues:!0,smoothScrollDuration:r.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:l=>Va(Ft(this.domNode),l)})),this.scrollableElement=this.disposables.add(new XA(this.rowsContainer,{alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel??Ju.alwaysConsumeMouseWheel,horizontal:1,vertical:r.verticalScrollMode??Ju.verticalScrollMode,useShadows:r.useShadows??Ju.useShadows,mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity,scrollByPage:r.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(ze(this.rowsContainer,Di.Change,l=>this.onTouchChange(l))),this.disposables.add(ze(this.scrollableElement.getDomNode(),"scroll",l=>l.target.scrollTop=0)),this.disposables.add(ze(this.domNode,"dragover",l=>this.onDragOver(this.toDragEvent(l)))),this.disposables.add(ze(this.domNode,"drop",l=>this.onDrop(this.toDragEvent(l)))),this.disposables.add(ze(this.domNode,"dragleave",l=>this.onDragLeave(this.toDragEvent(l)))),this.disposables.add(ze(this.domNode,"dragend",l=>this.onDragEnd(l))),this.setRowLineHeight=r.setRowLineHeight??Ju.setRowLineHeight,this.setRowHeight=r.setRowHeight??Ju.setRowHeight,this.supportDynamicHeights=r.supportDynamicHeights??Ju.supportDynamicHeights,this.dnd=r.dnd??this.disposables.add(Ju.dnd),this.layout((o=r.initialSize)==null?void 0:o.height,(a=r.initialSize)==null?void 0:a.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(e){return new Omt(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},o=Zs.intersect(r,s),a=new Map;for(let x=o.end-1;x>=o.start;x--){const k=this.items[x];if(k.dragStartDisposable.dispose(),k.checkedDisposable.dispose(),k.row){let D=a.get(k.templateId);D||(D=[],a.set(k.templateId,D));const T=this.renderers.get(k.templateId);T&&T.disposeElement&&T.disposeElement(k.element,x,k.row.templateData,k.size),D.unshift(k.row)}k.row=null,k.stale=!0}const l={start:e+t,end:this.items.length},c=Zs.intersect(l,r),u=Zs.relativeComplement(l,r),d=i.map(x=>({id:String(this.itemId++),element:x,templateId:this.virtualDelegate.getTemplateId(x),size:this.virtualDelegate.getHeight(x),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(x),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:je.None,checkedDisposable:je.None,stale:!1}));let h;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const f=i.length-t,p=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),m=Vz(c,f),v=Zs.intersect(p,m);for(let x=v.start;x<v.end;x++)this.updateItemInDOM(this.items[x],x);const C=Zs.relativeComplement(m,p);for(const x of C)for(let k=x.start;k<x.end;k++)this.removeItemFromDOM(k);const y=u.map(x=>Vz(x,f)),_=[{start:e,end:e+i.length},...y].map(x=>Zs.intersect(p,x)).reverse();for(const x of _)for(let k=x.end-1;k>=x.start;k--){const D=this.items[k],T=a.get(D.templateId),L=T==null?void 0:T.pop();this.insertItemInDOM(k,L)}for(const x of a.values())for(const k of x)this.cache.release(k);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(x=>x.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Va(Ft(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:olt(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:P7(this.domNode)})}render(e,t,i,r,s,o=!1){const a=this.getRenderRange(t,i),l=Zs.relativeComplement(a,e).reverse(),c=Zs.relativeComplement(e,a);if(o){const u=Zs.intersect(e,a);for(let d=u.start;d<u.end;d++)this.updateItemInDOM(this.items[d],d)}this.cache.transact(()=>{for(const u of c)for(let d=u.start;d<u.end;d++)this.removeItemFromDOM(d);for(const u of l)for(let d=u.end-1;d>=u.start;d--)this.insertItemInDOM(d)}),r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&s!==void 0&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){var l,c;const i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{const u=this.cache.alloc(i.templateId);i.row=u.row,i.stale||(i.stale=u.isReusingConnectedDomNode)}const r=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",r);const s=this.accessibilityProvider.isChecked(i.element);if(typeof s=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!s));else if(s){const u=d=>i.row.domNode.setAttribute("aria-checked",String(!!d));u(s.value),i.checkedDisposable=s.onDidChange(()=>u(s.value))}if(i.stale||!i.row.domNode.parentElement){const u=((c=(l=this.items.at(e+1))==null?void 0:l.row)==null?void 0:c.domNode)??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==u)&&this.rowsContainer.insertBefore(i.row.domNode,u),i.stale=!1}this.updateItemInDOM(i,e);const o=this.renderers.get(i.templateId);if(!o)throw new Error(`No renderer found for template id ${i.templateId}`);o==null||o.renderElement(i.element,e,i.row.templateData,i.size);const a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=ze(i.row.domNode,"dragstart",u=>this.onDragStart(i.element,a,u))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=P7(e.row.domNode);const t=Ft(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return ut.map(this.disposables.add(new kn(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return ut.map(this.disposables.add(new kn(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return ut.filter(ut.map(this.disposables.add(new kn(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return ut.map(this.disposables.add(new kn(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return ut.map(this.disposables.add(new kn(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return ut.map(this.disposables.add(new kn(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return ut.any(ut.map(this.disposables.add(new kn(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),ut.map(this.disposables.add(new kn(this.domNode,Di.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return ut.map(this.disposables.add(new kn(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return ut.map(this.disposables.add(new kn(this.rowsContainer,Di.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element,s=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:r,sector:s}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var s,o;if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(F_e.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(r,i)),typeof a>"u"&&(a=String(r.length));const l=jt(".monaco-drag-image");l.textContent=a,(d=>{for(;d&&!d.classList.contains("monaco-workbench");)d=d.parentElement;return d||this.domNode.ownerDocument})(this.domNode).appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>l.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new FL(r),Mm.CurrentDragAndDropData=new Bmt(r),(o=(s=this.dnd).onDragStart)==null||o.call(s,this.currentDragData,i)}onDragOver(e){var s,o;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Mm.CurrentDragAndDropData&&Mm.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Mm.CurrentDragAndDropData)this.currentDragData=Mm.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Hmt}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&((s=t.effect)==null?void 0:s.type)===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=cv(i).filter(a=>a>=-1&&a<this.length).sort((a,l)=>a-l),i=i[0]===-1?[-1]:i;let r=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(Vmt(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===r)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=r,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(r),this.rowsContainer.classList.add(r),this.currentDragFeedbackDisposable=cn(()=>{this.domNode.classList.remove(r),this.rowsContainer.classList.remove(r)});else{if(i.length>1&&r!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");r==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,r="drop-target-before");for(const a of i){const l=this.items[a];l.dropTarget=!0,(o=l.row)==null||o.domNode.classList.add(r)}this.currentDragFeedbackDisposable=cn(()=>{var a;for(const l of i){const c=this.items[l];c.dropTarget=!1,(a=c.row)==null||a.domNode.classList.remove(r)}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=_V(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((i=(t=this.dnd).onDragLeave)==null||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Mm.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Mm.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=je.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=slt(this.domNode).top;this.dragOverAnimationDisposable=vlt(Ft(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=_V(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;const i=e.offsetY/this.items[t].size,r=Math.floor(i/.25);return sa(r,0,3)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;(Ls(i)||hlt(i))&&i!==this.rowsContainer&&t.contains(i);){const r=i.getAttribute("data-index");if(r){const s=Number(r);if(!isNaN(s))return s}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const r=this.getRenderRange(e,t);let s,o;e===this.elementTop(r.start)?(s=r.start,o=0):r.end-r.start>1&&(s=r.start+1,o=this.elementTop(s)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let u=l.start;u<l.end;u++){const d=this.probeDynamicHeight(u);d!==0&&this.rangeMap.splice(u,1,[this.items[u]]),a+=d,c=c||d!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const u=Zs.relativeComplement(r,l);for(const h of u)for(let f=h.start;f<h.end;f++)this.items[f].row&&this.removeItemFromDOM(f);const d=Zs.relativeComplement(l,r).reverse();for(const h of d)for(let f=h.end-1;f>=h.start;f--)this.insertItemInDOM(f);for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof s=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(s)-o+h;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var o,a,l;const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const c=this.virtualDelegate.getDynamicHeight(t.element);if(c!==null){const u=t.size;return t.size=c,t.lastDynamicHeightWidth=this.renderWidth,c-u}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!gs(t.row.domNode,Ft(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;const{row:r}=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const s=this.renderers.get(t.templateId);if(!s)throw new ti("Missing renderer for templateId: "+t.templateId);return s.renderElement(t.element,e,r.templateData,void 0),t.size=r.domNode.offsetHeight,(o=s.disposeElement)==null||o.call(s,t.element,e,r.templateData,void 0),(l=(a=this.virtualDelegate).setDynamicHeight)==null||l.call(a,t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,r.domNode.remove(),this.cache.release(r),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t,i;for(const r of this.items)if(r.dragStartDisposable.dispose(),r.checkedDisposable.dispose(),r.row){const s=this.renderers.get(r.row.templateId);s&&((e=s.disposeElement)==null||e.call(s,r.element,-1,r.row.templateData,void 0),s.disposeTemplate(r.row.templateData))}this.items=[],(t=this.domNode)==null||t.remove(),(i=this.dragOverAnimationDisposable)==null||i.dispose(),this.disposables.dispose()}};xR.InstanceCount=0;let Hc=xR;Zf([vr],Hc.prototype,"onMouseClick",null);Zf([vr],Hc.prototype,"onMouseDblClick",null);Zf([vr],Hc.prototype,"onMouseMiddleClick",null);Zf([vr],Hc.prototype,"onMouseDown",null);Zf([vr],Hc.prototype,"onMouseOver",null);Zf([vr],Hc.prototype,"onMouseOut",null);Zf([vr],Hc.prototype,"onContextMenu",null);Zf([vr],Hc.prototype,"onTouchStart",null);Zf([vr],Hc.prototype,"onTap",null);var tm=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class Wmt{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const r=this.renderedElements.findIndex(s=>s.templateData===i);if(r>=0){const s=this.renderedElements[r];this.trait.unrender(i),s.index=t}else{const s={index:t,templateData:i};this.renderedElements.push(s)}this.trait.renderIndex(t,i)}splice(e,t,i){const r=[];for(const s of this.renderedElements)s.index<e?r.push(s):s.index>=e+t&&r.push({index:s.index+i-t,templateData:s.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let cM=class{get name(){return this._trait}get renderer(){return new Wmt(this)}constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new ke,this.onChange=this._onChange.event}splice(e,t,i){const r=i.length-t,s=e+t,o=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)o.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&o.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=s;)o.push(this.sortedIndexes[a++]+r);this.renderer.splice(e,t,i.length),this._set(o,o)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(Yue),t)}_set(e,t,i){const r=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=zz(s,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),r}get(){return this.indexes}contains(e){return Hrt(this.sortedIndexes,e,Yue)>=0}dispose(){Us(this._onChange)}};tm([vr],cM.prototype,"renderer",null);class $mt extends cM{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class l6{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const r=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(r.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const s=new Set(r),o=i.map(a=>s.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,o)}}function _p(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function BL(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:BL(n.parentElement,e)}function fS(n){return BL(n,"monaco-editor")}function jmt(n){return BL(n,"monaco-custom-toggle")}function Umt(n){return BL(n,"action-item")}function jS(n){return BL(n,"monaco-tree-sticky-row")}function fk(n){return n.classList.contains("monaco-tree-sticky-container")}function H_e(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:H_e(n.parentElement)}class V_e{get onKeyDown(){return ut.chain(this.disposables.add(new kn(this.view.domNode,"keydown")).event,e=>e.filter(t=>!_p(t.target)).map(t=>new Bi(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new It,this.multipleSelectionDisposables=new It,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(r=>{switch(r.keyCode){case 3:return this.onEnter(r);case 16:return this.onUpArrow(r);case 18:return this.onDownArrow(r);case 11:return this.onPageUpArrow(r);case 12:return this.onPageDownArrow(r);case 9:return this.onEscape(r);case 31:this.multipleSelectionSupport&&(An?r.metaKey:r.ctrlKey)&&this.onCtrlA(r)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(na(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}tm([vr],V_e.prototype,"onKeyDown",null);var _d;(function(n){n[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger"})(_d||(_d={}));var My;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(My||(My={}));const qmt=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}};class Gmt{constructor(e,t,i,r,s){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=r,this.delegate=s,this.enabled=!1,this.state=My.Idle,this.mode=_d.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new It,this.disposables=new It,this.updateOptions(e.options)}updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??_d.Automatic}enable(){if(this.enabled)return;let e=!1;const t=ut.chain(this.enabledDisposables.add(new kn(this.view.domNode,"keydown")).event,s=>s.filter(o=>!_p(o.target)).filter(()=>this.mode===_d.Automatic||this.triggered).map(o=>new Bi(o)).filter(o=>e||this.keyboardNavigationEventFilter(o)).filter(o=>this.delegate.mightProducePrintableCharacter(o)).forEach(o=>In.stop(o,!0)).map(o=>o.browserEvent.key)),i=ut.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);ut.reduce(ut.any(t,i),(s,o)=>o===null?null:(s||"")+o,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var t;const e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){const i=(t=this.list.options.accessibilityProvider)==null?void 0:t.getAriaLabel(this.list.element(e[0]));typeof i=="string"?dk(i):i&&dk(i.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=My.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,r=this.state===My.Idle?1:0;this.state=My.Typing;for(let s=0;s<this.list.length;s++){const o=(i+s+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(eM(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}const c=mgt(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}else if(typeof l>"u"||eM(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Kmt{constructor(e,t){this.list=e,this.view=t,this.disposables=new It;const i=ut.chain(this.disposables.add(new kn(t.domNode,"keydown")).event,s=>s.filter(o=>!_p(o.target)).map(o=>new Bi(o)));ut.chain(i,s=>s.filter(o=>o.keyCode===2&&!o.ctrlKey&&!o.metaKey&&!o.shiftKey&&!o.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const r=i.querySelector("[tabIndex]");if(!r||!Ls(r)||r.tabIndex===-1)return;const s=Ft(r).getComputedStyle(r);s.visibility==="hidden"||s.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function z_e(n){return An?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function W_e(n){return n.browserEvent.shiftKey}function Qmt(n){return Sq(n)&&n.button===2}const Que={isSelectionSingleChangeEvent:z_e,isSelectionRangeChangeEvent:W_e};class $_e{constructor(e){this.list=e,this.disposables=new It,this._onPointer=new ke,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Que),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Uo.addTarget(e.getHTMLElement()))),ut.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Que))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){fS(e.browserEvent.target)||Eo()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(_p(e.browserEvent.target)||fS(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||_p(e.browserEvent.target)||fS(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),Qmt(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(_p(e.browserEvent.target)||fS(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));const r=Math.min(i,t),s=Math.max(i,t),o=na(r,s+1),a=this.list.getSelection(),l=Zmt(zz(a,[i]),i);if(l.length===0)return;const c=zz(o,Jmt(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),s=r.filter(o=>o!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===s.length?this.list.setSelection([...s,t],e.browserEvent):this.list.setSelection(s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class j_e{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const r=_f(e.listFocusAndSelectionOutline,_f(e.listSelectionOutline,e.listFocusOutline??""));r&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const s=_f(e.listSelectionOutline,e.listInactiveFocusOutline??"");s&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${s}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}}const Ymt={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:tt.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:tt.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:tt.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Xmt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function Zmt(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let r=t-1;for(;r>=0&&n[r]===e-(t-r);)i.push(n[r--]);for(i.reverse(),r=t;r<n.length&&n[r]===e+(r-t);)i.push(n[r++]);return i}function zz(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){t.push(n[i]),i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):t.push(e[r++]);return t}function Jmt(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):r++;return t}const Yue=(n,e)=>n-e;class ebt{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,r){let s=0;for(const o of this.renderers)o.renderElement(e,t,i[s++],r)}disposeElement(e,t,i,r){var o;let s=0;for(const a of this.renderers)(o=a.disposeElement)==null||o.call(a,e,t,i[s],r),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class tbt{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return{container:e,disposables:new It}}renderElement(e,t,i){const r=this.accessibilityProvider.getAriaLabel(e),s=r&&typeof r!="string"?r:lM(r);i.disposables.add(Yn(a=>{this.setAriaLabel(a.readObservable(s),i.container)}));const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.container.setAttribute("aria-level",`${o}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,r){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}}class nbt{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)==null||r.call(i,e,t)}onDragOver(e,t,i,r,s){return this.dnd.onDragOver(e,t,i,r,s)}onDragLeave(e,t,i,r){var s,o;(o=(s=this.dnd).onDragLeave)==null||o.call(s,e,t,i,r)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}drop(e,t,i,r,s){this.dnd.drop(e,t,i,r,s)}dispose(){this.dnd.dispose()}}class zu{get onDidChangeFocus(){return ut.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return ut.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=ut.chain(this.disposables.add(new kn(this.view.domNode,"keydown")).event,s=>s.map(o=>new Bi(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(o=>In.stop(o,!0)).filter(()=>!1)),i=ut.chain(this.disposables.add(new kn(this.view.domNode,"keyup")).event,s=>s.forEach(()=>e=!1).map(o=>new Bi(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(o=>In.stop(o,!0)).map(({browserEvent:o})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,u=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:u,browserEvent:o}})),r=ut.chain(this.view.onContextMenu,s=>s.filter(o=>!e).map(({element:o,index:a,browserEvent:l})=>({element:o,index:a,anchor:new Cu(Ft(this.view.domNode),l),browserEvent:l})));return ut.any(t,i,r)}get onKeyDown(){return this.disposables.add(new kn(this.view.domNode,"keydown")).event}get onDidFocus(){return ut.signal(this.disposables.add(new kn(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return ut.signal(this.disposables.add(new kn(this.view.domNode,"blur",!0)).event)}constructor(e,t,i,r,s=Xmt){var c,u,d;this.user=e,this._options=s,this.focus=new cM("focused"),this.anchor=new cM("anchor"),this.eventBufferer=new _L,this._ariaLabel="",this.disposables=new It,this._onDidDispose=new ke,this.onDidDispose=this._onDidDispose.event;const o=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(c=this._options.accessibilityProvider)==null?void 0:c.getWidgetRole():"list";this.selection=new $mt(o!=="listbox");const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(a.push(new tbt(this.accessibilityProvider)),(d=(u=this.accessibilityProvider).onDidChangeActiveDescendant)==null||d.call(u,this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(h=>new ebt(h.templateId,[...a,h]));const l={...s,dnd:s.dnd&&new nbt(this,s.dnd)};if(this.view=this.createListView(t,i,r,l),this.view.domNode.setAttribute("role",o),s.styleController)this.styleController=s.styleController(this.view.domId);else{const h=ql(this.view.domNode);this.styleController=new j_e(h,this.view.domId)}if(this.spliceable=new Nmt([new l6(this.focus,this.view,s.identityProvider),new l6(this.selection,this.view,s.identityProvider),new l6(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Kmt(this,this.view)),(typeof s.keyboardSupport!="boolean"||s.keyboardSupport)&&(this.keyboardController=new V_e(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){const h=s.keyboardNavigationDelegate||qmt;this.typeNavigationController=new Gmt(this,this.view,s.keyboardNavigationLabelProvider,s.keyboardNavigationEventFilter??(()=>!0),h),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,r){return new Hc(e,t,i,r)}createMouseController(e){return new $_e(this)}updateOptions(e={}){var t,i;this._options={...this._options,...e},(t=this.typeNavigationController)==null||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)==null||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Im(this.user,`Invalid start index: ${e}`);if(t<0)throw new Im(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Im(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Im(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return KU(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Im(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findNextIndex(s.length>0?s[0]+e:0,t,r);o>-1&&this.setFocus([o],i)}focusPrevious(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findPreviousIndex(s.length>0?s[0]-e:0,t,r);o>-1&&this.setFocus([o],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const r=this.getFocus()[0];if(r!==i&&(r===void 0||i>r)){const s=this.findPreviousIndex(i,!1,t);s>-1&&r!==s?this.setFocus([s],e):this.setFocus([i],e)}else{const s=this.view.getScrollTop();let o=s+this.view.renderHeight;i>r&&(o-=this.view.elementHeight(i)),this.view.setScrollTop(o),this.view.getScrollTop()!==s&&(this.setFocus([]),await Jx(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let r;const s=i(),o=this.view.getScrollTop()+s;o===0?r=this.view.indexAt(o):r=this.view.indexAfter(o-1);const a=this.getFocus()[0];if(a!==r&&(a===void 0||a>=r)){const l=this.findNextIndex(r,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([r],e)}else{const l=o;this.view.setScrollTop(o-this.view.renderHeight-s),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await Jx(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const r=this.findNextIndex(e,!1,i);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new Im(this.user,`Invalid index ${e}`);const r=this.view.getScrollTop(),s=this.view.elementTop(e),o=this.view.elementHeight(e);if(Q0(t)){const a=o-this.view.renderHeight+i;this.view.setScrollTop(a*sa(t,0,1)+s-i)}else{const a=s+o,l=r+this.view.renderHeight;s<r+i&&a>=l||(s<r+i||a>=l&&o>=this.view.renderHeight?this.view.setScrollTop(s-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Im(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(r<i+t||r+s>i+this.view.renderHeight)return null;const o=s-this.view.renderHeight+t;return Math.abs((i+t-r)/o)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var t;const e=this.focus.get();if(e.length>0){let i;(t=this.accessibilityProvider)!=null&&t.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}tm([vr],zu.prototype,"onDidChangeFocus",null);tm([vr],zu.prototype,"onDidChangeSelection",null);tm([vr],zu.prototype,"onContextMenu",null);tm([vr],zu.prototype,"onKeyDown",null);tm([vr],zu.prototype,"onDidFocus",null);tm([vr],zu.prototype,"onDidBlur",null);const kb=jt,U_e="selectOption.entry.template";class ibt{get templateId(){return U_e}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=Tt(e,kb(".option-text")),t.detail=Tt(e,kb(".option-detail")),t.decoratorRight=Tt(e,kb(".option-decorator-right")),t}renderElement(e,t,i){const r=i,s=e.text,o=e.detail,a=e.decoratorRight,l=e.isDisabled;r.text.textContent=s,r.detail.textContent=o||"",r.decoratorRight.innerText=a||"",l?r.root.classList.add("option-disabled"):r.root.classList.remove("option-disabled")}disposeTemplate(e){}}const cd=class cd extends je{constructor(e,t,i,r,s){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=r,this.selectBoxOptions=s||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=cd.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new ke,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}setTitle(e){!this._hover&&e?this._hover=this._register(ih().setupManagedHover(Gl("mouse"),this.selectElement,e)):this._hover&&this._hover.update(e)}getHeight(){return 22}getTemplateId(){return U_e}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=jt(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Tt(this.selectDropDownContainer,kb(".select-box-details-pane"));const t=Tt(this.selectDropDownContainer,kb(".select-box-dropdown-container-width-control")),i=Tt(t,kb(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Tt(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=ql(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(ze(this.selectDropDownContainer,pt.DRAG_START,r=>{In.stop(r,!0)}))}registerListeners(){this._register(ms(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(ze(this.selectElement,pt.CLICK,t=>{In.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(ze(this.selectElement,pt.MOUSE_DOWN,t=>{In.stop(t)}));let e;this._register(ze(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register(ze(this.selectElement,"touchend",t=>{In.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(ze(this.selectElement,pt.KEY_DOWN,t=>{const i=new Bi(t);let r=!1;An?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(r=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(r=!0),r&&(this.showSelectDropDown(),In.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){es(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;(e=this.selectList)==null||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){const e=this.styles.selectBackground??"",t=this.styles.selectForeground??"",i=this.styles.selectBorder??"";this.selectElement.style.backgroundColor=e,this.selectElement.style.color=t,this.selectElement.style.borderColor=i}styleList(){const e=this.styles.selectBackground??"",t=_f(this.styles.selectListBackground,e);this.selectDropDownListContainer.style.backgroundColor=t,this.selectionDetailsPane.style.backgroundColor=t;const i=this.styles.focusBorder??"";this.selectDropDownContainer.style.outlineColor=i,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{this.selectDropDownContainer.remove()}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=Ft(this.selectElement),i=Fl(this.selectElement),r=Ft(this.selectElement).getComputedStyle(this.selectElement),s=parseFloat(r.getPropertyValue("--dropdown-padding-top"))+parseFloat(r.getPropertyValue("--dropdown-padding-bottom")),o=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),a=i.top-cd.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),u=Math.max(c,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=u,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let d=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const h=this._hasDetails?this._cachedMaxDetailsHeight:0,f=d+s+h,p=Math.floor((o-s-h)/this.getHeight()),m=Math.floor((a-s-h)/this.getHeight());if(e)return i.top+i.height>t.innerHeight-22||i.top<cd.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||p<1&&m<1?!1:(p<cd.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&m>p&&this.options.length>p?(this._dropDownPosition=1,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<cd.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&p<1||this._dropDownPosition===1&&m<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&p+m<1)return this.hideSelectDropDown(!0),!1;f>o&&(d=p*this.getHeight())}else f>a&&(d=m*this.getHeight());return this.selectList.layout(d),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=d+s+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=d+s+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=u,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,r=0;this.options.forEach((s,o)=>{const a=s.detail?s.detail.length:0,l=s.decoratorRight?s.decoratorRight.length:0,c=s.text.length+a+l;c>r&&(i=o,r=c)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=Cq(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=Tt(e,kb(".select-box-dropdown-list-container")),this.listRenderer=new ibt,this.selectList=this._register(new zu("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:r=>{let s=r.text;return r.detail&&(s+=`. ${r.detail}`),r.decoratorRight&&(s+=`. ${r.decoratorRight}`),r.description&&(s+=`. ${r.description}`),s},getWidgetAriaLabel:()=>P({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>An?"":"option",getWidgetRole:()=>"listbox"}})),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new kn(this.selectDropDownListContainer,"keydown")),i=ut.chain(t.event,r=>r.filter(()=>this.selectList.length>0).map(s=>new Bi(s)));this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===3))(this.onEnter,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===2))(this.onEnter,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===9))(this.onEscape,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===16))(this.onUpArrow,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===18))(this.onDownArrow,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===12))(this.onPageDown,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===11))(this.onPageUp,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===14))(this.onHome,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode===13))(this.onEnd,this)),this._register(ut.chain(i,r=>r.filter(s=>s.keyCode>=21&&s.keyCode<=56||s.keyCode>=85&&s.keyCode<=113))(this.onCharacter,this)),this._register(ze(this.selectList.getHTMLElement(),pt.POINTER_UP,r=>this.onPointerUp(r))),this._register(this.selectList.onMouseOver(r=>typeof r.index<"u"&&this.selectList.setFocus([r.index]))),this._register(this.selectList.onDidChangeFocus(r=>this.onListFocus(r))),this._register(ze(this.selectDropDownContainer,pt.FOCUS_OUT,r=>{!this._isVisible||gs(r.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;In.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const r=Number(i.getAttribute("data-index")),s=i.classList.contains("option-disabled");r>=0&&r<this.options.length&&!s&&(this.selected=r,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=s=>{for(let o=0;o<s.childNodes.length;o++){const a=s.childNodes.item(o);(a.tagName&&a.tagName.toLowerCase())==="img"?a.remove():i(a)}},r=tG({value:e,supportThemeIcons:!0},{actionHandler:t});return r.element.classList.add("select-box-description-markdown"),i(r.element),r.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){this.selectionDetailsPane.innerText="";const t=this.options[e],i=(t==null?void 0:t.description)??"",r=(t==null?void 0:t.descriptionIsMarkdown)??!1;if(i){if(r){const s=t.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(i,s))}else this.selectionDetailsPane.innerText=i;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){In.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){In.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){In.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(In.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){In.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){In.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){In.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){In.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=ef.toString(e.keyCode);let i=-1;for(let r=0;r<this.options.length-1;r++)if(i=(r+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),In.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}};cd.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,cd.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,cd.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;let Wz=cd;class rbt extends je{constructor(e,t,i,r){super(),this.selected=0,this.selectBoxOptions=r||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new ke),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Uo.addTarget(this.selectElement)),[Di.Tap].forEach(e=>{this._register(ze(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(ms(this.selectElement,"click",e=>{In.stop(e,!0)})),this._register(ms(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(ms(this.selectElement,"keydown",e=>{let t=!1;An?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!es(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){this.selectElement&&(this.selectElement.style.backgroundColor=this.styles.selectBackground??"",this.selectElement.style.color=this.styles.selectForeground??"",this.selectElement.style.borderColor=this.styles.selectBorder??"")}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}}class sbt extends Xf{constructor(e,t,i,r,s){super(),An&&!(s!=null&&s.useCustomDrawn)?this.selectBoxDelegate=new rbt(e,t,r,s):this.selectBoxDelegate=new Wz(e,t,i,r,s),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class vu extends je{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof wf&&this._register(t.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new gv)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Uo.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,Oc&&this._register(ze(e,pt.DRAG_START,r=>{var s;return(s=r.dataTransfer)==null?void 0:s.setData(F_e.TEXT,this._action.label)}))),this._register(ze(t,Di.Tap,r=>this.onClick(r,!0))),this._register(ze(t,pt.MOUSE_DOWN,r=>{i||In.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),An&&this._register(ze(t,pt.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(ze(t,pt.CLICK,r=>{In.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(ze(t,pt.DBLCLICK,r=>{In.stop(r,!0)})),[pt.MOUSE_UP,pt.MOUSE_OUT].forEach(r=>{this._register(ze(t,r,s=>{In.stop(s),t.classList.remove("active")}))})}onClick(e,t=!1){var r;In.stop(e,!0);const i=Xa(this._context)?(r=this.options)!=null&&r.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var t;if(!this.element)return;const e=this.getTooltip()??"";if(this.updateAriaLabel(),(t=this.options.hoverDelegate)!=null&&t.showNativeHover)this.element.title=e;else if(!this.customHover&&e!==""){const i=this.options.hoverDelegate??Gl("element");this.customHover=this._store.add(ih().setupManagedHover(i,this.element,e))}else this.customHover&&this.customHover.update(e)}updateAriaLabel(){if(this.element){const e=this.getTooltip()??"";this.element.setAttribute("aria-label",e)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class gG extends vu{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),bp(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Do.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=P({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)==null||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)==null||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)==null||t.classList.add("disabled"))}updateAriaLabel(){if(this.label){const e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class obt extends vu{constructor(e,t,i,r,s,o,a){super(e,t),this.selectBox=new sbt(i,r,s,o,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;(e=this.selectBox)==null||e.focus()}blur(){var e;(e=this.selectBox)==null||e.blur()}render(e){this.selectBox.render(e)}}class abt extends gv{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new ke),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Tt(e,jt(".monaco-dropdown")),this._label=Tt(this._element,jt(".dropdown-label"));let i=t.labelRenderer;i||(i=s=>(s.textContent=t.label||"",null));for(const s of[pt.CLICK,pt.MOUSE_DOWN,Di.Tap])this._register(ze(this.element,s,o=>In.stop(o,!0)));for(const s of[pt.MOUSE_DOWN,Di.Tap])this._register(ze(this._label,s,o=>{Sq(o)&&(o.detail>1||o.button!==0)||(this.visible?this.hide():this.show())}));this._register(ze(this._label,pt.KEY_UP,s=>{const o=new Bi(s);(o.equals(3)||o.equals(10))&&(In.stop(s,!0),this.visible?this.hide():this.show())}));const r=i(this._label);r&&this._register(r),this._register(Uo.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class lbt extends abt{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class uM extends vu{constructor(e,t,i,r=Object.create(null)){super(null,e,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new ke),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=s=>{this.element=Tt(s,jt("a.action-label"));let o=[];return typeof this.options.classNames=="string"?o=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(o=this.options.classNames),o.find(a=>a==="icon")||o.push("codicon"),this.element.classList.add(...o),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(ih().setupManagedHover(this.options.hoverDelegate??Gl("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new lbt(e,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var o;(o=this.element)==null||o.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return s.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;(e=this.dropdownMenu)==null||e.show()}updateEnabled(){var t,i;const e=!this.action.enabled;(t=this.actionItem)==null||t.classList.toggle("disabled",e),(i=this.element)==null||i.classList.toggle("disabled",e)}}function cbt(n){return n?n.condition!==void 0:!1}var bC;(function(n){n[n.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",n[n.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(bC||(bC={}));var Ry;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(Ry||(Ry={}));const kR=class kR extends je{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new Qx),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Ry.None,this.cache=new Map,this.flushDelayer=this._register(new xCe(kR.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{(t=e.changed)==null||t.forEach((r,s)=>this.acceptExternal(s,r)),(i=e.deleted)==null||i.forEach(r=>this.acceptExternal(r,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===Ry.Closed)return;let i=!1;Xa(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return Xa(i)?t:i}getBoolean(e,t){const i=this.get(e);return Xa(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return Xa(i)?t:parseInt(i,10)}async set(e,t,i=!1){if(this.state===Ry.Closed)return;if(Xa(t))return this.delete(e,i);const r=ca(t)||Array.isArray(t)?Bgt(t):String(t);if(this.cache.get(e)!==r)return this.cache.set(e,r),this.pendingInserts.set(e,r),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e,t=!1){if(!(this.state===Ry.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())==null||t()})}async doFlush(e){return this.options.hint===bC.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}};kR.DEFAULT_FLUSH_DELAY=100;let US=kR;class c6{constructor(){this.onDidChangeItemsExternal=ut.None,this.items=new Map}async updateItems(e){var t,i;(t=e.insert)==null||t.forEach((r,s)=>this.items.set(s,r)),(i=e.delete)==null||i.forEach(r=>this.items.delete(r))}}const vT="__$__targetStorageMarker",lP=Nn("storageService");var Xue;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(Xue||(Xue={}));function ubt(n){const e=n.get(vT);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}const LR=class LR extends je{constructor(e={flushInterval:LR.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Qx),this._onDidChangeTarget=this._register(new Qx),this._onWillSaveState=this._register(new ke),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return ut.filter(this._onDidChangeValue.event,r=>r.scope===e&&(t===void 0||r.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:r}=t;if(i===vT){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:r})}get(e,t,i){var r;return(r=this.getStorage(t))==null?void 0:r.get(e,i)}getBoolean(e,t,i){var r;return(r=this.getStorage(t))==null?void 0:r.getBoolean(e,i)}getNumber(e,t,i){var r;return(r=this.getStorage(t))==null?void 0:r.getNumber(e,i)}store(e,t,i,r,s=!1){if(Xa(t)){this.remove(e,i,s);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,r),(o=this.getStorage(i))==null||o.set(e,t,s)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(e,t,void 0),(r=this.getStorage(t))==null||r.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,r=!1){var o,a;const s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(o=this.getStorage(t))==null||o.set(vT,JSON.stringify(s),r)):typeof s[e]=="number"&&(delete s[e],(a=this.getStorage(t))==null||a.set(vT,JSON.stringify(s),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?ubt(t):Object.create(null)}};LR.DEFAULT_FLUSH_INTERVAL=60*1e3;let $z=LR;class dbt extends $z{constructor(){super(),this.applicationStorage=this._register(new US(new c6,{hint:bC.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new US(new c6,{hint:bC.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new US(new c6,{hint:bC.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function hbt(n,e){const t={...e};for(const i in n){const r=n[i];t[i]=r!==void 0?mt(r):void 0}return t}const fbt={keybindingLabelBackground:mt(nft),keybindingLabelForeground:mt(ift),keybindingLabelBorder:mt(rft),keybindingLabelBottomBorder:mt(sft),keybindingLabelShadow:mt(RL)},gbt={buttonForeground:mt(i_e),buttonSeparator:mt(Wht),buttonBackground:mt(cS),buttonHoverBackground:mt($ht),buttonSecondaryForeground:mt(Uht),buttonSecondaryBackground:mt(gz),buttonSecondaryHoverBackground:mt(qht),buttonBorder:mt(jht)},pbt={progressBarBackground:mt(sht)},q_e={inputActiveOptionBorder:mt(e_e),inputActiveOptionForeground:mt(n_e),inputActiveOptionBackground:mt(t_e)};mt(uS),mt(Ght),mt(Kht),mt(Qht),mt(Yht),mt(Xht),mt(Zht);mt(Jht),mt(tft),mt(eft);mt(xc),mt(KA),mt(RL),mt(Gn),mt(yht),mt(Cht),mt(_ht),mt(iht);const G_e={inputBackground:mt(Dht),inputForeground:mt(Tht),inputBorder:mt(Iht),inputValidationInfoBorder:mt(Aht),inputValidationInfoBackground:mt(Rht),inputValidationInfoForeground:mt(Nht),inputValidationWarningBorder:mt(Fht),inputValidationWarningBackground:mt(Pht),inputValidationWarningForeground:mt(Oht),inputValidationErrorBorder:mt(Vht),inputValidationErrorBackground:mt(Bht),inputValidationErrorForeground:mt(Hht)},mbt={listFilterWidgetBackground:mt(bft),listFilterWidgetOutline:mt(vft),listFilterWidgetNoMatchesOutline:mt(yft),listFilterWidgetShadow:mt(Cft),inputBoxStyles:G_e,toggleStyles:q_e},bbt={badgeBackground:mt(gT),badgeForeground:mt(rht),badgeBorder:mt(Gn)};mt(bht),mt(mht),mt(rue),mt(rue),mt(vht);const r_={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:mt(oft),listFocusForeground:mt(aft),listFocusOutline:mt(lft),listActiveSelectionBackground:mt(vv),listActiveSelectionForeground:mt(ak),listActiveSelectionIconForeground:mt(r_e),listFocusAndSelectionOutline:mt(cft),listFocusAndSelectionBackground:mt(vv),listFocusAndSelectionForeground:mt(ak),listInactiveSelectionBackground:mt(uft),listInactiveSelectionIconForeground:mt(hft),listInactiveSelectionForeground:mt(dft),listInactiveFocusBackground:mt(fft),listInactiveFocusOutline:mt(gft),listHoverBackground:mt(s_e),listHoverForeground:mt(o_e),listDropOverBackground:mt(pft),listDropBetweenBackground:mt(mft),listSelectionOutline:mt(Dr),listHoverOutline:mt(Dr),treeIndentGuidesStroke:mt(a_e),treeInactiveIndentGuidesStroke:mt(_ft),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:mt(zq),tableColumnsBorder:mt(wft),tableOddRowsBackgroundColor:mt(Sft)};function HL(n){return hbt(n,r_)}const vbt={selectBackground:mt(QA),selectListBackground:mt(zht),selectForeground:mt(jq),decoratorRightForeground:mt(l_e),selectBorder:mt(Uq),focusBorder:mt($d),listFocusBackground:mt(mz),listInactiveSelectionIconForeground:mt(c_e),listFocusForeground:mt(pz),listFocusOutline:Xdt(Dr,tt.transparent.toString()),listHoverBackground:mt(s_e),listHoverForeground:mt(o_e),listHoverOutline:mt(Dr),selectListBorder:mt(K0e),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},ybt={shadowColor:mt(RL),borderColor:mt(xft),foregroundColor:mt(kft),backgroundColor:mt(Lft),selectionForegroundColor:mt(Eft),selectionBackgroundColor:mt(Dft),selectionBorderColor:mt(Tft),separatorColor:mt(Ift),scrollbarShadow:mt(zq),scrollbarSliderBackground:mt(U0e),scrollbarSliderHoverBackground:mt(q0e),scrollbarSliderActiveBackground:mt(G0e)};var cP=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},aa=function(n,e){return function(t,i){e(t,i,n)}};function Cbt(n,e,t,i){let r,s,o;if(Array.isArray(n))o=n,r=e,s=t;else{const c=e;o=n.getActions(c),r=t,s=i}const a=rp.getInstance(),l=a.keyStatus.altKey||(Ba||ga)&&a.keyStatus.shiftKey;K_e(o,r,l,s?c=>c===s:c=>c==="navigation")}function _bt(n,e,t,i,r,s){let o,a,l,c,u;if(Array.isArray(n))u=n,o=e,a=t,l=i,c=r;else{const h=e;u=n.getActions(h),o=t,a=i,l=r,c=s}K_e(u,o,!1,typeof a=="string"?h=>h===a:a,l,c)}function K_e(n,e,t,i=o=>o==="navigation",r=()=>!1,s=!1){let o,a;Array.isArray(e)?(o=e,a=e):(o=e.primary,a=e.secondary);const l=new Set;for(const[c,u]of n){let d;i(c)?(d=o,d.length>0&&s&&d.push(new Do)):(d=a,d.length>0&&d.push(new Do));for(let h of u){t&&(h=h instanceof Sf&&h.alt?h.alt:h);const f=d.push(h);h instanceof NA&&l.add({group:c,action:h,index:f-1})}}for(const{group:c,action:u,index:d}of l){const h=i(c)?o:a,f=u.actions;r(u,c,h.length)&&h.splice(d,1,...f)}}let gk=class extends gG{constructor(e,t,i,r,s,o,a,l){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._options=t,this._keybindingService=i,this._notificationService=r,this._contextKeyService=s,this._themeService=o,this._contextMenuService=a,this._accessibilityService=l,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Nf),this._altKey=rp.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var s;const r=!!((s=this._menuItemAction.alt)!=null&&s.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(ze(e,"mouseleave",r=>{t=!1,i()})),this._register(ze(e,"mouseenter",r=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var s;const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let r=t?P("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&((s=this._menuItemAction.alt)!=null&&s.enabled)){const o=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?P("titleAndKb","{0} ({1})",o,l):o;r=P("titleAndKbAndAlt",`{0}
[{1}] {2}`,r,sG.modifierLabels[Sc].altKey,c)}return r}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const r=this._commandAction.checked&&cbt(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(r)if(Hn.isThemeIcon(r)){const s=Hn.asClassNameArray(r);i.classList.add(...s),this._itemClassDispose.value=cn(()=>{i.classList.remove(...s)})}else i.style.backgroundImage=qA(this._themeService.getColorTheme().type)?Of(r.dark):Of(r.light),i.classList.add("icon"),this._itemClassDispose.value=Ad(cn(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};gk=cP([aa(2,Ks),aa(3,Hu),aa(4,ii),aa(5,Zc),aa(6,Yf),aa(7,Vu)],gk);let jz=class extends uM{constructor(e,t,i,r,s){const o={...t,menuAsChild:(t==null?void 0:t.menuAsChild)??!1,classNames:(t==null?void 0:t.classNames)??(Hn.isThemeIcon(e.item.icon)?Hn.asClassName(e.item.icon):void 0),keybindingProvider:(t==null?void 0:t.keybindingProvider)??(a=>i.lookupKeybinding(a.id))};super(e,{getActions:()=>e.actions},r,o),this._keybindingService=i,this._contextMenuService=r,this._themeService=s}render(e){super.render(e),bp(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!Hn.isThemeIcon(i)){this.element.classList.add("icon");const r=()=>{this.element&&(this.element.style.backgroundImage=qA(this._themeService.getColorTheme().type)?Of(i.dark):Of(i.light))};r(),this._register(this._themeService.onDidColorThemeChange(()=>{r()}))}}};jz=cP([aa(2,Ks),aa(3,Yf),aa(4,Zc)],jz);let Uz=class extends vu{constructor(e,t,i,r,s,o,a,l){super(null,e),this._keybindingService=i,this._notificationService=r,this._contextMenuService=s,this._menuService=o,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let c;const u=t!=null&&t.persistLastActionId?l.get(this._storageKey,1):void 0;u&&(c=e.actions.find(h=>u===h.id)),c||(c=e.actions[0]),this._defaultAction=this._instaService.createInstance(gk,c,{keybinding:this._getDefaultActionKeybindingLabel(c)});const d={keybindingProvider:h=>this._keybindingService.lookupKeybinding(h.id),...t,menuAsChild:(t==null?void 0:t.menuAsChild)??!0,classNames:(t==null?void 0:t.classNames)??["codicon","codicon-chevron-down"],actionRunner:(t==null?void 0:t.actionRunner)??new gv};this._dropdown=new uM(e,e.actions,this._contextMenuService,d),this._register(this._dropdown.actionRunner.onDidRun(h=>{h.action instanceof Sf&&this.update(h.action)}))}update(e){var t;(t=this._options)!=null&&t.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(gk,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends gv{async runAction(i,r){await i.run(void 0)}},this._container&&this._defaultAction.render(xq(this._container,jt(".action-container")))}_getDefaultActionKeybindingLabel(e){var i;let t;if((i=this._options)!=null&&i.renderKeybindingWithDefaultActionLabel){const r=this._keybindingService.lookupKeybinding(e.id);r&&(t=`(${r.getLabel()})`)}return t}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=jt(".action-container");this._defaultAction.render(Tt(this._container,t)),this._register(ze(t,pt.KEY_DOWN,r=>{const s=new Bi(r);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const i=jt(".dropdown-action-container");this._dropdown.render(Tt(this._container,i)),this._register(ze(i,pt.KEY_DOWN,r=>{var o;const s=new Bi(r);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)==null||o.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Uz=cP([aa(2,Ks),aa(3,Hu),aa(4,Yf),aa(5,Gv),aa(6,ui),aa(7,lP)],Uz);let qz=class extends obt{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===Do.ID?"":i.label,isDisabled:!i.enabled})),0,t,vbt,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=mt(Uq)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};qz=cP([aa(1,AL)],qz);function wbt(n,e,t){return e instanceof Sf?n.createInstance(gk,e,t):e instanceof HS?e.item.isSelection?n.createInstance(qz,e):e.item.rememberDefaultAction?n.createInstance(Uz,e,{...t,persistLastActionId:!0}):n.createInstance(jz,e,t):void 0}class kf extends je{constructor(e,t={}){var s,o;super(),this._actionRunnerDisposables=this._register(new It),this.viewItemDisposables=this._register(new nq),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new ke),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ke({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new ke),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new ke),this.onWillRun=this._onWillRun.event,this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:((s=this.options.triggerKeys)==null?void 0:s.keyDown)??!1,keys:((o=this.options.triggerKeys)==null?void 0:o.keys)??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(fG()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new gv,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(a=>this._onDidRun.fire(a))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(a=>this._onWillRun.fire(a))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,r;switch(this._orientation){case 0:i=[15],r=[17];break;case 1:i=[16],r=[18],this.domNode.className+=" vertical";break}this._register(ze(this.domNode,pt.KEY_DOWN,a=>{const l=new Bi(a);let c=!0;const u=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(l.equals(i[0])||l.equals(i[1]))?c=this.focusPrevious():r&&(l.equals(r[0])||l.equals(r[1]))?c=this.focusNext():l.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():l.equals(14)?c=this.focusFirst():l.equals(13)?c=this.focusLast():l.equals(2)&&u instanceof vu&&u.trapsArrowNavigation?c=this.focusNext(void 0,!0):this.isTriggerKeyEvent(l)?this._triggerKeys.keyDown?this.doTrigger(l):this.triggerKeyDown=!0:c=!1,c&&(l.preventDefault(),l.stopPropagation())})),this._register(ze(this.domNode,pt.KEY_UP,a=>{const l=new Bi(a);this.isTriggerKeyEvent(l)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(l)),l.preventDefault(),l.stopPropagation()):(l.equals(2)||l.equals(1026)||l.equals(16)||l.equals(18)||l.equals(15)||l.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(ek(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Eo()===this.domNode||!gs(Eo(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof vu&&i.isEnabled());t instanceof vu&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof vu&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){var e,t;for(let i=0;i<this.actionsList.children.length;i++){const r=this.actionsList.children[i];if(gs(Eo(),r)){this.focusedItem=i,(t=(e=this.viewItems[this.focusedItem])==null?void 0:e.showHover)==null||t.call(e);break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){var t;if(typeof e=="number")return(t=this.viewItems[e])==null?void 0:t.action;if(Ls(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let r=Q0(t.index)?t.index:null;i.forEach(s=>{const o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation");let a;const l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(s,l)),a||(a=new gG(this.context,s,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,ze(o,pt.CONTEXT_MENU,c=>{In.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(o),this.focusable&&a instanceof vu&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(o),this.viewItems.push(a)):(this.actionsList.insertBefore(o,this.actionsList.children[r]),this.viewItems.splice(r,0,a),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=Us(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),Iu(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const r=this.viewItems.findIndex(s=>s.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let r;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,r=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!r.isEnabled()||r.action.id===Do.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Do.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var s,o;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((s=this.viewItems[this.previouslyFocusedItem])==null||s.blur());const r=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(r){let a=!0;_I(r.focus)||(a=!1),this.options.focusOnlyEnabledItems&&_I(r.isEnabled)&&!r.isEnabled()&&(a=!1),r.action.id===Do.ID&&(a=!1),a?(i||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),a&&((o=r.showHover)==null||o.call(r))}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof vu){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=Us(this.viewItems),this.getContainer().remove(),super.dispose()}}const Gz=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,u6=/(&amp;)?(&amp;)([^\s&])/g;var dM;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(dM||(dM={}));var Kz;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(Kz||(Kz={}));class vC extends kf{constructor(e,t,i,r){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const s=document.createElement("div");s.classList.add("monaco-menu"),s.setAttribute("role","presentation"),super(s,{orientation:1,actionViewItemProvider:c=>this.doGetActionViewItem(c,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...An||ga?[10]:[]],keyDown:!0}}),this.menuStyles=r,this.menuElement=s,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,r),this._register(Uo.addTarget(s)),this._register(ze(s,pt.KEY_DOWN,c=>{new Bi(c).equals(2)&&c.preventDefault()})),i.enableMnemonics&&this._register(ze(s,pt.KEY_DOWN,c=>{const u=c.key.toLocaleLowerCase();if(this.mnemonics.has(u)){In.stop(c,!0);const d=this.mnemonics.get(u);if(d.length===1&&(d[0]instanceof Zue&&d[0].container&&this.focusItemByElement(d[0].container),d[0].onClick(c)),d.length>1){const h=d.shift();h&&h.container&&(this.focusItemByElement(h.container),d.push(h)),this.mnemonics.set(u,d)}}})),ga&&this._register(ze(s,pt.KEY_DOWN,c=>{const u=new Bi(c);u.equals(14)||u.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),In.stop(c,!0)):(u.equals(13)||u.equals(12))&&(this.focusedItem=0,this.focusPrevious(),In.stop(c,!0))})),this._register(ze(this.domNode,pt.MOUSE_OUT,c=>{const u=c.relatedTarget;gs(u,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),c.stopPropagation())})),this._register(ze(this.actionsList,pt.MOUSE_OVER,c=>{let u=c.target;if(!(!u||!gs(u,this.actionsList)||u===this.actionsList)){for(;u.parentElement!==this.actionsList&&u.parentElement!==null;)u=u.parentElement;if(u.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(u),d!==this.focusedItem&&this.updateFocus()}}})),this._register(Uo.addTarget(this.actionsList)),this._register(ze(this.actionsList,Di.Tap,c=>{let u=c.initialTarget;if(!(!u||!gs(u,this.actionsList)||u===this.actionsList)){for(;u.parentElement!==this.actionsList&&u.parentElement!==null;)u=u.parentElement;if(u.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(u),d!==this.focusedItem&&this.updateFocus()}}}));const o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Gq(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,r),this._register(ze(s,Di.Change,c=>{In.stop(c,!0);const u=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:u-c.translationY})})),this._register(ze(a,pt.MOUSE_UP,c=>{c.preventDefault()}));const l=Ft(e);s.style.maxHeight=`${Math.max(10,l.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((c,u)=>{var d;return(d=i.submenuIds)!=null&&d.has(c.id)?(console.warn(`Found submenu cycle: ${c.id}`),!1):!(c instanceof Do&&(u===t.length-1||u===0||t[u-1]instanceof Do))}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(c=>!(c instanceof Jue)).forEach((c,u,d)=>{c.updatePositionInSet(u+1,d.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(NI(e)?this.styleSheet=ql(e):(vC.globalStyleSheet||(vC.globalStyleSheet=ql()),this.styleSheet=vC.globalStyleSheet)),this.styleSheet.textContent=xbt(t,NI(e))}styleScrollElement(e,t){const i=t.foregroundColor??"",r=t.backgroundColor??"",s=t.borderColor?`1px solid ${t.borderColor}`:"",o="5px",a=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=s,e.style.borderRadius=o,e.style.color=i,e.style.backgroundColor=r,e.style.boxShadow=a}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Do)return new Jue(t.context,e,{icon:!0},this.menuStyles);if(e instanceof NA){const r=new Zue(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const s=r.getMnemonic();if(s&&r.isEnabled()){let o=[];this.mnemonics.has(s)&&(o=this.mnemonics.get(s)),o.push(r),this.mnemonics.set(s,o)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const o=t.getKeyBinding(e);if(o){const a=o.getLabel();a&&(r.keybinding=a)}}const s=new Q_e(t.context,e,r,this.menuStyles);if(t.enableMnemonics){const o=s.getMnemonic();if(o&&s.isEnabled()){let a=[];this.mnemonics.has(o)&&(a=this.mnemonics.get(o)),a.push(s),this.mnemonics.set(o,a)}}return s}}}class Q_e extends vu{constructor(e,t,i,r){if(i.isMenu=!0,super(t,t,i),this.menuStyle=r,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const s=this.action.label;if(s){const o=Gz.exec(s);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Lo(()=>{this.element&&(this._register(ze(this.element,pt.MOUSE_UP,s=>{if(In.stop(s,!0),Oc){if(new Cu(Ft(this.element),s).rightButton)return;this.onClick(s)}else setTimeout(()=>{this.onClick(s)},0)})),this._register(ze(this.element,pt.CONTEXT_MENU,s=>{In.stop(s,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Tt(this.element,jt("a.action-menu-item")),this._action.id===Do.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Tt(this.item,jt("span.menu-item-check"+Hn.asCSSSelector(Lt.menuSelection))),this.check.setAttribute("role","none"),this.label=Tt(this.item,jt("span.action-label")),this.options.label&&this.options.keybinding&&(Tt(this.item,jt("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),(e=this.item)==null||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){Iu(this.label);let t=__e(this.action.label);if(t){const i=Sbt(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const r=Gz.exec(t);if(r){t=AS(t),u6.lastIndex=0;let s=u6.exec(t);for(;s&&s[1];)s=u6.exec(t);const o=a=>a.replace(/&amp;&amp;/g,"&amp;");s?this.label.append(DA(o(t.substr(0,s.index))," "),jt("u",{"aria-hidden":"true"},s[3]),Jot(o(t.substr(s.index+s[0].length))," ")):this.label.innerText=o(t).trim(),(e=this.item)==null||e.setAttribute("aria-keyshortcuts",(r[1]?r[1]:r[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",s=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t??"",this.item.style.backgroundColor=i??"",this.item.style.outline=r,this.item.style.outlineOffset=s),this.check&&(this.check.style.color=t??"")}}class Zue extends Q_e{constructor(e,t,i,r,s){super(e,e,r,s),this.submenuActions=t,this.parentData=i,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new It),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:{horizontal:dM.Right,vertical:Kz.Below},this.showScheduler=new Lo(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Lo(()=>{this.element&&!gs(Eo(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Tt(this.item,jt("span.submenu-indicator"+Hn.asCSSSelector(Lt.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(ze(this.element,pt.KEY_UP,t=>{const i=new Bi(t);(i.equals(17)||i.equals(3))&&(In.stop(t,!0),this.createSubmenu(!0))})),this._register(ze(this.element,pt.KEY_DOWN,t=>{const i=new Bi(t);Eo()===this.item&&(i.equals(17)||i.equals(3))&&In.stop(t,!0)})),this._register(ze(this.element,pt.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(ze(this.element,pt.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(ze(this.element,pt.FOCUS_OUT,t=>{this.element&&!gs(Eo(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){In.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,r){const s={top:0,left:0};return s.left=Dy(e.width,t.width,{position:r.horizontal===dM.Right?0:1,offset:i.left,size:i.width}),s.left>=i.left&&s.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(s.left=i.left+10),i.top+=10,i.height=0),s.top=Dy(e.height,t.height,{position:0,offset:i.top,size:0}),s.top+t.height===i.top&&s.top+i.height+t.height<=e.height&&(s.top+=i.height),s}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Tt(this.element,jt("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=Ft(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new vC(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new NV],this.submenuOptions,this.menuStyle);const r=this.element.getBoundingClientRect(),s={top:r.top-i,left:r.left,height:r.height+2*i,width:r.width},o=this.submenuContainer.getBoundingClientRect(),a=Ft(this.element),{top:l,left:c}=this.calculateSubmenuMenuLayout(new tf(a.innerWidth,a.innerHeight),tf.lift(o),s,this.expandDirection);this.submenuContainer.style.left=`${c-o.left}px`,this.submenuContainer.style.top=`${l-o.top}px`,this.submenuDisposables.add(ze(this.submenuContainer,pt.KEY_UP,u=>{new Bi(u).equals(15)&&(In.stop(u,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(ze(this.submenuContainer,pt.KEY_DOWN,u=>{new Bi(u).equals(15)&&In.stop(u,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)==null||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Jue extends gG{constructor(e,t,i,r){super(e,t,i),this.menuStyles=r}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Sbt(n){const e=Gz,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function ede(n){const e=uCe()[n.id];return`.codicon-${n.id}:before { content: '\\${e.toString(16)}'; }`}function xbt(n,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${ede(Lt.menuSelection)}
${ede(Lt.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=n.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const r=n.scrollbarSliderBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${r};
				}
			`);const s=n.scrollbarSliderHoverBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${s};
				}
			`);const o=n.scrollbarSliderActiveBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${o};
				}
			`)}return t}class kbt{constructor(e,t,i,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=r,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=Eo();let i;const r=Ls(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{var u;this.lastContainer=s;const o=e.getMenuClassName?e.getMenuClassName():"";o&&(s.className+=" "+o),this.options.blockMouse&&(this.block=s.appendChild(jt(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(u=this.blockDisposable)==null||u.dispose(),this.blockDisposable=ze(this.block,pt.MOUSE_DOWN,d=>d.stopPropagation()));const a=new It,l=e.actionRunner||new gv;l.onWillRun(d=>this.onActionRun(d,!e.skipTelemetry),this,a),l.onDidRun(this.onDidActionRun,this,a),i=new vC(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:d=>this.keybindingService.lookupKeybinding(d.id)},ybt),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a);const c=Ft(s);return a.add(ze(c,pt.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(ze(c,pt.MOUSE_DOWN,d=>{if(d.defaultPrevented)return;const h=new Cu(c,d);let f=h.target;if(!h.rightButton){for(;f;){if(f===s)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}})),Ad(a,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:s=>{var o,a,l;(o=e.onHide)==null||o.call(e,!!s),this.block&&(this.block.remove(),this.block=null),(a=this.blockDisposable)==null||a.dispose(),this.blockDisposable=null,this.lastContainer&&(Eo()===this.lastContainer||gs(Eo(),this.lastContainer))&&((l=this.focusToReturn)==null||l.focus()),this.lastContainer=null}},r,!!r)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!yL(e.error)&&this.notificationService.error(e.error)}}var Lbt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},iy=function(n,e){return function(t,i){e(t,i,n)}};let Qz=class extends je{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new kbt(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,r,s,o){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=r,this.menuService=s,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new ke),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new ke)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=Yz.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{var i;(i=e.onHide)==null||i.call(e,t),this._onDidHideContextMenu.fire()}}),rp.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Qz=Lbt([iy(0,Kv),iy(1,Hu),iy(2,AL),iy(3,Ks),iy(4,Gv),iy(5,ii)],Qz);var Yz;(function(n){function e(i){return i&&i.menuId instanceof Ws}function t(i,r,s){if(!e(i))return i;const{menuId:o,menuActionOptions:a,contextKeyService:l}=i;return{...i,getActions:()=>{const c=[];if(o){const u=r.getMenuActions(o,l??s,a);Cbt(u,c)}return i.getActions?Do.join(i.getActions(),c):c}}}n.transform=t})(Yz||(Yz={}));var hM;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(hM||(hM={}));var pG=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},fM=function(n,e){return function(t,i){e(t,i,n)}};let Xz=class{constructor(e){this._commandService=e}async open(e,t){if(!mq(e,Cn.command))return!1;if(!(t!=null&&t.allowCommands)||(typeof e=="string"&&(e=Sn.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path)))return!0;let i=[];try{i=wz(decodeURIComponent(e.query))}catch{try{i=wz(e.query)}catch{}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};Xz=pG([fM(0,ml)],Xz);let Zz=class{constructor(e){this._editorService=e}async open(e,t){typeof e=="string"&&(e=Sn.parse(e));const{selection:i,uri:r}=Jft(e);return e=r,e.scheme===Cn.file&&(e=Mgt(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:t!=null&&t.fromUserGesture?hM.USER:hM.API,...t==null?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0}};Zz=pG([fM(0,ts)],Zz);let Jz=class{constructor(e,t){this._openers=new Aa,this._validators=new Aa,this._resolvers=new Aa,this._resolvedUriTargets=new al(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Aa,this._defaultExternalOpener={openExternal:async i=>(Hle(i,Cn.http,Cn.https)?UCe(i):yi.location.href=i,!0)},this._openers.push({open:async(i,r)=>r!=null&&r.openExternal||Hle(i,Cn.mailto,Cn.http,Cn.https,Cn.vsls)?(await this._doOpenExternal(i,r),!0):!1}),this._openers.push(new Xz(t)),this._openers.push(new Zz(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){const i=typeof e=="string"?Sn.parse(e):e,r=this._resolvedUriTargets.get(i)??e;for(const s of this._validators)if(!await s.shouldOpen(r,t))return!1;for(const s of this._openers)if(await s.open(e,t))return!0;return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const r=await i.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i=typeof e=="string"?Sn.parse(e):e;let r;try{r=(await this.resolveExternalUri(i,t)).resolved}catch{r=i}let s;if(typeof e=="string"&&i.toString()===r.toString()?s=e:s=encodeURI(r.toString(!0)),t!=null&&t.allowContributedOpeners){const o=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(await a.openExternal(s,{sourceUri:i,preferredOpenerId:o},Pc.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:i},Pc.None)}dispose(){this._validators.clear()}};Jz=pG([fM(0,ts),fM(1,ml)],Jz);const VL=Nn("editorWorkerService");var Nl;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(Nl||(Nl={}));(function(n){function e(o,a){return a-o}n.compare=e;const t=Object.create(null);t[n.Error]=P("sev.error","Error"),t[n.Warning]=P("sev.warning","Warning"),t[n.Info]=P("sev.info","Info");function i(o){return t[o]||""}n.toString=i;function r(o){switch(o){case Vr.Error:return n.Error;case Vr.Warning:return n.Warning;case Vr.Info:return n.Info;case Vr.Ignore:return n.Hint}}n.fromSeverity=r;function s(o){switch(o){case n.Error:return Vr.Error;case n.Warning:return Vr.Warning;case n.Info:return Vr.Info;case n.Hint:return Vr.Ignore}}n.toSeverity=s})(Nl||(Nl={}));var tde;(function(n){const e="";function t(r){return i(r,!0)}n.makeKey=t;function i(r,s){const o=[e];return r.source?o.push(r.source.replace("","\\")):o.push(e),r.code?typeof r.code=="string"?o.push(r.code.replace("","\\")):o.push(r.code.value.replace("","\\")):o.push(e),r.severity!==void 0&&r.severity!==null?o.push(Nl.toString(r.severity)):o.push(e),r.message&&s?o.push(r.message.replace("","\\")):o.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?o.push(r.startLineNumber.toString()):o.push(e),r.startColumn!==void 0&&r.startColumn!==null?o.push(r.startColumn.toString()):o.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?o.push(r.endLineNumber.toString()):o.push(e),r.endColumn!==void 0&&r.endColumn!==null?o.push(r.endColumn.toString()):o.push(e),o.push(e),o.join("")}n.makeKeyOptionalMessage=i})(tde||(tde={}));const Zv=Nn("markerService"),Y_e=ge("editor.lineHighlightBackground",null,P("lineHighlight","Background color for the highlight of line at the cursor position.")),nde=ge("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Gn},P("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));ge("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},P("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Dr,hcLight:Dr},P("rangeHighlightBorder","Background color of the border around highlighted ranges."));ge("editor.symbolHighlightBackground",{dark:sp,light:sp,hcDark:null,hcLight:null},P("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);ge("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Dr,hcLight:Dr},P("symbolHighlightBorder","Background color of the border around highlighted symbols."));const uP=ge("editorCursor.foreground",{dark:"#AEAFAD",light:tt.black,hcDark:tt.white,hcLight:"#0F4A85"},P("caret","Color of the editor cursor.")),mG=ge("editorCursor.background",null,P("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),X_e=ge("editorMultiCursor.primary.foreground",uP,P("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),Ebt=ge("editorMultiCursor.primary.background",mG,P("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),Z_e=ge("editorMultiCursor.secondary.foreground",uP,P("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),Dbt=ge("editorMultiCursor.secondary.background",mG,P("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),bG=ge("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},P("editorWhitespaces","Color of whitespace characters in the editor.")),Tbt=ge("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:tt.white,hcLight:"#292929"},P("editorLineNumbers","Color of editor line numbers.")),Ibt=ge("editorIndentGuide.background",bG,P("editorIndentGuides","Color of the editor indentation guides."),!1,P("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),Mbt=ge("editorIndentGuide.activeBackground",bG,P("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,P("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),zL=ge("editorIndentGuide.background1",Ibt,P("editorIndentGuides1","Color of the editor indentation guides (1).")),Rbt=ge("editorIndentGuide.background2","#00000000",P("editorIndentGuides2","Color of the editor indentation guides (2).")),Nbt=ge("editorIndentGuide.background3","#00000000",P("editorIndentGuides3","Color of the editor indentation guides (3).")),Abt=ge("editorIndentGuide.background4","#00000000",P("editorIndentGuides4","Color of the editor indentation guides (4).")),Pbt=ge("editorIndentGuide.background5","#00000000",P("editorIndentGuides5","Color of the editor indentation guides (5).")),Obt=ge("editorIndentGuide.background6","#00000000",P("editorIndentGuides6","Color of the editor indentation guides (6).")),WL=ge("editorIndentGuide.activeBackground1",Mbt,P("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),Fbt=ge("editorIndentGuide.activeBackground2","#00000000",P("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),Bbt=ge("editorIndentGuide.activeBackground3","#00000000",P("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),Hbt=ge("editorIndentGuide.activeBackground4","#00000000",P("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),Vbt=ge("editorIndentGuide.activeBackground5","#00000000",P("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),zbt=ge("editorIndentGuide.activeBackground6","#00000000",P("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),Wbt=ge("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Dr,hcLight:Dr},P("editorActiveLineNumber","Color of editor active line number"),!1,P("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));ge("editorLineNumber.activeForeground",Wbt,P("editorActiveLineNumber","Color of editor active line number"));const $bt=ge("editorLineNumber.dimmedForeground",null,P("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));ge("editorRuler.foreground",{dark:"#5A5A5A",light:tt.lightgrey,hcDark:tt.white,hcLight:"#292929"},P("editorRuler","Color of the editor rulers."));ge("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},P("editorCodeLensForeground","Foreground color of editor CodeLens"));ge("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},P("editorBracketMatchBackground","Background color behind matching brackets"));ge("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Gn,hcLight:Gn},P("editorBracketMatchBorder","Color for matching brackets boxes"));const jbt=ge("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},P("editorOverviewRulerBorder","Color of the overview ruler border.")),Ubt=ge("editorOverviewRuler.background",null,P("editorOverviewRulerBackground","Background color of the editor overview ruler."));ge("editorGutter.background",Mu,P("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));ge("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:tt.fromHex("#fff").transparent(.8),hcLight:Gn},P("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const qbt=ge("editorUnnecessaryCode.opacity",{dark:tt.fromHex("#000a"),light:tt.fromHex("#0007"),hcDark:null,hcLight:null},P("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));ge("editorGhostText.border",{dark:null,light:null,hcDark:tt.fromHex("#fff").transparent(.8),hcLight:tt.fromHex("#292929").transparent(.8)},P("editorGhostTextBorder","Border color of ghost text in the editor."));ge("editorGhostText.foreground",{dark:tt.fromHex("#ffffff56"),light:tt.fromHex("#0007"),hcDark:null,hcLight:null},P("editorGhostTextForeground","Foreground color of the ghost text in the editor."));ge("editorGhostText.background",null,P("editorGhostTextBackground","Background color of the ghost text in the editor."));const Gbt=new tt(new Vn(0,122,204,.6));ge("editorOverviewRuler.rangeHighlightForeground",Gbt,P("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const Kbt=ge("editorOverviewRuler.errorForeground",{dark:new tt(new Vn(255,18,18,.7)),light:new tt(new Vn(255,18,18,.7)),hcDark:new tt(new Vn(255,50,50,1)),hcLight:"#B5200D"},P("overviewRuleError","Overview ruler marker color for errors.")),Qbt=ge("editorOverviewRuler.warningForeground",{dark:Fp,light:Fp,hcDark:QI,hcLight:QI},P("overviewRuleWarning","Overview ruler marker color for warnings.")),Ybt=ge("editorOverviewRuler.infoForeground",{dark:bv,light:bv,hcDark:YI,hcLight:YI},P("overviewRuleInfo","Overview ruler marker color for infos.")),J_e=ge("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},P("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ewe=ge("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},P("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),twe=ge("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},P("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),nwe=ge("editorBracketHighlight.foreground4","#00000000",P("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),iwe=ge("editorBracketHighlight.foreground5","#00000000",P("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),rwe=ge("editorBracketHighlight.foreground6","#00000000",P("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Xbt=ge("editorBracketHighlight.unexpectedBracket.foreground",{dark:new tt(new Vn(255,18,18,.8)),light:new tt(new Vn(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},P("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Zbt=ge("editorBracketPairGuide.background1","#00000000",P("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Jbt=ge("editorBracketPairGuide.background2","#00000000",P("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),evt=ge("editorBracketPairGuide.background3","#00000000",P("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),tvt=ge("editorBracketPairGuide.background4","#00000000",P("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),nvt=ge("editorBracketPairGuide.background5","#00000000",P("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),ivt=ge("editorBracketPairGuide.background6","#00000000",P("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),rvt=ge("editorBracketPairGuide.activeBackground1","#00000000",P("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),svt=ge("editorBracketPairGuide.activeBackground2","#00000000",P("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ovt=ge("editorBracketPairGuide.activeBackground3","#00000000",P("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),avt=ge("editorBracketPairGuide.activeBackground4","#00000000",P("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),lvt=ge("editorBracketPairGuide.activeBackground5","#00000000",P("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),cvt=ge("editorBracketPairGuide.activeBackground6","#00000000",P("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));ge("editorUnicodeHighlight.border",Fp,P("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));ge("editorUnicodeHighlight.background",oht,P("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));Qf((n,e)=>{const t=n.getColor(Mu),i=n.getColor(Y_e),r=i&&!i.isTransparent()?i:t;r&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`)});function uvt(n,e){const t=[],i=[];for(const r of n)e.has(r)||t.push(r);for(const r of e)n.has(r)||i.push(r);return{removed:t,added:i}}function dvt(n,e){const t=new Set;for(const i of e)n.has(i)&&t.add(i);return t}var hvt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ide=function(n,e){return function(t,i){e(t,i,n)}};let eW=class extends je{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ke),this._markerDecorations=new al,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new fvt(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var i;const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Cn.inMemory||e.uri.scheme===Cn.internal||e.uri.scheme===Cn.vscode)&&((i=this._markerService)==null||i.read({resource:e.uri}).map(r=>r.owner).forEach(r=>this._markerService.remove(r,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};eW=hvt([ide(0,Qo),ide(1,Zv)],eW);class fvt extends je{constructor(e){super(),this.model=e,this._map=new lut,this._register(cn(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(e){const{added:t,removed:i}=uvt(new Set(this._map.keys()),new Set(e));if(t.length===0&&i.length===0)return!1;const r=i.map(a=>this._map.get(a)),s=t.map(a=>({range:this._createDecorationRange(this.model,a),options:this._createDecorationOption(a)})),o=this.model.deltaDecorations(r,s);for(const a of i)this._map.delete(a);for(let a=0;a<o.length;a++)this._map.set(t[a],o[a]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=_e.lift(t);if(t.severity===Nl.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const r=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(r===1||i.endColumn>=r)return i;const s=e.getWordAtPosition(i.getStartPosition());s&&(i=new _e(i.startLineNumber,s.startColumn,i.endLineNumber,s.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<i.endColumn&&(i=new _e(i.startLineNumber,r,i.endLineNumber,i.endColumn),t.startColumn=r)}return i}_createDecorationOption(e){let t,i,r,s,o;switch(e.severity){case Nl.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case Nl.Info:t="squiggly-info",i=ny(Ybt),r=10,o={color:ny(Sht),position:1};break;case Nl.Warning:t="squiggly-warning",i=ny(Qbt),r=20,o={color:ny(xht),position:1};break;case Nl.Error:default:t="squiggly-error",i=ny(Kbt),r=30,o={color:ny(kht),position:1};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:VI.Right},minimap:o,zIndex:r,inlineClassName:s}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}}const swe=Nn("markerDecorationsService");class Kr{static _nextVisibleColumn(e,t,i){return e===9?Kr.nextRenderTabStop(t,i):Np(e)||fq(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),s=e.substring(0,r),o=new II(s);let a=0;for(;!o.eol();){const l=TI(s,r,o.offset);o.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,s=new II(e);let o=0,a=1;for(;!s.eol();){const l=TI(e,r,s.offset);s.nextGraphemeLength();const c=this._nextVisibleColumn(l,o,i),u=s.offset+1;if(c>=t){const d=t-o;return c-t<d?u:a}o=c,a=u}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function gvt(n,e,t){let i=0;for(let s=0;s<n.length;s++)n.charAt(s)==="	"?i=Kr.nextIndentTabStop(i,e):i++;let r="";if(!t){const s=Math.floor(i/e);i=i%e;for(let o=0;o<s;o++)r+="	"}for(let s=0;s<i;s++)r+=" ";return r}function owe(n,e,t){let i=Oa(n);return i===-1&&(i=n.length),gvt(n.substring(0,i),e,t)+n.substring(i)}class rde{constructor(e,t,i,r){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=r}}class pvt{constructor(e,t,i,r,s,o){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=s,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class mvt extends pvt{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,o),this.minVisibleColumnIndentation=a}}function bvt(n,e,t,i){return n!==t?xr(t-n,i):xr(0,i-e)}const ha=0;function gM(n){return n===0}const tl=2**26;function xr(n,e){return n*tl+e}function zl(n){const e=n,t=Math.floor(e/tl),i=e-t*tl;return new Op(t,i)}function vvt(n){return Math.floor(n/tl)}function Fr(n,e){let t=n+e;return e>=tl&&(t=t-n%tl),t}function yvt(n,e){return n.reduce((t,i)=>Fr(t,e(i)),ha)}function awe(n,e){return n===e}function pk(n,e){const t=n,i=e;if(i-t<=0)return ha;const s=Math.floor(t/tl),o=Math.floor(i/tl),a=i-o*tl;if(s===o){const l=t-s*tl;return xr(0,a-l)}else return xr(o-s,a)}function yC(n,e){return n<e}function CC(n,e){return n<=e}function gS(n,e){return n>=e}function Ny(n){return xr(n.lineNumber-1,n.column-1)}function Bb(n,e){const t=n,i=Math.floor(t/tl),r=t-i*tl,s=e,o=Math.floor(s/tl),a=s-o*tl;return new _e(i+1,r+1,o+1,a+1)}function Cvt(n){const e=J0(n);return xr(e.length-1,e[e.length-1].length)}class df{static fromModelContentChanges(e){return e.map(i=>{const r=_e.lift(i.range);return new df(Ny(r.getStartPosition()),Ny(r.getEndPosition()),Cvt(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${zl(this.startOffset)}...${zl(this.endOffset)}) -> ${zl(this.newLength)}`}}class _vt{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>vG.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:pk(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?xr(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):xr(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=zl(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?xr(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):xr(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(CC(i,e)){this.nextEditIdx++;const r=zl(i),s=zl(this.translateOldToCur(t.endOffsetBeforeObj)),o=r.lineCount-s.lineCount;this.deltaOldToNewLineCount+=o;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=r.columnCount-s.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class vG{static from(e){return new vG(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=zl(t),this.endOffsetAfterObj=zl(Fr(e,i)),this.offsetObj=zl(e)}}const d2=[],xl=class xl{static create(e,t){if(e<=128&&t.length===0){let i=xl.cache[e];return i||(i=new xl(e,t),xl.cache[e]=i),i}return new xl(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let r=i>>5;if(r===0){const o=1<<i|this.items;return o===this.items?this:xl.create(o,this.additionalItems)}r--;const s=this.additionalItems.slice(0);for(;s.length<r;)s.push(0);return s[r]|=1<<(i&31),xl.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===d2&&e.additionalItems===d2)return t===this.items?this:t===e.items?e:xl.create(t,d2);const i=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const s=this.additionalItems[r]||0,o=e.additionalItems[r]||0;i.push(s|o)}return xl.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}};xl.cache=new Array(129),xl.empty=xl.create(0,d2);let Ma=xl;const sde={getKey(n){return n}};class wvt{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class yG{get length(){return this._length}constructor(e){this._length=e}}class mk extends yG{static create(e,t,i){let r=e.length;return t&&(r=Fr(r,t.length)),i&&(r=Fr(r,i.length)),new mk(r,e,t,i,t?t.missingOpeningBracketIds:Ma.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,r,s){super(e),this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=s}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new mk(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Fr(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class jd extends yG{static create23(e,t,i,r=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=Fr(s,t.length),o=o.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");s=Fr(s,i.length),o=o.merge(i.missingOpeningBracketIds)}return r?new Svt(s,e.listHeight+1,e,t,i,o):new bk(s,e.listHeight+1,e,t,i,o)}static getEmpty(){return new xvt(ha,0,[],Ma.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new ti;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const s=this.getChild(r);t=Fr(t,s.length),i=i.merge(s.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let s=0;s<this.childrenLength;s++){const o=this.getChild(s);o&&(i=Math.min(i,o.computeMinIndentation(r,t)),r=Fr(r,o.length))}return this.cachedMinIndentation=i,i}}class bk extends jd{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,r,s,o){super(e,t,o),this._item1=i,this._item2=r,this._item3=s}deepClone(){return new bk(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Svt extends bk{toMutable(){return new bk(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class pM extends jd{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,r){super(e,t,r),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new pM(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class xvt extends pM{toMutable(){return new pM(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const kvt=[];class CG extends yG{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return kvt}deepClone(){return this}}class rb extends CG{get kind(){return 0}get missingOpeningBracketIds(){return Ma.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=zl(e),r=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,s=vvt(Fr(e,this.length))+1;let o=Number.MAX_SAFE_INTEGER;for(let a=r;a<=s;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const u=Kr.visibleColumnFromColumn(c,l,t.getOptions().tabSize);o=Math.min(o,u)}return o}}class mM extends CG{static create(e,t,i){return new mM(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Ma.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Lvt extends CG{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let Xg=class{constructor(e,t,i,r,s){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=s}};class Evt{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new Dvt(this.textModel,this.bracketTokens),this._offset=ha,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return xr(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Fr(this._offset,e);const t=zl(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Fr(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Dvt{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=s.length,s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const s=this.lineTokens,o=s.getCount();let a=null;if(this.lineTokenOffset<o){const l=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&l===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=bu.getTokenType(l)===0,u=bu.containsBalancedBrackets(l),d=s.getEndOffset(this.lineTokenOffset);if(u&&c&&this.lineCharOffset<d){const h=s.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,d),p=this.bracketTokens.getSingleLanguageBracketTokens(h),m=p.regExpGlobal;if(m){m.lastIndex=0;const v=m.exec(f);v&&(a=p.getToken(v[0]),a&&(this.lineCharOffset+=v.index))}}if(i+=d-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=d}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=bvt(e,t,this.lineIdx,this.lineCharOffset);return new Xg(r,0,-1,Ma.getEmpty(),new rb(r))}}class Tvt{constructor(e,t){this.text=e,this._offset=ha,this.idx=0;const i=t.getRegExpStr(),r=i?new RegExp(i+`|
`,"gi"):null,s=[];let o,a=0,l=0,c=0,u=0;const d=[];for(let p=0;p<60;p++)d.push(new Xg(xr(0,p),0,-1,Ma.getEmpty(),new rb(xr(0,p))));const h=[];for(let p=0;p<60;p++)h.push(new Xg(xr(1,p),0,-1,Ma.getEmpty(),new rb(xr(1,p))));if(r)for(r.lastIndex=0;(o=r.exec(e))!==null;){const p=o.index,m=o[0];if(m===`
`)a++,l=p+1;else{if(c!==p){let v;if(u===a){const C=p-c;if(C<d.length)v=d[C];else{const y=xr(0,C);v=new Xg(y,0,-1,Ma.getEmpty(),new rb(y))}}else{const C=a-u,y=p-l;if(C===1&&y<h.length)v=h[y];else{const w=xr(C,y);v=new Xg(w,0,-1,Ma.getEmpty(),new rb(w))}}s.push(v)}s.push(t.getToken(m)),c=p+m.length,u=a}}const f=e.length;if(c!==f){const p=u===a?xr(0,f-c):xr(a-u,f-l);s.push(new Xg(p,0,-1,Ma.getEmpty(),new rb(p)))}this.length=xr(a,f-l),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new aot}}class _G{static createFromLanguage(e,t){function i(s){return t.getKey(`${s.languageId}:::${s.bracketText}`)}const r=new Map;for(const s of e.bracketsNew.openingBrackets){const o=xr(0,s.bracketText.length),a=i(s),l=Ma.getEmpty().add(a,sde);r.set(s.bracketText,new Xg(o,1,a,l,mM.create(o,s,l)))}for(const s of e.bracketsNew.closingBrackets){const o=xr(0,s.bracketText.length);let a=Ma.getEmpty();const l=s.getOpeningBrackets();for(const c of l)a=a.add(i(c),sde);r.set(s.bracketText,new Xg(o,2,i(l[0]),a,mM.create(o,s,a)))}return new _G(r)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>Ivt(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function Ivt(n){let e=Af(n);return/^[\w ]+/.test(n)&&(e=`\\b${e}`),/[\w ]+$/.test(n)&&(e=`${e}\\b`),e}class Mvt{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=_G.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function Rvt(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const o=e,a=n[o].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-o>=2?lwe(o===0&&e===n.length?n:n.slice(o,e),!1):n[o]}let i=t(),r=t();if(!r)return i;for(let o=t();o;o=t())ode(i,r)<=ode(r,o)?(i=d6(i,r),r=o):r=d6(r,o);return d6(i,r)}function lwe(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const s=r<<1;n[r]=jd.create23(n[s],n[s+1],s+3===t?n[s+2]:null,e)}t=i}return jd.create23(n[0],n[1],t>=3?n[2]:null,e)}function ode(n,e){return Math.abs(n.listHeight-e.listHeight)}function d6(n,e){return n.listHeight===e.listHeight?jd.create23(n,e,null,!1):n.listHeight>e.listHeight?Nvt(n,e):Avt(e,n)}function Nvt(n,e){n=n.toMutable();let t=n;const i=[];let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=jd.create23(o.unappendChild(),r,null,!1):(o.appendChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?jd.create23(n,r,null,!1):n}function Avt(n,e){n=n.toMutable();let t=n;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=jd.create23(r,o.unprependChild(),null,!1):(o.prependChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?jd.create23(r,n,null,!1):n}class Pvt{constructor(e){this.lastOffset=ha,this.nextNodes=[e],this.offsets=[ha],this.idxs=[]}readLongestNodeAt(e,t){if(yC(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=$w(this.nextNodes);if(!i)return;const r=$w(this.offsets);if(yC(e,r))return;if(yC(r,e))if(Fr(r,i.length)<=e)this.nextNodeAfterCurrent();else{const s=h6(i);s!==-1?(this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const s=h6(i);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const e=$w(this.offsets),t=$w(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=$w(this.nextNodes),r=h6(i,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(i.getChild(r)),this.offsets.push(Fr(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}}function h6(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function $w(n){return n.length>0?n[n.length-1]:void 0}function ade(n,e,t,i){return new Ovt(n,e,t,i).parseDocument()}class Ovt{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new Pvt(i):void 0,this.positionMapper=new _vt(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Ma.getEmpty(),0);return e||(e=jd.getEmpty()),e}parseList(e,t){const i=[];for(;;){let s=this.tryReadChildFromCache(e);if(!s){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(e))break;s=this.parseChild(e,t+1)}s.kind===4&&s.childrenLength===0||i.push(s)}return this.oldNodeReader?Rvt(i):lwe(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!gM(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>t!==null&&!yC(r.length,t)?!1:r.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new Lvt(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new rb(i.length);const r=e.merge(i.bracketIds),s=this.parseList(r,t+1),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===i.bracketId||o.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),mk.create(i.astNode,s,o.astNode)):mk.create(i.astNode,s,null)}default:throw new Error("unexpected")}}}function bM(n,e){if(n.length===0)return e;if(e.length===0)return n;const t=new Rf(lde(n)),i=lde(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function s(c){if(c===void 0){const d=t.takeWhile(h=>!0)||[];return r&&d.unshift(r),d}const u=[];for(;r&&!gM(c);){const[d,h]=r.splitAt(c);u.push(d),c=pk(d.lengthAfter,c),r=h??t.dequeue()}return gM(c)||u.push(new lp(!1,c,c)),u}const o=[];function a(c,u,d){if(o.length>0&&awe(o[o.length-1].endOffset,c)){const h=o[o.length-1];o[o.length-1]=new df(h.startOffset,u,Fr(h.newLength,d))}else o.push({startOffset:c,endOffset:u,newLength:d})}let l=ha;for(const c of i){const u=s(c.lengthBefore);if(c.modified){const d=yvt(u,f=>f.lengthBefore),h=Fr(l,d);a(l,h,c.lengthAfter),l=h}else for(const d of u){const h=l;l=Fr(l,d.lengthBefore),d.modified&&a(h,l,d.lengthAfter)}}return o}class lp{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=pk(e,this.lengthAfter);return awe(t,ha)?[this,void 0]:this.modified?[new lp(this.modified,this.lengthBefore,e),new lp(this.modified,ha,t)]:[new lp(this.modified,e,e),new lp(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${zl(this.lengthBefore)} -> ${zl(this.lengthAfter)}`}}function lde(n){const e=[];let t=ha;for(const i of n){const r=pk(t,i.startOffset);gM(r)||e.push(new lp(!1,r,r));const s=pk(i.startOffset,i.endOffset);e.push(new lp(!0,s,i.newLength)),t=i.endOffset}return e}class Fvt extends je{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new ke,this.denseKeyProvider=new wvt,this.brackets=new Mvt(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new Tvt(this.textModel.getValue(),i);this.initialAstWithoutTokens=ade(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new df(xr(i.fromLineNumber-1,0),xr(i.toLineNumber,0),xr(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=df.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=bM(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=bM(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const r=t,s=new Evt(this.textModel,this.brackets);return ade(s,e,r,i)}getBracketsInRange(e,t){this.flushQueue();const i=xr(e.startLineNumber-1,e.startColumn-1),r=xr(e.endLineNumber-1,e.endColumn-1);return new Nb(s=>{const o=this.initialAstWithoutTokens||this.astWithTokens;tW(o,ha,o.length,i,r,s,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=Ny(e.getStartPosition()),r=Ny(e.getEndPosition());return new Nb(s=>{const o=this.initialAstWithoutTokens||this.astWithTokens,a=new Bvt(s,t,this.textModel);nW(o,ha,o.length,i,r,a,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return uwe(t,ha,t.length,Ny(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return cwe(t,ha,t.length,Ny(e))}}function cwe(n,e,t,i){if(n.kind===4||n.kind===2){const r=[];for(const s of n.children)t=Fr(e,s.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let s=r.length-1;s>=0;s--){const{nodeOffsetStart:o,nodeOffsetEnd:a}=r[s];if(yC(o,i)){const l=cwe(n.children[s],o,a,i);if(l)return l}}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=Bb(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function uwe(n,e,t,i){if(n.kind===4||n.kind===2){for(const r of n.children){if(t=Fr(e,r.length),yC(i,t)){const s=uwe(r,e,t,i);if(s)return s}e=t}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=Bb(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function tW(n,e,t,i,r,s,o,a,l,c,u=!1){if(o>200)return!0;e:for(;;)switch(n.kind){case 4:{const d=n.childrenLength;for(let h=0;h<d;h++){const f=n.getChild(h);if(f){if(t=Fr(e,f.length),CC(e,r)&&gS(t,i)){if(gS(t,r)){n=f;continue e}if(!tW(f,e,t,i,r,s,o,0,l,c))return!1}e=t}}return!0}case 2:{const d=!c||!n.closingBracket||n.closingBracket.bracketInfo.closesColorized(n.openingBracket.bracketInfo);let h=0;if(l){let p=l.get(n.openingBracket.text);p===void 0&&(p=0),h=p,d&&(p++,l.set(n.openingBracket.text,p))}const f=n.childrenLength;for(let p=0;p<f;p++){const m=n.getChild(p);if(m){if(t=Fr(e,m.length),CC(e,r)&&gS(t,i)){if(gS(t,r)&&m.kind!==1){n=m,d?(o++,a=h+1):a=h;continue e}if((d||m.kind!==1||!n.closingBracket)&&!tW(m,e,t,i,r,s,d?o+1:o,d?h+1:h,l,c,!n.closingBracket))return!1}e=t}}return l==null||l.set(n.openingBracket.text,h),!0}case 3:{const d=Bb(e,t);return s(new rde(d,o-1,0,!0))}case 1:{const d=Bb(e,t);return s(new rde(d,o-1,a-1,u))}case 0:return!0}}class Bvt{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function nW(n,e,t,i,r,s,o,a){var c;if(o>200)return!0;let l=!0;if(n.kind===2){let u=0;if(a){let f=a.get(n.openingBracket.text);f===void 0&&(f=0),u=f,f++,a.set(n.openingBracket.text,f)}const d=Fr(e,n.openingBracket.length);let h=-1;if(s.includeMinIndentation&&(h=n.computeMinIndentation(e,s.textModel)),l=s.push(new mvt(Bb(e,t),Bb(e,d),n.closingBracket?Bb(Fr(d,((c=n.child)==null?void 0:c.length)||ha),t):void 0,o,u,n,h)),e=d,l&&n.child){const f=n.child;if(t=Fr(e,f.length),CC(e,r)&&gS(t,i)&&(l=nW(f,e,t,i,r,s,o+1,a),!l))return!1}a==null||a.set(n.openingBracket.text,u)}else{let u=e;for(const d of n.children){const h=u;if(u=Fr(u,d.length),CC(h,r)&&CC(i,u)&&(l=nW(d,h,u,i,r,s,o,a),!l))return!1}}return l}class Hvt extends je{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Nf),this.onDidChangeEmitter=new ke,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){var t;(!e.languageId||(t=this.bracketPairsTree.value)!=null&&t.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)==null||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new It;this.bracketPairsTree.value=Vvt(e.add(new Fvt(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!1))||Nb.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!0))||Nb.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)==null?void 0:i.object.getBracketsInRange(e,t))||Nb.empty}findMatchingBracketUp(e,t,i){const r=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const o=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!o)return null;const a=this.getBracketPairsInRange(_e.fromPositions(t,t)).findLast(l=>o.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const o=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!a)return null;const l=a.textIsBracket[o];return l?h2(this._findMatchingBracketUp(l,r,f6(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(_e.fromPositions(e,e)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(e)||r.closingBracketRange.containsPosition(e))).findLastMaxBy(Dc(r=>r.openingBracketRange.containsPosition(e)?r.openingBracketRange:r.closingBracketRange,_e.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=f6(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,r){const s=t.getCount(),o=t.getLanguageId(r);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=r-1;c>=0;c--){const u=t.getEndOffset(c);if(u<=a)break;if(rd(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){a=u;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=r+1;c<s;c++){const u=t.getStartOffset(c);if(u>=l)break;if(rd(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){l=u;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,r=this.textModel.tokenization.getLineTokens(i),s=this.textModel.getLineContent(i),o=r.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(o)).brackets;if(a&&!rd(r.getStandardTokenType(o))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,r,a,o),u=null;for(;;){const d=ac.findNextBracketInRange(a.forwardRegex,i,s,l,c);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){const h=s.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,a.textIsBracket[h],a.textIsOpenBracket[h],t);if(f){if(f instanceof Zh)return null;u=f}}l=d.endColumn-1}if(u)return u}if(o>0&&r.getStartOffset(o)===e.column-1){const l=o-1,c=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(c&&!rd(r.getStandardTokenType(l))){const{searchStartOffset:u,searchEndOffset:d}=this._establishBracketSearchOffsets(e,r,c,l),h=ac.findPrevBracketInRange(c.reversedRegex,i,s,u,d);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){const f=s.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),p=this._matchFoundBracket(h,c.textIsBracket[f],c.textIsOpenBracket[f],t);if(p)return p instanceof Zh?null:p}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const s=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return s?s instanceof Zh?s:[e,s]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,s=e.reversedRegex;let o=-1,a=0;const l=(c,u,d,h)=>{for(;;){if(i&&++a%100===0&&!i())return Zh.INSTANCE;const f=ac.findPrevBracketInRange(s,c,u,d,h);if(!f)break;const p=u.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(p)?o++:e.isClose(p)&&o--,o===0)return f;h=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const u=this.textModel.tokenization.getLineTokens(c),d=u.getCount(),h=this.textModel.getLineContent(c);let f=d-1,p=h.length,m=h.length;c===t.lineNumber&&(f=u.findTokenIndexAtOffset(t.column-1),p=t.column-1,m=t.column-1);let v=!0;for(;f>=0;f--){const C=u.getLanguageId(f)===r&&!rd(u.getStandardTokenType(f));if(C)v?p=u.getStartOffset(f):(p=u.getStartOffset(f),m=u.getEndOffset(f));else if(v&&p!==m){const y=l(c,h,p,m);if(y)return y}v=C}if(v&&p!==m){const C=l(c,h,p,m);if(C)return C}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,s=e.forwardRegex;let o=1,a=0;const l=(u,d,h,f)=>{for(;;){if(i&&++a%100===0&&!i())return Zh.INSTANCE;const p=ac.findNextBracketInRange(s,u,d,h,f);if(!p)break;const m=d.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(e.isOpen(m)?o++:e.isClose(m)&&o--,o===0)return p;h=p.endColumn-1}return null},c=this.textModel.getLineCount();for(let u=t.lineNumber;u<=c;u++){const d=this.textModel.tokenization.getLineTokens(u),h=d.getCount(),f=this.textModel.getLineContent(u);let p=0,m=0,v=0;u===t.lineNumber&&(p=d.findTokenIndexAtOffset(t.column-1),m=t.column-1,v=t.column-1);let C=!0;for(;p<h;p++){const y=d.getLanguageId(p)===r&&!rd(d.getStandardTokenType(p));if(y)C||(m=d.getStartOffset(p)),v=d.getEndOffset(p);else if(C&&m!==v){const w=l(u,f,m,v);if(w)return w}C=y}if(C&&m!==v){const y=l(u,f,m,v);if(y)return y}}return null}findPrevBracket(e){var o;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((o=this.bracketPairsTree.value)==null?void 0:o.object.getFirstBracketBefore(t))||null;let i=null,r=null,s=null;for(let a=t.lineNumber;a>=1;a--){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),u=this.textModel.getLineContent(a);let d=c-1,h=u.length,f=u.length;if(a===t.lineNumber){d=l.findTokenIndexAtOffset(t.column-1),h=t.column-1,f=t.column-1;const m=l.getLanguageId(d);i!==m&&(i=m,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let p=!0;for(;d>=0;d--){const m=l.getLanguageId(d);if(i!==m){if(r&&s&&p&&h!==f){const C=ac.findPrevBracketInRange(r.reversedRegex,a,u,h,f);if(C)return this._toFoundBracket(s,C);p=!1}i=m,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const v=!!r&&!rd(l.getStandardTokenType(d));if(v)p?h=l.getStartOffset(d):(h=l.getStartOffset(d),f=l.getEndOffset(d));else if(s&&r&&p&&h!==f){const C=ac.findPrevBracketInRange(r.reversedRegex,a,u,h,f);if(C)return this._toFoundBracket(s,C)}p=v}if(s&&r&&p&&h!==f){const m=ac.findPrevBracketInRange(r.reversedRegex,a,u,h,f);if(m)return this._toFoundBracket(s,m)}}return null}findNextBracket(e){var a;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((a=this.bracketPairsTree.value)==null?void 0:a.object.getFirstBracketAfter(t))||null;const i=this.textModel.getLineCount();let r=null,s=null,o=null;for(let l=t.lineNumber;l<=i;l++){const c=this.textModel.tokenization.getLineTokens(l),u=c.getCount(),d=this.textModel.getLineContent(l);let h=0,f=0,p=0;if(l===t.lineNumber){h=c.findTokenIndexAtOffset(t.column-1),f=t.column-1,p=t.column-1;const v=c.getLanguageId(h);r!==v&&(r=v,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let m=!0;for(;h<u;h++){const v=c.getLanguageId(h);if(r!==v){if(o&&s&&m&&f!==p){const y=ac.findNextBracketInRange(s.forwardRegex,l,d,f,p);if(y)return this._toFoundBracket(o,y);m=!1}r=v,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const C=!!s&&!rd(c.getStandardTokenType(h));if(C)m||(f=c.getStartOffset(h)),p=c.getEndOffset(h);else if(o&&s&&m&&f!==p){const y=ac.findNextBracketInRange(s.forwardRegex,l,d,f,p);if(y)return this._toFoundBracket(o,y)}m=C}if(o&&s&&m&&f!==p){const v=ac.findNextBracketInRange(s.forwardRegex,l,d,f,p);if(v)return this._toFoundBracket(o,v)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const f=_e.fromPositions(i),p=this.getBracketPairsInRange(_e.fromPositions(i,i)).findLast(m=>m.closingBracketRange!==void 0&&m.range.strictContainsRange(f));return p?[p.openingBracketRange,p.closingBracketRange]:null}const r=f6(t),s=this.textModel.getLineCount(),o=new Map;let a=[];const l=(f,p)=>{if(!o.has(f)){const m=[];for(let v=0,C=p?p.brackets.length:0;v<C;v++)m[v]=0;o.set(f,m)}a=o.get(f)};let c=0;const u=(f,p,m,v,C)=>{for(;;){if(r&&++c%100===0&&!r())return Zh.INSTANCE;const y=ac.findNextBracketInRange(f.forwardRegex,p,m,v,C);if(!y)break;const w=m.substring(y.startColumn-1,y.endColumn-1).toLowerCase(),_=f.textIsBracket[w];if(_&&(_.isOpen(w)?a[_.index]++:_.isClose(w)&&a[_.index]--,a[_.index]===-1))return this._matchFoundBracket(y,_,!1,r);v=y.endColumn-1}return null};let d=null,h=null;for(let f=i.lineNumber;f<=s;f++){const p=this.textModel.tokenization.getLineTokens(f),m=p.getCount(),v=this.textModel.getLineContent(f);let C=0,y=0,w=0;if(f===i.lineNumber){C=p.findTokenIndexAtOffset(i.column-1),y=i.column-1,w=i.column-1;const x=p.getLanguageId(C);d!==x&&(d=x,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h))}let _=!0;for(;C<m;C++){const x=p.getLanguageId(C);if(d!==x){if(h&&_&&y!==w){const D=u(h,f,v,y,w);if(D)return h2(D);_=!1}d=x,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h)}const k=!!h&&!rd(p.getStandardTokenType(C));if(k)_||(y=p.getStartOffset(C)),w=p.getEndOffset(C);else if(h&&_&&y!==w){const D=u(h,f,v,y,w);if(D)return h2(D)}_=k}if(h&&_&&y!==w){const x=u(h,f,v,y,w);if(x)return h2(x)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.getBracketInfo(i);return r?{range:t,bracketInfo:r}:null}}function Vvt(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}function f6(n){if(typeof n>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=n}}const ER=class ER{constructor(){this._searchCanceledBrand=void 0}};ER.INSTANCE=new ER;let Zh=ER;function h2(n){return n instanceof Zh?null:n}class zvt extends je{constructor(e){super(),this.textModel=e,this.colorProvider=new dwe,this.onDidChangeEmitter=new ke,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,r){return r?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(o=>({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:o.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new _e(1,1,this.textModel.getLineCount(),1),e,t):[]}}class dwe{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}Qf((n,e)=>{const t=[J_e,ewe,twe,nwe,iwe,rwe],i=new dwe;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(Xbt)}; }`);const r=t.map(s=>n.getColor(s)).filter(s=>!!s).filter(s=>!s.isTransparent());for(let s=0;s<30;s++){const o=r[s%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(s)} { color: ${o}; }`)}});function f2(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Vs{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${f2(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${f2(this.oldText)}")`:`(replace@${this.oldPosition} "${f2(this.oldText)}" with "${f2(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;gu(e,r,i),i+=4;for(let s=0;s<r;s++)yct(e,t.charCodeAt(s),i),i+=2;return i}static _readString(e,t){const i=fu(e,t);return t+=4,_ct(e,t,i)}writeSize(){return 8+Vs._writeStringSize(this.oldText)+Vs._writeStringSize(this.newText)}write(e,t){return gu(e,this.oldPosition,t),t+=4,gu(e,this.newPosition,t),t+=4,t=Vs._writeString(e,this.oldText,t),t=Vs._writeString(e,this.newText,t),t}static read(e,t,i){const r=fu(e,t);t+=4;const s=fu(e,t);t+=4;const o=Vs._readString(e,t);t+=Vs._writeStringSize(o);const a=Vs._readString(e,t);return t+=Vs._writeStringSize(a),i.push(new Vs(r,o,s,a)),t}}function Wvt(n,e){return n===null||n.length===0?e:new od(n,e).compress()}class od{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[c,u]=od._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(c),r=u;continue}if(i.newPosition<r.oldPosition){const[c,u]=od._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(c),i=u;continue}let a,l;if(r.oldEnd===i.newEnd)a=i,l=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[c,u]=od._splitPrev(i,r.oldLength);a=c,l=r,i=u,r=this._getCurr(++t)}else{const[c,u]=od._splitCurr(r,i.newLength);a=i,l=c,i=this._getPrev(++e),r=u}this._result[this._resultLen++]=new Vs(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const s=od._merge(this._result);return od._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=od._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=od._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Vs(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Vs(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new Vs(e.oldPosition,e.oldText,e.newPosition,i),new Vs(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new Vs(e.oldPosition,i,e.newPosition,e.newText),new Vs(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,r=e[0];for(let s=1;s<e.length;s++){const o=e[s];r.oldEnd===o.oldPosition?r=new Vs(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(t[i++]=r,r=o)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const s=e[r];s.oldText!==s.newText&&(t[i++]=s)}return t}}function ry(n){return n.toString()}class cs{static create(e,t){const i=e.getAlternativeVersionId(),r=iW(e);return new cs(i,i,r,r,t,t,[])}constructor(e,t,i,r,s,o,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=s,this.afterCursorState=o,this.changes=a}append(e,t,i,r,s){t.length>0&&(this.changes=Wvt(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(gu(e,t?t.length:0,i),i+=4,t)for(const r of t)gu(e,r.selectionStartLineNumber,i),i+=4,gu(e,r.selectionStartColumn,i),i+=4,gu(e,r.positionLineNumber,i),i+=4,gu(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=fu(e,t);t+=4;for(let s=0;s<r;s++){const o=fu(e,t);t+=4;const a=fu(e,t);t+=4;const l=fu(e,t);t+=4;const c=fu(e,t);t+=4,i.push(new wi(o,a,l,c))}return t}serialize(){let e=10+cs._writeSelectionsSize(this.beforeCursorState)+cs._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;gu(t,this.beforeVersionId,i),i+=4,gu(t,this.afterVersionId,i),i+=4,nce(t,this.beforeEOL,i),i+=1,nce(t,this.afterEOL,i),i+=1,i=cs._writeSelections(t,this.beforeCursorState,i),i=cs._writeSelections(t,this.afterCursorState,i),gu(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=fu(t,i);i+=4;const s=fu(t,i);i+=4;const o=tce(t,i);i+=1;const a=tce(t,i);i+=1;const l=[];i=cs._readSelections(t,i,l);const c=[];i=cs._readSelections(t,i,c);const u=fu(t,i);i+=4;const d=[];for(let h=0;h<u;h++)i=Vs.read(t,i,d);return new cs(r,s,o,a,l,c,d)}}class hwe{get type(){return 0}get resource(){return Sn.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,r){this.label=e,this.code=t,this.model=i,this._data=cs.create(i,r)}toString(){return(this._data instanceof cs?this._data:cs.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Sn.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof cs}append(e,t,i,r,s){this._data instanceof cs&&this._data.append(e,t,i,r,s)}close(){this._data instanceof cs&&(this._data=this._data.serialize())}open(){this._data instanceof cs||(this._data=cs.deserialize(this._data))}undo(){if(Sn.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof cs&&(this._data=this._data.serialize());const e=cs.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Sn.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof cs&&(this._data=this._data.serialize());const e=cs.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof cs&&(this._data=this._data.serialize()),this._data.byteLength+168}}class $vt{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const s=ry(r.resource);this._editStackElementsMap.set(s,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=ry(e);return this._editStackElementsMap.has(t)}setModel(e){const t=ry(Sn.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=ry(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,s){const o=ry(e.uri);this._editStackElementsMap.get(o).append(e,t,i,r,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=ry(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${eG(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function iW(n){return n.getEOL()===`
`?0:1}function Jh(n){return n?n instanceof hwe||n instanceof $vt:!1}class wG{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Jh(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Jh(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(Jh(i)&&i.canAppend(this._model))return i;const r=new hwe(P("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],iW(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,r){const s=this._getOrCreateEditStackElement(e,r),o=this._model.applyEdits(t,!0),a=wG._computeCursorState(i,o),l=o.map((c,u)=>({index:u,textChange:c.textChange}));return l.sort((c,u)=>c.textChange.oldPosition===u.textChange.oldPosition?c.index-u.index:c.textChange.oldPosition-u.textChange.oldPosition),s.append(this._model,l.map(c=>c.textChange),iW(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return _i(i),null}}}class fwe extends je{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function jvt(n,e){let t=0,i=0;const r=n.length;for(;i<r;){const s=n.charCodeAt(i);if(s===32)t++;else if(s===9)t=t-t%e+e;else break;i++}return i===r?-1:t}var Hb;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(Hb||(Hb={}));class Lb{constructor(e,t,i,r,s,o){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=r,this.forWrappedLinesAfterColumn=s,this.forWrappedLinesBeforeOrAtColumn=o,e!==-1==(t!==-1))throw new Error}}class qS{constructor(e,t){this.top=e,this.endColumn=t}}class Uvt extends fwe{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return jvt(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new ti("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(s&&s.offSide);let a=-2,l=-1,c=-2,u=-1;const d=D=>{if(a!==-1&&(a===-2||a>D-1)){a=-1,l=-1;for(let T=D-2;T>=0;T--){const L=this._computeIndentLevel(T);if(L>=0){a=T,l=L;break}}}if(c===-2){c=-1,u=-1;for(let T=D;T<r;T++){const L=this._computeIndentLevel(T);if(L>=0){c=T,u=L;break}}}};let h=-2,f=-1,p=-2,m=-1;const v=D=>{if(h===-2){h=-1,f=-1;for(let T=D-2;T>=0;T--){const L=this._computeIndentLevel(T);if(L>=0){h=T,f=L;break}}}if(p!==-1&&(p===-2||p<D-1)){p=-1,m=-1;for(let T=D;T<r;T++){const L=this._computeIndentLevel(T);if(L>=0){p=T,m=L;break}}}};let C=0,y=!0,w=0,_=!0,x=0,k=0;for(let D=0;y||_;D++){const T=e-D,L=e+D;D>1&&(T<1||T<t)&&(y=!1),D>1&&(L>r||L>i)&&(_=!1),D>5e4&&(y=!1,_=!1);let I=-1;if(y&&T>=1){const N=this._computeIndentLevel(T-1);N>=0?(c=T-1,u=N,I=Math.ceil(N/this.textModel.getOptions().indentSize)):(d(T),I=this._getIndentLevelForWhitespaceLine(o,l,u))}let R=-1;if(_&&L<=r){const N=this._computeIndentLevel(L-1);N>=0?(h=L-1,f=N,R=Math.ceil(N/this.textModel.getOptions().indentSize)):(v(L),R=this._getIndentLevelForWhitespaceLine(o,f,m))}if(D===0){k=I;continue}if(D===1){if(L<=r&&R>=0&&k+1===R){y=!1,C=L,w=L,x=R;continue}if(T>=1&&I>=0&&I-1===k){_=!1,C=T,w=T,x=I;continue}if(C=e,w=e,x=k,x===0)return{startLineNumber:C,endLineNumber:w,indent:x}}y&&(I>=x?C=T:y=!1),_&&(R>=x?w=L:_=!1)}return{startLineNumber:C,endLineNumber:w,indent:x}}getLinesBracketGuides(e,t,i,r){var d;const s=[];for(let h=e;h<=t;h++)s.push([]);const o=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new _e(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(i&&a.length>0){const h=(e<=i.lineNumber&&i.lineNumber<=t?a:this.textModel.bracketPairs.getBracketPairsInRange(_e.fromPositions(i)).toArray()).filter(f=>_e.strictContainsPosition(f.range,i));l=(d=zI(h,f=>o))==null?void 0:d.range}const c=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,u=new gwe;for(const h of a){if(!h.closingBracketRange)continue;const f=l&&h.range.equalsRange(l);if(!f&&!r.includeInactive)continue;const p=u.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,c)+(r.highlightActive&&f?" "+u.activeClassName:""),m=h.openingBracketRange.getStartPosition(),v=h.closingBracketRange.getStartPosition(),C=r.horizontalGuides===Hb.Enabled||r.horizontalGuides===Hb.EnabledForActive&&f;if(h.range.startLineNumber===h.range.endLineNumber){C&&s[h.range.startLineNumber-e].push(new Lb(-1,h.openingBracketRange.getEndPosition().column,p,new qS(!1,v.column),-1,-1));continue}const y=this.getVisibleColumnFromPosition(v),w=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),_=Math.min(w,y,h.minVisibleColumnIndentation+1);let x=!1;Oa(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(x=!0);const T=Math.max(m.lineNumber,e),L=Math.min(v.lineNumber,t),I=x?1:0;for(let R=T;R<L+I;R++)s[R-e].push(new Lb(_,-1,p,null,R===m.lineNumber?m.column:-1,R===v.lineNumber?v.column:-1));C&&(m.lineNumber>=e&&w>_&&s[m.lineNumber-e].push(new Lb(_,-1,p,new qS(!1,m.column),-1,-1)),v.lineNumber<=t&&y>_&&s[v.lineNumber-e].push(new Lb(_,-1,p,new qS(!x,v.column),-1,-1)))}for(const h of s)h.sort((f,p)=>f.visibleColumn-p.visibleColumn);return s}getVisibleColumnFromPosition(e){return Kr.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(s&&s.offSide),a=new Array(t-e+1);let l=-2,c=-1,u=-2,d=-1;for(let h=e;h<=t;h++){const f=h-e,p=this._computeIndentLevel(h-1);if(p>=0){l=h-1,c=p,a[f]=Math.ceil(p/r.indentSize);continue}if(l===-2){l=-1,c=-1;for(let m=h-2;m>=0;m--){const v=this._computeIndentLevel(m);if(v>=0){l=m,c=v;break}}}if(u!==-1&&(u===-2||u<h-1)){u=-1,d=-1;for(let m=h;m<i;m++){const v=this._computeIndentLevel(m);if(v>=0){u=m,d=v;break}}}a[f]=this._getIndentLevelForWhitespaceLine(o,c,d)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}}class gwe{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class qvt{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Gvt(n,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let s;for(s=0;s<e&&s<i;s++){const h=n.charCodeAt(s),f=t.charCodeAt(s);if(h!==f)break}let o=0,a=0;for(let h=s;h<e;h++)n.charCodeAt(h)===32?o++:a++;let l=0,c=0;for(let h=s;h<i;h++)t.charCodeAt(h)===32?l++:c++;if(o>0&&a>0||l>0&&c>0)return;const u=Math.abs(a-c),d=Math.abs(o-l);if(u===0){r.spacesDiff=d,d>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(r.looksLikeAlignment=!0);return}if(d%u===0){r.spacesDiff=d/u;return}}function cde(n,e,t){const i=Math.min(n.getLineCount(),1e4);let r=0,s=0,o="",a=0;const l=[2,4,6,8,3,5,7],c=8,u=[0,0,0,0,0,0,0,0,0],d=new qvt;for(let p=1;p<=i;p++){const m=n.getLineLength(p),v=n.getLineContent(p),C=m<=65536;let y=!1,w=0,_=0,x=0;for(let D=0,T=m;D<T;D++){const L=C?v.charCodeAt(D):n.getLineCharCode(p,D);if(L===9)x++;else if(L===32)_++;else{y=!0,w=D;break}}if(!y||(x>0?r++:_>1&&s++,Gvt(o,a,v,w,d),d.looksLikeAlignment&&!(t&&e===d.spacesDiff)))continue;const k=d.spacesDiff;k<=c&&u[k]++,o=v,a=w}let h=t;r!==s&&(h=r<s);let f=e;if(h){let p=h?0:.1*i;l.forEach(m=>{const v=u[m];v>p&&(p=v,f=m)}),f===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(f=2)}return{insertSpaces:h,tabSize:f}}function ta(n){return(n.metadata&1)>>>0}function Ai(n,e){n.metadata=n.metadata&254|e<<0}function $s(n){return(n.metadata&2)>>>1===1}function Ti(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function pwe(n){return(n.metadata&4)>>>2===1}function ude(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function mwe(n){return(n.metadata&64)>>>6===1}function dde(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}function Kvt(n){return(n.metadata&24)>>>3}function hde(n,e){n.metadata=n.metadata&231|e<<3}function Qvt(n){return(n.metadata&32)>>>5===1}function fde(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class bwe{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Ai(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,ude(this,!1),dde(this,!1),hde(this,1),fde(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Ti(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;ude(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),dde(this,this.options.glyphMarginClassName!==null),hde(this,this.options.stickiness),fde(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const mn=new bwe(null,0,0);mn.parent=mn;mn.left=mn;mn.right=mn;Ai(mn,0);class g6{constructor(){this.root=mn,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,s,o){return this.root===mn?[]:i1t(this,e,t,i,r,s,o)}search(e,t,i,r){return this.root===mn?[]:n1t(this,e,t,i,r)}collectNodesFromOwner(e){return e1t(this,e)}collectNodesPostOrder(){return t1t(this)}insert(e){gde(this,e),this._normalizeDeltaIfNecessary()}delete(e){pde(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const s=i.start+r,o=i.end+r;i.setCachedOffsets(s,o,t)}acceptReplace(e,t,i,r){const s=Zvt(this,e,e+t);for(let o=0,a=s.length;o<a;o++){const l=s[o];pde(this,l)}this._normalizeDeltaIfNecessary(),Jvt(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let o=0,a=s.length;o<a;o++){const l=s[o];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Xvt(l,e,e+t,i,r),l.maxEnd=l.end,gde(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,Yvt(this))}}function Yvt(n){let e=n.root,t=0;for(;e!==mn;){if(e.left!==mn&&!$s(e.left)){e=e.left;continue}if(e.right!==mn&&!$s(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Bp(e),Ti(e,!0),Ti(e.left,!1),Ti(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Ti(n.root,!1)}function sy(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function Xvt(n,e,t,i,r){const s=Kvt(n),o=s===0||s===2,a=s===1||s===2,l=t-e,c=i,u=Math.min(l,c),d=n.start;let h=!1;const f=n.end;let p=!1;e<=d&&f<=t&&Qvt(n)&&(n.start=e,h=!0,n.end=e,p=!0);{const v=r?1:l>0?2:0;!h&&sy(d,o,e,v)&&(h=!0),!p&&sy(f,a,e,v)&&(p=!0)}if(u>0&&!r){const v=l>c?2:0;!h&&sy(d,o,e+u,v)&&(h=!0),!p&&sy(f,a,e+u,v)&&(p=!0)}{const v=r?1:0;!h&&sy(d,o,t,v)&&(n.start=e+c,h=!0),!p&&sy(f,a,t,v)&&(n.end=e+c,p=!0)}const m=c-l;h||(n.start=Math.max(0,d+m)),p||(n.end=Math.max(0,f+m)),n.start>n.end&&(n.end=n.start)}function Zvt(n,e,t){let i=n.root,r=0,s=0,o=0,a=0;const l=[];let c=0;for(;i!==mn;){if($s(i)){Ti(i.left,!1),Ti(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!$s(i.left)){if(s=r+i.maxEnd,s<e){Ti(i,!0);continue}if(i.left!==mn){i=i.left;continue}}if(o=r+i.start,o>t){Ti(i,!0);continue}if(a=r+i.end,a>=e&&(i.setCachedOffsets(o,a,0),l[c++]=i),Ti(i,!0),i.right!==mn&&!$s(i.right)){r+=i.delta,i=i.right;continue}}return Ti(n.root,!1),l}function Jvt(n,e,t,i){let r=n.root,s=0,o=0,a=0;const l=i-(t-e);for(;r!==mn;){if($s(r)){Ti(r.left,!1),Ti(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),Bp(r),r=r.parent;continue}if(!$s(r.left)){if(o=s+r.maxEnd,o<e){Ti(r,!0);continue}if(r.left!==mn){r=r.left;continue}}if(a=s+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0),Ti(r,!0);continue}if(Ti(r,!0),r.right!==mn&&!$s(r.right)){s+=r.delta,r=r.right;continue}}Ti(n.root,!1)}function e1t(n,e){let t=n.root;const i=[];let r=0;for(;t!==mn;){if($s(t)){Ti(t.left,!1),Ti(t.right,!1),t=t.parent;continue}if(t.left!==mn&&!$s(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),Ti(t,!0),t.right!==mn&&!$s(t.right)){t=t.right;continue}}return Ti(n.root,!1),i}function t1t(n){let e=n.root;const t=[];let i=0;for(;e!==mn;){if($s(e)){Ti(e.left,!1),Ti(e.right,!1),e=e.parent;continue}if(e.left!==mn&&!$s(e.left)){e=e.left;continue}if(e.right!==mn&&!$s(e.right)){e=e.right;continue}t[i++]=e,Ti(e,!0)}return Ti(n.root,!1),t}function n1t(n,e,t,i,r){let s=n.root,o=0,a=0,l=0;const c=[];let u=0;for(;s!==mn;){if($s(s)){Ti(s.left,!1),Ti(s.right,!1),s===s.parent.right&&(o-=s.parent.delta),s=s.parent;continue}if(s.left!==mn&&!$s(s.left)){s=s.left;continue}a=o+s.start,l=o+s.end,s.setCachedOffsets(a,l,i);let d=!0;if(e&&s.ownerId&&s.ownerId!==e&&(d=!1),t&&pwe(s)&&(d=!1),r&&!mwe(s)&&(d=!1),d&&(c[u++]=s),Ti(s,!0),s.right!==mn&&!$s(s.right)){o+=s.delta,s=s.right;continue}}return Ti(n.root,!1),c}function i1t(n,e,t,i,r,s,o){let a=n.root,l=0,c=0,u=0,d=0;const h=[];let f=0;for(;a!==mn;){if($s(a)){Ti(a.left,!1),Ti(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!$s(a.left)){if(c=l+a.maxEnd,c<e){Ti(a,!0);continue}if(a.left!==mn){a=a.left;continue}}if(u=l+a.start,u>t){Ti(a,!0);continue}if(d=l+a.end,d>=e){a.setCachedOffsets(u,d,s);let p=!0;i&&a.ownerId&&a.ownerId!==i&&(p=!1),r&&pwe(a)&&(p=!1),o&&!mwe(a)&&(p=!1),p&&(h[f++]=a)}if(Ti(a,!0),a.right!==mn&&!$s(a.right)){l+=a.delta,a=a.right;continue}}return Ti(n.root,!1),h}function gde(n,e){if(n.root===mn)return e.parent=mn,e.left=mn,e.right=mn,Ai(e,0),n.root=e,n.root;r1t(n,e),Ag(e.parent);let t=e;for(;t!==n.root&&ta(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;ta(i)===1?(Ai(t.parent,0),Ai(i,0),Ai(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,GS(n,t)),Ai(t.parent,0),Ai(t.parent.parent,1),KS(n,t.parent.parent))}else{const i=t.parent.parent.left;ta(i)===1?(Ai(t.parent,0),Ai(i,0),Ai(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,KS(n,t)),Ai(t.parent,0),Ai(t.parent.parent,1),GS(n,t.parent.parent))}return Ai(n.root,0),e}function r1t(n,e){let t=0,i=n.root;const r=e.start,s=e.end;for(;;)if(o1t(r,s,i.start+t,i.end+t)<0)if(i.left===mn){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===mn){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=mn,e.right=mn,Ai(e,1)}function pde(n,e){let t,i;if(e.left===mn?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===mn?(t=e.left,i=e):(i=s1t(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,Ai(t,0),e.detach(),p6(),Bp(t),n.root.parent=mn;return}const r=ta(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Ai(i,ta(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==mn&&(i.left.parent=i),i.right!==mn&&(i.right.parent=i)),e.detach(),r){Ag(t.parent),i!==e&&(Ag(i),Ag(i.parent)),p6();return}Ag(t),Ag(t.parent),i!==e&&(Ag(i),Ag(i.parent));let s;for(;t!==n.root&&ta(t)===0;)t===t.parent.left?(s=t.parent.right,ta(s)===1&&(Ai(s,0),Ai(t.parent,1),GS(n,t.parent),s=t.parent.right),ta(s.left)===0&&ta(s.right)===0?(Ai(s,1),t=t.parent):(ta(s.right)===0&&(Ai(s.left,0),Ai(s,1),KS(n,s),s=t.parent.right),Ai(s,ta(t.parent)),Ai(t.parent,0),Ai(s.right,0),GS(n,t.parent),t=n.root)):(s=t.parent.left,ta(s)===1&&(Ai(s,0),Ai(t.parent,1),KS(n,t.parent),s=t.parent.left),ta(s.left)===0&&ta(s.right)===0?(Ai(s,1),t=t.parent):(ta(s.left)===0&&(Ai(s.right,0),Ai(s,1),GS(n,s),s=t.parent.left),Ai(s,ta(t.parent)),Ai(t.parent,0),Ai(s.left,0),KS(n,t.parent),t=n.root));Ai(t,0),p6()}function s1t(n){for(;n.left!==mn;)n=n.left;return n}function p6(){mn.parent=mn,mn.delta=0,mn.start=0,mn.end=0}function GS(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==mn&&(t.left.parent=e),t.parent=e.parent,e.parent===mn?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Bp(e),Bp(t)}function KS(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==mn&&(t.right.parent=e),t.parent=e.parent,e.parent===mn?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Bp(e),Bp(t)}function vwe(n){let e=n.end;if(n.left!==mn){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==mn){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function Bp(n){n.maxEnd=vwe(n)}function Ag(n){for(;n!==mn;){const e=vwe(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function o1t(n,e,t,i){return n===t?e-i:n-t}class rW{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Yt)return SG(this.right);let e=this;for(;e.parent!==Yt&&e.parent.left!==e;)e=e.parent;return e.parent===Yt?Yt:e.parent}prev(){if(this.left!==Yt)return ywe(this.left);let e=this;for(;e.parent!==Yt&&e.parent.right!==e;)e=e.parent;return e.parent===Yt?Yt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Yt=new rW(null,0);Yt.parent=Yt;Yt.left=Yt;Yt.right=Yt;Yt.color=0;function SG(n){for(;n.left!==Yt;)n=n.left;return n}function ywe(n){for(;n.right!==Yt;)n=n.right;return n}function xG(n){return n===Yt?0:n.size_left+n.piece.length+xG(n.right)}function kG(n){return n===Yt?0:n.lf_left+n.piece.lineFeedCnt+kG(n.right)}function m6(){Yt.parent=Yt}function QS(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Yt&&(t.left.parent=e),t.parent=e.parent,e.parent===Yt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function YS(n,e){const t=e.left;e.left=t.right,t.right!==Yt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Yt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function g2(n,e){let t,i;if(e.left===Yt?(i=e,t=i.right):e.right===Yt?(i=e,t=i.left):(i=SG(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),m6(),n.root.parent=Yt;return}const r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,pS(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,pS(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Yt&&(i.left.parent=i),i.right!==Yt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,pS(n,i)),e.detach(),t.parent.left===t){const o=xG(t),a=kG(t);if(o!==t.parent.size_left||a!==t.parent.lf_left){const l=o-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=a,Vh(n,t.parent,l,c)}}if(pS(n,t.parent),r){m6();return}let s;for(;t!==n.root&&t.color===0;)t===t.parent.left?(s=t.parent.right,s.color===1&&(s.color=0,t.parent.color=1,QS(n,t.parent),s=t.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.right.color===0&&(s.left.color=0,s.color=1,YS(n,s),s=t.parent.right),s.color=t.parent.color,t.parent.color=0,s.right.color=0,QS(n,t.parent),t=n.root)):(s=t.parent.left,s.color===1&&(s.color=0,t.parent.color=1,YS(n,t.parent),s=t.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.left.color===0&&(s.right.color=0,s.color=1,QS(n,s),s=t.parent.left),s.color=t.parent.color,t.parent.color=0,s.left.color=0,YS(n,t.parent),t=n.root));t.color=0,m6()}function mde(n,e){for(pS(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,QS(n,e)),e.parent.color=0,e.parent.parent.color=1,YS(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,YS(n,e)),e.parent.color=0,e.parent.parent.color=1,QS(n,e.parent.parent))}n.root.color=0}function Vh(n,e,t,i){for(;e!==n.root&&e!==Yt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function pS(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=xG(e.left)-e.size_left,i=kG(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const Ph=65535;function Cwe(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class a1t{constructor(e,t,i,r,s){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=s}}function $h(n,e=!0){const t=[0];let i=1;for(let r=0,s=n.length;r<s;r++){const o=n.charCodeAt(r);o===13?r+1<s&&n.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:o===10&&(t[i++]=r+1)}return e?Cwe(t):t}function l1t(n,e){n.length=0,n[0]=0;let t=1,i=0,r=0,s=0,o=!0;for(let l=0,c=e.length;l<c;l++){const u=e.charCodeAt(l);u===13?l+1<c&&e.charCodeAt(l+1)===10?(s++,n[t++]=l+2,l++):(i++,n[t++]=l+1):u===10?(r++,n[t++]=l+1):o&&u!==9&&(u<32||u>126)&&(o=!1)}const a=new a1t(Cwe(n),i,r,s,o);return n.length=0,a}class Sa{constructor(e,t,i,r,s){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=s}}class sb{constructor(e,t){this.buffer=e,this.lineStarts=t}}class c1t{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Yt&&e.iterate(e.root,i=>(i!==Yt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class u1t{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const s=i[r];if(s.node.parent===null||s.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){const r=[];for(const s of i)s!==null&&r.push(s);this._cache=r}}}class d1t{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new sb("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Yt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let s=0,o=e.length;s<o;s++)if(e[s].buffer.length>0){e[s].lineStarts||(e[s].lineStarts=$h(e[s].buffer));const a=new Sa(s+1,{line:0,column:0},{line:e[s].lineStarts.length-1,column:e[s].buffer.length-e[s].lineStarts[e[s].lineStarts.length-1]},e[s].lineStarts.length-1,e[s].buffer.length);this._buffers.push(e[s]),r=this.rbInsertRight(r,a)}this._searchCache=new u1t(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=Ph,i=t-Math.floor(t/3),r=i*2;let s="",o=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),u=c.length;if(o<=i||o+u<r)return s+=c,o+=u,!0;const d=s.replace(/\r\n|\r|\n/g,e);return a.push(new sb(d,$h(d))),s=c,o=u,!0}),o>0){const l=s.replace(/\r\n|\r|\n/g,e);a.push(new sb(l,$h(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new c1t(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==Yt;)if(r.left!==Yt&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){i+=r.size_left;const s=this.getAccumulatedValue(r,e-r.lf_left-2);return i+=s+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==Yt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const s=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+s.index,s.index===0){const o=this.getOffsetAt(i+1,1),a=r-o;return new Pe(i+1,a+1)}return new Pe(i+1,s.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===Yt){const s=this.getOffsetAt(i+1,1),o=r-e-s;return new Pe(i+1,o+1)}else t=t.right;return new Pe(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?s.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let o=r.substring(s+e.remainder,s+i.piece.length);for(i=i.next();i!==Yt;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){o+=a.substring(l,l+t.remainder);break}else o+=a.substr(l,i.piece.length);i=i.next()}return o}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,s=>{if(s===Yt)return!0;const o=s.piece;let a=o.length;if(a===0)return!0;const l=this._buffers[o.bufferIndex].buffer,c=this._buffers[o.bufferIndex].lineStarts,u=o.start.line,d=o.end.line;let h=c[u]+o.start.column;if(r&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",r=!1,a===0))return!0;if(u===d)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(r=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,c[u+1]-this._EOLLength)):l.substring(h,c[u+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=u+1;f<d;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[d]+o.end.column-1)===13?(r=!0,o.end.column===0?t--:i=l.substr(c[d],o.end.column-1)):i=l.substr(c[d],o.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,s,o,a,l,c,u,d){const h=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),p=this.offsetInBuffer(e.piece.bufferIndex,s),m=this.offsetInBuffer(e.piece.bufferIndex,o);let v;const C={line:0,column:0};let y,w;t._wordSeparators?(y=h.buffer.substring(p,m),w=_=>_+p,t.reset(0)):(y=h.buffer,w=_=>_,t.reset(p));do if(v=t.next(y),v){if(w(v.index)>=m)return u;this.positionInBuffer(e,w(v.index)-f,C);const _=this.getLineFeedCnt(e.piece.bufferIndex,s,C),x=C.line===s.line?C.column-s.column+r:C.column+1,k=x+v[0].length;if(d[u++]=Jm(new _e(i+_,x,i+_,k),v,l),w(v.index)+v[0].length>=m||u>=c)return u}while(v);return u}findMatchesLineByLine(e,t,i,r){const s=[];let o=0;const a=new xy(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let u=this.positionInBuffer(l.node,l.remainder);const d=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,u,d,t,i,r,o,s),s;let h=e.startLineNumber,f=l.node;for(;f!==c.node;){const m=this.getLineFeedCnt(f.piece.bufferIndex,u,f.piece.end);if(m>=1){const C=this._buffers[f.piece.bufferIndex].lineStarts,y=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),w=C[u.line+m],_=h===e.startLineNumber?e.startColumn:1;if(o=this.findMatchesInNode(f,a,h,_,u,this.positionInBuffer(f,w-y),t,i,r,o,s),o>=r)return s;h+=m}const v=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const C=this.getLineContent(h).substring(v,e.endColumn-1);return o=this._findMatchesInLine(t,a,C,e.endLineNumber,v,o,s,i,r),s}if(o=this._findMatchesInLine(t,a,this.getLineContent(h).substr(v),h,v,o,s,i,r),o>=r)return s;h++,l=this.nodeAt2(h,1),f=l.node,u=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const m=h===e.startLineNumber?e.startColumn-1:0,v=this.getLineContent(h).substring(m,e.endColumn-1);return o=this._findMatchesInLine(t,a,v,e.endLineNumber,m,o,s,i,r),s}const p=h===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(c.node,a,h,p,u,d,t,i,r,o,s),s}_findMatchesInLine(e,t,i,r,s,o,a,l,c){const u=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,f=h.length,p=i.length;let m=-f;for(;(m=i.indexOf(h,m+f))!==-1;)if((!u||Nq(u,i,p,m,f))&&(a[o++]=new ik(new _e(r,m+1+s,r,m+1+f+s),null),o>=c))return o;return o}let d;t.reset(0);do if(d=t.next(i),d&&(a[o++]=Jm(new _e(r,d.index+1+s,r,d.index+1+d[0].length+s),d,l),o>=c))return o;while(d);return o}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Yt){const{node:r,remainder:s,nodeStartOffset:o}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,c=this.positionInBuffer(r,s);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&o+a.length===e&&t.length<Ph){this.appendToNode(r,t),this.computeBufferMetadata();return}if(o===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(o+r.piece.length>e){const u=[];let d=new Sa(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,s)===10){const m={line:d.start.line+1,column:0};d=new Sa(d.bufferIndex,m,d.end,this.getLineFeedCnt(d.bufferIndex,m,d.end),d.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,s-1)===13){const m=this.positionInBuffer(r,s-1);this.deleteNodeTail(r,m),t="\r"+t,r.piece.length===0&&u.push(r)}else this.deleteNodeTail(r,c);else this.deleteNodeTail(r,c);const h=this.createNewPieces(t);d.length>0&&this.rbInsertRight(r,d);let f=r;for(let p=0;p<h.length;p++)f=this.rbInsertRight(f,h[p]);this.deleteNodes(u)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let s=this.rbInsertLeft(null,r[0]);for(let o=1;o<r.length;o++)s=this.rbInsertRight(s,r[o])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Yt)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),s=i.node,o=r.node;if(s===o){const h=this.positionInBuffer(s,i.remainder),f=this.positionInBuffer(s,r.remainder);if(i.nodeStartOffset===e){if(t===s.piece.length){const p=s.next();g2(this,s),this.validateCRLFWithPrevNode(p),this.computeBufferMetadata();return}this.deleteNodeHead(s,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),this.computeBufferMetadata();return}if(i.nodeStartOffset+s.piece.length===e+t){this.deleteNodeTail(s,h),this.validateCRLFWithNextNode(s),this.computeBufferMetadata();return}this.shrinkNode(s,h,f),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(s,i.remainder);this.deleteNodeTail(s,l),this._searchCache.validate(e),s.piece.length===0&&a.push(s);const c=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,c),o.piece.length===0&&a.push(o);const u=s.next();for(let h=u;h!==Yt&&h!==o;h=h.next())a.push(h);const d=s.piece.length===0?s.prev():s;this.deleteNodes(a),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const o=t.piece,a={line:o.start.line+1,column:0},l=new Sa(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),o.length-1);t.piece=l,e+=`
`,Vh(this,t,-1,-1),t.piece.length===0&&i.push(t)}const r=this.createNewPieces(e);let s=this.rbInsertLeft(t,r[r.length-1]);for(let o=r.length-2;o>=0;o--)s=this.rbInsertLeft(s,r[o]);this.validateCRLFWithPrevNode(s),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let s=r;for(let o=1;o<i.length;o++)s=this.rbInsertRight(s,i[o]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,s=e.piece.bufferIndex,o=this._buffers[s].lineStarts,l=o[r.start.line]+r.start.column+t;let c=r.start.line,u=r.end.line,d=0,h=0,f=0;for(;c<=u&&(d=c+(u-c)/2|0,f=o[d],d!==u);)if(h=o[d+1],l<f)u=d-1;else if(l>=h)c=d+1;else break;return i?(i.line=d,i.column=l-f,null):{line:d,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const s=r[i.line+1],o=r[i.line]+i.column;if(s>o+1)return i.line-t.line;const a=o-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)g2(this,e[t])}createNewPieces(e){if(e.length>Ph){const u=[];for(;e.length>Ph;){const h=e.charCodeAt(Ph-1);let f;h===13||h>=55296&&h<=56319?(f=e.substring(0,Ph-1),e=e.substring(Ph-1)):(f=e.substring(0,Ph),e=e.substring(Ph));const p=$h(f);u.push(new Sa(this._buffers.length,{line:0,column:0},{line:p.length-1,column:f.length-p[p.length-1]},p.length-1,f.length)),this._buffers.push(new sb(f,p))}const d=$h(e);return u.push(new Sa(this._buffers.length,{line:0,column:0},{line:d.length-1,column:e.length-d[d.length-1]},d.length-1,e.length)),this._buffers.push(new sb(e,d)),u}let t=this._buffers[0].buffer.length;const i=$h(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let u=0;u<i.length;u++)i[u]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let u=0;u<i.length;u++)i[u]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length,o=this._buffers[0].lineStarts.length-1,a=s-this._buffers[0].lineStarts[o],l={line:o,column:a},c=new Sa(0,r,l,this.getLineFeedCnt(0,r,l),s-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,r="";const s=this._searchCache.get2(e);if(s){i=s.node;const o=this.getAccumulatedValue(i,e-s.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(s.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=a.substring(l+o,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-s.nodeStartLineNumber);return a.substring(l+o,l+c-t)}}else{let o=0;const a=e;for(;i!==Yt;)if(i.left!==Yt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),u=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-i.lf_left)}),u.substring(d+l,d+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=c.substring(u+l,u+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==Yt;){const o=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=o.substring(l,l+a-t),r}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=o.substr(a,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==Yt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),s=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const o=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(o!==s)return{index:o,remainder:0}}return{index:s,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,s=i.start.line+t+1;return s>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[s]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.end),o=t,a=this.offsetInBuffer(i.bufferIndex,o),l=this.getLineFeedCnt(i.bufferIndex,i.start,o),c=l-r,u=a-s,d=i.length+u;e.piece=new Sa(i.bufferIndex,i.start,o,l,d),Vh(this,e,u,c)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.start),o=t,a=this.getLineFeedCnt(i.bufferIndex,o,i.end),l=this.offsetInBuffer(i.bufferIndex,o),c=a-r,u=s-l,d=i.length+u;e.piece=new Sa(i.bufferIndex,o,i.end,a,d),Vh(this,e,u,c)}shrinkNode(e,t,i){const r=e.piece,s=r.start,o=r.end,a=r.length,l=r.lineFeedCnt,c=t,u=this.getLineFeedCnt(r.bufferIndex,r.start,c),d=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,s);e.piece=new Sa(r.bufferIndex,r.start,c,u,d),Vh(this,e,d-a,u-l);const h=new Sa(r.bufferIndex,i,o,this.getLineFeedCnt(r.bufferIndex,i,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,i)),f=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=$h(t,!1);for(let f=0;f<s.length;f++)s[f]+=r;if(i){const f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const o=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[o],l={line:o,column:a},c=e.piece.length+t.length,u=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,l),h=d-u;e.piece=new Sa(e.piece.bufferIndex,e.piece.start,l,d,c),this._lastChangeBufferPos=l,Vh(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==Yt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;const s={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(s),s}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==Yt;)if(i.left!==Yt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2),o=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(s+t-1,o),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2);if(s+t-1<=i.piece.length)return{node:i,remainder:s+t-1,nodeStartOffset:r};t-=i.piece.length-s;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==Yt;){if(i.piece.lineFeedCnt>0){const s=this.getAccumulatedValue(i,0),o=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,s),nodeStartOffset:o}}else if(i.piece.length>=t-1){const s=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:s}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Yt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,s=i[r]+t.start.column;return r===i.length-1||i[r+1]>s+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(s)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Yt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let s;e.piece.end.column===0?s={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:s={line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Sa(e.piece.bufferIndex,e.piece.start,s,a,o),Vh(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,u=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Sa(t.piece.bufferIndex,l,t.piece.end,u,c),Vh(this,t,-1,-1),t.piece.length===0&&i.push(t);const d=this.createNewPieces(`\r
`);this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)g2(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)g2(this,i);else{const r=i.piece,s={line:r.start.line+1,column:0},o=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,s,r.end);i.piece=new Sa(r.bufferIndex,s,r.end,a,o),Vh(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Yt)return t(Yt);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===Yt)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),s=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(r,s)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new rW(t,1);if(i.left=Yt,i.right=Yt,i.parent=Yt,i.size_left=0,i.lf_left=0,this.root===Yt)this.root=i,i.color=0;else if(e.right===Yt)e.right=i,i.parent=e;else{const s=SG(e.right);s.left=i,i.parent=s}return mde(this,i),i}rbInsertLeft(e,t){const i=new rW(t,1);if(i.left=Yt,i.right=Yt,i.parent=Yt,i.size_left=0,i.lf_left=0,this.root===Yt)this.root=i,i.color=0;else if(e.left===Yt)e.left=i,i.parent=e;else{const r=ywe(e.left);r.right=i,i.parent=r}return mde(this,i),i}}class _C extends je{constructor(e,t,i,r,s,o,a){super(),this._onDidChangeContent=this._register(new ke),this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._pieceTree=new d1t(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),s=this.getPositionAt(i);return new _e(r.lineNumber,r.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);let s=0;const o=this._getEndOfLine(t),a=this.getEOL();if(o.length!==a.length){const l=o.length-a.length,c=e.endLineNumber-e.startLineNumber;s=l*c}return r-i+s}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,s=e.endLineNumber;for(let o=r;o<=s;o++){const a=this.getLineContent(o),l=o===r?e.startColumn-1:0,c=o===s?e.endColumn-1:a.length;for(let u=l;u<c;u++)hs(a.charCodeAt(u))?(i=i+1,u=u+1):i=i+1}return i+=this._getEndOfLine(t).length*(s-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Oa(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Wv(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,a=!0,l=[];for(let m=0;m<e.length;m++){const v=e[m];a&&v._isTracked&&(a=!1);const C=v.range;if(v.text){let k=!0;o||(k=!hq(v.text),o=k),!r&&k&&(r=Xx(v.text)),!s&&k&&(s=bCe(v.text))}let y="",w=0,_=0,x=0;if(v.text){let k;[w,_,x,k]=n0(v.text);const D=this.getEOL();k===0||k===(D===`\r
`?2:1)?y=v.text:y=v.text.replace(/\r\n|\r|\n/g,D)}l[m]={sortIndex:m,identifier:v.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:y,eolCount:w,firstLineLength:_,lastLineLength:x,forceMoveMarkers:!!v.forceMoveMarkers,isAutoWhitespaceEdit:v.isAutoWhitespaceEdit||!1}}l.sort(_C._sortOpsAscending);let c=!1;for(let m=0,v=l.length-1;m<v;m++){const C=l[m].range.getEndPosition(),y=l[m+1].range.getStartPosition();if(y.isBeforeOrEqual(C)){if(y.isBefore(C))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const u=i||t?_C._getInverseEditRanges(l):[],d=[];if(t)for(let m=0;m<l.length;m++){const v=l[m],C=u[m];if(v.isAutoWhitespaceEdit&&v.range.isEmpty())for(let y=C.startLineNumber;y<=C.endLineNumber;y++){let w="";y===C.startLineNumber&&(w=this.getLineContent(v.range.startLineNumber),Oa(w)!==-1)||d.push({lineNumber:y,oldContent:w})}}let h=null;if(i){let m=0;h=[];for(let v=0;v<l.length;v++){const C=l[v],y=u[v],w=this.getValueInRange(C.range),_=C.rangeOffset+m;m+=C.text.length-w.length,h[v]={sortIndex:C.sortIndex,identifier:C.identifier,range:y,text:w,textChange:new Vs(C.rangeOffset,w,_,C.text)}}c||h.sort((v,C)=>v.sortIndex-C.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=o;const f=this._doApplyEdits(l);let p=null;if(t&&d.length>0){d.sort((m,v)=>v.lineNumber-m.lineNumber),p=[];for(let m=0,v=d.length;m<v;m++){const C=d[m].lineNumber;if(m>0&&d[m-1].lineNumber===C)continue;const y=d[m].oldContent,w=this.getLineContent(C);w.length===0||w===y||Oa(w)!==-1||p.push(C)}}return this._onDidChangeContent.fire(),new hut(h,f,p)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,s=new _e(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let o=i.startLineNumber,a=i.startColumn;const l=[];for(let f=0,p=e.length;f<p;f++){const m=e[f],v=m.range;t=t||m.forceMoveMarkers,l.push(this.getValueInRange(new _e(o,a,v.startLineNumber,v.startColumn))),m.text.length>0&&l.push(m.text),o=v.endLineNumber,a=v.endColumn}const c=l.join(""),[u,d,h]=n0(c);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:c,eolCount:u,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(_C._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],s=r.range.startLineNumber,o=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(s===a&&o===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const c=new _e(s,o,a,l);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,s=null;for(let o=0,a=e.length;o<a;o++){const l=e[o];let c,u;s?s.range.endLineNumber===l.range.startLineNumber?(c=i,u=r+(l.range.startColumn-s.range.endColumn)):(c=i+(l.range.startLineNumber-s.range.endLineNumber),u=l.range.startColumn):(c=l.range.startLineNumber,u=l.range.startColumn);let d;if(l.text.length>0){const h=l.eolCount+1;h===1?d=new _e(c,u,c,u+l.firstLineLength):d=new _e(c,u,c+h-1,l.lastLineLength+1)}else d=new _e(c,u,c,u);i=d.endLineNumber,r=d.endColumn,t.push(d),s=l}return t}static _sortOpsAscending(e,t){const i=_e.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=_e.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class h1t{constructor(e,t,i,r,s,o,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=s,this._containsRTL=o,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,o=i.length;s<o;s++){const a=i[s].buffer.replace(/\r\n|\r|\n/g,t),l=$h(a);i[s]=new sb(a,l)}const r=new _C(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class _we{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&gq(e)&&(this.BOM=oat,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=l1t(this._tmpLineStarts,e);this.chunks.push(new sb(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=Xx(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=bCe(e)))}finish(e=!0){return this._finish(),new h1t(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=$h(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class f1t{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const r=this._store.slice(0,e),s=this._store.slice(e+t),o=g1t(i,this._default);this._store=r.concat(o,s)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=xA(this._store,e,i)}}function g1t(n,e){const t=[];for(let i=0;i<n;i++)t[i]=e;return t}class p1t{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class sW{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new p1t(e,[t]))}finalize(){return this._tokens}}class m1t{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new oW(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class b1t extends m1t{constructor(e,t,i,r){super(e,t),this._textModel=i,this._languageIdCodec=r}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t)break;const s=this._textModel.getLineContent(r.lineNumber),o=jw(this._languageIdCodec,i,this.tokenizationSupport,s,!0,r.startState);e.add(r.lineNumber,o.tokens),this.store.setEndState(r.lineNumber,o.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const r=this._textModel.getLanguageId(),s=this._textModel.getLineContent(e.lineNumber),o=s.substring(0,e.column-1)+t+s.substring(e.column-1),a=jw(this._languageIdCodec,r,this.tokenizationSupport,o,!0,i),l=new Ds(a.tokens,o,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,s=e.column,o=this.getStartState(r);if(!o)return null;const a=this._textModel.getLineContent(r),l=a.substring(0,s-1)+i+a.substring(s-1+t),c=this._textModel.getLanguageIdAtPosition(r,0),u=jw(this._languageIdCodec,c,this.tokenizationSupport,l,!0,o);return new Ds(u.tokens,l,this._languageIdCodec)}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let r=this.guessStartState(t);const s=this._textModel.getLanguageId();for(let o=t;o<=i;o++){const a=this._textModel.getLineContent(o),l=jw(this._languageIdCodec,s,this.tokenizationSupport,a,!0,r);e.add(o,l.tokens),r=l.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let r=null;for(let a=e-1;t>1&&a>=1;a--){const l=this._textModel.getLineFirstNonWhitespaceColumn(a);if(l!==0&&l<t&&(i.push(this._textModel.getLineContent(a)),t=l,r=this.getStartState(a),r))break}r||(r=this.tokenizationSupport.getInitialState()),i.reverse();const s=this._textModel.getLanguageId();let o=r;for(const a of i)o=jw(this._languageIdCodec,s,this.tokenizationSupport,a,!1,o).endState;return o}}class oW{constructor(e){this.lineCount=e,this._tokenizationStateStore=new v1t,this._invalidEndStatesLineNumbers=new y1t,this._invalidEndStatesLineNumbers.addRange(new dn(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new ti("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new dn(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new dn(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=n0(t.text);this.acceptChange(new Xt(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new dn(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new ti("Start state must be defined");return{lineNumber:t,startState:i}}}class v1t{constructor(){this._lineEndStates=new f1t(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class y1t{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new dn(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new dn(i.start,e):this._ranges.splice(t,1,new dn(i.start,e),new dn(e+1,i.endExclusive))}}addRange(e){dn.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let r=i;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;const s=t-e.length;for(let o=r;o<this._ranges.length;o++)this._ranges[o]=this._ranges[o].delta(s);if(i===r){const o=new dn(e.start,e.start+t);o.isEmpty||this._ranges.splice(i,0,o)}else{const o=Math.min(e.start,this._ranges[i].start),a=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),l=new dn(o,a+s);l.isEmpty?this._ranges.splice(i,r-i):this._ranges.splice(i,r-i,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function jw(n,e,t,i,r,s){let o=null;if(t)try{o=t.tokenizeEncoded(i,r,s.clone())}catch(a){_i(a)}return o||(o=iG(n.encodeLanguageId(e),s)),Ds.convertToEndOffset(o.tokens,i.length),o}class C1t{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,kCe(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?Uye(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new sW,i=zv.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var i;const t=(i=this._tokenizerWithStateStore)==null?void 0:i.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new Xt(e,t))}}class _1t{constructor(){this._onDidChangeVisibleRanges=new ke,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new w1t(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class w1t{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(r=>new Xt(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class S1t extends je{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new Lo(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){es(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class wwe extends je{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new ke),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new ke),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class bde extends wwe{constructor(e,t,i,r){super(t,i,r),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=_H.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new Ds(i,t,this._languageIdCodec)}return Ds.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}}const Swe=Nn("treeSitterParserService"),jh=new Uint32Array(0).buffer;class ud{static deleteBeginning(e,t){return e===null||e===jh?e:ud.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===jh)return e;const i=of(e),r=i[i.length-2];return ud.delete(e,t,r)}static delete(e,t,i){if(e===null||e===jh||t===i)return e;const r=of(e),s=r.length>>>1;if(t===0&&r[r.length-2]===i)return jh;const o=Ds.findIndexInTokensArray(r,t),a=o>0?r[o-1<<1]:0,l=r[o<<1];if(i<l){const f=i-t;for(let p=o;p<s;p++)r[p<<1]-=f;return e}let c,u;a!==t?(r[o<<1]=t,c=o+1<<1,u=t):(c=o<<1,u=a);const d=i-t;for(let f=o+1;f<s;f++){const p=r[f<<1]-d;p>u&&(r[c++]=p,r[c++]=r[(f<<1)+1],u=p)}if(c===r.length)return e;const h=new Uint32Array(c);return h.set(r.subarray(0,c),0),h.buffer}static append(e,t){if(t===jh)return e;if(e===jh)return t;if(e===null)return e;if(t===null)return null;const i=of(e),r=of(t),s=r.length>>>1,o=new Uint32Array(i.length+r.length);o.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<s;c++)o[a++]=r[c<<1]+l,o[a++]=r[(c<<1)+1];return o.buffer}static insert(e,t,i){if(e===null||e===jh)return e;const r=of(e),s=r.length>>>1;let o=Ds.findIndexInTokensArray(r,t);o>0&&r[o-1<<1]===t&&o--;for(let a=o;a<s;a++)r[a<<1]+=i;return e}}function of(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class vk{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==jh)return new Ds(of(r),i,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=i.length,s[1]=vde(this._languageIdCodec.encodeLanguageId(e)),new Ds(s,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?of(i):null;if(t===0){let s=!1;if(r&&r.length>1&&(s=bu.getLanguageId(r[1])!==e),!s)return jh}if(!r||r.length===0){const s=new Uint32Array(2);return s[0]=t,s[1]=vde(e),s.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=xA(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,s){const o=vk._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=o,s?!vk._equals(a,o):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=of(e),r=of(t);if(i.length!==r.length)return!1;for(let s=0,o=i.length;s<o;s++)if(i[s]!==r[s])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Pe(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=ud.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=ud.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=ud.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=ud.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=ud.insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=ud.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=ud.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];let a=0,l=0,c=!1;for(let u=o.startLineNumber;u<=o.endLineNumber;u++)c?(this.setTokens(t.getLanguageId(),u-1,t.getLineLength(u),o.getLineTokens(u),!1),l=u):this.setTokens(t.getLanguageId(),u-1,t.getLineLength(u),o.getLineTokens(u),!0)&&(c=!0,a=u,l=u);c&&i.push({fromLineNumber:a,toLineNumber:l})}return{changes:i}}}function vde(n){return(n<<0|0|0|32768|2<<24|1024)>>>0}class LG{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const s=t[0].getRange(),o=t[t.length-1].getRange();if(!s||!o)return e;i=e.plusRange(s).plusRange(o)}let r=null;for(let s=0,o=this._pieces.length;s<o;s++){const a=this._pieces[s];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(s,1),s--,o--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};continue}const[l,c]=a.split(i);if(l.isEmpty()){r=r||{index:s};continue}c.isEmpty()||(this._pieces.splice(s,1,l,c),s++,o++,r=r||{index:s})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=xA(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const r=LG._findFirstPieceWithLine(i,e),s=i[r].getLineTokens(e);if(!s)return t;const o=t.getCount(),a=s.getCount();let l=0;const c=[];let u=0,d=0;const h=(f,p)=>{f!==d&&(d=f,c[u++]=f,c[u++]=p)};for(let f=0;f<a;f++){const p=s.getStartCharacter(f),m=s.getEndCharacter(f),v=s.getMetadata(f),C=((v&1?2048:0)|(v&2?4096:0)|(v&4?8192:0)|(v&8?16384:0)|(v&16?16744448:0)|(v&32?4278190080:0))>>>0,y=~C>>>0;for(;l<o&&t.getEndOffset(l)<=p;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<o&&t.getStartOffset(l)<p&&h(p,t.getMetadata(l));l<o&&t.getEndOffset(l)<m;)h(t.getEndOffset(l),t.getMetadata(l)&y|v&C),l++;if(l<o)h(m,t.getMetadata(l)&y|v&C),t.getEndOffset(l)===m&&l++;else{const w=Math.min(Math.max(0,l-1),o-1);h(m,t.getMetadata(w)&y|v&C)}}for(;l<o;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new Ds(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let s=i+Math.floor((r-i)/2);if(e[s].endLineNumber<t)i=s+1;else if(e[s].startLineNumber>t)r=s-1;else{for(;s>i&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}}return i}acceptEdit(e,t,i,r,s){for(const o of this._pieces)o.acceptEdit(e,t,i,r,s)}}var x1t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},b6=function(n,e){return function(t,i){e(t,i,n)}},yT;let aW=yT=class extends fwe{constructor(e,t,i,r,s,o,a){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=r,this._languageService=s,this._languageConfigurationService=o,this._treeSitterService=a,this._semanticTokens=new LG(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new ke),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ke),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ke),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new It),this._register(this._languageConfigurationService.onDidChange(l=>{l.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(ut.filter(_H.onDidChange,l=>l.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new yde(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new bde(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){var i;const t=this._tokens!==void 0;(i=this._tokens)==null||i.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(r=>{this._emitModelTokensChangedEvent(r)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(r=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){_H.get(this._languageId)?this._tokens instanceof bde||this.createTokens(!0):this._tokens instanceof yde||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,r,s]=n0(t.text);this._semanticTokens.acceptEdit(t.range,i,r,s,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new ti("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),r=this.getLineTokens(t.lineNumber),s=r.findTokenIndexAtOffset(t.column-1),[o,a]=yT._findLanguageBoundaries(r,s),l=Gx(t.column,this.getLanguageConfiguration(r.getLanguageId(s)).getWordDefinition(),i.substring(o,a),o);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(s>0&&o===t.column-1){const[c,u]=yT._findLanguageBoundaries(r,s-1),d=Gx(t.column,this.getLanguageConfiguration(r.getLanguageId(s-1)).getWordDefinition(),i.substring(c,u),c);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn)return d}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let o=t;o>=0&&e.getLanguageId(o)===i;o--)r=e.getStartOffset(o);let s=e.getLineContent().length;for(let o=t,a=e.getCount();o<a&&e.getLanguageId(o)===i;o++)s=e.getEndOffset(o);return[r,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new Pe(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};aW=yT=x1t([b6(4,bs),b6(5,nh),b6(6,Swe)],aW);class yde extends wwe{constructor(e,t,i,r){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new Nf),this._tokens=new vk(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new Nf),this._attachedViewStates=this._register(new nq),this._register(Rr.onDidChange(s=>{const o=this.getLanguageId();s.changedLanguages.indexOf(o)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:s,state:o})=>{if(o){let a=this._attachedViewStates.get(s);a||(a=new S1t(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(s,a)),a.handleStateChange(o)}else this._attachedViewStates.deleteAndDispose(s)}))}resetTokenization(e=!0){var s;this._tokens.flush(),(s=this._debugBackgroundTokens)==null||s.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new oW(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const t=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const o=Rr.get(this.getLanguageId());if(!o)return[null,null];let a;try{a=o.getInitialState()}catch(l){return _i(l),[null,null]}return[o,a]},[i,r]=t();if(i&&r?this._tokenizer=new b1t(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const o={setTokens:a=>{this.setTokens(a)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const a=2;this._backgroundTokenizationState=a,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(a,l)=>{var u;if(!this._tokenizer)return;const c=this._tokenizer.store.getFirstInvalidEndStateLineNumber();c!==null&&a>=c&&((u=this._tokenizer)==null||u.store.setEndState(a,l))}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,o)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new C1t(this._tokenizer,o),this._defaultBackgroundTokenizer.handleChanges()),i!=null&&i.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new vk(this._languageIdCodec),this._debugBackgroundStates=new oW(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:a=>{var l;(l=this._debugBackgroundTokens)==null||l.setMultilineTokens(a,this._textModel)},backgroundTokenizationFinished(){},setEndState:(a,l)=>{var c;(c=this._debugBackgroundStates)==null||c.setEndState(a,l)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)==null||e.handleChanges()}handleDidChangeContent(e){var t,i,r;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const s of e.changes){const[o,a]=n0(s.text);this._tokens.acceptEdit(s.range,o,a),(t=this._debugBackgroundTokens)==null||t.acceptEdit(s.range,o,a)}(i=this._debugBackgroundStates)==null||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(r=this._defaultBackgroundTokenizer)==null||r.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=Xt.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var o,a;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new sW,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(i,e,t),s=this.setTokens(i.finalize());if(r)for(const l of s.changes)(o=this._backgroundTokenizer.value)==null||o.requestTokens(l.fromLineNumber,l.toLineNumber+1);(a=this._defaultBackgroundTokenizer)==null||a.checkFinished()}forceTokenization(e){var i,r;const t=new sW;(i=this._tokenizer)==null||i.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),(r=this._defaultBackgroundTokenizer)==null||r.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){var r;const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const s=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(s)&&((r=this._debugBackgroundTokenizer.value)!=null&&r.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const r=this._textModel.validatePosition(new Pe(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const r=this._textModel.validatePosition(e);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,t,i)}get hasTokens(){return this._tokens.hasTokens}}class k1t{constructor(){this.changeType=1}}class Ru{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const s of t)i+=e.substring(r,s.column-1),r=s.column-1,i+=s.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Ru(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Ru(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}constructor(e,t,i,r,s){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=s}}class Cde{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class L1t{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class E1t{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class D1t{constructor(){this.changeType=5}}class wC{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,s=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new wC(i,r,s,o)}}class xwe{constructor(e){this.changes=e}}class Vb{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=wC.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Vb._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Vb(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,s=t.versionId,o=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:i,eol:r,isEolChange:c,versionId:s,isUndoing:o,isRedoing:a,isFlush:l}}}var T1t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},p2=function(n,e){return function(t,i){e(t,i,n)}},Wm;function I1t(n){const e=new _we;return e.acceptChunk(n),e.finish()}function M1t(n){const e=new _we;let t;for(;typeof(t=n.read())=="string";)e.acceptChunk(t);return e.finish()}function _de(n,e){let t;return typeof n=="string"?t=I1t(n):uut(n)?t=M1t(n):t=n,t.create(e)}let m2=0;const R1t=999,N1t=1e4;class A1t{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=64*1024)return e.join("")}while(!0)}}const Uw=()=>{throw new Error("Invalid change accessor")};var yu;let lW=(yu=class extends je{static resolveOptions(e,t){if(t.detectIndentation){const i=cde(e,t.tabSize,t.insertSpaces);return new cT({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new cT(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return Ad(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,r=null,s,o,a,l){super(),this._undoRedoService=s,this._languageService=o,this._languageConfigurationService=a,this.instantiationService=l,this._onWillDispose=this._register(new ke),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new V1t(p=>this.handleBeforeFireDecorationsChangedEvent(p))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new ke),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ke),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new ke),this._eventEmitter=this._register(new z1t),this._languageSelectionListener=this._register(new Nf),this._deltaDecorationCallCnt=0,this._attachedViews=new _1t,m2++,this.id="$model"+m2,this.isForSimpleWidget=i.isForSimpleWidget,typeof r>"u"||r===null?this._associatedResource=Sn.parse("inmemory://model/"+m2):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:c,disposable:u}=_de(e,i.defaultEOL);this._buffer=c,this._bufferDisposable=u,this._options=Wm.resolveOptions(this._buffer,i);const d=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new Hvt(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Uvt(this,this._languageConfigurationService)),this._decorationProvider=this._register(new zvt(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(aW,this,this._bracketPairs,d,this._attachedViews);const h=this._buffer.getLineCount(),f=this._buffer.getValueLengthInRange(new _e(1,1,h,this._buffer.getLineLength(h)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=f>Wm.LARGE_FILE_SIZE_THRESHOLD||h>Wm.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=f>Wm.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=f>Wm._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=vCe(m2),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new wde,this._commandManager=new wG(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(d),this._register(this._languageConfigurationService.onDidChange(p=>{this._bracketPairs.handleLanguageConfigurationServiceChange(p),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(p)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new _C([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=je.None}_assertNotDisposed(){if(this._isDisposed)throw new ti("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Vb(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw LA();const{textBuffer:t,disposable:i}=_de(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,s,o,a,l){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),isEolChange:l,versionId:this.getVersionId(),isUndoing:s,isRedoing:o,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new wde,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new wC([new k1t],this._versionId,!1,!1),this._createContentChanged2(new _e(1,1,s,o),0,r,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new wC([new D1t],this._versionId,!1,!1),this._createContentChanged2(new _e(1,1,s,o),0,r,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const s=t[i],o=s.range,a=s.cachedAbsoluteStart-s.start,l=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);s.cachedAbsoluteStart=l,s.cachedAbsoluteEnd=c,s.cachedVersionId=e,s.start=l-a,s.end=c-a,Bp(s)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const s=this._buffer.getLineLength(r);s>=N1t?t+=s:e+=s}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,r=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,s=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new cT({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:o});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=cde(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),owe(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(mCe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new ti("Operation would exceed heap memory limits");const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new A1t(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ti("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ti("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new ti("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ti("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ti("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ti("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let s=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),o=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(s<1)s=1,o=1;else if(s>t)s=t,o=this.getLineMaxColumn(s);else if(o<=1)o=1;else{const d=this.getLineMaxColumn(s);o>=d&&(o=d)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),u=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,u=1;else if(c>t)c=t,u=this.getLineMaxColumn(c);else if(u<=1)u=1;else{const d=this.getLineMaxColumn(c);u>=d&&(u=d)}return i===s&&r===o&&a===c&&l===u&&e instanceof _e&&!(e instanceof wi)?e:new _e(s,o,c,u)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const s=this.getLineMaxColumn(e);if(t>s)return!1;if(i===1){const o=this._buffer.getLineCharCode(e,t-2);if(hs(o))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),s=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),o=this._buffer.getLineCount();if(r<1)return new Pe(1,1);if(r>o)return new Pe(o,this.getLineMaxColumn(o));if(s<=1)return new Pe(r,1);const a=this.getLineMaxColumn(r);if(s>=a)return new Pe(r,a);if(i===1){const l=this._buffer.getLineCharCode(r,s-2);if(hs(l))return new Pe(r,s-1)}return new Pe(r,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof Pe&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(s,o,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(i,r-2):0,l=o>1&&o<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,o-2):0,c=hs(a),u=hs(l);return!c&&!u}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof _e&&!(e instanceof wi)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),s=i.lineNumber,o=i.column,a=r.lineNumber,l=r.column;{const c=o>1?this._buffer.getLineCharCode(s,o-2):0,u=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,d=hs(c),h=hs(u);return!d&&!h?new _e(s,o,a,l):s===a&&o===l?new _e(s,o-1,a,l-1):d&&h?new _e(s,o-1,a,l+1):d?new _e(s,o-1,a,l):new _e(s,o,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new _e(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,s,o,a=R1t){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(d=>_e.isIRange(d))&&(l=t.map(d=>this.validateRange(d)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((d,h)=>d.startLineNumber-h.startLineNumber||d.startColumn-h.startColumn);const c=[];c.push(l.reduce((d,h)=>_e.areIntersecting(d,h)?d.plusRange(h):(c.push(d),h)));let u;if(!i&&e.indexOf(`
`)<0){const h=new ey(e,i,r,s).parseSearchRequest();if(!h)return[];u=f=>this.findMatchesLineByLine(f,h,o,a)}else u=d=>QD.findMatches(this,new ey(e,i,r,s),d,o,a);return c.map(u).reduce((d,h)=>d.concat(h),[])}findNextMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new ey(e,i,r,s).parseSearchRequest();if(!c)return null;const u=this.getLineCount();let d=new _e(a.lineNumber,a.column,u,this.getLineMaxColumn(u)),h=this.findMatchesLineByLine(d,c,o,1);return QD.findNextMatch(this,new ey(e,i,r,s),a,o),h.length>0||(d=new _e(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(d,c,o,1),h.length>0)?h[0]:null}return QD.findNextMatch(this,new ey(e,i,r,s),a,o)}findPreviousMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);return QD.findPreviousMatch(this,new ey(e,i,r,s),a,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Q7?e:new Q7(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const s=t.map(a=>({range:this.validateRange(a.range),text:a.text}));let o=!0;if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let u=!1;for(let d=0,h=s.length;d<h;d++){const f=s[d].range,p=f.startLineNumber>c.endLineNumber,m=c.startLineNumber>f.endLineNumber;if(!p&&!m){u=!0;break}}if(!u){o=!1;break}}if(o)for(let a=0,l=this._trimAutoWhitespaceLines.length;a<l;a++){const c=this._trimAutoWhitespaceLines[a],u=this.getLineMaxColumn(c);let d=!0;for(let h=0,f=s.length;h<f;h++){const p=s[h].range,m=s[h].text;if(!(c<p.startLineNumber||c>p.endLineNumber)&&!(c===p.startLineNumber&&p.startColumn===u&&p.isEmpty()&&m&&m.length>0&&m.charAt(0)===`
`)&&!(c===p.startLineNumber&&p.startColumn===1&&p.isEmpty()&&m&&m.length>0&&m.charAt(m.length-1)===`
`)){d=!1;break}}if(d){const h=new _e(c,1,c,u);t.push(new Q7(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,r)}_applyUndo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.newPosition),l=this.getPositionAt(o.newEnd);return{range:new _e(a.lineNumber,a.column,l.lineNumber,l.column),text:o.oldText}});this._applyUndoRedoEdits(s,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.oldPosition),l=this.getPositionAt(o.oldEnd);return{range:new _e(a.lineNumber,a.column,l.lineNumber,l.column),text:o.newText}});this._applyUndoRedoEdits(s,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,s,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),o=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,o.length!==0){for(let c=0,u=o.length;c<u;c++){const d=o[c];this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,u=o.length;c<u;c++){const d=o[c],[h]=n0(d.text);this._onDidChangeDecorations.fire();const f=d.range.startLineNumber,p=d.range.endLineNumber,m=p-f,v=h,C=Math.min(m,v),y=v-m,w=s-l-y+f,_=w,x=w+v,k=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Pe(_,1)),this.getOffsetAt(new Pe(x,this.getLineMaxColumn(x))),0),D=Ru.fromDecorations(k),T=new Rf(D);for(let L=C;L>=0;L--){const I=f+L,R=w+L;T.takeFromEndWhile(O=>O.lineNumber>R);const N=T.takeFromEndWhile(O=>O.lineNumber===R);a.push(new Cde(I,this.getLineContent(R),N))}if(C<m){const L=f+C;a.push(new L1t(L+1,p))}if(C<v){const L=new Rf(D),I=f+C,R=v-C,N=s-l-R+I+1,O=[],F=[];for(let A=0;A<R;A++){const H=N+A;F[A]=this.getLineContent(H),L.takeWhile(W=>W.lineNumber<H),O[A]=L.takeWhile(W=>W.lineNumber===H)}a.push(new E1t(I+1,f+v,F,O))}l+=y}this._emitContentChangedEvent(new wC(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(r=>new Cde(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeInjectedText.fire(new xwe(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(s,o)=>this._deltaDecorationsImpl(e,[],[{range:s,options:o}])[0],changeDecoration:(s,o)=>{this._changeDecorationImpl(s,o)},changeDecorationOptions:(s,o)=>{this._changeDecorationOptionsImpl(s,xde(o))},removeDecoration:s=>{this._deltaDecorationsImpl(e,[s],[])},deltaDecorations:(s,o)=>s.length===0&&o.length===0?[]:this._deltaDecorationsImpl(e,s,o)};let r=null;try{r=t(i)}catch(s){_i(s)}return i.addDecoration=Uw,i.changeDecoration=Uw,i.changeDecorationOptions=Uw,i.removeDecoration=Uw,i.deltaDecorations=Uw,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),_i(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Sde[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const s=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),a=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),o,a,s),r.setOptions(Sde[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const s=t[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1,s=!1){const o=this.getLineCount(),a=Math.min(o,Math.max(1,e)),l=Math.min(o,Math.max(1,t)),c=this.getLineMaxColumn(l),u=new _e(a,1,l,c),d=this._getDecorationsInRange(u,i,r,s);return aH(d,this._decorationProvider.getDecorationsInRange(u,i,r)),d}getDecorationsInRange(e,t=0,i=!1,r=!1,s=!1){const o=this.validateRange(e),a=this._getDecorationsInRange(o,t,i,s);return aH(a,this._decorationProvider.getDecorationsInRange(o,t,i,r)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Ru.fromDecorations(r).filter(s=>s.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,r){const s=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,s,o,t,i,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),o=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,o,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(i.options.before||t.before){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}const o=r!==s,a=O1t(t)!==CT(i);o||a?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,r=!1){const s=this.getVersionId(),o=t.length;let a=0;const l=i.length;let c=0;this._onDidChangeDecorations.beginDeferredEmit();try{const u=new Array(l);for(;a<o||c<l;){let d=null;if(a<o){do d=this._decorations[t[a++]];while(!d&&a<o);if(d){if(d.options.after){const h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(d.options.before){const h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(d),r||this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(c<l){if(!d){const C=++this._lastDecorationId,y=`${this._instanceId};${C}`;d=new bwe(y,0,0),this._decorations[y]=d}const h=i[c],f=this._validateRangeRelaxedNoAllocations(h.range),p=xde(h.options),m=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),v=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);d.ownerId=e,d.reset(s,m,v,f),d.setOptions(p),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(p),this._decorationsTree.insert(d),u[c]=d.id,c++}else d&&delete this._decorations[d.id]}return u}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return P1t(this.getLineContent(e))+1}},Wm=yu,yu._MODEL_SYNC_LIMIT=50*1024*1024,yu.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,yu.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,yu.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,yu.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Js.tabSize,indentSize:Js.indentSize,insertSpaces:Js.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Js.trimAutoWhitespace,largeFileOptimizations:Js.largeFileOptimizations,bracketPairColorizationOptions:Js.bracketPairColorizationOptions},yu);lW=Wm=T1t([p2(4,Bq),p2(5,bs),p2(6,nh),p2(7,ui)],lW);function P1t(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function v6(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function O1t(n){return!!n.after||!!n.before}function CT(n){return!!n.options.after||!!n.options.before}class wde{constructor(){this._decorationsTree0=new g6,this._decorationsTree1=new g6,this._injectedTextDecorationsTree=new g6}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,s,o){const a=e.getVersionId(),l=this._intervalSearch(t,i,r,s,a,o);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,i,r,s,o){const a=this._decorationsTree0.intervalSearch(e,t,i,r,s,o),l=this._decorationsTree1.intervalSearch(e,t,i,r,s,o),c=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,s,o);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,i,r){const s=e.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,s,!1);return this._ensureNodesHaveRanges(e,o).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,r).filter(s=>s.options.showIfCollapsed||!s.range.isEmpty())}getAll(e,t,i,r,s){const o=e.getVersionId(),a=this._search(t,i,r,o,s);return this._ensureNodesHaveRanges(e,a)}_search(e,t,i,r,s){if(i)return this._decorationsTree1.search(e,t,r,s);{const o=this._decorationsTree0.search(e,t,r,s),a=this._decorationsTree1.search(e,t,r,s),l=this._injectedTextDecorationsTree.search(e,t,r,s);return o.concat(a).concat(l)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){CT(e)?this._injectedTextDecorationsTree.insert(e):v6(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){CT(e)?this._injectedTextDecorationsTree.delete(e):v6(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){CT(e)?this._injectedTextDecorationsTree.resolveNode(e,t):v6(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function ed(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class kwe{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class F1t extends kwe{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:VI.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class B1t{constructor(e){this.position=(e==null?void 0:e.position)??Pp.Center,this.persistLane=e==null?void 0:e.persistLane}}class H1t extends kwe{constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?tt.fromHex(e):t.getColor(e.id)}}class yk{static from(e){return e instanceof yk?e:new yk(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class Zr{static register(e){return new Zr(e)}static createDynamic(e){return new Zr(e)}constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?ed(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?ed(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new F1t(e.overviewRuler):null,this.minimap=e.minimap?new H1t(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new B1t(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?ed(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?ed(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?ed(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?Zot(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?ed(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?ed(e.marginClassName):null,this.inlineClassName=e.inlineClassName?ed(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?ed(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?ed(e.afterContentClassName):null,this.after=e.after?yk.from(e.after):null,this.before=e.before?yk.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}}Zr.EMPTY=Zr.register({description:"empty"});const Sde=[Zr.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Zr.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Zr.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Zr.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function xde(n){return n instanceof Zr?n:Zr.createDynamic(n)}class V1t extends je{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new ke),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)==null||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,i;this._affectsMinimap||(this._affectsMinimap=!!((t=e.minimap)!=null&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((i=e.overviewRuler)!=null&&i.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class z1t extends je{constructor(){super(),this._fastEmitter=this._register(new ke),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ke),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}var W1t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},b2=function(n,e){return function(t,i){e(t,i,n)}},dy;function Rm(n){return n.toString()}let $1t=class{constructor(e,t,i){this.model=e,this._modelEventListeners=new It,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}dispose(){this._modelEventListeners.dispose()}};const j1t=ga||An?1:2;class U1t{constructor(e,t,i,r,s,o,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=s,this.sha1=o,this.versionId=a,this.alternativeVersionId=l}}var jb;let cW=(jb=class extends je{constructor(e,t,i,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._instantiationService=r,this._onModelAdded=this._register(new ke),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ke),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ke),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(s=>this._updateModelOptions(s))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var h;let i=Js.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const f=parseInt(e.editor.tabSize,10);isNaN(f)||(i=f),i<1&&(i=1)}let r="tabSize";if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const f=parseInt(e.editor.indentSize,10);isNaN(f)||(r=Math.max(f,1))}let s=Js.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let o=j1t;const a=e.eol;a===`\r
`?o=2:a===`
`&&(o=1);let l=Js.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(l=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let c=Js.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(c=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let u=Js.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(u=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let d=Js.bracketPairColorizationOptions;return(h=e.editor)!=null&&h.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(d={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:s,detectIndentation:c,defaultEOL:o,trimAutoWhitespace:l,largeFileOptimizations:u,bracketPairColorizationOptions:d}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:Sc===3||Sc===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const r=typeof e=="string"?e:e.languageId;let s=this._modelCreationOptionsByLanguageAndResource[r+t];if(!s){const o=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t}),a=this._getEOL(t,r);s=dy._readModelOptions({editor:o,eol:a},i),this._modelCreationOptionsByLanguageAndResource[r+t]=s}return s}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let r=0,s=i.length;r<s;r++){const o=i[r],a=this._models[o],l=a.model.getLanguageId(),c=a.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:l,resource:c})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:l,resource:c}))continue;const u=t[l+c],d=this.getCreationOptions(l,c,a.model.isForSimpleWidget);dy._setModelOptionsForModel(a.model,d,u)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&Pa(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(Rm(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(Rm(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(Rm(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const s=this.getCreationOptions(t,i,r),o=this._instantiationService.createInstance(lW,e,t,s,i);if(i&&this._disposedModels.has(Rm(i))){const c=this._removeDisposedModel(i),u=this._undoRedoService.getElements(i),d=this._getSHA1Computer(),h=d.canComputeSHA1(o)?d.computeSHA1(o)===c.sha1:!1;if(h||c.sharesUndoRedoStack){for(const f of u.past)Jh(f)&&f.matchesResource(i)&&f.setModel(o);for(const f of u.future)Jh(f)&&f.matchesResource(i)&&f.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,f=>Jh(f)&&f.matchesResource(i)),h&&(o._overwriteVersionId(c.versionId),o._overwriteAlternativeVersionId(c.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=Rm(o.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new $1t(o,c=>this._onWillDispose(c),(c,u)=>this._onDidChangeLanguage(c,u));return this._models[a]=l,l}createModel(e,t,i,r=!1){let s;return t?s=this._createModelData(e,t,i,r):s=this._createModelData(e,Tc,i,r),this._onModelAdded.fire(s.model),s.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(this._models[s].model)}return e}getModel(e){const t=Rm(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Cn.file||e.scheme===Cn.vscodeRemote||e.scheme===Cn.vscodeUserData||e.scheme===Cn.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=Rm(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const c=this._undoRedoService.getElements(e.uri);if(c.past.length>0||c.future.length>0){for(const u of c.past)Jh(u)&&u.matchesResource(e.uri)&&(s=!0,o+=u.heapSize(e.uri),u.setModel(e.uri));for(const u of c.future)Jh(u)&&u.matchesResource(e.uri)&&(s=!0,o+=u.heapSize(e.uri),u.setModel(e.uri))}}const a=dy.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(s)if(!r&&(o>a||!l.canComputeSHA1(e))){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,c=>Jh(c)&&c.matchesResource(e.uri)),this._insertDisposedModel(new U1t(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageId(),s=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);dy._setModelOptionsForModel(e,o,s),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new uW}},dy=jb,jb.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,jb);cW=dy=W1t([b2(0,br),b2(1,x0e),b2(2,Bq),b2(3,ui)],cW);const DR=class DR{canComputeSHA1(e){return e.getValueLength()<=DR.MAX_MODEL_SIZE}computeSHA1(e){const t=new EV,i=e.createSnapshot();let r;for(;r=i.read();)t.update(r);return t.digest()}};DR.MAX_MODEL_SIZE=10*1024*1024;let uW=DR;var dW;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(dW||(dW={}));const Lwe={Quickaccess:"workbench.contributions.quickaccess"};class q1t{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),cn(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return GU([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}Is.add(Lwe.Quickaccess,new q1t);const G1t={ctrlCmd:!1,alt:!1};var c0;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(c0||(c0={}));var dd;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(dd||(dd={}));var Ei;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage",n[n.NextSeparator=8]="NextSeparator",n[n.PreviousSeparator=9]="PreviousSeparator"})(Ei||(Ei={}));var vM;(function(n){n[n.Title=1]="Title",n[n.Inline=2]="Inline"})(vM||(vM={}));const dP=Nn("quickInputService");var K1t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kde=function(n,e){return function(t,i){e(t,i,n)}};let hW=class extends je{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=Is.as(Lwe.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var p,m;const[r,s]=this.getOrInstantiateProvider(e,i==null?void 0:i.enabledProviderPrefixes),o=this.visibleQuickAccess,a=o==null?void 0:o.descriptor;if(o&&s&&a===s){e!==s.prefix&&!(i!=null&&i.preserveValue)&&(o.picker.value=e),this.adjustValueSelection(o.picker,s,i);return}if(s&&!(i!=null&&i.preserveValue)){let v;if(o&&a&&a!==s){const C=o.value.substr(a.prefix.length);C&&(v=`${s.prefix}${C}`)}if(!v){const C=r==null?void 0:r.defaultFilterValue;C===dW.LAST?v=this.lastAcceptedPickerValues.get(s):typeof C=="string"&&(v=`${s.prefix}${C}`)}typeof v=="string"&&(e=v)}const l=(p=o==null?void 0:o.picker)==null?void 0:p.valueSelection,c=(m=o==null?void 0:o.picker)==null?void 0:m.value,u=new It,d=u.add(this.quickInputService.createQuickPick({useSeparators:!0}));d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=(i==null?void 0:i.placeholder)??(s==null?void 0:s.placeholder),d.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!o,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(d.itemActivation=(i==null?void 0:i.itemActivation)??dd.SECOND),d.contextKey=s==null?void 0:s.contextKey,d.filterValue=v=>v.substring(s?s.prefix.length:0);let h;t&&(h=new LCe,u.add(ut.once(d.onWillAccept)(v=>{v.veto(),d.hide()}))),u.add(this.registerPickerListeners(d,r,s,e,i));const f=u.add(new Z0);if(r&&u.add(r.provide(d,f.token,i==null?void 0:i.providerOptions)),ut.once(d.onDidHide)(()=>{d.selectedItems.length===0&&f.cancel(),u.dispose(),h==null||h.complete(d.selectedItems.slice(0))}),d.show(),l&&c===e&&(d.valueSelection=l),t)return h==null?void 0:h.p}adjustValueSelection(e,t,i){let r;i!=null&&i.preserveValue?r=[e.value.length,e.value.length]:r=[(t==null?void 0:t.prefix.length)??0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,i,r,s){const o=new It,a=this.visibleQuickAccess={picker:e,descriptor:i,value:r};return o.add(cn(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(l=>{const[c]=this.getOrInstantiateProvider(l,s==null?void 0:s.enabledProviderPrefixes);c!==t?this.show(l,{enabledProviderPrefixes:s==null?void 0:s.enabledProviderPrefixes,preserveValue:!0,providerOptions:s==null?void 0:s.providerOptions}):a.value=l})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e,t){const i=this.registry.getQuickAccessProvider(e);if(!i||t&&!(t!=null&&t.includes(i.prefix)))return[void 0,void 0];let r=this.mapProviderToDescriptor.get(i);return r||(r=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,r)),[r,i]}};hW=K1t([kde(0,dP),kde(1,ui)],hW);class hP extends Xf{constructor(e){super(),this._onChange=this._register(new ke),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ke),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Hn.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(ih().setupManagedHover(e.hoverDelegate??Gl("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var Q1t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class Ewe{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}Q1t([vr],Ewe.prototype,"toString",null);const Y1t=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function X1t(n){const e=[];let t=0,i;for(;i=Y1t.exec(n);){i.index-t>0&&e.push(n.substring(t,i.index));const[,r,s,,o]=i;o?e.push({label:r,href:s,title:o}):e.push({label:r,href:s}),t=i.index+i[0].length}return t<n.length&&e.push(n.substring(t)),new Ewe(e)}const y6={},Z1t=new S_e("quick-input-button-icon-");function J1t(n){if(!n)return;let e;const t=n.dark.toString();return y6[t]?e=y6[t]:(e=Z1t.nextId(),IV(`.${e}, .hc-light .${e}`,`background-image: ${Of(n.light||n.dark)}`),IV(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${Of(n.dark)}`),y6[t]=e),e}function XS(n,e,t){let i=n.iconClass||J1t(n.iconPath);return n.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:n.tooltip||"",class:i,enabled:!0,run:t}}function eyt(n,e,t){Wo(e);const i=X1t(n);let r=0;for(const s of i.nodes)if(typeof s=="string")e.append(...Ob(s));else{let o=s.title;!o&&s.href.startsWith("command:")?o=P("executeCommand","Click to execute command '{0}'",s.href.substring(8)):o||(o=s.href);const a=jt("a",{href:s.href,title:o,tabIndex:r++},s.label);a.style.textDecoration="underline";const l=f=>{flt(f)&&In.stop(f,!0),t.callback(s.href)},c=t.disposables.add(new kn(a,pt.CLICK)).event,u=t.disposables.add(new kn(a,pt.KEY_DOWN)).event,d=ut.chain(u,f=>f.filter(p=>{const m=new Bi(p);return m.equals(10)||m.equals(3)}));t.disposables.add(Uo.addTarget(a));const h=t.disposables.add(new kn(a,Di.Tap)).event;ut.any(c,h,d)(l,null,t.disposables),e.appendChild(a)}}var tyt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Lde=function(n,e){return function(t,i){e(t,i,n)}};const Dwe="inQuickInput",nyt=new Nt(Dwe,!1,P("inQuickInput","Whether keyboard focus is inside the quick input control")),iyt=Kn.has(Dwe),Twe="quickInputType",ryt=new Nt(Twe,void 0,P("quickInputType","The type of the currently visible quick input")),Iwe="cursorAtEndOfQuickInputBox",syt=new Nt(Iwe,!1,P("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),oyt=Kn.has(Iwe),fW={iconClass:Hn.asClassName(Lt.quickInputBack),tooltip:P("quickInput.back","Back"),handle:-1},TR=class TR extends je{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._leftButtons=[],this._rightButtons=[],this._inlineButtons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=TR.noPromptMessage,this._severity=Vr.Ignore,this.onDidTriggerButtonEmitter=this._register(new ke),this.onDidHideEmitter=this._register(new ke),this.onWillHideEmitter=this._register(new ke),this.onDisposeEmitter=this._register(new ke),this.visibleDisposables=this._register(new It),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!uv;this._ignoreFocusOut=e&&!uv,t&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(e){this._leftButtons=e.filter(t=>t===fW),this._rightButtons=e.filter(t=>t!==fW&&t.location!==vM.Inline),this._inlineButtons=e.filter(t=>t.location===vM.Inline),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=c0.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}willHide(e=c0.Other){this.onWillHideEmitter.fire({reason:e})}update(){var r;if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Wo(this.ui.widget,this._widget):Wo(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new $v,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const s=this._leftButtons.map((l,c)=>XS(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.leftActionBar.push(s,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const o=this._rightButtons.map((l,c)=>XS(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.rightActionBar.push(o,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();const a=this._inlineButtons.map((l,c)=>XS(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.inlineActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const s=((r=this.toggles)==null?void 0:r.filter(o=>o instanceof hP))??[];this.ui.inputBox.toggles=s}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,Wo(this.ui.message),eyt(i,this.ui.message,{callback:s=>{this.ui.linkOpenerDelegate(s)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?P("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Vr.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};TR.noPromptMessage=P("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");let yM=TR;const IR=class IR extends yM{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ke),this.onWillAcceptEmitter=this._register(new ke),this.onDidAcceptEmitter=this._register(new ke),this.onDidCustomEmitter=this._register(new ke),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=dd.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ke),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ke),this.onDidTriggerItemButtonEmitter=this._register(new ke),this.onDidTriggerSeparatorButtonEmitter=this._register(new ke),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new _L,this.type="quickPick",this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?G1t:this.ui.keyMods}get valueSelection(){const e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(Ei.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(e,t)=>t)(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&es(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&es(e,this._selectedItems,(i,r)=>i===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(Sq(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||!this.visible||this.selectedItemsToConfirm!==this._selectedItems&&es(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ze(this.ui.container,pt.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Bi(e),i=t.keyCode;this._quickNavigate.keybindings.some(o=>{const a=o.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.titleButtons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let r=this.ariaLabel;!r&&i.inputBox&&(r=this.placeholder||IR.DEFAULT_ARIA_LABEL,this.title&&(r+=` - ${this.title}`)),this.ui.list.ariaLabel!==r&&(this.ui.list.ariaLabel=r??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case dd.NONE:this._itemActivation=dd.FIRST;break;case dd.SECOND:this.ui.list.focus(Ei.Second),this._itemActivation=dd.FIRST;break;case dd.LAST:this.ui.list.focus(Ei.Last),this._itemActivation=dd.FIRST;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ei.First)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(e??!1))}};IR.DEFAULT_ARIA_LABEL=P("quickInputBox.ariaLabel","Type to narrow down results.");let CM=IR,ayt=class extends yM{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new ke),this.onDidAcceptEmitter=this._register(new ke),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}},gW=class extends lk{constructor(e,t){super("element",!1,i=>this.getOverrideOptions(i),e,t)}getOverrideOptions(e){const t=(Ls(e.content)?e.content.textContent??"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:t,skipFadeInAnimation:!0}}}};gW=tyt([Lde(0,br),Lde(1,NL)],gW);tt.white.toString(),tt.white.toString();class pW extends je{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new ke),this._onDidEscape=this._register(new ke),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,r=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(Uo.addTarget(this._element)),[pt.CLICK,Di.Tap].forEach(s=>{this._register(ze(this._element,s,o=>{if(!this.enabled){In.stop(o);return}this._onDidClick.fire(o)}))}),this._register(ze(this._element,pt.KEY_DOWN,s=>{const o=new Bi(s);let a=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(s),a=!0):o.equals(9)&&(this._onDidEscape.fire(s),this._element.blur(),a=!0),a&&In.stop(o,!0)})),this._register(ze(this._element,pt.MOUSE_OVER,s=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(ze(this._element,pt.MOUSE_OUT,s=>{this.updateBackground(!1)})),this.focusTracker=this._register(ek(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of Ob(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const r=document.createElement("span");r.textContent=i,t.push(r)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var r;if(this._label===e||pC(this._label)&&pC(e)&&Rgt(this._label,e))return;this._element.classList.add("monaco-text-button");const t=this.options.supportShortLabel?this._labelElement:this._element;if(pC(e)){const s=tG(e,{inline:!0});s.dispose();const o=(r=s.element.querySelector("p"))==null?void 0:r.innerHTML;if(o){const a=RCe(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=a}else Wo(t)}else this.options.supportIcons?Wo(t,...this.getContentElements(e)):t.textContent=e;let i="";typeof this.options.title=="string"?i=this.options.title:this.options.title&&(i=$gt(e)),this.setTitle(i),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",i),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...Hn.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(ih().setupManagedHover(this.options.hoverDelegate??Gl("mouse"),this._element,e)):this._hover&&this._hover.update(e)}}class Ede{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=Tt(e,jt(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=gV(this.countFormat,this.count),this.element.title=gV(this.titleFormat,this.count),this.element.style.backgroundColor=this.styles.badgeBackground??"",this.element.style.color=this.styles.badgeForeground??"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const Dde="done",Tde="active",C6="infinite",_6="infinite-long-running",Ide="discrete",MR=class MR extends je{constructor(e,t){super(),this.progressSignal=this._register(new Nf),this.workedVal=0,this.showDelayedScheduler=this._register(new Lo(()=>jCe(this.element),0)),this.longRunningScheduler=this._register(new Lo(()=>this.infiniteLongRunning(),MR.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(t==null?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Tde,C6,_6,Ide),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(Dde),this.element.classList.contains(C6)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Ide,Dde,_6),this.element.classList.add(Tde,C6),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(_6)}getContainer(){return this.element}};MR.LONG_RUNNING_INFINITE_THRESHOLD=1e4;let mW=MR;const lyt=P("caseDescription","Match Case"),cyt=P("wordsDescription","Match Whole Word"),uyt=P("regexDescription","Use Regular Expression");class dyt extends hP{constructor(e){super({icon:Lt.caseSensitive,title:lyt+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Gl("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class hyt extends hP{constructor(e){super({icon:Lt.wholeWord,title:cyt+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Gl("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class fyt extends hP{constructor(e){super({icon:Lt.regex,title:uyt+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Gl("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class gyt{constructor(e,t=0,i=e.length,r=t-1){this.items=e,this.start=t,this.end=i,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class pyt{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new gyt(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const qw=jt;class myt extends Xf{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ke),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Tt(e,qw(".monaco-inputbox.idle"));const r=this.options.flexibleHeight?"textarea":"input",s=Tt(this.element,qw(".ibwrapper"));if(this.input=Tt(s,qw(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Tt(s,qw("div.mirror")),this.mirror.innerText="",this.scrollableElement=new Gft(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Tt(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));const o=this._register(new kn(e.ownerDocument,"selectionchange")),a=ut.filter(o.event,()=>{const l=e.ownerDocument.getSelection();return(l==null?void 0:l.anchorNode)===s});this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new kf(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(ih().setupManagedHover(Gl("mouse"),this.input,e))}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:TV(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return _q(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){const e=this.input.selectionStart;if(e===null)return null;const t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&Pa(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${_f(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=Cq(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{if(!this.message)return null;e=Tt(r,qw(".monaco-inputbox-container")),t();const s={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?tgt(this.message.content,s):egt(this.message.content,s);o.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return o.style.backgroundColor=a.background??"",o.style.color=a.foreground??"",o.style.border=a.border?`1px solid ${a.border}`:"",Tt(e,o),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=P("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=P("alertWarningMessage","Warning: {0}",this.message.content):i=P("alertInfoMessage","Info: {0}",this.message.content),dk(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="",this.layout()}applyStyles(){const e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",r=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${_f(r,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=TV(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,r=t.selectionEnd,s=t.value;i!==null&&r!==null&&(this.value=s.substr(0,i)+e+s.substr(r),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,(e=this.actionbar)==null||e.dispose(),super.dispose()}}class byt extends myt{constructor(e,t,i){const r=P({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is  to represent the up and down arrow keys.']}," or {0} for history",""),s=P({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is  to represent the up and down arrow keys.']}," ({0} for history)","");super(e,t,i),this._onDidFocus=this._register(new ke),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ke),this.onDidBlur=this._onDidBlur.event,this.history=new pyt(i.history,100);const o=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(r)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){const a=this.placeholder.endsWith(")")?r:s,l=this.placeholder+a;i.showPlaceholderOnFocus&&!_q(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(c=>{c.target.textContent||o()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>o()),this.onblur(this.input,()=>{const a=l=>{if(this.placeholder.endsWith(l)){const c=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};a(s)||a(r)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",iM(this.value?this.value:P("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,iM(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const vyt=P("defaultLabel","input");class yyt extends Xf{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new Nf),this.additionalToggles=[],this._onDidOptionChange=this._register(new ke),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ke),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ke),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ke),this._onKeyUp=this._register(new ke),this._onCaseSensitiveKeyDown=this._register(new ke),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ke),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||vyt,this.showCommonFindToggles=!!i.showCommonFindToggles;const r=i.appendCaseSensitiveLabel||"",s=i.appendWholeWordsLabel||"",o=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,u=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new byt(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:u,inputBoxStyles:i.inputBoxStyles}));const d=this._register(fG());if(this.showCommonFindToggles){this.regex=this._register(new fyt({appendTitle:o,isChecked:!1,hoverDelegate:d,...i.toggleStyles})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new hyt({appendTitle:s,isChecked:!1,hoverDelegate:d,...i.toggleStyles})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new dyt({appendTitle:r,isChecked:!1,hoverDelegate:d,...i.toggleStyles})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)}));const h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const p=h.indexOf(this.domNode.ownerDocument.activeElement);if(p>=0){let m=-1;f.equals(17)?m=(p+1)%h.length:f.equals(15)&&(p===0?m=h.length-1:m=p-1),f.equals(9)?(h[p].blur(),this.inputBox.focus()):m>=0&&h[m].focus(),In.stop(f,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register(ze(this.inputBox.inputElement,"compositionstart",h=>{this.imeSessionInProgress=!0})),this._register(ze(this.inputBox.inputElement,"compositionend",h=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(e=this.regex)==null||e.enable(),(t=this.wholeWords)==null||t.enable(),(i=this.caseSensitive)==null||i.enable();for(const r of this.additionalToggles)r.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(e=this.regex)==null||e.disable(),(t=this.wholeWords)==null||t.disable(),(i=this.caseSensitive)==null||i.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new It;for(const t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,i,r;e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(((t=this.caseSensitive)==null?void 0:t.width())??0)+(((i=this.wholeWords)==null?void 0:i.width())??0)+(((r=this.regex)==null?void 0:r.width())??0)+this.additionalToggles.reduce((s,o)=>s+o.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e;return((e=this.caseSensitive)==null?void 0:e.checked)??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e;return((e=this.wholeWords)==null?void 0:e.checked)??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e;return((e=this.regex)==null?void 0:e.checked)??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;(e=this.caseSensitive)==null||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}const Cyt=jt;class _yt extends je{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=s=>ms(this.findInput.inputBox.inputElement,pt.KEY_DOWN,s),this.onDidChange=s=>this.findInput.onDidChange(s),this.container=Tt(this.parent,Cyt(".quick-input-box")),this.findInput=this._register(new yyt(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const r=this.findInput.inputBox.inputElement;r.role="combobox",r.ariaHasPopup="menu",r.ariaAutoComplete="list",r.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===Vr.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===Vr.Info?1:e===Vr.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===Vr.Info?1:e===Vr.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}class wyt{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:je.None}}renderElement(e,t,i,r){var l;if((l=i.disposable)==null||l.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,r);const o=new Z0,a=s.resolve(e,o.token);i.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(c=>this.renderer.renderElement(c,e,i.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class Syt{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function xyt(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new Syt(n,e.accessibilityProvider)}}class kyt{constructor(e,t,i,r,s={}){const o=()=>this.model,a=r.map(l=>new wyt(l,o));this.list=new zu(e,t,i,a,xyt(o,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return ut.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return ut.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return ut.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,na(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var s_=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const Lyt=!1;var Mde;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(Mde||(Mde={}));let Eyt=4;const Dyt=new ke;let Tyt=300;const Iyt=new ke;class EG{constructor(e){this.el=e,this.disposables=new It}get onPointerMove(){return this.disposables.add(new kn(Ft(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new kn(Ft(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}s_([vr],EG.prototype,"onPointerMove",null);s_([vr],EG.prototype,"onPointerUp",null);class DG{get onPointerMove(){return this.disposables.add(new kn(this.el,Di.Change)).event}get onPointerUp(){return this.disposables.add(new kn(this.el,Di.End)).event}constructor(e){this.el=e,this.disposables=new It}dispose(){this.disposables.dispose()}}s_([vr],DG.prototype,"onPointerMove",null);s_([vr],DG.prototype,"onPointerUp",null);class _M{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}s_([vr],_M.prototype,"onPointerMove",null);s_([vr],_M.prototype,"onPointerUp",null);const Rde="pointer-events-disabled";class Ll extends je{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=Tt(this.el,jt(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(cn(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new kn(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Ll.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new kn(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Ll.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=Tt(this.el,jt(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(cn(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new kn(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Ll.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new kn(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Ll.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=Tyt,this.hoverDelayer=this._register(new xL(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new ke),this._onDidStart=this._register(new ke),this._onDidChange=this._register(new ke),this._onDidReset=this._register(new ke),this._onDidEnd=this._register(new ke),this.orthogonalStartSashDisposables=this._register(new It),this.orthogonalStartDragHandleDisposables=this._register(new It),this.orthogonalEndSashDisposables=this._register(new It),this.orthogonalEndDragHandleDisposables=this._register(new It),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Tt(e,jt(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),An&&this.el.classList.add("mac");const r=this._register(new kn(this.el,"mousedown")).event;this._register(r(d=>this.onPointerStart(d,new EG(e)),this));const s=this._register(new kn(this.el,"dblclick")).event;this._register(s(this.onPointerDoublePress,this));const o=this._register(new kn(this.el,"mouseenter")).event;this._register(o(()=>Ll.onMouseEnter(this)));const a=this._register(new kn(this.el,"mouseleave")).event;this._register(a(()=>Ll.onMouseLeave(this))),this._register(Uo.addTarget(this.el));const l=this._register(new kn(this.el,Di.Start)).event;this._register(l(d=>this.onPointerStart(d,new DG(this.el)),this));const c=this._register(new kn(this.el,Di.Tap)).event;let u;this._register(c(d=>{if(u){clearTimeout(u),u=void 0,this.onPointerDoublePress(d);return}clearTimeout(u),u=setTimeout(()=>u=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Eyt,this._register(Dyt.event(d=>{this.size=d,this.layout()}))),this._register(Iyt.event(d=>this.hoverDelay=d)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",Lyt),this.layout()}onPointerStart(e,t){In.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const p=this.getOrthogonalSash(e);p&&(i=!0,e.__orthogonalSashEvent=!0,p.onPointerStart(e,new _M(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new _M(t))),!this.state)return;const r=this.el.ownerDocument.getElementsByTagName("iframe");for(const p of r)p.classList.add(Rde);const s=e.pageX,o=e.pageY,a=e.altKey,l={startX:s,currentX:s,startY:o,currentY:o,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=ql(this.el),u=()=>{let p="";i?p="all-scroll":this.orientation===1?this.state===1?p="s-resize":this.state===2?p="n-resize":p=An?"row-resize":"ns-resize":this.state===1?p="e-resize":this.state===2?p="w-resize":p=An?"col-resize":"ew-resize",c.textContent=`* { cursor: ${p} !important; }`},d=new It;u(),i||this.onDidEnablementChange.event(u,null,d);const h=p=>{In.stop(p,!1);const m={startX:s,currentX:p.pageX,startY:o,currentY:p.pageY,altKey:a};this._onDidChange.fire(m)},f=p=>{In.stop(p,!1),c.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const m of r)m.classList.remove(Rde)};t.onPointerMove(h,null,d),t.onPointerUp(f,null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&Ll.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Ll.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Ll.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){const t=e.initialTarget??e.target;if(!(!t||!Ls(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const Myt={separatorBorder:tt.transparent};class Mwe{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){var i,r;if(e!==this.visible){e?(this.size=sa(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{(r=(i=this.view).setVisible)==null||r.call(i,e)}catch(s){console.error("Splitview: Failed to set visible view"),console.error(s)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class Ryt extends Mwe{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class Nyt extends Mwe{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Uh;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(Uh||(Uh={}));var Nde;(function(n){n.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}n.Split=e;function t(r){return{type:"auto",index:r}}n.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}n.Invisible=i})(Nde||(Nde={}));class Ayt extends je{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Uh.Idle,this._onDidSashChange=this._register(new ke),this._onDidSashReset=this._register(new ke),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Tt(this.el,jt(".sash-container")),this.viewContainer=jt(".split-view-container"),this.scrollable=this._register(new t_({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:r=>Va(Ft(this.el),r)})),this.scrollableElement=this._register(new XA(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));const i=this._register(new kn(this.viewContainer,"scroll")).event;this._register(i(r=>{const s=this.scrollableElement.getScrollPosition(),o=Math.abs(this.viewContainer.scrollLeft-s.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-s.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(o!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:o,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(r=>{r.scrollTopChanged&&(this.viewContainer.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this.viewContainer.scrollLeft=r.scrollLeft)})),Tt(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||Myt),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((r,s)=>{const o=Ol(r.visible)||r.visible?r.size:{type:"invisible",cachedVisibleSize:r.size},a=r.view;this.doAddView(a,o,s,!0)}),this._contentSize=this.viewItems.reduce((r,s)=>r+s.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,r){this.doAddView(e,t,i,r)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let r=0;for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s],a=this.proportions[s];typeof a=="number"?r+=a:e-=o.size}for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s],a=this.proportions[s];typeof a=="number"&&r>0&&(o.size=sa(Math.round(a*e/r),o.minimumSize,o.maximumSize))}}else{const r=na(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),s=Ad(ze(this.el.ownerDocument.body,"keydown",a=>o(this.sashDragState.current,a.altKey)),ze(this.el.ownerDocument.body,"keyup",()=>o(this.sashDragState.current,!1))),o=(a,l)=>{const c=this.viewItems.map(p=>p.size);let u=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(r===this.sashItems.length-1){const m=this.viewItems[r];u=(m.minimumSize-m.size)/2,d=(m.maximumSize-m.size)/2}else{const m=this.viewItems[r+1];u=(m.size-m.maximumSize)/2,d=(m.size-m.minimumSize)/2}let h,f;if(!l){const p=na(r,-1),m=na(r+1,this.viewItems.length),v=p.reduce((T,L)=>T+(this.viewItems[L].minimumSize-c[L]),0),C=p.reduce((T,L)=>T+(this.viewItems[L].viewMaximumSize-c[L]),0),y=m.length===0?Number.POSITIVE_INFINITY:m.reduce((T,L)=>T+(c[L]-this.viewItems[L].minimumSize),0),w=m.length===0?Number.NEGATIVE_INFINITY:m.reduce((T,L)=>T+(c[L]-this.viewItems[L].viewMaximumSize),0),_=Math.max(v,w),x=Math.min(y,C),k=this.findFirstSnapIndex(p),D=this.findFirstSnapIndex(m);if(typeof k=="number"){const T=this.viewItems[k],L=Math.floor(T.viewMinimumSize/2);h={index:k,limitDelta:T.visible?_-L:_+L,size:T.size}}if(typeof D=="number"){const T=this.viewItems[D],L=Math.floor(T.viewMinimumSize/2);f={index:D,limitDelta:T.visible?x+L:x-L,size:T.size}}}this.sashDragState={start:a,current:a,index:r,sizes:c,minDelta:u,maxDelta:d,alt:l,snapBefore:h,snapAfter:f,disposable:s}};o(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:r,alt:s,minDelta:o,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const u=e-i,d=this.resize(t,u,r,void 0,void 0,o,a,l,c);if(s){const h=t===this.sashItems.length-1,f=this.viewItems.map(w=>w.size),p=h?t:t+1,m=this.viewItems[p],v=m.size-m.maximumSize,C=m.size-m.minimumSize,y=h?t-1:t+1;this.resize(y,-d,f,void 0,void 0,v,C)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=sa(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==Uh.Idle)throw new Error("Cant modify splitview");this.state=Uh.Busy;try{const i=na(this.viewItems.length).filter(a=>a!==e),r=[...i.filter(a=>this.viewItems[a].priority===1),e],s=i.filter(a=>this.viewItems[a].priority===2),o=this.viewItems[e];t=Math.round(t),t=sa(t,o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(r,s)}finally{this.state=Uh.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=sa(i,a.minimumSize,a.maximumSize);const r=na(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.relayout(s,o)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==Uh.Idle)throw new Error("Cant modify splitview");this.state=Uh.Busy;try{const s=jt(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i));const o=e.onDidChange(h=>this.onViewChange(u,h)),a=cn(()=>s.remove()),l=Ad(o,a);let c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);const u=this.orientation===0?new Ryt(s,e,c,l):new Nyt(s,e,c,l);if(this.viewItems.splice(i,0,u),this.viewItems.length>1){const h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new Ll(this.sashContainer,{getHorizontalSashTop:T=>this.getSashPosition(T),getHorizontalSashWidth:this.getSashOrthogonalSize},{...h,orientation:1}):new Ll(this.sashContainer,{getVerticalSashLeft:T=>this.getSashPosition(T),getVerticalSashHeight:this.getSashOrthogonalSize},{...h,orientation:0}),p=this.orientation===0?T=>({sash:f,start:T.startY,current:T.currentY,alt:T.altKey}):T=>({sash:f,start:T.startX,current:T.currentX,alt:T.altKey}),v=ut.map(f.onDidStart,p)(this.onSashStart,this),y=ut.map(f.onDidChange,p)(this.onSashChange,this),_=ut.map(f.onDidEnd,()=>this.sashItems.findIndex(T=>T.sash===f))(this.onSashEnd,this),x=f.onDidReset(()=>{const T=this.sashItems.findIndex(O=>O.sash===f),L=na(T,-1),I=na(T+1,this.viewItems.length),R=this.findFirstSnapIndex(L),N=this.findFirstSnapIndex(I);typeof R=="number"&&!this.viewItems[R].visible||typeof N=="number"&&!this.viewItems[N].visible||this._onDidSashReset.fire(T)}),k=Ad(v,y,_,x,f),D={sash:f,disposable:k};this.sashItems.splice(i-1,0,D)}s.appendChild(e.element);let d;typeof t!="number"&&t.type==="split"&&(d=[t.index]),r||this.relayout([i],d),!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=Uh.Idle}}relayout(e,t){const i=this.viewItems.reduce((r,s)=>r+s.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(u=>u.size),r,s,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const u=na(e,-1),d=na(e+1,this.viewItems.length);if(s)for(const D of s)w7(u,D),w7(d,D);if(r)for(const D of r)HD(u,D),HD(d,D);const h=u.map(D=>this.viewItems[D]),f=u.map(D=>i[D]),p=d.map(D=>this.viewItems[D]),m=d.map(D=>i[D]),v=u.reduce((D,T)=>D+(this.viewItems[T].minimumSize-i[T]),0),C=u.reduce((D,T)=>D+(this.viewItems[T].maximumSize-i[T]),0),y=d.length===0?Number.POSITIVE_INFINITY:d.reduce((D,T)=>D+(i[T]-this.viewItems[T].minimumSize),0),w=d.length===0?Number.NEGATIVE_INFINITY:d.reduce((D,T)=>D+(i[T]-this.viewItems[T].maximumSize),0),_=Math.max(v,w,o),x=Math.min(y,C,a);let k=!1;if(l){const D=this.viewItems[l.index],T=t>=l.limitDelta;k=T!==D.visible,D.setVisible(T,l.size)}if(!k&&c){const D=this.viewItems[c.index],T=t<c.limitDelta;k=T!==D.visible,D.setVisible(T,c.size)}if(k)return this.resize(e,t,i,r,s,o,a);t=sa(t,_,x);for(let D=0,T=t;D<h.length;D++){const L=h[D],I=sa(f[D]+T,L.minimumSize,L.maximumSize),R=I-f[D];T-=R,L.size=I}for(let D=0,T=t;D<p.length;D++){const L=p[D],I=sa(m[D]-T,L.minimumSize,L.maximumSize),R=I-m[D];T+=R,L.size=I}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const r=na(this.viewItems.length-1,-1),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);for(const a of o)w7(r,a);for(const a of s)HD(r,a);typeof e=="number"&&HD(r,e);for(let a=0;i!==0&&a<r.length;a++){const l=this.viewItems[r[a]],c=sa(l.size+i,l.minimumSize,l.maximumSize),u=c-l.size;i-=u,l.size=c}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),r=[...this.viewItems].reverse();e=!1;const s=r.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const o=r.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l],u=this.viewItems[l];a+=u.size;const d=!(t[l]&&o[l+1]),h=!(i[l]&&s[l+1]);if(d&&h){const f=na(l,-1),p=na(l+1,this.viewItems.length),m=this.findFirstSnapIndex(f),v=this.findFirstSnapIndex(p),C=typeof m=="number"&&!this.viewItems[m].visible,y=typeof v=="number"&&!this.viewItems[v].visible;C&&s[l]&&(a>0||this.startSnappingEnabled)?c.state=1:y&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else d&&!h?c.state=1:!d&&h?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;(e=this.sashDragState)==null||e.disposable.dispose(),Us(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[],super.dispose()}}const RR=class RR{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=RR.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(s=>[s.templateId,s]));this.renderers=[];for(const s of e){const o=r.get(s.templateId);if(!o)throw new Error(`Table cell renderer for template id ${s.templateId} not found.`);this.renderers.push(o)}}renderTemplate(e){const t=Tt(e,jt(".monaco-table-tr")),i=[],r=[];for(let o=0;o<this.columns.length;o++){const a=this.renderers[o],l=Tt(t,jt(".monaco-table-td",{"data-col-index":o}));l.style.width=`${this.getColumnSize(o)}px`,i.push(l),r.push(a.renderTemplate(l))}const s={container:e,cellContainers:i,cellTemplateData:r};return this.renderedTemplates.add(s),s}renderElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const a=this.columns[s].project(e);this.renderers[s].renderElement(a,t,i.cellTemplateData[s],r)}}disposeElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const o=this.renderers[s];if(o.disposeElement){const l=this.columns[s].project(e);o.disposeElement(l,t,i.cellTemplateData[s],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);Iu(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};RR.TemplateId="row";let wM=RR;function Pyt(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return wM.TemplateId}}}class Oyt extends je{get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??ut.None}constructor(e,t){super(),this.column=e,this.index=t,this._onDidLayout=new ke,this.onDidLayout=this._onDidLayout.event,this.element=jt(".monaco-table-th",{"data-col-index":t},e.label),e.tooltip&&this._register(ih().setupManagedHover(Gl("mouse"),this.element,e.tooltip))}layout(e){this._onDidLayout.fire([this.index,e])}}const NR=class NR{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,r,s,o){this.virtualDelegate=i,this.columns=r,this.domId=`table_id_${++NR.InstanceCount}`,this.disposables=new It,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Tt(t,jt(`.monaco-table.${this.domId}`));const a=r.map((u,d)=>this.disposables.add(new Oyt(u,d))),l={size:a.reduce((u,d)=>u+d.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new Ayt(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new wM(r,s,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new zu(e,this.domNode,Pyt(i),[c],o)),ut.any(...a.map(u=>u.onDidLayout))(([u,d])=>c.layoutColumn(u,d),null,this.disposables),this.splitview.onDidSashReset(u=>{const d=r.reduce((f,p)=>f+p.weight,0),h=r[u].weight/d*this.cachedWidth;this.splitview.resizeView(u,h)},null,this.disposables),this.styleElement=ql(this.domNode),this.style(Ymt)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}};NR.InstanceCount=0;let bW=NR;var Ka;(function(n){n[n.Expanded=0]="Expanded",n[n.Collapsed=1]="Collapsed",n[n.PreserveOrExpanded=2]="PreserveOrExpanded",n[n.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(Ka||(Ka={}));var Eb;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element",n[n.Filter=3]="Filter"})(Eb||(Eb={}));class Za extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class TG{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function IG(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Ck(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function w6(n){return typeof n.collapsible=="boolean"}class Fyt{constructor(e,t,i,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new _L,this._onDidChangeCollapseState=new ke,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ke,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ke,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new xL(wCe),this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.allowNonCollapsibleParents=r.allowNonCollapsibleParents??!1,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Un.empty(),r={}){if(e.length===0)throw new Za(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,i,r):this.spliceSimple(e,t,i,r)}spliceSmart(e,t,i,r=Un.empty(),s,o=s.diffDepth??0){const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,r,s);const l=[...r],c=t[t.length-1],u=new sf({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map(m=>e.getId(m.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,s);const d=t.slice(0,-1),h=(m,v,C)=>{if(o>0)for(let y=0;y<C;y++)m--,v--,this.spliceSmart(e,[...d,m,0],Number.MAX_SAFE_INTEGER,l[v].children,s,o-1)};let f=Math.min(a.children.length,c+i),p=l.length;for(const m of u.changes.sort((v,C)=>C.originalStart-v.originalStart))h(f,p,f-(m.originalStart+m.originalLength)),f=m.originalStart,p=m.modifiedStart-c,this.spliceSimple([...d,f],m.originalLength,Un.slice(l,p,p+m.modifiedLength),s);h(f,p,f)}spliceSimple(e,t,i=Un.empty(),{onDidCreateNode:r,onDidDeleteNode:s,diffIdentityProvider:o}){const{parentNode:a,listIndex:l,revealed:c,visible:u}=this.getParentNodeWithListIndex(e),d=[],h=Un.map(i,x=>this.createTreeNode(x,a,a.visible?1:0,c,d,r)),f=e[e.length-1];let p=0;for(let x=f;x>=0&&x<a.children.length;x--){const k=a.children[x];if(k.visible){p=k.visibleChildIndex;break}}const m=[];let v=0,C=0;for(const x of h)m.push(x),C+=x.renderNodeCount,x.visible&&(x.visibleChildIndex=p+v++);const y=nle(a.children,f,t,m);o?a.lastDiffIds?nle(a.lastDiffIds,f,t,m.map(x=>o.getId(x.element).toString())):a.lastDiffIds=a.children.map(x=>o.getId(x.element).toString()):a.lastDiffIds=void 0;let w=0;for(const x of y)x.visible&&w++;if(w!==0)for(let x=f+m.length;x<a.children.length;x++){const k=a.children[x];k.visible&&(k.visibleChildIndex-=w)}if(a.visibleChildrenCount+=v-w,c&&u){const x=y.reduce((k,D)=>k+(D.visible?D.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,C-x),this.list.splice(l,x,d)}if(y.length>0&&s){const x=k=>{s(k),k.children.forEach(x)};y.forEach(x)}this._onDidSplice.fire({insertedNodes:m,deletedNodes:y});let _=a;for(;_;){if(_.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}_=_.parent}}rerender(e){if(e.length===0)throw new Za(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:r}=this.getTreeNodeWithListIndex(e);return i&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const r=this.getTreeNode(e);typeof t>"u"&&(t=!r.collapsed);const s={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}_setCollapseState(e,t){const{node:i,listIndex:r,revealed:s}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(i,r,s,t);if(i!==this.root&&this.autoExpandSingleChildren&&o&&!w6(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return o}_setListNodeCollapseState(e,t,i,r){const s=this._setNodeCollapseState(e,r,!1);if(!i||!e.visible||!s)return s;const o=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=o-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),s}_setNodeCollapseState(e,t,i){let r;if(e===this.root?r=!1:(w6(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!w6(t)&&t.recursive)for(const s of e.children)r=this._setNodeCollapseState(s,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,r,s,o){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,r&&s.push(a);const c=e.children||Un.empty(),u=r&&l!==0&&!a.collapsed;let d=0,h=1;for(const f of c){const p=this.createTreeNode(f,a,l,u,s,o);a.children.push(p),h+=p.renderNodeCount,p.visible&&(p.visibleChildIndex=d++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=d,a.visible=l===2?d>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=h):(a.renderNodeCount=0,r&&s.pop()),o==null||o(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,r=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),s===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}const o=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||s!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,s,i,r&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=s===2?a:s===1,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=i.length-o):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):IG(i)?(e.filterData=i.data,Ck(i.visibility)):(e.filterData=void 0,Ck(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...r]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(r,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...r]=e;if(i<0||i>t.children.length)throw new Za(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:r,visible:s}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new Za(this.user,"Invalid tree location");const a=t.children[o];return{node:a,listIndex:i,revealed:r,visible:s&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,r=!0,s=!0){const[o,...a]=e;if(o<0||o>t.children.length)throw new Za(this.user,"Invalid tree location");for(let l=0;l<o;l++)i+=t.children[l].renderNodeCount;return r=r&&!t.collapsed,s=s&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:r,visible:s}:this.getParentNodeWithListIndex(a,t.children[o],i+1,r,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Frt(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class Byt extends FL{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function S6(n){return n instanceof FL?new Byt(n):n}class Hyt{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=je.None,this.disposables=new It}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)==null||r.call(i,S6(e),t)}onDragOver(e,t,i,r,s,o=!0){const a=this.dnd.onDragOver(S6(e),t&&t.element,i,r,s),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=_V(()=>{const f=this.modelProvider(),p=f.getNodeLocation(t);f.isCollapsed(p)&&f.setCollapsed(p,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!o){const f=typeof a=="boolean"?a:a.accept,p=typeof a=="boolean"?void 0:a.effect;return{accept:f,effect:p,feedback:[i]}}return a}if(a.bubble===1){const f=this.modelProvider(),p=f.getNodeLocation(t),m=f.getParentNodeLocation(p),v=f.getNode(m),C=m&&f.getListIndex(m);return this.onDragOver(e,v,C,r,s,!1)}const c=this.modelProvider(),u=c.getNodeLocation(t),d=c.getListIndex(u),h=c.getListRenderCount(u);return{...a,feedback:na(d,d+h)}}drop(e,t,i,r,s){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(S6(e),t&&t.element,i,r,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function Vyt(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new Hyt(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){const i=n(),r=i.getNodeLocation(t),s=i.getParentNodeLocation(r);return i.getNode(s).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}class MG{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,r;(r=(i=this.delegate).setDynamicHeight)==null||r.call(i,e.element,t)}}var u0;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(u0||(u0={}));class zyt{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new It,this.onDidChange=ut.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}const vx=class vx{constructor(e,t,i,r,s,o={}){var a;this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedIndentGuides=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=vx.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=je.None,this.disposables=new It,this.templateId=e.templateId,this.updateOptions(o),ut.map(i,l=>l.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(a=e.onDidChangeTwistieState)==null||a.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"){const t=sa(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,r]of this.renderedNodes)this.renderTreeElement(i,r)}}if(typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==u0.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,r]of this.renderedNodes)this._renderIndentGuides(i,r);if(this.indentGuidesDisposable.dispose(),t){const i=new It;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Tt(e,jt(".monaco-tl-row")),i=Tt(t,jt(".monaco-tl-indent")),r=Tt(t,jt(".monaco-tl-twistie")),s=Tt(t,jt(".monaco-tl-contents")),o=this.renderer.renderTemplate(s);return{container:e,indent:i,twistie:r,indentGuidesDisposable:je.None,templateData:o}}renderElement(e,t,i,r){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,r)}disposeElement(e,t,i,r){var s,o;i.indentGuidesDisposable.dispose(),(o=(s=this.renderer).disposeElement)==null||o.call(s,e,t,i.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=vx.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Hn.asClassNameArray(Lt.treeItemExpanded));let r=!1;this.renderer.renderTwistie&&(r=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(r||t.twistie.classList.add(...Hn.asClassNameArray(Lt.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(Iu(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new It,r=this.modelProvider();for(;;){const s=r.getNodeLocation(e),o=r.getParentNodeLocation(s);if(!o)break;const a=r.getNode(o),l=jt(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(a)&&l.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(a,l),i.add(cn(()=>this.renderedIndentGuides.delete(a,l))),e=a}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(r=>{const s=i.getNodeLocation(r);try{const o=i.getParentNodeLocation(s);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):o&&t.add(i.getNode(o))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Us(this.disposables)}};vx.DefaultIndent=8;let vW=vx;class Wyt{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new It,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const o=this._filter.filter(e,t);if(typeof o=="boolean"?i=o?1:0:IG(o)?i=Ck(o.visibility):i=o,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:gC.Default,visibility:i};const r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=Array.isArray(r)?r:[r];for(const o of s){const a=o&&o.toString();if(typeof a>"u")return{data:gC.Default,visibility:i};let l;if(this.tree.findMatchType===yv.Contiguous){const c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let u=this._lowercasePattern.length;u>0;u--)l.push(c+u-1)}}else l=C_e(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,s.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===hf.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:gC.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Us(this.disposables)}}var hf;(function(n){n[n.Highlight=0]="Highlight",n[n.Filter=1]="Filter"})(hf||(hf={}));var yv;(function(n){n[n.Fuzzy=0]="Fuzzy",n[n.Contiguous=1]="Contiguous"})(yv||(yv={}));class $yt{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,r,s,o={}){this.tree=e,this.view=i,this.filter=r,this.contextViewProvider=s,this.options=o,this._pattern="",this.width=0,this._onDidChangeMode=new ke,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new ke,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new ke,this._onDidChangeOpenState=new ke,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new It,this.disposables=new It,this._mode=e.options.defaultFindMode??hf.Highlight,this._matchType=e.options.defaultFindMatchType??yv.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var t,i,r;const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(dk(P("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?(t=this.widget)==null||t.showMessage({type:2,content:P("not found","No elements found.")}):(i=this.widget)==null||i.showMessage({type:2})):((r=this.widget)==null||r.clearMessage(),this.pattern&&dk(P("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!gC.isDefault(e.filterData)}layout(e){var t;this.width=e,(t=this.widget)==null||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function jyt(n,e){return n.position===e.position&&Rwe(n,e)}function Rwe(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}class Uyt{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return es(this.stickyNodes,e.stickyNodes,jyt)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!es(this.stickyNodes,e.stickyNodes,Rwe)||this.count===0)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class qyt{constrainStickyScrollNodes(e,t,i){for(let r=0;r<e.length;r++){const s=e[r];if(s.position+s.height>i||r>=t)return e.slice(0,r)}return e}}class Ade extends je{constructor(e,t,i,r,s,o={}){super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=s,this.maxWidgetViewRatio=.4;const a=this.validateStickySettings(o);this.stickyScrollMaxItemCount=a.stickyScrollMaxItemCount,this.stickyScrollDelegate=o.stickyScrollDelegate??new qyt,this._widget=this._register(new Gyt(i.getScrollableElement(),i,e,r,s,o.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll(()=>this.update())),this._register(i.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(e){let t;if(e===0?t=this.view.firstVisibleIndex:t=this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,r=0,s=this.getNextStickyNode(i,void 0,r);for(;s&&(t.push(s),r+=s.height,!(t.length<=this.stickyScrollMaxItemCount&&(i=this.getNextVisibleNode(s),!i)));)s=this.getNextStickyNode(i,s.node,r);const o=this.constrainStickyNodes(t);return o.length?new Uyt(o):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const r=this.getAncestorUnderPrevious(e,t);if(r&&!(r===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,i))))return this.createStickyScrollNode(r,i)}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),r=this.view.getElementTop(i),s=t;return this.view.scrollTop===r-s}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:r,endIndex:s}=this.getNodeRange(e),o=this.calculateStickyNodePosition(s,t,i);return{node:e,position:o,height:i,startIndex:r,endIndex:s}}getAncestorUnderPrevious(e,t=void 0){let i=e,r=this.getParentNode(i);for(;r;){if(r===t)return i;i=r,r=this.getParentNode(i)}if(t===void 0)return i}calculateStickyNodePosition(e,t,i){let r=this.view.getRelativeTop(e);if(r===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const c=this.treeDelegate.getHeight(this.view.element(e)),u=this.view.getRelativeTop(e+1);r=u?u-c/this.view.renderHeight:null}if(r===null)return t;const s=this.view.element(e),o=this.treeDelegate.getHeight(s),l=r*this.view.renderHeight+o;return t+i>l&&t<=l?l-i:t}constrainStickyNodes(e){if(e.length===0)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const r=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!r.length)return[];const s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>t)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");const r=this.model.getListRenderCount(t),s=i+r-1;return{startIndex:i,endIndex:s}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let r=0;for(let s=0;s<t.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(t[s]);return r}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return typeof e.stickyScrollMaxItemCount=="number"&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}}class Gyt{constructor(e,t,i,r,s,o){this.view=t,this.tree=i,this.treeRenderers=r,this.treeDelegate=s,this.accessibilityProvider=o,this._previousElements=[],this._previousStateDisposables=new It,this._rootDomNode=jt(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const a=jt(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new Kyt(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const r=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${r.position}px`;else{this._previousStateDisposables.clear();const s=Array(e.count);for(let o=e.count-1;o>=0;o--){const a=e.stickyNodes[o],{element:l,disposable:c}=this.createElement(a,o,e.count);s[o]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(s,e),this._previousElements=s}this._previousState=e,this._rootDomNode.style.height=`${r.position+r.height}px`}createElement(e,t,i){const r=e.startIndex,s=document.createElement("div");s.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(s.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(s.style.lineHeight=`${e.height}px`),s.classList.add("monaco-tree-sticky-row"),s.classList.add("monaco-list-row"),s.setAttribute("data-index",`${r}`),s.setAttribute("data-parity",r%2===0?"even":"odd"),s.setAttribute("id",this.view.getElementID(r));const o=this.setAccessibilityAttributes(s,e.node.element,t,i),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(h=>h.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let c=e.node;c===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(c=new Proxy(e.node,{}));const u=l.renderTemplate(s);l.renderElement(c,e.startIndex,u,e.height);const d=cn(()=>{o.dispose(),l.disposeElement(c,e.startIndex,u,e.height),l.disposeTemplate(u),s.remove()});return{element:s,disposable:d}}setAccessibilityAttributes(e,t,i,r){if(!this.accessibilityProvider)return je.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,r))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");const s=this.accessibilityProvider.getAriaLabel(t),o=s&&typeof s!="string"?s:lM(s),a=Yn(c=>{const u=c.readObservable(o);u?e.setAttribute("aria-label",u):e.removeAttribute("aria-label")});typeof s=="string"||s&&e.setAttribute("aria-label",s.get());const l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Kyt extends je{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new ke,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new ke,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this._register(ze(this.container,"focus",()=>this.onFocus())),this._register(ze(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(i=>this.onKeyDown(i))),this._register(this.view.onMouseDown(i=>this.onMouseDown(i))),this._register(this.view.onContextMenu(i=>this.handleContextMenu(i)))}handleContextMenu(e){const t=e.browserEvent.target;if(!fk(t)&&!jS(t)){this.focusedLast()&&this.view.domFocus();return}if(!Xh(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const o=this.state.stickyNodes.findIndex(a=>{var l;return a.node.element===((l=e.element)==null?void 0:l.element)});if(o===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(o);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const t=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([t]),this.scrollNodeUnderWidget(t,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const t=e.browserEvent.target;!fk(t)&&!jS(t)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&t.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const r=sa(i,0,t.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],r=t.count>1?t.stickyNodes[t.count-2]:void 0,s=this.view.getElementTop(e),o=r?r.position+r.height+i.height:i.height;this.view.scrollTop=s-o}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){this.toggleElementActiveFocus(e,t&&this.domHasFocus),this.toggleElementPassiveFocus(e,t)}toggleCurrentElementActiveFocus(e){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],e)}toggleElementActiveFocus(e,t){e.classList.toggle("focused",t)}toggleElementPassiveFocus(e,t){e.classList.toggle("passive-focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function v2(n){let e=Eb.Unknown;return O7(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Eb.Twistie:O7(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=Eb.Element:O7(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=Eb.Filter),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function Qyt(n){const e=fk(n.browserEvent.target);return{element:n.element?n.element.element:null,browserEvent:n.browserEvent,anchor:n.anchor,isStickyScroll:e}}function _T(n,e){e(n),n.children.forEach(t=>_T(t,e))}class x6{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new ke,this.onDidChange=this._onDidChange.event}set(e,t){!(t!=null&&t.__forceEvent)&&es(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=u=>l.delete(u);t.forEach(u=>_T(u,c)),this.set([...l.values()]);return}const i=new Set,r=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>_T(l,r));const s=new Map,o=l=>s.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>_T(l,o));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const d=s.get(c);d&&d.visible&&a.push(d)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Yyt extends $_e{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(H_e(e.browserEvent.target)||_p(e.browserEvent.target)||fS(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,r=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,s=jS(e.browserEvent.target);let o=!1;if(s?o=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(e,t);else{if(o&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(t.collapsible&&(!s||r)){const a=this.tree.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,l),r){e.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(jmt(e.browserEvent.target)||Umt(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const r=this.list.indexOf(t),s=this.list.getElementTop(r),o=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=s-o,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const t=e.browserEvent.target;if(!fk(t)&&!jS(t)){super.onMouseDown(e);return}}onContextMenu(e){const t=e.browserEvent.target;if(!fk(t)&&!jS(t)){super.onContextMenu(e);return}}}class Xyt extends zu{constructor(e,t,i,r,s,o,a,l){super(e,t,i,r,l),this.focusTrait=s,this.selectionTrait=o,this.anchorTrait=a}createMouseController(e){return new Yyt(this,e.tree,e.stickyScrollProvider)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const r=[],s=[];let o;i.forEach((a,l)=>{this.focusTrait.has(a)&&r.push(e+l),this.selectionTrait.has(a)&&s.push(e+l),this.anchorTrait.has(a)&&(o=e+l)}),r.length>0&&super.setFocus(cv([...super.getFocus(),...r])),s.length>0&&super.setSelection(cv([...super.getSelection(),...s])),typeof o=="number"&&super.setAnchor(o)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class Nwe{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return ut.filter(ut.map(this.view.onMouseDblClick,v2),e=>e.target!==Eb.Filter)}get onMouseOver(){return ut.map(this.view.onMouseOver,v2)}get onMouseOut(){return ut.map(this.view.onMouseOut,v2)}get onContextMenu(){var e;return ut.any(ut.filter(ut.map(this.view.onContextMenu,Qyt),t=>!t.isStickyScroll),((e=this.stickyScrollController)==null?void 0:e.onContextMenu)??ut.None)}get onPointer(){return ut.map(this.view.onPointer,v2)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return ut.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e;return((e=this.findController)==null?void 0:e.mode)??hf.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e;return((e=this.findController)==null?void 0:e.matchType)??yv.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,r,s={}){this._user=e,this._options=s,this.eventBufferer=new _L,this.onDidChangeFindOpenState=ut.None,this.onDidChangeStickyScrollFocused=ut.None,this.disposables=new It,this._onWillRefilter=new ke,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ke,this.treeDelegate=new MG(i);const o=new ule,a=new ule,l=this.disposables.add(new zyt(a.event)),c=new g0e;this.renderers=r.map(p=>new vW(p,()=>this.model,o.event,l,c,s));for(const p of this.renderers)this.disposables.add(p);let u;s.keyboardNavigationLabelProvider&&(u=new Wyt(this,s.keyboardNavigationLabelProvider,s.filter),s={...s,filter:u},this.disposables.add(u)),this.focus=new x6(()=>this.view.getFocusedElements()[0],s.identityProvider),this.selection=new x6(()=>this.view.getSelectedElements()[0],s.identityProvider),this.anchor=new x6(()=>this.view.getAnchorElement(),s.identityProvider),this.view=new Xyt(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...Vyt(()=>this.model,s),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,s),o.input=this.model.onDidChangeCollapseState;const d=ut.forEach(this.model.onDidSplice,p=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(p),this.selection.onDidModelSplice(p)})},this.disposables);d(()=>null,null,this.disposables);const h=this.disposables.add(new ke),f=this.disposables.add(new xL(0));if(this.disposables.add(ut.any(d,this.focus.onDidChange,this.selection.onDidChange)(()=>{f.trigger(()=>{const p=new Set;for(const m of this.focus.getNodes())p.add(m);for(const m of this.selection.getNodes())p.add(m);h.fire([...p.values()])})})),a.input=h.event,s.keyboardSupport!==!1){const p=ut.chain(this.view.onKeyDown,m=>m.filter(v=>!_p(v.target)).map(v=>new Bi(v)));ut.chain(p,m=>m.filter(v=>v.keyCode===15))(this.onLeftArrow,this,this.disposables),ut.chain(p,m=>m.filter(v=>v.keyCode===17))(this.onRightArrow,this,this.disposables),ut.chain(p,m=>m.filter(v=>v.keyCode===10))(this.onSpace,this,this.disposables)}if((s.findWidgetEnabled??!0)&&s.keyboardNavigationLabelProvider&&s.contextViewProvider){const p=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new $yt(this,this.model,this.view,u,s.contextViewProvider,p),this.focusNavigationFilter=m=>this.findController.shouldAllowFocus(m),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=ut.None,this.onDidChangeFindMatchType=ut.None;s.enableStickyScroll&&(this.stickyScrollController=new Ade(this,this.model,this.view,this.renderers,this.treeDelegate,s),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=ql(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===u0.Always)}updateOptions(e={}){var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),(t=this.findController)==null||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===u0.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Ade(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=ut.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(t=this.stickyScrollController)==null||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}domFocus(){var e;(e=this.stickyScrollController)!=null&&e.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),Q0(t)&&((i=this.findController)==null||i.layout(t))}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const r=e.treeStickyScrollBackground??e.listBackground;r&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${r}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${r}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const s=_f(e.listFocusAndSelectionOutline,_f(e.listSelectionOutline,e.listFocusOutline??""));s&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${s}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(s=>this.model.getNode(s));this.selection.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setSelection(r,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(s=>this.model.getNode(s));this.focus.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setFocus(r,t,!0)})}focusNext(e=1,t=!1,i,r=Xh(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,r)}focusPrevious(e=1,t=!1,i,r=Xh(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,r)}focusNextPage(e,t=Xh(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=Xh(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>{var i;return((i=this.stickyScrollController)==null?void 0:i.height)??0})}focusLast(e,t=Xh(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=Xh(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{const r=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,r)}}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!0)){const o=this.model.getParentNodeLocation(r);if(!o)return;const a=this.model.getListIndex(o);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!1)){if(!i.children.some(l=>l.visible))return;const[o]=this.view.getFocus(),a=o+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i),s=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,s)}dispose(){var e;Us(this.disposables),(e=this.stickyScrollController)==null||e.dispose(),this.view.dispose()}}class RG{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Fyt(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(r,s){return i.sorter.compare(r.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Un.empty(),i={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i)}_setChildren(e,t=Un.empty(),i){const r=new Set,s=new Set,o=l=>{var u;if(l.element===null)return;const c=l;if(r.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();s.add(d),this.nodesByIdentity.set(d,c)}(u=i.onDidCreateNode)==null||u.call(i,c)},a=l=>{var u;if(l.element===null)return;const c=l;if(r.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();s.has(d)||this.nodesByIdentity.delete(d)}(u=i.onDidDeleteNode)==null||u.call(i,c)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:o,onDidDeleteNode:a})}preserveCollapseState(e=Un.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Un.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const o=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(o)}if(!i){let o;return typeof t.collapsed>"u"?o=void 0:t.collapsed===Ka.Collapsed||t.collapsed===Ka.PreserveOrCollapsed?o=!0:t.collapsed===Ka.Expanded||t.collapsed===Ka.PreserveOrExpanded?o=!1:o=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:o}}const r=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let s;return typeof t.collapsed>"u"||t.collapsed===Ka.PreserveOrCollapsed||t.collapsed===Ka.PreserveOrExpanded?s=i.collapsed:t.collapsed===Ka.Collapsed?s=!0:t.collapsed===Ka.Expanded?s=!1:s=!!t.collapsed,{...t,collapsible:r,collapsed:s,children:this.preserveCollapseState(t.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Za(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(i);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function wT(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:Un.map(Un.from(n.children),wT),collapsible:n.collapsible,collapsed:n.collapsed}}function ST(n){const e=[n.element],t=n.incompressible||!1;let i,r;for(;[r,i]=Un.consume(Un.from(n.children),2),!(r.length!==1||r[0].incompressible);)n=r[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:Un.map(Un.concat(r,i),ST),collapsible:n.collapsible,collapsed:n.collapsed}}function yW(n,e=0){let t;return e<n.element.elements.length-1?t=[yW(n,e+1)]:t=Un.map(Un.from(n.children),i=>yW(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function Pde(n){return yW(n,0)}function Awe(n,e,t){return n.element===e?{...n,children:t}:{...n,children:Un.map(Un.from(n.children),i=>Awe(i,e,t))}}const Zyt=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class Jyt{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new RG(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=Un.empty(),i){const r=i.diffIdentityProvider&&Zyt(i.diffIdentityProvider);if(e===null){const p=Un.map(t,this.enabled?ST:wT);this._setChildren(null,p,{diffIdentityProvider:r,diffDepth:1/0});return}const s=this.nodes.get(e);if(!s)throw new Za(this.user,"Unknown compressed tree node");const o=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),c=Pde(o),u=Awe(c,e,t),d=(this.enabled?ST:wT)(u),h=i.diffIdentityProvider?(p,m)=>i.diffIdentityProvider.getId(p)===i.diffIdentityProvider.getId(m):void 0;if(es(d.element.elements,o.element.elements,h)){this._setChildren(s,d.children||Un.empty(),{diffIdentityProvider:r,diffDepth:1});return}const f=l.children.map(p=>p===o?d:p);this._setChildren(l.element,f,{diffIdentityProvider:r,diffDepth:o.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,r=Un.map(i,Pde),s=Un.map(r,e?ST:wT);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const r=new Set,s=a=>{for(const l of a.element.elements)r.add(l),this.nodes.set(l,a.element)},o=a=>{for(const l of a.element.elements)r.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:s,onDidDeleteNode:o})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new Za(this.user,`Tree element not found: ${e}`);return t}}const eCt=n=>n[n.length-1];class NG{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new NG(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function tCt(n,e){return{splice(t,i,r){e.splice(t,i,r.map(s=>n.map(s)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function nCt(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}class iCt{get onDidSplice(){return ut.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return ut.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return ut.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||eCt;const r=s=>this.elementMapper(s.elements);this.nodeMapper=new TG(s=>new NG(r,s)),this.model=new Jyt(e,tCt(this.nodeMapper,t),nCt(r,i))}setChildren(e,t=Un.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var rCt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class AG extends Nwe{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,r,s={}){super(e,t,i,r,s),this.user=e}setChildren(e,t=Un.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new RG(e,t,i)}}class Pwe{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){let s=this.stickyScrollDelegate.getCompressedNode(e);s||(s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),s.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,r)):(i.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,i.data,r))}disposeElement(e,t,i,r){var s,o,a,l;i.compressedTreeNode?(o=(s=this.renderer).disposeCompressedElements)==null||o.call(s,i.compressedTreeNode,t,i.data,r):(l=(a=this.renderer).disposeElement)==null||l.call(a,e,t,i.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}rCt([vr],Pwe.prototype,"compressedTreeNodeProvider",null);class sCt{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let r=0;r<e.length;r++){const s=e[r],o=s.position+s.height;if(r+1<e.length&&o+e[r+1].height>i||r>=t-1&&t<e.length){const l=e.slice(0,r),c=e.slice(r),u=this.compressStickyNodes(c);return[...l,u]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];const i=[];for(let c=0;c<e.length;c++){const u=e[c],d=t.getCompressedTreeNode(u.node.element);if(d.element){if(c!==0&&d.element.incompressible)break;i.push(...d.element.elements)}}if(i.length<2)return e[0];const r=e[e.length-1],s={elements:i,incompressible:!1},o={...r.node,children:[],element:s},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:r.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,o),l}}function oCt(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}class Owe extends AG{constructor(e,t,i,r,s={}){const o=()=>this,a=new sCt(()=>this.model),l=r.map(c=>new Pwe(o,a,c));super(e,t,i,l,{...oCt(o,s),stickyScrollDelegate:a})}setChildren(e,t=Un.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new iCt(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}function k6(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function CW(n,e){return e.parent?e.parent===n?!0:CW(n,e.parent):!1}function aCt(n,e){return n===e||CW(n,e)||CW(e,n)}class PG{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new PG(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class lCt{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...Hn.asClassNameArray(Lt.treeItemLoading)),!0):(t.classList.remove(...Hn.asClassNameArray(Lt.treeItemLoading)),!1)}disposeElement(e,t,i,r){var s,o;(o=(s=this.renderer).disposeElement)==null||o.call(s,this.nodeMapper.map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function Ode(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function Fde(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class cCt extends FL{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function L6(n){return n instanceof FL?new cCt(n):n}class uCt{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)==null||r.call(i,L6(e),t)}onDragOver(e,t,i,r,s,o=!0){return this.dnd.onDragOver(L6(e),t&&t.element,i,r,s)}drop(e,t,i,r,s){this.dnd.drop(L6(e),t&&t.element,i,r,s)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}dispose(){this.dnd.dispose()}}function Fwe(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new uCt(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!((t=n.accessibilityProvider)!=null&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function _W(n,e){e(n),n.children.forEach(t=>_W(t,e))}class Bwe{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return ut.map(this.tree.onDidChangeFocus,Ode)}get onDidChangeSelection(){return ut.map(this.tree.onDidChangeSelection,Ode)}get onMouseDblClick(){return ut.map(this.tree.onMouseDblClick,Fde)}get onPointer(){return ut.map(this.tree.onPointer,Fde)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,r,s,o={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ke,this._onDidChangeNodeSlowState=new ke,this.nodeMapper=new TG(a=>new PG(a)),this.disposables=new It,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.getDefaultCollapseState=a=>o.collapseByDefault?o.collapseByDefault(a)?Ka.PreserveOrCollapsed:Ka.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,r,o),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=k6({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,r,s){const o=new MG(i),a=r.map(c=>new lCt(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=Fwe(s)||{};return new AG(e,t,o,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async _updateChildren(e=this.root.element,t=!0,i=!1,r,s){if(typeof this.root.element>"u")throw new Za(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await ut.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(await this.refreshAndRenderNode(o,t,r,s),i)try{this.tree.rerender(o)}catch{}}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new Za(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await ut.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await ut.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const r=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await ut.toPromise(this._onDidRender.event)),r}setSelection(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Za(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,r){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,r)}async refreshNode(e,t,i){let r;if(this.subTreeRefreshPromises.forEach((s,o)=>{!r&&aCt(o,e)&&(r=s.then(()=>this.refreshNode(e,t,i)))}),r)return r;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let r;e.refreshPromise=new Promise(s=>r=s),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const s=await this.doRefreshNode(e,t,i);e.stale=!1,await wV.settled(s.map(o=>this.doRefreshSubTree(o,t,i)))}finally{r()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(Un.empty());else{const s=this.doGetChildren(e);if(ile(s))r=Promise.resolve(s);else{const o=Jx(800);o.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),r=s.finally(()=>o.cancel())}}try{const s=await r;return this.setChildren(e,s,t,i)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),yL(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return ile(i)?this.processChildren(i):(t=SCe(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(_i))}setChildren(e,t,i,r){const s=[...t];if(e.children.length===0&&s.length===0)return[];const o=new Map,a=new Map;for(const u of e.children)o.set(u.element,u),this.identityProvider&&a.set(u.id,{node:u,collapsed:this.tree.hasElement(u)&&this.tree.isCollapsed(u)});const l=[],c=s.map(u=>{const d=!!this.dataSource.hasChildren(u);if(!this.identityProvider){const m=k6({element:u,parent:e,hasChildren:d,defaultCollapseState:this.getDefaultCollapseState(u)});return d&&m.defaultCollapseState===Ka.PreserveOrExpanded&&l.push(m),m}const h=this.identityProvider.getId(u).toString(),f=a.get(h);if(f){const m=f.node;return o.delete(m.element),this.nodes.delete(m.element),this.nodes.set(u,m),m.element=u,m.hasChildren=d,i?f.collapsed?(m.children.forEach(v=>_W(v,C=>this.nodes.delete(C.element))),m.children.splice(0,m.children.length),m.stale=!0):l.push(m):d&&!f.collapsed&&l.push(m),m}const p=k6({element:u,parent:e,id:h,hasChildren:d,defaultCollapseState:this.getDefaultCollapseState(u)});return r&&r.viewState.focus&&r.viewState.focus.indexOf(h)>-1&&r.focus.push(p),r&&r.viewState.selection&&r.viewState.selection.indexOf(h)>-1&&r.selection.push(p),(r&&r.viewState.expanded&&r.viewState.expanded.indexOf(h)>-1||d&&p.defaultCollapseState===Ka.PreserveOrExpanded)&&l.push(p),p});for(const u of o.values())_W(u,d=>this.nodes.delete(d.element));for(const u of c)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].forceExpanded=!0,l.push(c[0])),l}render(e,t,i){const r=e.children.map(o=>this.asTreeElement(o,t)),s=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(o){return i.diffIdentityProvider.getId(o.element)}}};this.tree.setChildren(e===this.root?null:e,r,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?Un.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class OG{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new OG(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class dCt{constructor(e,t,i,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderCompressedElements(e,t,i,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...Hn.asClassNameArray(Lt.treeItemLoading)),!0):(t.classList.remove(...Hn.asClassNameArray(Lt.treeItemLoading)),!1)}disposeElement(e,t,i,r){var s,o;(o=(s=this.renderer).disposeElement)==null||o.call(s,this.nodeMapper.map(e),t,i.templateData,r)}disposeCompressedElements(e,t,i,r){var s,o;(o=(s=this.renderer).disposeCompressedElements)==null||o.call(s,this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Us(this.disposables)}}function hCt(n){const e=n&&Fwe(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}class fCt extends Bwe{constructor(e,t,i,r,s,o,a={}){super(e,t,i,s,o,a),this.compressionDelegate=r,this.compressibleNodeMapper=new TG(l=>new OG(l)),this.filter=a.filter}createTree(e,t,i,r,s){const o=new MG(i),a=r.map(c=>new dCt(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=hCt(s)||{};return new Owe(e,t,o,a,l)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const r=f=>this.identityProvider.getId(f).toString(),s=f=>{const p=new Set;for(const m of f){const v=this.tree.getCompressedTreeNode(m===this.root?null:m);if(v.element)for(const C of v.element.elements)p.add(r(C.element))}return p},o=s(this.tree.getSelection()),a=s(this.tree.getFocus());super.render(e,t,i);const l=this.getSelection();let c=!1;const u=this.getFocus();let d=!1;const h=f=>{const p=f.element;if(p)for(let m=0;m<p.elements.length;m++){const v=r(p.elements[m].element),C=p.elements[p.elements.length-1].element;o.has(v)&&l.indexOf(C)===-1&&(l.push(C),c=!0),a.has(v)&&u.indexOf(C)===-1&&(u.push(C),d=!0)}f.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(l),d&&this.setFocus(u)}processChildren(e){return this.filter&&(e=Un.filter(e,t=>{const i=this.filter.filter(t,1),r=gCt(i);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function gCt(n){return typeof n=="boolean"?n?1:0:IG(n)?Ck(n.visibility):Ck(n)}class pCt extends Nwe{constructor(e,t,i,r,s,o={}){super(e,t,i,r,o),this.user=e,this.dataSource=s,this.identityProvider=o.identityProvider}createModel(e,t,i){return new RG(e,t,i)}}new Nt("isMac",An,P("isMac","Whether the operating system is macOS"));new Nt("isLinux",ga,P("isLinux","Whether the operating system is Linux"));new Nt("isWindows",Ba,P("isWindows","Whether the operating system is Windows"));new Nt("isWeb",Y0,P("isWeb","Whether the platform is a web browser"));new Nt("isMacNative",An&&!Y0,P("isMacNative","Whether the operating system is macOS on a non-browser platform"));new Nt("isIOS",uv,P("isIOS","Whether the operating system is iOS"));new Nt("isMobile",jye,P("isMobile","Whether the platform is a mobile web browser"));new Nt("isDevelopment",!1,!0);new Nt("productQualityType","",P("productQualityType","Quality type of VS Code"));const Hwe="inputFocus",mCt=new Nt(Hwe,!1,P("inputFocus","Whether keyboard focus is inside an input box"));var Jf=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ii=function(n,e){return function(t,i){e(t,i,n)}};const rh=Nn("listService");class bCt{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new It,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)==null||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)==null||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new j_e(ql(),"").style(r_)),this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),_q(e.getHTMLElement())&&this.setLastFocusedList(e),Ad(e.onDidFocus(()=>this.setLastFocusedList(e)),cn(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const _k=new Nt("listScrollAtBoundary","none");Kn.or(_k.isEqualTo("top"),_k.isEqualTo("both"));Kn.or(_k.isEqualTo("bottom"),_k.isEqualTo("both"));const Vwe=new Nt("listFocus",!0),zwe=new Nt("treestickyScrollFocused",!1),fP=new Nt("listSupportsMultiselect",!0);Kn.and(Vwe,Kn.not(Hwe),zwe.negate());const FG=new Nt("listHasSelectionOrFocus",!1),BG=new Nt("listDoubleSelection",!1),HG=new Nt("listMultiSelection",!1),gP=new Nt("listSelectionNavigation",!1),vCt=new Nt("listSupportsFind",!0),yCt=new Nt("treeElementCanCollapse",!1),CCt=new Nt("treeElementHasParent",!1),_Ct=new Nt("treeElementCanExpand",!1),wCt=new Nt("treeElementHasChild",!1),SCt=new Nt("treeFindOpen",!1),Wwe="listTypeNavigationMode",$we="listAutomaticKeyboardNavigation";function pP(n,e){const t=n.createScoped(e.getHTMLElement());return Vwe.bindTo(t),t}function mP(n,e){const t=_k.bindTo(n),i=()=>{const r=e.scrollTop===0,s=e.scrollHeight-e.renderHeight-e.scrollTop<1;r&&s?t.set("both"):r?t.set("top"):s?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const Jv="workbench.list.multiSelectModifier",xT="workbench.list.openMode",Wl="workbench.list.horizontalScrolling",VG="workbench.list.defaultFindMode",zG="workbench.list.typeNavigationMode",SM="workbench.list.keyboardNavigation",Nu="workbench.list.scrollByPage",WG="workbench.list.defaultFindMatchType",wk="workbench.tree.indent",xM="workbench.tree.renderIndentGuides",Au="workbench.list.smoothScrolling",Ud="workbench.list.mouseWheelScrollSensitivity",qd="workbench.list.fastScrollSensitivity",kM="workbench.tree.expandMode",LM="workbench.tree.enableStickyScroll",EM="workbench.tree.stickyScrollMaxItemCount";function Gd(n){return n.getValue(Jv)==="alt"}class xCt extends je{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=Gd(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Jv)&&(this.useAltAsMultipleSelectionModifier=Gd(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:z_e(e)}isSelectionRangeChangeEvent(e){return W_e(e)}}function bP(n,e){const t=n.get(br),i=n.get(Ks),r=new It;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(o){return i.mightProducePrintableCharacter(o)}},smoothScrolling:!!t.getValue(Au),mouseWheelScrollSensitivity:t.getValue(Ud),fastScrollSensitivity:t.getValue(qd),multipleSelectionController:e.multipleSelectionController??r.add(new xCt(t)),keyboardNavigationEventFilter:ECt(i),scrollByPage:!!t.getValue(Nu)},r]}let Bde=class extends zu{constructor(e,t,i,r,s,o,a,l,c){const u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!l.getValue(Wl),[d,h]=c.invokeFunction(bP,s);super(e,t,i,r,{keyboardSupport:!1,...d,horizontalScrolling:u}),this.disposables.add(h),this.contextKeyService=pP(o,this),this.disposables.add(mP(this.contextKeyService,this)),this.listSupportsMultiSelect=fP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),gP.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=FG.bindTo(this.contextKeyService),this.listDoubleSelection=BG.bindTo(this.contextKeyService),this.listMultiSelection=HG.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Gd(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),m=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||m.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),m=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||m.length>0)})),this.disposables.add(l.onDidChangeConfiguration(p=>{p.affectsConfiguration(Jv)&&(this._useAltAsMultipleSelectionModifier=Gd(l));let m={};if(p.affectsConfiguration(Wl)&&this.horizontalScrolling===void 0){const v=!!l.getValue(Wl);m={...m,horizontalScrolling:v}}if(p.affectsConfiguration(Nu)){const v=!!l.getValue(Nu);m={...m,scrollByPage:v}}if(p.affectsConfiguration(Au)){const v=!!l.getValue(Au);m={...m,smoothScrolling:v}}if(p.affectsConfiguration(Ud)){const v=l.getValue(Ud);m={...m,mouseWheelScrollSensitivity:v}}if(p.affectsConfiguration(qd)){const v=l.getValue(qd);m={...m,fastScrollSensitivity:v}}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new jwe(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?HL(e):r_)}};Bde=Jf([Ii(5,ii),Ii(6,rh),Ii(7,br),Ii(8,ui)],Bde);let Hde=class extends kyt{constructor(e,t,i,r,s,o,a,l,c){const u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!l.getValue(Wl),[d,h]=c.invokeFunction(bP,s);super(e,t,i,r,{keyboardSupport:!1,...d,horizontalScrolling:u}),this.disposables=new It,this.disposables.add(h),this.contextKeyService=pP(o,this),this.disposables.add(mP(this.contextKeyService,this.widget)),this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=fP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),gP.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this._useAltAsMultipleSelectionModifier=Gd(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(p=>{p.affectsConfiguration(Jv)&&(this._useAltAsMultipleSelectionModifier=Gd(l));let m={};if(p.affectsConfiguration(Wl)&&this.horizontalScrolling===void 0){const v=!!l.getValue(Wl);m={...m,horizontalScrolling:v}}if(p.affectsConfiguration(Nu)){const v=!!l.getValue(Nu);m={...m,scrollByPage:v}}if(p.affectsConfiguration(Au)){const v=!!l.getValue(Au);m={...m,smoothScrolling:v}}if(p.affectsConfiguration(Ud)){const v=l.getValue(Ud);m={...m,mouseWheelScrollSensitivity:v}}if(p.affectsConfiguration(qd)){const v=l.getValue(qd);m={...m,fastScrollSensitivity:v}}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new jwe(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?HL(e):r_)}dispose(){this.disposables.dispose(),super.dispose()}};Hde=Jf([Ii(5,ii),Ii(6,rh),Ii(7,br),Ii(8,ui)],Hde);let Vde=class extends bW{constructor(e,t,i,r,s,o,a,l,c,u){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!c.getValue(Wl),[h,f]=u.invokeFunction(bP,o);super(e,t,i,r,s,{keyboardSupport:!1,...h,horizontalScrolling:d}),this.disposables.add(f),this.contextKeyService=pP(a,this),this.disposables.add(mP(this.contextKeyService,this)),this.listSupportsMultiSelect=fP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),gP.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=FG.bindTo(this.contextKeyService),this.listDoubleSelection=BG.bindTo(this.contextKeyService),this.listMultiSelection=HG.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Gd(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||v.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||v.length>0)})),this.disposables.add(c.onDidChangeConfiguration(m=>{m.affectsConfiguration(Jv)&&(this._useAltAsMultipleSelectionModifier=Gd(c));let v={};if(m.affectsConfiguration(Wl)&&this.horizontalScrolling===void 0){const C=!!c.getValue(Wl);v={...v,horizontalScrolling:C}}if(m.affectsConfiguration(Nu)){const C=!!c.getValue(Nu);v={...v,scrollByPage:C}}if(m.affectsConfiguration(Au)){const C=!!c.getValue(Au);v={...v,smoothScrolling:C}}if(m.affectsConfiguration(Ud)){const C=c.getValue(Ud);v={...v,mouseWheelScrollSensitivity:C}}if(m.affectsConfiguration(qd)){const C=c.getValue(qd);v={...v,fastScrollSensitivity:C}}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new kCt(this,{configurationService:c,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?HL(e):r_)}dispose(){this.disposables.dispose(),super.dispose()}};Vde=Jf([Ii(6,ii),Ii(7,rh),Ii(8,br),Ii(9,ui)],Vde);class $G extends je{constructor(e,t){super(),this.widget=e,this._onDidOpen=this._register(new ke),this.onDidOpen=this._onDidOpen.event,this._register(ut.filter(this.widget.onDidChangeSelection,i=>Xh(i.browserEvent))(i=>this.onSelectionFromKeyboard(i))),this._register(this.widget.onPointer(i=>this.onPointer(i.element,i.browserEvent))),this._register(this.widget.onMouseDblClick(i=>this.onMouseDblClick(i.element,i.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(xT))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration(xT)&&(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(xT))!=="doubleClick")}))):this.openOnSingleClick=(t==null?void 0:t.openOnSingleClick)??!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!i;this._open(this.getSelectedElement(),i,r,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,s=!0,o=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const s=!1,o=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}_open(e,t,i,r,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:s})}}class jwe extends $G{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class kCt extends $G{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class LCt extends $G{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}}function ECt(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let wW=class extends AG{constructor(e,t,i,r,s,o,a,l,c){const{options:u,getTypeNavigationMode:d,disposable:h}=o.invokeFunction($L,s);super(e,t,i,r,u),this.disposables.add(h),this.internals=new Cv(this,s,d,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};wW=Jf([Ii(5,ui),Ii(6,ii),Ii(7,rh),Ii(8,br)],wW);let zde=class extends Owe{constructor(e,t,i,r,s,o,a,l,c){const{options:u,getTypeNavigationMode:d,disposable:h}=o.invokeFunction($L,s);super(e,t,i,r,u),this.disposables.add(h),this.internals=new Cv(this,s,d,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};zde=Jf([Ii(5,ui),Ii(6,ii),Ii(7,rh),Ii(8,br)],zde);let Wde=class extends pCt{constructor(e,t,i,r,s,o,a,l,c,u){const{options:d,getTypeNavigationMode:h,disposable:f}=a.invokeFunction($L,o);super(e,t,i,r,s,d),this.disposables.add(f),this.internals=new Cv(this,o,h,o.overrideStyles,l,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Wde=Jf([Ii(6,ui),Ii(7,ii),Ii(8,rh),Ii(9,br)],Wde);let $de=class extends Bwe{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,r,s,o,a,l,c,u){const{options:d,getTypeNavigationMode:h,disposable:f}=a.invokeFunction($L,o);super(e,t,i,r,s,d),this.disposables.add(f),this.internals=new Cv(this,o,h,o.overrideStyles,l,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};$de=Jf([Ii(6,ui),Ii(7,ii),Ii(8,rh),Ii(9,br)],$de);let jde=class extends fCt{constructor(e,t,i,r,s,o,a,l,c,u,d){const{options:h,getTypeNavigationMode:f,disposable:p}=l.invokeFunction($L,a);super(e,t,i,r,s,o,h),this.disposables.add(p),this.internals=new Cv(this,a,f,a.overrideStyles,c,u,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};jde=Jf([Ii(7,ui),Ii(8,ii),Ii(9,rh),Ii(10,br)],jde);function Uwe(n){const e=n.getValue(VG);if(e==="highlight")return hf.Highlight;if(e==="filter")return hf.Filter;const t=n.getValue(SM);if(t==="simple"||t==="highlight")return hf.Highlight;if(t==="filter")return hf.Filter}function qwe(n){const e=n.getValue(WG);if(e==="fuzzy")return yv.Fuzzy;if(e==="contiguous")return yv.Contiguous}function $L(n,e){const t=n.get(br),i=n.get(AL),r=n.get(ii),s=n.get(ui),o=()=>{const h=r.getContextKeyValue(Wwe);if(h==="automatic")return _d.Automatic;if(h==="trigger"||r.getContextKeyValue($we)===!1)return _d.Trigger;const p=t.getValue(zG);if(p==="automatic")return _d.Automatic;if(p==="trigger")return _d.Trigger},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(Wl),[l,c]=s.invokeFunction(bP,e),u=e.paddingBottom,d=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(xM);return{getTypeNavigationMode:o,disposable:c,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(wk)=="number"?t.getValue(wk):void 0,renderIndentGuides:d,smoothScrolling:!!t.getValue(Au),defaultFindMode:Uwe(t),defaultFindMatchType:qwe(t),horizontalScrolling:a,scrollByPage:!!t.getValue(Nu),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(kM)==="doubleClick",contextViewProvider:i,findWidgetStyles:mbt,enableStickyScroll:!!t.getValue(LM),stickyScrollMaxItemCount:Number(t.getValue(EM))}}}let Cv=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,r,s,o,a){this.tree=e,this.disposables=[],this.contextKeyService=pP(s,e),this.disposables.push(mP(this.contextKeyService,e)),this.listSupportsMultiSelect=fP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),gP.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=vCt.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=FG.bindTo(this.contextKeyService),this.hasDoubleSelection=BG.bindTo(this.contextKeyService),this.hasMultiSelection=HG.bindTo(this.contextKeyService),this.treeElementCanCollapse=yCt.bindTo(this.contextKeyService),this.treeElementHasParent=CCt.bindTo(this.contextKeyService),this.treeElementCanExpand=_Ct.bindTo(this.contextKeyService),this.treeElementHasChild=wCt.bindTo(this.contextKeyService),this.treeFindOpen=SCt.bindTo(this.contextKeyService),this.treeStickyScrollFocused=zwe.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Gd(a),this.updateStyleOverrides(r);const c=()=>{const d=e.getFocus()[0];if(!d)return;const h=e.getNode(d);this.treeElementCanCollapse.set(h.collapsible&&!h.collapsed),this.treeElementHasParent.set(!!e.getParentElement(d)),this.treeElementCanExpand.set(h.collapsible&&h.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(d))},u=new Set;u.add(Wwe),u.add($we),this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const d=e.getSelection(),h=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(d.length>0||h.length>0),this.hasMultiSelection.set(d.length>1),this.hasDoubleSelection.set(d.length===2)})}),e.onDidChangeFocus(()=>{const d=e.getSelection(),h=e.getFocus();this.hasSelectionOrFocus.set(d.length>0||h.length>0),c()}),e.onDidChangeCollapseState(c),e.onDidChangeModel(c),e.onDidChangeFindOpenState(d=>this.treeFindOpen.set(d)),e.onDidChangeStickyScrollFocused(d=>this.treeStickyScrollFocused.set(d)),a.onDidChangeConfiguration(d=>{let h={};if(d.affectsConfiguration(Jv)&&(this._useAltAsMultipleSelectionModifier=Gd(a)),d.affectsConfiguration(wk)){const f=a.getValue(wk);h={...h,indent:f}}if(d.affectsConfiguration(xM)&&t.renderIndentGuides===void 0){const f=a.getValue(xM);h={...h,renderIndentGuides:f}}if(d.affectsConfiguration(Au)){const f=!!a.getValue(Au);h={...h,smoothScrolling:f}}if(d.affectsConfiguration(VG)||d.affectsConfiguration(SM)){const f=Uwe(a);h={...h,defaultFindMode:f}}if(d.affectsConfiguration(zG)||d.affectsConfiguration(SM)){const f=i();h={...h,typeNavigationMode:f}}if(d.affectsConfiguration(WG)){const f=qwe(a);h={...h,defaultFindMatchType:f}}if(d.affectsConfiguration(Wl)&&t.horizontalScrolling===void 0){const f=!!a.getValue(Wl);h={...h,horizontalScrolling:f}}if(d.affectsConfiguration(Nu)){const f=!!a.getValue(Nu);h={...h,scrollByPage:f}}if(d.affectsConfiguration(kM)&&t.expandOnlyOnTwistieClick===void 0&&(h={...h,expandOnlyOnTwistieClick:a.getValue(kM)==="doubleClick"}),d.affectsConfiguration(LM)){const f=a.getValue(LM);h={...h,enableStickyScroll:f}}if(d.affectsConfiguration(EM)){const f=Math.max(1,a.getValue(EM));h={...h,stickyScrollMaxItemCount:f}}if(d.affectsConfiguration(Ud)){const f=a.getValue(Ud);h={...h,mouseWheelScrollSensitivity:f}}if(d.affectsConfiguration(qd)){const f=a.getValue(qd);h={...h,fastScrollSensitivity:f}}Object.keys(h).length>0&&e.updateOptions(h)}),this.contextKeyService.onDidChangeContext(d=>{d.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new LCt(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?HL(e):r_)}dispose(){this.disposables=Us(this.disposables)}};Cv=Jf([Ii(4,ii),Ii(5,rh),Ii(6,br)],Cv);const DCt=Is.as(Yv.Configuration);DCt.registerConfiguration({id:"workbench",order:7,title:P("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Jv]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[P("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),P("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:P({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[xT]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:P({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Wl]:{type:"boolean",default:!1,description:P("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Nu]:{type:"boolean",default:!1,description:P("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[wk]:{type:"number",default:8,minimum:4,maximum:40,description:P("tree indent setting","Controls tree indentation in pixels.")},[xM]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:P("render tree indent guides","Controls whether the tree should render indent guides.")},[Au]:{type:"boolean",default:!1,description:P("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ud]:{type:"number",default:1,markdownDescription:P("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[qd]:{type:"number",default:5,markdownDescription:P("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[VG]:{type:"string",enum:["highlight","filter"],enumDescriptions:[P("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),P("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:P("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[SM]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[P("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),P("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),P("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:P("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:P("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[WG]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[P("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),P("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:P("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[kM]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:P("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[LM]:{type:"boolean",default:!0,description:P("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[EM]:{type:"number",minimum:1,default:7,markdownDescription:P("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[zG]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:P("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});class zb extends je{constructor(e,t){super(),this.options=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(t==null?void 0:t.supportIcons)??!1,this.domNode=Tt(e,jt("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",r){e||(e=""),r&&(e=zb.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&Pa(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){var i,r,s;const e=[];let t=0;for(const o of this.highlights){if(o.end===o.start)continue;if(t<o.start){const c=this.text.substring(t,o.start);this.supportIcons?e.push(...Ob(c)):e.push(c),t=o.start}const a=this.text.substring(t,o.end),l=jt("span.highlight",void 0,...this.supportIcons?Ob(a):[a]);o.extraClasses&&l.classList.add(...o.extraClasses),e.push(l),t=o.end}if(t<this.text.length){const o=this.text.substring(t);this.supportIcons?e.push(...Ob(o)):e.push(o)}if(Wo(this.domNode,...e),(r=(i=this.options)==null?void 0:i.hoverDelegate)!=null&&r.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const o=((s=this.options)==null?void 0:s.hoverDelegate)??Gl("mouse");this.customHover=this._register(ih().setupManagedHover(o,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(e,t){let i=0,r=0;return e.replace(/\r\n|\r|\n/g,(s,o)=>{r=s===`\r
`?-1:0,o+=i;for(const a of t)a.end<=o||(a.start>=o&&(a.start+=r),a.end>=o&&(a.end+=r));return i+=r,""})}}class Gw{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set classNames(e){this.disposed||Pa(e,this._classNames)||(this._classNames=e,this._element.classList.value="",this._element.classList.add(...e))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class Ude extends je{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new Gw(Tt(e,jt(".monaco-icon-label")))),this.labelContainer=Tt(this.domNode.element,jt(".monaco-icon-label-container")),this.nameContainer=Tt(this.labelContainer,jt("span.monaco-icon-name-container")),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=this._register(new MCt(this.nameContainer,!!t.supportIcons)):this.nameNode=new TCt(this.nameContainer),this.hoverDelegate=(t==null?void 0:t.hoverDelegate)??Gl("mouse")}get element(){return this.domNode.element}setLabel(e,t,i){const r=["monaco-icon-label"],s=["monaco-icon-label-container"];let o="";i&&(i.extraClasses&&r.push(...i.extraClasses),i.italic&&r.push("italic"),i.strikethrough&&r.push("strikethrough"),i.disabledCommand&&s.push("disabled"),i.title&&(typeof i.title=="string"?o+=i.title:o+=e));const a=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(i!=null&&i.iconPath){let l;!a||!Ls(a)?(l=jt(".monaco-icon-label-iconpath"),this.domNode.element.prepend(l)):l=a,l.style.backgroundImage=Of(i==null?void 0:i.iconPath)}else a&&a.remove();if(this.domNode.classNames=r,this.domNode.element.setAttribute("aria-label",o),this.labelContainer.classList.value="",this.labelContainer.classList.add(...s),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const l=this.getOrCreateDescriptionNode();l instanceof zb?(l.set(t||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(l.element,i==null?void 0:i.descriptionTitle)):(l.textContent=t&&(i!=null&&i.labelEscapeNewLines)?zb.escapeNewLines(t,[]):t||"",this.setupHover(l.element,(i==null?void 0:i.descriptionTitle)||""),l.empty=!t)}if(i!=null&&i.suffix||this.suffixNode){const l=this.getOrCreateSuffixNode();l.textContent=(i==null?void 0:i.suffix)??""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(s,o){sl(o)?s.title=__e(o):o!=null&&o.markdownNotSupportedFallback?s.title=o.markdownNotSupportedFallback:s.removeAttribute("title")})(e,t);else{const r=ih().setupManagedHover(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const e=this._register(new Gw(mlt(this.nameContainer,jt("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new Gw(Tt(e.element,jt("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new Gw(Tt(this.labelContainer,jt("span.monaco-icon-description-container"))));(e=this.creationOptions)!=null&&e.supportDescriptionHighlights?this.descriptionNode=this._register(new zb(Tt(t.element,jt("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new Gw(Tt(t.element,jt("span.label-description"))))}return this.descriptionNode}}class TCt{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Pa(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Tt(this.container,jt("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const r=e[i],s=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;Tt(this.container,jt("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},r)),i<e.length-1&&Tt(this.container,jt("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function ICt(n,e,t){if(!t)return;let i=0;return n.map(r=>{const s={start:i,end:i+r.length},o=t.map(a=>Zs.intersect(s,a)).filter(a=>!Zs.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=s.end+e.length,o})}class MCt extends je{constructor(e,t){super(),this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Pa(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new zb(Tt(this.container,jt("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",r=ICt(e,i,t==null?void 0:t.matches);for(let s=0;s<e.length;s++){const o=e[s],a=r?r[s]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${s}`,c=jt("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});this._register(new zb(Tt(this.container,c),{supportIcons:this.supportIcons})).set(o,a,void 0,t==null?void 0:t.labelEscapeNewLines),s<e.length-1&&Tt(c,jt("span.label-separator",void 0,i))}}}}const y2=jt;class jG extends je{constructor(e,t,i){super(),this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const r=this.options.keybindingLabelForeground;this.domNode=Tt(e,y2(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.hover=this._register(ih().setupManagedHover(Gl("mouse"),this.domNode,"")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&jG.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){const e=this.keybinding.getChords();e[0]&&this.renderChord(this.domNode,e[0],this.matches?this.matches.firstPart:null);for(let i=1;i<e.length;i++)Tt(this.domNode,y2("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,e[i],this.matches?this.matches.chordPart:null);const t=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){Iu(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const r=sG.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,!!(i!=null&&i.ctrlKey),r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,!!(i!=null&&i.shiftKey),r.separator),t.altKey&&this.renderKey(e,r.altKey,!!(i!=null&&i.altKey),r.separator),t.metaKey&&this.renderKey(e,r.metaKey,!!(i!=null&&i.metaKey),r.separator);const s=t.keyLabel;s&&this.renderKey(e,s,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,r){Tt(e,this.createKeyElement(t,i?".highlight":"")),r&&Tt(e,y2("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){Tt(e,this.createKeyElement(P("unbound","Unbound")))}createKeyElement(e,t=""){const i=y2("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&Pa(e.firstPart,t.firstPart)&&Pa(e.chordPart,t.chordPart)}}const qde=new Rp(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});function RCt(n,e,t=!1){const i=n||"",r=e||"",s=qde.value.collator.compare(i,r);return qde.value.collatorIsNumeric&&s===0&&i!==r?i<r?-1:1:s}function NCt(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=ACt(n,e,t);if(s)return s;const o=i.endsWith(t),a=r.endsWith(t);if(o!==a)return o?-1:1;const l=RCt(i,r);return l!==0?l:i.localeCompare(r)}function ACt(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=i.startsWith(t),o=r.startsWith(t);if(s!==o)return s?-1:1;if(s&&o){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}var vP=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},SW=function(n,e){return function(t,i){e(t,i,n)}},xW;const cu=jt;class Gwe{constructor(e,t,i){this.index=e,this.hasCheckbox=t,this._hidden=!1,this._init=new Rp(()=>{const r=i.label??"",s=dS(r).text.trim(),o=i.ariaLabel||[r,this.saneDescription,this.saneDetail].map(a=>Egt(a)).filter(a=>!!a).join(", ");return{saneLabel:r,saneSortLabel:s,saneAriaLabel:o}}),this._saneDescription=i.description,this._saneTooltip=i.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class Os extends Gwe{constructor(e,t,i,r,s,o){var a,l,c;super(e,t,s),this.fireButtonTriggered=i,this._onChecked=r,this.item=s,this._separator=o,this._checked=!1,this.onChecked=t?ut.map(ut.filter(this._onChecked.event,u=>u.element===this),u=>u.checked):ut.None,this._saneDetail=s.detail,this._labelHighlights=(a=s.highlights)==null?void 0:a.label,this._descriptionHighlights=(l=s.highlights)==null?void 0:l.description,this._detailHighlights=(c=s.highlights)==null?void 0:c.detail}get separator(){return this._separator}set separator(e){this._separator=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({element:this,checked:e}))}get checkboxDisabled(){return!!this.item.disabled}}var hd;(function(n){n[n.NONE=0]="NONE",n[n.MOUSE_HOVER=1]="MOUSE_HOVER",n[n.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(hd||(hd={}));class $m extends Gwe{constructor(e,t,i){super(e,!1,i),this.fireSeparatorButtonTriggered=t,this.separator=i,this.children=new Array,this.focusInsideSeparator=hd.NONE}}class PCt{getHeight(e){return e instanceof $m?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof Os?DM.ID:TM.ID}}class OCt{getWidgetAriaLabel(){return P("quickInput","Quick Input")}getAriaLabel(e){var t;return(t=e.separator)!=null&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!(!e.hasCheckbox||!(e instanceof Os)))return{get value(){return e.checked},onDidChange:t=>e.onChecked(()=>t())}}}class Kwe{constructor(e){this.hoverDelegate=e}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=new It,t.toDisposeTemplate=new It,t.entry=Tt(e,cu(".quick-input-list-entry"));const i=Tt(t.entry,cu("label.quick-input-list-label"));t.toDisposeTemplate.add(ms(i,pt.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=Tt(i,cu("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";const r=Tt(i,cu(".quick-input-list-rows")),s=Tt(r,cu(".quick-input-list-row")),o=Tt(r,cu(".quick-input-list-row"));t.label=new Ude(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=xq(t.label.element,cu(".quick-input-list-icon"));const a=Tt(s,cu(".quick-input-list-entry-keybinding"));t.keybinding=new jG(a,Sc),t.toDisposeTemplate.add(t.keybinding);const l=Tt(o,cu(".quick-input-list-label-meta"));return t.detail=new Ude(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=Tt(t.entry,cu(".quick-input-list-separator")),t.actionBar=new kf(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,i){i.toDisposeElement.clear(),i.actionBar.clear()}}var Ub;let DM=(Ub=class extends Kwe{constructor(e,t){super(e),this.themeService=t,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return xW.ID}renderTemplate(e){const t=super.renderTemplate(e);return t.toDisposeTemplate.add(ms(t.checkbox,pt.CHANGE,i=>{t.element.checked=t.checkbox.checked})),t}renderElement(e,t,i){var h;const r=e.element;i.element=r,r.element=i.entry??void 0;const s=r.item;i.checkbox.checked=r.checked,i.toDisposeElement.add(r.onChecked(f=>i.checkbox.checked=f)),i.checkbox.disabled=r.checkboxDisabled;const{labelHighlights:o,descriptionHighlights:a,detailHighlights:l}=r;if(s.iconPath){const f=qA(this.themeService.getColorTheme().type)?s.iconPath.dark:s.iconPath.light??s.iconPath.dark,p=Sn.revive(f);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=Of(p)}else i.icon.style.backgroundImage="",i.icon.className=s.iconClass?`quick-input-list-icon ${s.iconClass}`:"";let c;!r.saneTooltip&&r.saneDescription&&(c={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const u={matches:o||[],descriptionTitle:c,descriptionMatches:a||[],labelEscapeNewLines:!0};if(u.extraClasses=s.iconClasses,u.italic=s.italic,u.strikethrough=s.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,u),i.keybinding.set(s.keybinding),r.saneDetail){let f;r.saneTooltip||(f={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:l,title:f,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";(h=r.separator)!=null&&h.label?(i.separator.textContent=r.separator.label,i.separator.style.display="",this.addItemWithSeparator(r)):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);const d=s.buttons;d&&d.length?(i.actionBar.push(d.map((f,p)=>XS(f,`id-${p}`,()=>r.fireButtonTriggered({button:f,item:r.item}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){this.removeItemWithSeparator(e.element),super.disposeElement(e,t,i)}isItemWithSeparatorVisible(e){return this._itemsWithSeparatorsFrequency.has(e)}addItemWithSeparator(e){this._itemsWithSeparatorsFrequency.set(e,(this._itemsWithSeparatorsFrequency.get(e)||0)+1)}removeItemWithSeparator(e){const t=this._itemsWithSeparatorsFrequency.get(e)||0;t>1?this._itemsWithSeparatorsFrequency.set(e,t-1):this._itemsWithSeparatorsFrequency.delete(e)}},xW=Ub,Ub.ID="quickpickitem",Ub);DM=xW=vP([SW(1,Zc)],DM);const AR=class AR extends Kwe{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return AR.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderTemplate(e){const t=super.renderTemplate(e);return t.checkbox.style.display="none",t}renderElement(e,t,i){const r=e.element;i.element=r,r.element=i.entry??void 0,r.element.classList.toggle("focus-inside",!!r.focusInsideSeparator);const s=r.separator,{labelHighlights:o,descriptionHighlights:a,detailHighlights:l}=r;i.icon.style.backgroundImage="",i.icon.className="";let c;!r.saneTooltip&&r.saneDescription&&(c={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const u={matches:o||[],descriptionTitle:c,descriptionMatches:a||[],labelEscapeNewLines:!0};if(i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,u),r.saneDetail){let h;r.saneTooltip||(h={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:l,title:h,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";i.separator.style.display="none",i.entry.classList.add("quick-input-list-separator-border");const d=s.buttons;d&&d.length?(i.actionBar.push(d.map((h,f)=>XS(h,`id-${f}`,()=>r.fireSeparatorButtonTriggered({button:h,separator:r.separator}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions"),this.addSeparator(r)}disposeElement(e,t,i){var r;this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||(r=e.element.element)==null||r.classList.remove("focus-inside"),super.disposeElement(e,t,i)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){const t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}};AR.ID="quickpickseparator";let TM=AR,Sk=class extends je{constructor(e,t,i,r,s,o){super(),this.parent=e,this.hoverDelegate=t,this.linkOpenerDelegate=i,this.accessibilityService=o,this._onKeyDown=new ke,this._onLeave=new ke,this.onLeave=this._onLeave.event,this._visibleCountObservable=Bn("VisibleCount",0),this.onChangedVisibleCount=ut.fromObservable(this._visibleCountObservable,this._store),this._allVisibleCheckedObservable=Bn("AllVisibleChecked",!1),this.onChangedAllVisibleChecked=ut.fromObservable(this._allVisibleCheckedObservable,this._store),this._checkedCountObservable=Bn("CheckedCount",0),this.onChangedCheckedCount=ut.fromObservable(this._checkedCountObservable,this._store),this._checkedElementsObservable=Bz({equalsFn:es},new Array),this.onChangedCheckedElements=ut.fromObservable(this._checkedElementsObservable,this._store),this._onButtonTriggered=new ke,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new ke,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new ke,this._elementCheckedEventBufferer=new _L,this._hasCheckboxes=!1,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new It),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=Tt(this.parent,cu(".quick-input-list")),this._separatorRenderer=new TM(t),this._itemRenderer=s.createInstance(DM,t),this._tree=this._register(s.createInstance(wW,"QuickInput",this._container,new PCt,[this._itemRenderer,this._separatorRenderer],{filter:{filter(a){return a.hidden?0:a instanceof $m?2:1}},sorter:{compare:(a,l)=>{if(!this.sortByLabel||!this._lastQueryString)return 0;const c=this._lastQueryString.toLowerCase();return BCt(a,l,c)}},accessibilityProvider:new OCt,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:u0.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=r,this._registerListeners()}get onDidChangeFocus(){return ut.map(this._tree.onDidChangeFocus,e=>e.elements.filter(t=>t instanceof Os).map(t=>t.item),this._store)}get onDidChangeSelection(){return ut.map(this._tree.onDidChangeSelection,e=>({items:e.elements.filter(t=>t instanceof Os).map(t=>t.item),event:e.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(e){this._container.style.display=e?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(e){this._tree.scrollTop=e}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(e){this._tree.ariaLabel=e??""}set enabled(e){this._tree.getHTMLElement().style.pointerEvents=e?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e}get shouldLoop(){return this._shouldLoop}set shouldLoop(e){this._shouldLoop=e}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(e=>{const t=new Bi(e);switch(t.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(t)}))}_registerOnContainerClick(){this._register(ze(this._container,pt.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(ze(this._container,pt.AUXCLICK,e=>{e.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{const e=this._itemElements.filter(t=>!t.hidden).length;this._visibleCountObservable.set(e,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(e,t)=>t)(e=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(e=>{e.element&&(e.browserEvent.preventDefault(),this._tree.setSelection([e.element]))}))}_registerHoverListeners(){const e=this._register(new xCe(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async t=>{var i;if(Wle(t.browserEvent.target)){e.cancel();return}if(!(!Wle(t.browserEvent.relatedTarget)&&gs(t.browserEvent.relatedTarget,(i=t.element)==null?void 0:i.element)))try{await e.trigger(async()=>{t.element instanceof Os&&this.showHover(t.element)})}catch(r){if(!yL(r))throw r}})),this._register(this._tree.onMouseOut(t=>{var i;gs(t.browserEvent.relatedTarget,(i=t.element)==null?void 0:i.element)||e.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(e=>{const t=e.elements[0]?this._tree.getParentElement(e.elements[0]):null;for(const i of this._separatorRenderer.visibleSeparators){const r=i===t;!!(i.focusInsideSeparator&hd.ACTIVE_ITEM)!==r&&(r?i.focusInsideSeparator|=hd.ACTIVE_ITEM:i.focusInsideSeparator&=~hd.ACTIVE_ITEM,this._tree.rerender(i))}})),this._register(this._tree.onMouseOver(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&hd.MOUSE_HOVER)||(i.focusInsideSeparator|=hd.MOUSE_HOVER,this._tree.rerender(i))}})),this._register(this._tree.onMouseOut(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&hd.MOUSE_HOVER)&&(i.focusInsideSeparator&=~hd.MOUSE_HOVER,this._tree.rerender(i))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(e=>{const t=e.elements.filter(i=>i instanceof Os);t.length!==e.elements.length&&(e.elements.length===1&&e.elements[0]instanceof $m&&(this._tree.setFocus([e.elements[0].children[0]]),this._tree.reveal(e.elements[0],0)),this._tree.setSelection(t))}))}setAllVisibleChecked(e){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(t=>{!t.hidden&&!t.checkboxDisabled&&(t.checked=e)})})}setElements(e){this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=e,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let t;this._itemElements=new Array,this._elementTree=e.reduce((i,r,s)=>{let o;if(r.type==="separator"){if(!r.buttons)return i;t=new $m(s,a=>this._onSeparatorButtonTriggered.fire(a),r),o=t}else{const a=s>0?e[s-1]:void 0;let l;a&&a.type==="separator"&&!a.buttons&&(t=void 0,l=a);const c=new Os(s,this._hasCheckboxes,u=>this._onButtonTriggered.fire(u),this._elementChecked,r,l);if(this._itemElements.push(c),t)return t.children.push(c),i;o=c}return i.push(o),i},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const i=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),r=i==null?void 0:i.parentNode;if(i&&r){const s=i.nextSibling;i.remove(),r.insertBefore(i,s)}},0)}setFocusedElements(e){const t=e.map(i=>this._itemElements.find(r=>r.item===i)).filter(i=>!!i).filter(i=>!i.hidden);if(this._tree.setFocus(t),e.length>0){const i=this._tree.getFocus()[0];i&&this._tree.reveal(i)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){const t=e.map(i=>this._itemElements.find(r=>r.item===i)).filter(i=>!!i);this._tree.setSelection(t)}getCheckedElements(){return this._itemElements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){this._elementCheckedEventBufferer.bufferEvents(()=>{const t=new Set;for(const i of e)t.add(i);for(const i of this._itemElements)i.checked=t.has(i.item)})}focus(e){var t;if(this._itemElements.length)switch(e===Ei.Second&&this._itemElements.length<2&&(e=Ei.First),e){case Ei.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,i=>i.element instanceof Os);break;case Ei.Second:{this._tree.scrollTop=0;let i=!1;this._tree.focusFirst(void 0,r=>r.element instanceof Os?i?!0:(i=!i,!1):!1);break}case Ei.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,i=>i.element instanceof Os);break;case Ei.Next:{const i=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,s=>s.element instanceof Os?(this._tree.reveal(s.element),!0):!1);const r=this._tree.getFocus();i.length&&i[0]===r[0]&&i[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case Ei.Previous:{const i=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,s=>{if(!(s.element instanceof Os))return!1;const o=this._tree.getParentElement(s.element);return o===null||o.children[0]!==s.element?this._tree.reveal(s.element):this._tree.reveal(o),!0});const r=this._tree.getFocus();i.length&&i[0]===r[0]&&i[0]===this._itemElements[0]&&this._onLeave.fire();break}case Ei.NextPage:this._tree.focusNextPage(void 0,i=>i.element instanceof Os?(this._tree.reveal(i.element),!0):!1);break;case Ei.PreviousPage:this._tree.focusPreviousPage(void 0,i=>{if(!(i.element instanceof Os))return!1;const r=this._tree.getParentElement(i.element);return r===null||r.children[0]!==i.element?this._tree.reveal(i.element):this._tree.reveal(r),!0});break;case Ei.NextSeparator:{let i=!1;const r=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,o=>{if(i)return!0;if(o.element instanceof $m)i=!0,this._separatorRenderer.isSeparatorVisible(o.element)?this._tree.reveal(o.element.children[0]):this._tree.reveal(o.element,0);else if(o.element instanceof Os){if(o.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(o.element)?this._tree.reveal(o.element):this._tree.reveal(o.element,0),!0;if(o.element===this._elementTree[0])return this._tree.reveal(o.element,0),!0}return!1});const s=this._tree.getFocus()[0];r===s&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,o=>o.element instanceof Os));break}case Ei.PreviousSeparator:{let i,r=!!((t=this._tree.getFocus()[0])!=null&&t.separator);this._tree.focusPrevious(void 0,!0,void 0,s=>{if(s.element instanceof $m)r?i||(this._separatorRenderer.isSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),i=s.element.children[0]):r=!0;else if(s.element instanceof Os&&!i){if(s.element.separator)this._itemRenderer.isItemWithSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),i=s.element;else if(s.element===this._elementTree[0])return this._tree.reveal(s.element,0),!0}return!1}),i&&this._tree.setFocus([i]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(e){this._tree.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this._tree.layout()}filter(e){if(this._lastQueryString=e,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const r=i.index&&this._inputElements[i.index-1];i.item&&(i.separator=r&&r.type==="separator"&&!r.buttons?r:void 0)});else{let i;this._itemElements.forEach(r=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?r6(e,dS(r.saneLabel))??void 0:void 0:s=this.matchOnLabel?FCt(t,dS(r.saneLabel))??void 0:void 0;const o=this.matchOnDescription?r6(e,dS(r.saneDescription||""))??void 0:void 0,a=this.matchOnDetail?r6(e,dS(r.saneDetail||""))??void 0:void 0;if(s||o||a?(r.labelHighlights=s,r.descriptionHighlights=o,r.detailHighlights=a,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=r.item?!r.item.alwaysShow:!0),r.item?r.separator=void 0:r.separator&&(r.hidden=!0),!this.sortByLabel){const l=r.index&&this._inputElements[r.index-1]||void 0;(l==null?void 0:l.type)==="separator"&&!l.buttons&&(i=l),i&&!r.hidden&&(r.separator=i,i=void 0)}})}return this._setElementsToTree(this._sortByLabel&&e?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{const e=this._tree.getFocus().filter(i=>i instanceof Os),t=this._allVisibleChecked(e);for(const i of e)i.checkboxDisabled||(i.checked=!t)})}style(e){this._tree.style(e)}toggleHover(){const e=this._tree.getFocus()[0];if(!(e!=null&&e.saneTooltip)||!(e instanceof Os))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(e);const t=new It;t.add(this._tree.onDidChangeFocus(i=>{i.elements[0]instanceof Os&&this.showHover(i.elements[0])})),this._lastHover&&t.add(this._lastHover),this._elementDisposable.add(t)}_setElementsToTree(e){const t=new Array;for(const i of e)i instanceof $m?t.push({element:i,collapsible:!1,collapsed:!1,children:i.children.map(r=>({element:r,collapsible:!1,collapsed:!1}))}):t.push({element:i,collapsible:!1,collapsed:!1});this._tree.setChildren(null,t)}_allVisibleChecked(e,t=!0){for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.hidden)if(s.checked)t=!0;else return!1}return t}_updateCheckedObservables(){Xr(e=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),e);const t=this._itemElements.filter(i=>i.checked).length;this._checkedCountObservable.set(t,e),this._checkedElementsObservable.set(this.getCheckedElements(),e)})}showHover(e){var t,i,r;this._lastHover&&!this._lastHover.isDisposed&&((i=(t=this.hoverDelegate).onDidHideHover)==null||i.call(t),(r=this._lastHover)==null||r.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:s=>{this.linkOpenerDelegate(s)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};vP([vr],Sk.prototype,"onDidChangeFocus",null);vP([vr],Sk.prototype,"onDidChangeSelection",null);Sk=vP([SW(4,ui),SW(5,Vu)],Sk);function FCt(n,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return Gde(n,t);const r=DA(t," "),s=t.length-r.length,o=Gde(n,r);if(o)for(const a of o){const l=i[a.start+s]+s;a.start+=l,a.end+=l}return o}function Gde(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function BCt(n,e,t){const i=n.labelHighlights||[],r=e.labelHighlights||[];return i.length&&!r.length?-1:!i.length&&r.length?1:i.length===0&&r.length===0?0:NCt(n.saneSortLabel,e.saneSortLabel,t)}const Qwe={weight:200,when:Kn.and(Kn.equals(Twe,"quickPick"),iyt),metadata:{description:P("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function Ia(n,e={}){LL.registerCommandAndKeybindingRule({...Qwe,...n,secondary:HCt(n.primary,n.secondary??[],e)})}const IM=An?256:2048;function HCt(n,e,t={}){return t.withAltMod&&e.push(512+n),t.withCtrlMod&&(e.push(IM+n),t.withAltMod&&e.push(512+IM+n)),t.withCmdMod&&An&&(e.push(2048+n),t.withCtrlMod&&e.push(2304+n),t.withAltMod&&(e.push(2560+n),t.withCtrlMod&&e.push(2816+n))),e}function Qa(n,e){return t=>{const i=t.get(dP).currentQuickInput;if(i)return e&&i.quickNavigate?i.focus(e):i.focus(n)}}Ia({id:"quickInput.pageNext",primary:12,handler:Qa(Ei.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});Ia({id:"quickInput.pagePrevious",primary:11,handler:Qa(Ei.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});Ia({id:"quickInput.first",primary:IM+14,handler:Qa(Ei.First)},{withAltMod:!0,withCmdMod:!0});Ia({id:"quickInput.last",primary:IM+13,handler:Qa(Ei.Last)},{withAltMod:!0,withCmdMod:!0});Ia({id:"quickInput.next",primary:18,handler:Qa(Ei.Next)},{withCtrlMod:!0});Ia({id:"quickInput.previous",primary:16,handler:Qa(Ei.Previous)},{withCtrlMod:!0});const Kde=P("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),Qde=P("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");An?(Ia({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:Qa(Ei.NextSeparator,Ei.Next),metadata:{description:Kde}}),Ia({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:Qa(Ei.NextSeparator)},{withCtrlMod:!0}),Ia({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:Qa(Ei.PreviousSeparator,Ei.Previous),metadata:{description:Qde}}),Ia({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:Qa(Ei.PreviousSeparator)},{withCtrlMod:!0})):(Ia({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:Qa(Ei.NextSeparator,Ei.Next),metadata:{description:Kde}}),Ia({id:"quickInput.nextSeparator",primary:2578,handler:Qa(Ei.NextSeparator)}),Ia({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:Qa(Ei.PreviousSeparator,Ei.Previous),metadata:{description:Qde}}),Ia({id:"quickInput.previousSeparator",primary:2576,handler:Qa(Ei.PreviousSeparator)}));Ia({id:"quickInput.acceptInBackground",when:Kn.and(Qwe.when,Kn.or(mCt.negate(),oyt)),primary:17,weight:250,handler:n=>{const e=n.get(dP).currentQuickInput;e==null||e.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var VCt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},E6=function(n,e){return function(t,i){e(t,i,n)}},kW;const xa=jt;var qb;let LW=(qb=class extends je{get currentQuickInput(){return this.controller??void 0}get container(){return this._container}constructor(e,t,i,r){super(),this.options=e,this.layoutService=t,this.instantiationService=i,this.contextKeyService=r,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ke),this.onDidCustomEmitter=this._register(new ke),this.onDidTriggerButtonEmitter=this._register(new ke),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ke),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ke),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=nyt.bindTo(this.contextKeyService),this.quickInputTypeContext=ryt.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=syt.bindTo(this.contextKeyService),this.idPrefix=e.idPrefix,this._container=e.container,this.styles=e.styles,this._register(ut.runAndSubscribe(MA,({window:s,disposables:o})=>this.registerKeyModsListeners(s,o),{window:yi,disposables:this._store})),this._register(elt(s=>{this.ui&&Ft(this.ui.container)===s&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(e,t){const i=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};for(const r of[pt.KEY_DOWN,pt.KEY_UP,pt.MOUSE_DOWN])t.add(ze(e,r,i,!0))}getUI(e){if(this.ui)return e&&Ft(this._container)!==Ft(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const t=Tt(this._container,xa(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=ql(t),r=Tt(t,xa(".quick-input-titlebar")),s=this._register(new kf(r,{hoverDelegate:this.options.hoverDelegate}));s.domNode.classList.add("quick-input-left-action-bar");const o=Tt(r,xa(".quick-input-title")),a=this._register(new kf(r,{hoverDelegate:this.options.hoverDelegate}));a.domNode.classList.add("quick-input-right-action-bar");const l=Tt(t,xa(".quick-input-header")),c=Tt(l,xa("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",P("quickInput.checkAll","Toggle all checkboxes")),this._register(ms(c,pt.CHANGE,F=>{const A=c.checked;N.setAllVisibleChecked(A)})),this._register(ze(c,pt.CLICK,F=>{(F.x||F.y)&&f.setFocus()}));const u=Tt(l,xa(".quick-input-description")),d=Tt(l,xa(".quick-input-and-message")),h=Tt(d,xa(".quick-input-filter")),f=this._register(new _yt(h,this.styles.inputBox,this.styles.toggle));f.setAttribute("aria-describedby",`${this.idPrefix}message`);const p=Tt(h,xa(".quick-input-visible-count"));p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true");const m=new Ede(p,{countFormat:P({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),v=Tt(h,xa(".quick-input-count"));v.setAttribute("aria-live","polite");const C=new Ede(v,{countFormat:P({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),y=this._register(new kf(l,{hoverDelegate:this.options.hoverDelegate}));y.domNode.classList.add("quick-input-inline-action-bar");const w=Tt(l,xa(".quick-input-action")),_=this._register(new pW(w,this.styles.button));_.label=P("ok","OK"),this._register(_.onDidClick(F=>{this.onDidAcceptEmitter.fire()}));const x=Tt(l,xa(".quick-input-action")),k=this._register(new pW(x,{...this.styles.button,supportIcons:!0}));k.label=P("custom","Custom"),this._register(k.onDidClick(F=>{this.onDidCustomEmitter.fire()}));const D=Tt(d,xa(`#${this.idPrefix}message.quick-input-message`)),T=this._register(new mW(t,this.styles.progressBar));T.getContainer().classList.add("quick-input-progress");const L=Tt(t,xa(".quick-input-html-widget"));L.tabIndex=-1;const I=Tt(t,xa(".quick-input-description")),R=this.idPrefix+"list",N=this._register(this.instantiationService.createInstance(Sk,t,this.options.hoverDelegate,this.options.linkOpenerDelegate,R));f.setAttribute("aria-controls",R),this._register(N.onDidChangeFocus(()=>{f.setAttribute("aria-activedescendant",N.getActiveDescendant()??"")})),this._register(N.onChangedAllVisibleChecked(F=>{c.checked=F})),this._register(N.onChangedVisibleCount(F=>{m.setCount(F)})),this._register(N.onChangedCheckedCount(F=>{C.setCount(F)})),this._register(N.onLeave(()=>{setTimeout(()=>{this.controller&&(f.setFocus(),this.controller instanceof CM&&this.controller.canSelectMany&&N.clearFocus())},0)}));const O=ek(t);return this._register(O),this._register(ze(t,pt.FOCUS,F=>{const A=this.getUI();if(gs(F.relatedTarget,A.inputContainer)){const H=A.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==H&&this.endOfQuickInputBoxContext.set(H)}gs(F.relatedTarget,A.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=Ls(F.relatedTarget)?F.relatedTarget:void 0)},!0)),this._register(O.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(c0.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(f.onKeyDown(F=>{const A=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==A&&this.endOfQuickInputBoxContext.set(A)})),this._register(ze(t,pt.FOCUS,F=>{f.setFocus()})),this._register(ms(t,pt.KEY_DOWN,F=>{if(!gs(F.target,L))switch(F.keyCode){case 3:In.stop(F,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:In.stop(F,!0),this.hide(c0.Gesture);break;case 2:if(!F.altKey&&!F.ctrlKey&&!F.metaKey){const A=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?A.push("input"):A.push("input[type=text]"),this.getUI().list.displayed&&A.push(".monaco-list"),this.getUI().message&&A.push(".quick-input-message a"),this.getUI().widget){if(gs(F.target,this.getUI().widget))break;A.push(".quick-input-html-widget")}const H=t.querySelectorAll(A.join(", "));F.shiftKey&&F.target===H[0]?(In.stop(F,!0),N.clearFocus()):!F.shiftKey&&gs(F.target,H[H.length-1])&&(In.stop(F,!0),H[0].focus())}break;case 10:F.ctrlKey&&(In.stop(F,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:r,title:o,description1:I,description2:u,widget:L,rightActionBar:a,inlineActionBar:y,checkAll:c,inputContainer:d,filterContainer:h,inputBox:f,visibleCountContainer:p,visibleCount:m,countContainer:v,count:C,okContainer:w,ok:_,message:D,customButtonContainer:x,customButton:k,list:N,progressBar:T,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:F=>this.show(F),hide:()=>this.hide(),setVisibilities:F=>this.setVisibilities(F),setEnabled:F=>this.setEnabled(F),setContextKey:F=>this.options.setContextKey(F),linkOpenerDelegate:F=>this.options.linkOpenerDelegate(F)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this._container=e,Tt(this._container,this.ui.container))}pick(e,t={},i=Pc.None){return new Promise((r,s)=>{let o=u=>{var d;o=r,(d=t.onKeyMods)==null||d.call(t,a.keyMods),r(u)};if(i.isCancellationRequested){o(void 0);return}const a=this.createQuickPick({useSeparators:!0});let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)o(a.selectedItems.slice()),a.hide();else{const u=a.activeItems[0];u&&(o(u),a.hide())}}),a.onDidChangeActive(u=>{const d=u[0];d&&t.onDidFocus&&t.onDidFocus(d)}),a.onDidChangeSelection(u=>{if(!a.canSelectMany){const d=u[0];d&&(o(d),a.hide())}}),a.onDidTriggerItemButton(u=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...u,removeItem:()=>{const d=a.items.indexOf(u.item);if(d!==-1){const h=a.items.slice(),f=h.splice(d,1),p=a.activeItems.filter(v=>v!==f[0]),m=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,p&&(a.activeItems=p),a.keepScrollPosition=m}}})),a.onDidTriggerSeparatorButton(u=>{var d;return(d=t.onDidTriggerSeparatorButton)==null?void 0:d.call(t,u)}),a.onDidChangeValue(u=>{l&&!u&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{Us(c),o(void 0)})];a.title=t.title,t.value&&(a.value=t.value),a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([u,d])=>{l=d,a.busy=!1,a.items=u,a.canSelectMany&&(a.selectedItems=u.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,u=>{s(u),a.hide()})})}createQuickPick(e={useSeparators:!1}){const t=this.getUI(!0);return new CM(t)}createInputBox(){const e=this.getUI(!0);return new ayt(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,i==null||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",Wo(t.widget),t.rightActionBar.clear(),t.inlineActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Vr.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),Wo(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const r=this.options.backKeybindingLabel();fW.tooltip=r?P("quickInput.backWithKeybinding","Back ({0})",r):P("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus(),this.quickInputTypeContext.set(e.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.displayed=!!e.list,t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var s;const t=this.controller;if(!t)return;t.willHide(e);const i=(s=this.ui)==null?void 0:s.container,r=i&&!zCe(i);if(this.controller=null,this.onHideEmitter.fire(),i&&(i.style.display="none"),!r){let o=this.previousFocusElement;for(;o&&!o.offsetParent;)o=o.parentElement??void 0;o!=null&&o.offsetParent?(o.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}t.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,kW.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:r,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e??"",this.ui.container.style.backgroundColor=t??"",this.ui.container.style.color=i??"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.list.style(this.styles.list);const o=[];this.styles.pickerGroup.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const a=o.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}},kW=qb,qb.MAX_WIDTH=600,qb);LW=kW=VCt([E6(1,Jp),E6(2,ui),E6(3,ii)],LW);var zCt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Kw=function(n,e){return function(t,i){e(t,i,n)}};let EW=class extends mdt{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(hW))),this._quickAccess}constructor(e,t,i,r,s){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=r,this.configurationService=s,this._onShow=this._register(new ke),this._onHide=this._register(new ke),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:s=>this.setContextKey(s),linkOpenerDelegate:s=>{this.instantiationService.invokeFunction(o=>{o.get(PL).open(s,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(gW))},r=this._register(this.instantiationService.createInstance(LW,{...i,...t}));return r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer(s=>{Ft(e.activeContainer)===Ft(r.container)&&r.layout(s,e.activeContainerOffset.quickPickTop)})),this._register(e.onDidChangeActiveContainer(()=>{r.isVisible()||r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)})),this._register(r.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(r.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new Nt(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t,i=Pc.None){return this.controller.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.controller.createQuickPick(e)}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:mt(cue),quickInputForeground:mt(Mft),quickInputTitleBackground:mt(Rft),widgetBorder:mt(pht),widgetShadow:mt(RL)},inputBox:G_e,toggle:q_e,countBadge:bbt,button:gbt,progressBar:pbt,keybindingLabel:fbt,list:HL({listBackground:cue,listFocusBackground:mz,listFocusForeground:pz,listInactiveFocusForeground:pz,listInactiveSelectionIconForeground:c_e,listInactiveFocusBackground:mz,listFocusOutline:Dr,listInactiveFocusOutline:Dr}),pickerGroup:{pickerGroupBorder:mt(Nft),pickerGroupForeground:mt(l_e)}}}};EW=zCt([Kw(0,ui),Kw(1,ii),Kw(2,Zc),Kw(3,Jp),Kw(4,br)],EW);var Ywe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ob=function(n,e){return function(t,i){e(t,i,n)}};let DW=class extends EW{constructor(e,t,i,r,s,o){super(t,i,r,new ez(e.getContainerDomNode(),s),o),this.host=void 0;const a=xk.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get mainContainer(){return l.getDomNode()},getContainer(){return l.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[l.getDomNode()]},get activeContainer(){return l.getDomNode()},get mainContainerDimension(){return e.getLayoutInfo()},get activeContainerDimension(){return e.getLayoutInfo()},get onDidLayoutMainContainer(){return e.onDidLayoutChange},get onDidLayoutActiveContainer(){return e.onDidLayoutChange},get onDidLayoutContainer(){return ut.map(e.onDidLayoutChange,c=>({container:l.getDomNode(),dimension:c}))},get onDidChangeActiveContainer(){return ut.None},get onDidAddContainer(){return ut.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};DW=Ywe([ob(1,ui),ob(2,ii),ob(3,Zc),ob(4,ts),ob(5,br)],DW);let TW=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(DW,e);this.mapEditorToService.set(e,t),KC(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t,i=Pc.None){return this.activeService.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.activeService.createQuickPick(e)}createInputBox(){return this.activeService.createInputBox()}};TW=Ywe([ob(0,ui),ob(1,ts)],TW);const PR=class PR{static get(e){return e.getContribution(PR.ID)}constructor(e){this.editor=e,this.widget=new IW(this.editor)}dispose(){this.widget.dispose()}};PR.ID="editor.controller.quickInput";let xk=PR;const OR=class OR{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return OR.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}};OR.ID="editor.contrib.quickInputWidget";let IW=OR;ZCe(xk.ID,xk,4);class WCt{constructor(e,t,i,r,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=r,this.background=s}}function $Ct(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,r=n.length;i<r;i++){const s=n[i];let o=-1;if(typeof s.fontStyle=="string"){o=0;const c=s.fontStyle.split(" ");for(let u=0,d=c.length;u<d;u++)switch(c[u]){case"italic":o=o|1;break;case"bold":o=o|2;break;case"underline":o=o|4;break;case"strikethrough":o=o|8;break}}let a=null;typeof s.foreground=="string"&&(a=s.foreground);let l=null;typeof s.background=="string"&&(l=s.background),e[t++]=new WCt(s.token||"",i,o,a,l)}return e}function jCt(n,e){n.sort((u,d)=>{const h=QCt(u.token,d.token);return h!==0?h:u.index-d.index});let t=0,i="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){const u=n.shift();u.fontStyle!==-1&&(t=u.fontStyle),u.foreground!==null&&(i=u.foreground),u.background!==null&&(r=u.background)}const s=new qCt;for(const u of e)s.getId(u);const o=s.getId(i),a=s.getId(r),l=new UG(t,o,a),c=new qG(l);for(let u=0,d=n.length;u<d;u++){const h=n[u];c.insert(h.token,h.fontStyle,s.getId(h.foreground),s.getId(h.background))}return new Xwe(s,c)}const UCt=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class qCt{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(UCt);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=tt.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Xwe{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme($Ct(e),t)}static createFromParsedTokenTheme(e,t){return jCt(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){const r=this._match(t),s=KCt(t);i=(r.metadata|s<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const GCt=/\b(comment|string|regex|regexp)\b/;function KCt(n){const e=n.match(GCt);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function QCt(n,e){return n<e?-1:n>e?1:0}class UG{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new UG(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class qG{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,r;t===-1?(i=e,r=""):(i=e.substring(0,t),r=e.substring(t+1));const s=this._children.get(i);return typeof s<"u"?s.match(r):this._mainRule}insert(e,t,i,r){if(e===""){this._mainRule.acceptOverwrite(t,i,r);return}const s=e.indexOf(".");let o,a;s===-1?(o=e,a=""):(o=e.substring(0,s),a=e.substring(s+1));let l=this._children.get(o);typeof l>"u"&&(l=new qG(this._mainRule.clone()),this._children.set(o,l)),l.insert(a,t,i,r)}}function YCt(n){const e=[];for(let t=1,i=n.length;t<i;t++){const r=n[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const XCt={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Mu]:"#FFFFFE",[ML]:"#000000",[Q0e]:"#E5EBF1",[zL]:"#D3D3D3",[WL]:"#939393",[Y0e]:"#ADD6FF4D"}},ZCt={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Mu]:"#1E1E1E",[ML]:"#D4D4D4",[Q0e]:"#3A3D41",[zL]:"#404040",[WL]:"#707070",[Y0e]:"#ADD6FF26"}},JCt={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Mu]:"#000000",[ML]:"#FFFFFF",[zL]:"#FFFFFF",[WL]:"#FFFFFF"}},e0t={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Mu]:"#FFFFFF",[ML]:"#292929",[zL]:"#292929",[WL]:"#292929"}},t0t={IconContribution:"base.contributions.icons"};var Yde;(function(n){function e(t,i){let r=t.defaults;for(;Hn.isThemeIcon(r);){const s=e1.getIcon(r.id);if(!s)return;r=s.defaults}return r}n.getDefinition=e})(Yde||(Yde={}));var Xde;(function(n){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(r=>({format:r.format,location:r.location.toString()}))}}n.toJSONObject=e;function t(i){const r=s=>sl(s)?s:void 0;if(i&&Array.isArray(i.src)&&i.src.every(s=>sl(s.format)&&sl(s.location)))return{weight:r(i.weight),style:r(i.style),src:i.src.map(s=>({format:s.format,location:Sn.parse(s.location)}))}}n.fromJSONObject=t})(Xde||(Xde={}));class n0t{constructor(){this._onDidChange=new ke,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:P("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:P("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Hn.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,r){const s=this.iconsById[e];if(s){if(i&&!s.description){s.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return s}const o={id:e,description:i,defaults:t,deprecationMessage:r};this.iconsById[e]=o;const a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(s,o)=>s.id.localeCompare(o.id),t=s=>{for(;Hn.isThemeIcon(s.defaults);)s=this.iconsById[s.defaults.id];return`codicon codicon-${s?s.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(s=>this.iconsById[s]);for(const s of r.filter(o=>!!o.description).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|${Hn.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const s of r.filter(o=>!Hn.isThemeIcon(o.defaults)).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|`);return i.join(`
`)}}const e1=new n0t;Is.add(t0t.IconContribution,e1);function nm(n,e,t,i){return e1.registerIcon(n,e,t,i)}function Zwe(){return e1}function i0t(){const n=uCe();for(const e in n){const t="\\"+n[e].toString(16);e1.registerIcon(e,{fontCharacter:t})}}i0t();const Jwe="vscode://schemas/icons",eSe=Is.as(UA.JSONContribution);eSe.registerSchema(Jwe,e1.getIconSchema());const Zde=new Lo(()=>eSe.notifySchemaChanged(Jwe),200);e1.onDidChange(()=>{Zde.isScheduled()||Zde.schedule()});nm("widget-close",Lt.close,P("widgetClose","Icon for the close action in widgets."));nm("goto-previous-location",Lt.arrowUp,P("previousChangeIcon","Icon for goto previous editor location."));nm("goto-next-location",Lt.arrowDown,P("nextChangeIcon","Icon for goto next editor location."));Hn.modify(Lt.sync,"spin");Hn.modify(Lt.loading,"spin");function r0t(n){const e=new It,t=e.add(new ke),i=Zwe();return e.add(i.onDidChange(()=>t.fire())),n&&e.add(n.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const r=n?n.getProductIconTheme():new tSe,s={},o=[],a=[];for(const l of i.getIcons()){const c=r.getIcon(l);if(!c)continue;const u=c.font,d=`--vscode-icon-${l.id}-font-family`,h=`--vscode-icon-${l.id}-content`;u?(s[u.id]=u.definition,a.push(`${d}: ${B7(u.id)};`,`${h}: '${c.fontCharacter}';`),o.push(`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${B7(u.id)}; }`)):(a.push(`${h}: '${c.fontCharacter}'; ${d}: 'codicon';`),o.push(`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`))}for(const l in s){const c=s[l],u=c.weight?`font-weight: ${c.weight};`:"",d=c.style?`font-style: ${c.style};`:"",h=c.src.map(f=>`${Of(f.location)} format('${f.format}')`).join(", ");o.push(`@font-face { src: ${h}; font-family: ${B7(l)};${u}${d} font-display: block; }`)}return o.push(`:root { ${a.join(" ")} }`),o.join(`
`)}}}class tSe{getIcon(e){const t=Zwe();let i=e.defaults;for(;Hn.isThemeIcon(i);){const r=t.getIcon(i.id);if(!r)return;i=r.defaults}return i}}const Zg="vs",ZS="vs-dark",SC="hc-black",xC="hc-light",nSe=Is.as(W0e.ColorContribution),s0t=Is.as(k0e.ThemingContribution);class iSe{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(kT(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,tt.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=MW(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,tt.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=nSe.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case Zg:return Bl.LIGHT;case SC:return Bl.HIGH_CONTRAST_DARK;case xC:return Bl.HIGH_CONTRAST_LIGHT;default:return Bl.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const s=MW(this.themeData.base);e=s.rules,s.encodedTokensColors&&(t=s.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],r=this.themeData.colors["editor.background"];if(i||r){const s={token:""};i&&(s.foreground=i),r&&(s.background=r),e.push(s)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Xwe.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const s=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=bu.getForeground(s),a=bu.getFontStyle(s);return{foreground:o,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4),strikethrough:!!(a&8)}}}function kT(n){return n===Zg||n===ZS||n===SC||n===xC}function MW(n){switch(n){case Zg:return XCt;case ZS:return ZCt;case SC:return JCt;case xC:return e0t}}function C2(n){const e=MW(n);return new iSe(n,e)}class o0t extends je{constructor(){super(),this._onColorThemeChange=this._register(new ke),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new ke),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new tSe,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Zg,C2(Zg)),this._knownThemes.set(ZS,C2(ZS)),this._knownThemes.set(SC,C2(SC)),this._knownThemes.set(xC,C2(xC));const e=this._register(r0t(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Zg),this._onOSSchemeChanged(),this._register(e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),yCe(yi,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return NI(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=ql(void 0,e=>{e.className="monaco-colors",e.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),je.None}_registerShadowDomContainer(e){const t=ql(e,i=>{i.className="monaco-colors",i.textContent=this._allCSS});return this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!kT(t.base)&&!kT(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new iSe(e,t)),kT(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Zg),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=yi.matchMedia("(forced-colors: active)").matches;if(e!==fC(this._theme.type)){let t;qA(this._theme.type)?t=e?SC:ZS:t=e?xC:Zg,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:o=>{t[o]||(e.push(o),t[o]=!0)}};s0t.getThemingParticipants().forEach(o=>o(this._theme,i,this._environment));const r=[];for(const o of nSe.getColors()){const a=this._theme.getColor(o.id,!0);a&&r.push(`${Vq(o.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${r.join(`
`)} }`);const s=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(YCt(s)),this._themeCSS=e.join(`
`),this._updateCSS(),Rr.setColorMap(s),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const Jc=Nn("themeService");var a0t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},D6=function(n,e){return function(t,i){e(t,i,n)}};let RW=class extends je{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ke,this._onDidChangeReducedMotion=new ke,this._onDidChangeLinkUnderline=new ke,this._accessibilityModeEnabledContext=fpt.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire()),o.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),r(),this._register(this.onDidChangeScreenReaderOptimized(()=>r()));const s=yi.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=s.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(s),this.initLinkUnderlineListeners()}initReducedMotionListeners(e){this._register(ze(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration(t=>{if(t.affectsConfiguration("accessibility.underlineLinks")){const i=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=i,this._onDidChangeLinkUnderline.fire()}}));const e=()=>{const t=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",t)};e(),this._register(this.onDidChangeLinkUnderlines(()=>e()))}onDidChangeLinkUnderlines(e){return this._onDidChangeLinkUnderline.event(e)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};RW=a0t([D6(0,ii),D6(1,Jp),D6(2,br)],RW);var yP=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Od=function(n,e){return function(t,i){e(t,i,n)}},hy,mS;let NW=class{constructor(e,t,i){this._commandService=e,this._keybindingService=t,this._hiddenStates=new AW(i)}createMenu(e,t,i){return new MM(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t)}getMenuActions(e,t,i){const r=new MM(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t),s=r.getActions(i);return r.dispose(),s}resetHiddenStates(e){this._hiddenStates.reset(e)}};NW=yP([Od(0,ml),Od(1,Ks),Od(2,lP)],NW);var Gb;let AW=(Gb=class{constructor(e){this._storageService=e,this._disposables=new It,this._onDidChange=new ke,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(hy._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,hy._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(hy._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){return this._hiddenByDefaultCache.get(`${e.id}/${t}`)??!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var s;const i=this._isHiddenByDefault(e,t),r=((s=this._data[e.id])==null?void 0:s.includes(t))??!1;return i?!r:r}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const s=this._data[e.id];if(i)s?s.indexOf(t)<0&&s.push(t):this._data[e.id]=[t];else if(s){const o=s.indexOf(t);o>=0&&Brt(s,o),s.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(hy._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}},hy=Gb,Gb._key="menu.hiddenCommands",Gb);AW=hy=yP([Od(0,lP)],AW);class JS{constructor(e,t){this._id=e,this._collectContextKeysForSubmenus=t,this._menuGroups=[],this._allMenuIds=new Set,this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=this._sort(XC.getMenuItems(this._id));let t;for(const i of e){const r=i.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeysAndSubmenuIds(i)}this._allMenuIds.add(this._id)}_sort(e){return e}_collectContextKeysAndSubmenuIds(e){if(JS._fillInKbExprKeys(e.when,this._structureContextKeys),BS(e)){if(e.command.precondition&&JS._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;JS._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(XC.getMenuItems(e.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(e.submenu))}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}}let PW=mS=class extends JS{constructor(e,t,i,r,s,o){super(e,i),this._hiddenStates=t,this._commandService=r,this._keybindingService=s,this._contextKeyService=o,this.refresh()}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[r,s]=i;let o;for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const l=BS(a);l&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const c=l0t(this._id,l?a.command:a,this._hiddenStates);if(l){const u=rSe(this._commandService,this._keybindingService,a.command.id,a.when);(o??(o=[])).push(new Sf(a.command,a.alt,e,c,u,this._contextKeyService,this._commandService))}else{const u=new mS(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(e),d=Do.join(...u.map(h=>h[1]));d.length>0&&(o??(o=[])).push(new HS(a,c,d))}}o&&o.length>0&&t.push([r,o])}return t}_sort(e){return e.sort(mS._compareMenuItems)}static _compareMenuItems(e,t){const i=e.group,r=t.group;if(i!==r){if(i){if(!r)return-1}else return 1;if(i==="navigation")return-1;if(r==="navigation")return 1;const a=i.localeCompare(r);if(a!==0)return a}const s=e.order||0,o=t.order||0;return s<o?-1:s>o?1:mS._compareTitles(BS(e)?e.command.title:e.title,BS(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return i.localeCompare(r)}};PW=mS=yP([Od(3,ml),Od(4,Ks),Od(5,ii)],PW);let MM=class{constructor(e,t,i,r,s,o){this._disposables=new It,this._menuInfo=new PW(e,t,i.emitEventsForSubmenuChanges,r,s,o);const a=new Lo(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(XC.onDidChangeMenu(d=>{for(const h of this._menuInfo.allMenuIds)if(d.has(h)){a.schedule();break}}));const l=this._disposables.add(new It),c=d=>{let h=!1,f=!1,p=!1;for(const m of d)if(h=h||m.isStructuralChange,f=f||m.isEnablementChange,p=p||m.isToggleChange,h&&f&&p)break;return{menu:this,isStructuralChange:h,isEnablementChange:f,isToggleChange:p}},u=()=>{l.add(o.onDidChangeContext(d=>{const h=d.affectsSome(this._menuInfo.structureContextKeys),f=d.affectsSome(this._menuInfo.preconditionContextKeys),p=d.affectsSome(this._menuInfo.toggledContextKeys);(h||f||p)&&this._onDidChange.fire({menu:this,isStructuralChange:h,isEnablementChange:f,isToggleChange:p})})),l.add(t.onDidChange(d=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new eCe({onWillAddFirstListener:u,onDidRemoveLastListener:l.clear.bind(l),delay:i.eventDebounceDelay,merge:c}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};MM=yP([Od(3,ml),Od(4,Ks),Od(5,ii)],MM);function l0t(n,e,t){const i=Ylt(e)?e.submenu.id:e.id,r=typeof e.title=="string"?e.title:e.title.value,s=cC({id:`hide/${n.id}/${i}`,label:P("hide.label","Hide '{0}'",r),run(){t.updateHidden(n,i,!0)}}),o=cC({id:`toggle/${n.id}/${i}`,label:r,get checked(){return!t.isHidden(n,i)},run(){t.updateHidden(n,i,!!this.checked)}});return{hide:s,toggle:o,get isHidden(){return!o.checked}}}function rSe(n,e,t,i=void 0,r=!0){return cC({id:`configureKeybinding/${t}`,label:P("configure keybinding","Configure Keybinding"),enabled:r,run(){const o=!!!e.lookupKeybinding(t)&&i?i.serialize():void 0;n.executeCommand("workbench.action.openGlobalKeybindings",`@command:${t}`+(o?` +when:${o}`:""))}})}var c0t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Jde=function(n,e){return function(t,i){e(t,i,n)}},OW;const ehe="application/vnd.code.resources";var Kb;let FW=(Kb=class extends je{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(Pf||CCe)&&this.installWebKitWriteTextWorkaround(),this._register(ut.runAndSubscribe(MA,({window:i,disposables:r})=>{r.add(ze(i.document,"copy",()=>this.clearResourcesState()))},{window:yi,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const t=new LCe;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,aS().navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(async i=>{(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)})};this._register(ut.runAndSubscribe(this.layoutService.onDidAddContainer,({container:t,disposables:i})=>{i.add(ze(t,"click",e)),i.add(ze(t,"keydown",e))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.clearResourcesState(),t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await aS().navigator.clipboard.writeText(e)}catch(i){console.error(i)}this.fallbackWriteText(e)}fallbackWriteText(e){const t=wq(),i=t.activeElement,r=t.body.appendChild(jt("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),t.execCommand("copy"),Ls(i)&&i.focus(),r.remove()}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await aS().navigator.clipboard.readText()}catch(t){console.error(t)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async readResources(){try{const t=await aS().navigator.clipboard.read();for(const i of t)if(i.types.includes(`web ${ehe}`)){const r=await i.getType(`web ${ehe}`);return JSON.parse(await r.text()).map(o=>Sn.from(o))}}catch{}const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResourcesState(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const e=await this.readText();return OCe(e.substring(0,OW.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearInternalState(){this.clearResourcesState()}clearResourcesState(){this.resources=[],this.resourcesStateHash=void 0}},OW=Kb,Kb.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,Kb);FW=OW=c0t([Jde(0,Jp),Jde(1,Bu)],FW);const GG=Nn("clipboardService");var u0t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},d0t=function(n,e){return function(t,i){e(t,i,n)}};const ex="data-keybinding-context";class KG{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}}const FR=class FR extends KG{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};FR.INSTANCE=new FR;let d0=FR;const yx=class yx extends KG{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=$S.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===7){const s=Array.from(this._values,([o])=>o);this._values.clear(),i.fire(new nhe(s))}else{const s=[];for(const o of r.affectedKeys){const a=`config.${o}`,l=this._values.findSuperstr(a);l!==void 0&&(s.push(...Un.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(s.push(a),this._values.delete(a))}i.fire(new nhe(s))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(yx._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(yx._keyPrefix.length),i=this._configurationService.getValue(t);let r;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:Array.isArray(i)?r=JSON.stringify(i):r=i}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};yx._keyPrefix="config.";let BW=yx;class h0t{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class the{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class nhe{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class f0t{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function g0t(n,e){return n.allKeysContainedIn(new Set(Object.keys(e)))}class sSe extends je{constructor(e){super(),this._onDidChangeContext=this._register(new Qx({merge:t=>new f0t(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h0t(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new p0t(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new the(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new the(e))}getContext(e){return this._isDisposed?d0.INSTANCE:this.getContextValuesContainer(m0t(e))}dispose(){super.dispose(),this._isDisposed=!0}}let HW=class extends sSe{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new BW(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?d0.INSTANCE:this._contexts.get(e)||d0.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new KG(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};HW=u0t([d0t(0,br)],HW);class p0t extends sSe{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new Nf),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(ex)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(ex,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;g0t(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(ex),super.dispose())}getContextValuesContainer(e){return this._isDisposed?d0.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function m0t(n){for(;n;){if(n.hasAttribute(ex)){const e=n.getAttribute(ex);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}function b0t(n,e,t){n.get(ii).createKey(String(e),v0t(t))}function v0t(n){return Vye(n,e=>{if(typeof e=="object"&&e.$mid===1)return Sn.revive(e).toString();if(e instanceof Sn)return e.toString()})}ya.registerCommand("_setContext",b0t);ya.registerCommand({id:"getContextKeyInfo",handler(){return[...Nt.all()].sort((n,e)=>n.key.localeCompare(e.key))},metadata:{description:P("getContextKeyInfo","A command that returns information about context keys"),args:[]}});ya.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(const t of Nt.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});let y0t=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class ihe{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);i.outgoing.set(r.key,r),r.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new y0t(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),r=this._findCycle(t,i);if(r)return r}}_findCycle(e,t){for(const[i,r]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const s=this._findCycle(r,t);if(s)return s;t.delete(i)}}}class o_{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}const C0t=!1;class rhe extends Error{constructor(e){super("cyclic dependency between services"),this.message=e.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class RM{constructor(e=new o_,t=!1,i,r=C0t){this._services=e,this._strict=t,this._parent=i,this._enableTracing=r,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(ui,this),this._globalGraph=r?(i==null?void 0:i._globalGraph)??new ihe(s=>s):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,Us(this._children),this._children.clear();for(const e of this._servicesToMaybeDispose)Zye(e)&&e.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(e,t){this._throwIfDisposed();const i=this,r=new class extends RM{dispose(){i._children.delete(r),super.dispose()}}(e,this._strict,this,this._enableTracing);return this._children.add(r),t==null||t.add(r),r}invokeFunction(e,...t){this._throwIfDisposed();const i=tx.traceInvocation(this._enableTracing,e);let r=!1;try{return e({get:o=>{if(r)throw tq("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,i);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...t)}finally{r=!0,i.stop()}}createInstance(e,...t){this._throwIfDisposed();let i,r;return e instanceof pd?(i=tx.traceCreation(this._enableTracing,e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=tx.traceCreation(this._enableTracing,e),r=this._createInstance(e,t,i)),i.stop(),r}_createInstance(e,t=[],i){const r=_u.getServiceDependencies(e).sort((a,l)=>a.index-l.index),s=[];for(const a of r){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),s.push(l)}const o=r.length>0?r[0].index:t.length;if(t.length!==o){console.trace(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);const a=o-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,o)}return Reflect.construct(e,t.concat(s))}_setCreatedServiceInstance(e,t){if(this._services.get(e)instanceof pd)this._services.set(e,t);else if(this._parent)this._parent._setCreatedServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof pd?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var l;const r=new ihe(c=>c.id.toString());let s=0;const o=[{id:e,desc:t,_trace:i}],a=new Set;for(;o.length;){const c=o.pop();if(!a.has(String(c.id))){if(a.add(String(c.id)),r.lookupOrInsertNode(c),s++>1e3)throw new rhe(r);for(const u of _u.getServiceDependencies(c.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(u.id);if(d||this._throwIfStrict(`[createInstance] ${e} depends on ${u.id} which is NOT registered.`,!0),(l=this._globalGraph)==null||l.insertEdge(String(c.id),String(u.id)),d instanceof pd){const h={id:u.id,desc:d,_trace:c._trace.branch(u.id,!0)};r.insertEdge(c,h),o.push(h)}}}}for(;;){const c=r.roots();if(c.length===0){if(!r.isEmpty())throw new rhe(r);break}for(const{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof pd){const h=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,h)}r.removeNode(u)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],r,s){if(this._services.get(e)instanceof pd)return this._createServiceInstance(e,t,i,r,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,r,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],r,s,o){if(r){const a=new RM(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(e);const l=new Map,c=new Lat(()=>{const u=a._createInstance(t,i,s);for(const[d,h]of l){const f=u[d];if(typeof f=="function")for(const p of h)p.disposable=f.apply(u,p.listener)}return l.clear(),o.add(u),u});return new Proxy(Object.create(null),{get(u,d){if(!c.isInitialized&&typeof d=="string"&&(d.startsWith("onDid")||d.startsWith("onWill"))){let p=l.get(d);return p||(p=new Aa,l.set(d,p)),(v,C,y)=>{if(c.isInitialized)return c.value[d](v,C,y);{const w={listener:[v,C,y],disposable:void 0},_=p.push(w);return cn(()=>{var k;_(),(k=w.disposable)==null||k.dispose()})}}}if(d in u)return u[d];const h=c.value;let f=h[d];return typeof f!="function"||(f=f.bind(h),u[d]=f),f},set(u,d,h){return c.value[d]=h,!0},getPrototypeOf(u){return t.prototype}})}else{const a=this._createInstance(t,i,s);return o.add(a),a}}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}const qa=class qa{static traceInvocation(e,t){return e?new qa(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):qa._None}static traceCreation(e,t){return e?new qa(1,t.name):qa._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new qa(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;qa._totals+=e;let t=!1;function i(s,o){const a=[],l=new Array(s+1).join("	");for(const[c,u,d]of o._dep)if(u&&d){t=!0,a.push(`${l}CREATES -> ${c}`);const h=i(s+1,d);h&&a.push(h)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const r=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${qa._totals.toFixed(2)}ms)`];(e>2||t)&&qa.all.add(r.join(`
`))}};qa.all=new Set,qa._None=new class extends qa{constructor(){super(0,null)}stop(){}branch(){return this}},qa._totals=0;let tx=qa;const _0t=new Set([Cn.inMemory,Cn.vscodeSourceControl,Cn.walkThrough,Cn.walkThroughSnippet,Cn.vscodeChatCodeBlock]);class w0t{constructor(){this._byResource=new al,this._byOwner=new Map}set(e,t,i){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,i);let s=this._byOwner.get(t);s||(s=new al,this._byOwner.set(t,s)),s.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,r=!1;const s=this._byResource.get(e);s&&(i=s.delete(t));const o=this._byOwner.get(t);if(o&&(r=o.delete(e)),i!==r)throw new Error("illegal state");return i&&r}values(e){var t,i;return typeof e=="string"?((t=this._byOwner.get(e))==null?void 0:t.values())??Un.empty():Sn.isUri(e)?((i=this._byResource.get(e))==null?void 0:i.values())??Un.empty():Un.map(Un.concat(...this._byOwner.values()),r=>r[1])}}class S0t{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new al,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(_0t.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===Nl.Error?t.errors+=1:i===Nl.Warning?t.warnings+=1:i===Nl.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class $g{constructor(){this._onMarkerChanged=new eCe({delay:0,merge:$g._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new w0t,this._stats=new S0t(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(Wrt(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const s of i){const o=$g._toMarker(e,t,s);o&&r.push(o)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:c,endLineNumber:u,endColumn:d,relatedInformation:h,tags:f}=i;if(o)return l=l>0?l:1,c=c>0?c:1,u=u>=l?u:l,d=d>0?d:c,{resource:t,owner:e,code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:c,endLineNumber:u,endColumn:d,relatedInformation:h,tags:f}}changeAll(e,t){const i=[],r=this._data.values(e);if(r)for(const s of r){const o=Un.first(s);o&&(i.push(o.resource),this._data.delete(o.resource,e))}if(SA(t)){const s=new al;for(const{resource:o,marker:a}of t){const l=$g._toMarker(e,o,a);if(!l)continue;const c=s.get(o);c?c.push(l):(s.set(o,[l]),i.push(o))}for(const[o,a]of s)this._data.set(o,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:r,take:s}=e;if((!s||s<0)&&(s=-1),t&&i){const o=this._data.get(i,t);if(o){const a=[];for(const l of o)if($g._accept(l,r)){const c=a.push(l);if(s>0&&c===s)break}return a}else return[]}else if(!t&&!i){const o=[];for(const a of this._data.values())for(const l of a)if($g._accept(l,r)){const c=o.push(l);if(s>0&&c===s)return o}return o}else{const o=this._data.values(i??t),a=[];for(const l of o)for(const c of l)if($g._accept(c,r)){const u=a.push(c);if(s>0&&u===s)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new al;for(const i of e)for(const r of i)t.set(r,!0);return Array.from(t.keys())}}class x0t extends je{get configurationModel(){return this._configurationModel}constructor(e){super(),this.logService=e,this._configurationModel=Ss.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=Ss.createEmptyModel(this.logService);const e=Is.as(Yv.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const r of e){const s=i[r],o=t[r];s!==void 0?this._configurationModel.setValue(r,s):o?this._configurationModel.setValue(r,o.default):this._configurationModel.removeValue(r)}}}const CP=Nn("accessibilitySignalService"),Rn=class Rn{static register(e){return new Rn(e.fileName)}constructor(e){this.fileName=e}};Rn.error=Rn.register({fileName:"error.mp3"}),Rn.warning=Rn.register({fileName:"warning.mp3"}),Rn.success=Rn.register({fileName:"success.mp3"}),Rn.foldedArea=Rn.register({fileName:"foldedAreas.mp3"}),Rn.break=Rn.register({fileName:"break.mp3"}),Rn.quickFixes=Rn.register({fileName:"quickFixes.mp3"}),Rn.taskCompleted=Rn.register({fileName:"taskCompleted.mp3"}),Rn.taskFailed=Rn.register({fileName:"taskFailed.mp3"}),Rn.terminalBell=Rn.register({fileName:"terminalBell.mp3"}),Rn.diffLineInserted=Rn.register({fileName:"diffLineInserted.mp3"}),Rn.diffLineDeleted=Rn.register({fileName:"diffLineDeleted.mp3"}),Rn.diffLineModified=Rn.register({fileName:"diffLineModified.mp3"}),Rn.chatRequestSent=Rn.register({fileName:"chatRequestSent.mp3"}),Rn.chatResponseReceived1=Rn.register({fileName:"chatResponseReceived1.mp3"}),Rn.chatResponseReceived2=Rn.register({fileName:"chatResponseReceived2.mp3"}),Rn.chatResponseReceived3=Rn.register({fileName:"chatResponseReceived3.mp3"}),Rn.chatResponseReceived4=Rn.register({fileName:"chatResponseReceived4.mp3"}),Rn.clear=Rn.register({fileName:"clear.mp3"}),Rn.save=Rn.register({fileName:"save.mp3"}),Rn.format=Rn.register({fileName:"format.mp3"}),Rn.voiceRecordingStarted=Rn.register({fileName:"voiceRecordingStarted.mp3"}),Rn.voiceRecordingStopped=Rn.register({fileName:"voiceRecordingStopped.mp3"}),Rn.progress=Rn.register({fileName:"progress.mp3"});let zi=Rn;class k0t{constructor(e){this.randomOneOf=e}}const un=class un{constructor(e,t,i,r,s,o){this.sound=e,this.name=t,this.legacySoundSettingsKey=i,this.settingsKey=r,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=o}static register(e){const t=new k0t("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new un(t,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return un._signals.add(i),i}};un._signals=new Set,un.errorAtPosition=un.register({name:P("accessibilitySignals.positionHasError.name","Error at Position"),sound:zi.error,announcementMessage:P("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),un.warningAtPosition=un.register({name:P("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:zi.warning,announcementMessage:P("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),un.errorOnLine=un.register({name:P("accessibilitySignals.lineHasError.name","Error on Line"),sound:zi.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:P("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),un.warningOnLine=un.register({name:P("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:zi.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:P("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),un.foldedArea=un.register({name:P("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:zi.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:P("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),un.break=un.register({name:P("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:zi.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:P("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),un.inlineSuggestion=un.register({name:P("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:zi.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),un.terminalQuickFix=un.register({name:P("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:zi.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:P("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),un.onDebugBreak=un.register({name:P("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:zi.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:P("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),un.noInlayHints=un.register({name:P("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:zi.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:P("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),un.taskCompleted=un.register({name:P("accessibilitySignals.taskCompleted","Task Completed"),sound:zi.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:P("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),un.taskFailed=un.register({name:P("accessibilitySignals.taskFailed","Task Failed"),sound:zi.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:P("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),un.terminalCommandFailed=un.register({name:P("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:zi.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:P("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),un.terminalCommandSucceeded=un.register({name:P("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:zi.success,announcementMessage:P("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),un.terminalBell=un.register({name:P("accessibilitySignals.terminalBell","Terminal Bell"),sound:zi.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:P("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),un.notebookCellCompleted=un.register({name:P("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:zi.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:P("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),un.notebookCellFailed=un.register({name:P("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:zi.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:P("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),un.diffLineInserted=un.register({name:P("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:zi.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),un.diffLineDeleted=un.register({name:P("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:zi.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),un.diffLineModified=un.register({name:P("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:zi.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),un.chatRequestSent=un.register({name:P("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:zi.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:P("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),un.chatResponseReceived=un.register({name:P("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[zi.chatResponseReceived1,zi.chatResponseReceived2,zi.chatResponseReceived3,zi.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),un.progress=un.register({name:P("accessibilitySignals.progress","Progress"),sound:zi.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:P("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"}),un.clear=un.register({name:P("accessibilitySignals.clear","Clear"),sound:zi.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:P("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"}),un.save=un.register({name:P("accessibilitySignals.save","Save"),sound:zi.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:P("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"}),un.format=un.register({name:P("accessibilitySignals.format","Format"),sound:zi.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:P("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"}),un.voiceRecordingStarted=un.register({name:P("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:zi.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),un.voiceRecordingStopped=un.register({name:P("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:zi.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"});let md=un;class L0t extends je{constructor(e,t=[]){super(),this.logger=new Zlt([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const E0t=[];function D0t(){return E0t.slice(0)}class T0t{getParseResult(e){}}var sh=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Er=function(n,e){return function(t,i){e(t,i,n)}};class I0t{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new ke}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let VW=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new lot(new I0t(t))):Promise.reject(new Error("Model not found"))}};VW=sh([Er(0,Qo)],VW);const BR=class BR{show(){return BR.NULL_PROGRESS_RUNNER}async showWhile(e,t){await e}};BR.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};let zW=BR;class M0t{withProgress(e,t,i){return t({report:()=>{}})}}class R0t{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class N0t{async confirm(e){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}doConfirm(e,t){let i=e;return t&&(i=i+`

`+t),yi.confirm(i)}async prompt(e){var r;let t;if(this.doConfirm(e.message,e.detail)){const s=[...e.buttons??[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&s.push(e.cancelButton),t=await((r=s[0])==null?void 0:r.run({checkboxChecked:!1}))}return{result:t}}async error(e,t){await this.prompt({type:Vr.Error,message:e,detail:t})}}const Cx=class Cx{info(e){return this.notify({severity:Vr.Info,message:e})}warn(e){return this.notify({severity:Vr.Warning,message:e})}error(e){return this.notify({severity:Vr.Error,message:e})}notify(e){switch(e.severity){case Vr.Error:console.error(e.message);break;case Vr.Warning:console.warn(e.message);break;default:console.log(e.message);break}return Cx.NO_OP}prompt(e,t,i,r){return Cx.NO_OP}status(e,t){return je.None}};Cx.NO_OP=new _dt;let WW=Cx,$W=class{constructor(e){this._onWillExecuteCommand=new ke,this._onDidExecuteCommand=new ke,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=ya.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}};$W=sh([Er(0,ui)],$W);let h0=class extends Hpt{constructor(e,t,i,r,s,o){super(e,t,i,r,s),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=f=>{const p=new It;p.add(ze(f,pt.KEY_DOWN,m=>{const v=new Bi(m);this._dispatch(v,v.target)&&(v.preventDefault(),v.stopPropagation())})),p.add(ze(f,pt.KEY_UP,m=>{const v=new Bi(m);this._singleModifierDispatch(v,v.target)&&v.preventDefault()})),this._domNodeListeners.push(new A0t(f,p))},l=f=>{for(let p=0;p<this._domNodeListeners.length;p++){const m=this._domNodeListeners[p];m.domNode===f&&(this._domNodeListeners.splice(p,1),m.dispose())}},c=f=>{f.getOption(61)||a(f.getContainerDomNode())},u=f=>{f.getOption(61)||l(f.getContainerDomNode())};this._register(o.onCodeEditorAdd(c)),this._register(o.onCodeEditorRemove(u)),o.listCodeEditors().forEach(c);const d=f=>{a(f.getContainerDomNode())},h=f=>{l(f.getContainerDomNode())};this._register(o.onDiffEditorAdd(d)),this._register(o.onDiffEditorRemove(h)),o.listDiffEditors().forEach(d)}addDynamicKeybinding(e,t,i,r){return Ad(ya.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:r}]))}addDynamicKeybindings(e){const t=e.map(i=>({keybinding:yV(i.keybinding,Sc),command:i.command??null,commandArgs:i.commandArgs,when:i.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),cn(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++)if(this._dynamicKeybindings[i]===t[0]){this._dynamicKeybindings.splice(i,t.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(LL.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new WS(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return yi.document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let r=0;for(const s of e){const o=s.when||void 0,a=s.keybinding;if(!a)i[r++]=new Rue(void 0,s.command,s.commandArgs,o,t,null,!1);else{const l=hk.resolveKeybinding(a,Sc);for(const c of l)i[r++]=new Rue(c,s.command,s.commandArgs,o,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new hv(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new hk([t],Sc)}};h0=sh([Er(0,ii),Er(1,ml),Er(2,Kv),Er(3,Hu),Er(4,Bu),Er(5,ts)],h0);class A0t extends je{constructor(e,t){super(),this.domNode=e,this._register(t)}}function she(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof Sn)}let NM=class{constructor(e){this.logService=e,this._onDidChangeConfiguration=new ke,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const t=new x0t(e);this._configuration=new eP(t.reload(),Ss.createEmptyModel(e),Ss.createEmptyModel(e),Ss.createEmptyModel(e),Ss.createEmptyModel(e),Ss.createEmptyModel(e),new al,Ss.createEmptyModel(e),new al,e),t.dispose()}getValue(e,t){const i=typeof e=="string"?e:void 0,r=she(e)?e:she(t)?t:{};return this._configuration.getValue(i,r,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const r of e){const[s,o]=r;this.getValue(s)!==o&&(this._configuration.updateValue(s,o),i.push(s))}if(i.length>0){const r=new Apt({keys:i,overrides:[]},t,this._configuration,void 0,this.logService);r.source=8,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}updateValue(e,t,i,r){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}};NM=sh([Er(0,Bu)],NM);let jW=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new ke,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(s,o)=>r.affectsConfiguration(o)})})}getValue(e,t,i){const r=Pe.isIPosition(t)?t:null,s=r?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0,o=e?this.getLanguage(e,r):void 0;return typeof s>"u"?this.configurationService.getValue({resource:e,overrideIdentifier:o}):this.configurationService.getValue(s,{resource:e,overrideIdentifier:o})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};jW=sh([Er(0,br),Er(1,Qo),Er(2,bs)],jW);let UW=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:ga||An?`
`:`\r
`}};UW=sh([Er(0,br)],UW);class P0t{publicLog2(){}}const _x=class _x{constructor(){const e=Sn.from({scheme:_x.SCHEME,authority:"model",path:"/"});this.workspace={id:emt,folders:[new Zpt({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===_x.SCHEME?this.workspace.folders[0]:null}};_x.SCHEME="inmemory";let qW=_x;function AM(n,e,t){if(!e||!(n instanceof NM))return;const i=[];Object.keys(e).forEach(r=>{Dpt(r)&&i.push([`editor.${r}`,e[r]]),t&&Tpt(r)&&i.push([`diffEditor.${r}`,e[r]])}),i.length>0&&n.updateValues(i)}let GW=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}async apply(e,t){const i=Array.isArray(e)?e:rG.convert(e),r=new Map;for(const a of i){if(!(a instanceof Fb))throw new Error("bad edit - only text edits are supported");const l=this._modelService.getModel(a.resource);if(!l)throw new Error("bad edit - model not found");if(typeof a.versionId=="number"&&l.getVersionId()!==a.versionId)throw new Error("bad state - model changed in the meantime");let c=r.get(l);c||(c=[],r.set(l,c)),c.push(Mpt.replaceMove(_e.lift(a.textEdit.range),a.textEdit.text))}let s=0,o=0;for(const[a,l]of r)a.pushStackElement(),a.pushEditOperations([],l,()=>[]),a.pushStackElement(),o+=1,s+=l.length;return{ariaSummary:gV(Az.bulkEditServiceSummary,s,o),isApplied:s>0}}};GW=sh([Er(0,Qo)],GW);class O0t{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return eG(e)}}let KW=class extends _pt{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const r=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();r&&(t=r.getContainerDomNode())}return super.showContextView(e,t,i)}};KW=sh([Er(0,Jp),Er(1,ts)],KW);class F0t{constructor(){this._neverEmitter=new ke,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class B0t extends Hz{constructor(){super()}}class H0t extends L0t{constructor(){super(new Xlt)}}let QW=class extends Qz{constructor(e,t,i,r,s,o){super(e,t,i,r,s,o),this.configure({blockMouse:!1})}};QW=sh([Er(0,Kv),Er(1,Hu),Er(2,AL),Er(3,Ks),Er(4,Gv),Er(5,ii)],QW);const YW={amdModuleId:"vs/editor/common/services/editorSimpleWorker",esmModuleLocation:void 0,label:"editorWorkerService"};let XW=class extends YV{constructor(e,t,i,r,s){super(YW,e,t,i,r,s)}};XW=sh([Er(0,Qo),Er(1,Oq),Er(2,Bu),Er(3,nh),Er(4,xi)],XW);class V0t{async playSignal(e,t){}}$n(Bu,H0t,0);$n(br,NM,0);$n(Oq,jW,0);$n(x0e,UW,0);$n(Xpt,qW,0);$n(Upt,O0t,0);$n(Kv,P0t,0);$n(T0e,N0t,0);$n(P0e,R0t,0);$n(Hu,WW,0);$n(Zv,$g,0);$n(bs,B0t,0);$n(Jc,o0t,0);$n(Qo,cW,0);$n(swe,eW,0);$n(ii,HW,0);$n(qpt,M0t,0);$n(oG,zW,0);$n(lP,dbt,0);$n(VL,XW,0);$n(kpt,GW,0);$n(tmt,F0t,0);$n(RA,VW,0);$n(Vu,RW,0);$n(rh,bCt,0);$n(ml,$W,0);$n(Ks,h0,0);$n(dP,TW,0);$n(AL,KW,0);$n(PL,Jz,0);$n(GG,FW,0);$n(Yf,QW,0);$n(Gv,NW,0);$n(CP,V0t,0);$n(Swe,T0t,0);var Ht;(function(n){const e=new o_;for(const[l,c]of rce())e.set(l,c);const t=new RM(e,!0);e.set(ui,t);function i(l){r||o({});const c=e.get(l);if(!c)throw new Error("Missing service "+l);return c instanceof pd?t.invokeFunction(u=>u.get(l)):c}n.get=i;let r=!1;const s=new ke;function o(l){if(r)return t;r=!0;for(const[u,d]of rce())e.get(u)||e.set(u,d);for(const u in l)if(l.hasOwnProperty(u)){const d=Nn(u);e.get(d)instanceof pd&&e.set(d,l[u])}const c=D0t();for(const u of c)try{t.createInstance(u)}catch(d){_i(d)}return s.fire(),t}n.initialize=o;function a(l){if(r)return l();const c=new It,u=c.add(s.event(()=>{u.dispose(),c.add(l())}));return c}n.withServices=a})(Ht||(Ht={}));function z0t(n,e){return new W0t(n,e)}class W0t extends UI{constructor(e,t){const i={amdModuleId:YW.amdModuleId,esmModuleLocation:YW.esmModuleLocation,label:t.label};super(i,t.keepIdleModels||!1,e),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?cH(this._foreignModuleHost):[];return e.$loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const r=(a,l)=>e.$fmr(a,l),s=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},o={};for(const a of i)o[a]=s(a,r);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this.workerWithSyncedResources(e).then(t=>this.getProxy())}}const QG={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};class kc{constructor(e,t,i,r){this.startColumn=e,this.endColumn=t,this.className=i,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!kc._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const r=t+1,s=i+1,o=i-t,a=[];let l=0;for(const c of e)c.endColumn<=r||c.startColumn>=s||(a[l++]=new kc(Math.max(1,c.startColumn-r+1),Math.min(o+1,c.endColumn-r+1),c.className,c.type));return a}static filter(e,t,i,r){if(e.length===0)return[];const s=[];let o=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.range;if(u.endLineNumber<t||u.startLineNumber>t||u.isEmpty()&&(c.type===0||c.type===3))continue;const d=u.startLineNumber===t?u.startColumn:i,h=u.endLineNumber===t?u.endColumn:r;s[o++]=new kc(d,h,c.inlineClassName,c.type)}return s}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=kc._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class ohe{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=r}}class PM{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,r=e.length;i<r;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new ohe(t,this.stopOffsets[r],this.classNames.join(" "),PM._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(i.push(new ohe(t,e-1,this.classNames.join(" "),PM._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,i);break}this.count++}}class $0t{static normalize(e,t){if(t.length===0)return[];const i=[],r=new PM;let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];let c=l.startColumn,u=l.endColumn;const d=l.className,h=l.type===1?2:l.type===2?4:0;if(c>1){const m=e.charCodeAt(c-2);hs(m)&&c--}if(u>1){const m=e.charCodeAt(u-2);hs(m)&&u--}const f=c-1,p=u-2;s=r.consumeLowerThan(f,s,i),r.count===0&&(s=f),r.insert(p,d,h)}return r.consumeLowerThan(1073741824,s,i),i}}class fs{constructor(e,t,i,r){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=r,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class oSe{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class a_{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,p,m,v,C,y,w){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=r,this.isBasicASCII=s,this.containsRTL=o,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(kc.compare),this.tabSize=u,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=m,this.renderWhitespace=v==="all"?4:v==="boundary"?1:v==="selection"?2:v==="trailing"?3:0,this.renderControlCharacters=C,this.fontLigatures=y,this.selectionsOnLine=w&&w.sort((k,D)=>k.startOffset<D.startOffset?-1:1);const _=Math.abs(p-h),x=Math.abs(f-h);_<x?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&kc.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class aSe{constructor(e,t){this.partIndex=e,this.charIndex=t}}class bd{static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,r){const s=(t<<16|i<<0)>>>0;this._data[e-1]=s,this._horizontalOffset[e-1]=r}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=bd.getPartIndex(t),r=bd.getCharIndex(t);return new aSe(i,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const r=(e<<16|i<<0)>>>0;let s=0,o=this.length-1;for(;s+1<o;){const m=s+o>>>1,v=this._data[m];if(v===r)return m;v>r?o=m:s=m}if(s===o)return s;const a=this._data[s],l=this._data[o];if(a===r)return s;if(l===r)return o;const c=bd.getPartIndex(a),u=bd.getCharIndex(a),d=bd.getPartIndex(l);let h;c!==d?h=t:h=bd.getCharIndex(l);const f=i-u,p=h-i;return f<=p?s:o}}class ZW{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function YG(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendString("<span>");let t=0,i=0,r=0;for(const o of n.lineDecorations)(o.type===1||o.type===2)&&(e.appendString('<span class="'),e.appendString(o.className),e.appendString('"></span>'),o.type===1&&(r|=1,t++),o.type===2&&(r|=2,i++));e.appendString("</span>");const s=new bd(1,t+i);return s.setColumnInfo(1,t,0,0),new ZW(s,!1,r)}return e.appendString("<span><span></span></span>"),new ZW(new bd(0,0),!1,0)}return Z0t(q0t(n),e)}class j0t{constructor(e,t,i,r){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=r}}function _P(n){const e=new $A(1e4),t=YG(n,e);return new j0t(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class U0t{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,p,m,v){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=r,this.isOverflowing=s,this.overflowingCharCount=o,this.parts=a,this.containsForeignElements=l,this.fauxIndentLength=c,this.tabSize=u,this.startVisibleColumn=d,this.containsRTL=h,this.spaceWidth=f,this.renderSpaceCharCode=p,this.renderWhitespace=m,this.renderControlCharacters=v}}function q0t(n){const e=n.lineContent;let t,i,r;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=e.length-n.stopRenderingLineAfter,r=n.stopRenderingLineAfter):(t=!1,i=0,r=e.length);let s=G0t(e,n.containsRTL,n.lineTokens,n.fauxIndentLength,r);n.renderControlCharacters&&!n.isBasicASCII&&(s=Q0t(e,s)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine||n.renderWhitespace===3&&!n.continuesWithWrappedLine)&&(s=Y0t(n,e,r,s));let o=0;if(n.lineDecorations.length>0){for(let a=0,l=n.lineDecorations.length;a<l;a++){const c=n.lineDecorations[a];c.type===3||c.type===1?o|=1:c.type===2&&(o|=2)}s=X0t(e,r,s,n.lineDecorations)}return n.containsRTL||(s=K0t(e,s,!n.isBasicASCII||n.fontLigatures)),new U0t(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,r,t,i,s,o,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function G0t(n,e,t,i,r){const s=[];let o=0;i>0&&(s[o++]=new fs(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const u=t.getEndOffset(l);if(u<=i)continue;const d=t.getClassName(l);if(u>=r){const f=e?Xx(n.substring(a,r)):!1;s[o++]=new fs(r,d,0,f);break}const h=e?Xx(n.substring(a,u)):!1;s[o++]=new fs(u,d,0,h),a=u}return s}function K0t(n,e,t){let i=0;const r=[];let s=0;if(t)for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.endIndex;if(i+50<c){const u=l.type,d=l.metadata,h=l.containsRTL;let f=-1,p=i;for(let m=i;m<c;m++)n.charCodeAt(m)===32&&(f=m),f!==-1&&m-p>=50&&(r[s++]=new fs(f+1,u,d,h),p=f+1,f=-1);p!==c&&(r[s++]=new fs(c,u,d,h))}else r[s++]=l;i=c}else for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.endIndex,u=c-i;if(u>50){const d=l.type,h=l.metadata,f=l.containsRTL,p=Math.ceil(u/50);for(let m=1;m<p;m++){const v=i+m*50;r[s++]=new fs(v,d,h,f)}r[s++]=new fs(c,d,h,f)}else r[s++]=l;i=c}return r}function lSe(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function Q0t(n,e){const t=[];let i=new fs(0,"",0,!1),r=0;for(const s of e){const o=s.endIndex;for(;r<o;r++){const a=n.charCodeAt(r);lSe(a)&&(r>i.endIndex&&(i=new fs(r,s.type,s.metadata,s.containsRTL),t.push(i)),i=new fs(r+1,"mtkcontrol",s.metadata,!1),t.push(i))}r>i.endIndex&&(i=new fs(o,s.type,s.metadata,s.containsRTL),t.push(i))}return t}function Y0t(n,e,t,i){const r=n.continuesWithWrappedLine,s=n.fauxIndentLength,o=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,c=n.selectionsOnLine,u=n.renderWhitespace===1,d=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth,f=[];let p=0,m=0,v=i[m].type,C=i[m].containsRTL,y=i[m].endIndex;const w=i.length;let _=!1,x=Oa(e),k;x===-1?(_=!0,x=t,k=t):k=Wv(e);let D=!1,T=0,L=c&&c[T],I=a%o;for(let N=s;N<t;N++){const O=e.charCodeAt(N);L&&N>=L.endOffset&&(T++,L=c&&c[T]);let F;if(N<x||N>k)F=!0;else if(O===9)F=!0;else if(O===32)if(u)if(D)F=!0;else{const A=N+1<t?e.charCodeAt(N+1):0;F=A===32||A===9}else F=!0;else F=!1;if(F&&c&&(F=!!L&&L.startOffset<=N&&L.endOffset>N),F&&d&&(F=_||N>k),F&&C&&N>=x&&N<=k&&(F=!1),D){if(!F||!l&&I>=o){if(h){const A=p>0?f[p-1].endIndex:s;for(let H=A+1;H<=N;H++)f[p++]=new fs(H,"mtkw",1,!1)}else f[p++]=new fs(N,"mtkw",1,!1);I=I%o}}else(N===y||F&&N>s)&&(f[p++]=new fs(N,v,0,C),I=I%o);for(O===9?I=o:Np(O)?I+=2:I++,D=F;N===y&&(m++,m<w);)v=i[m].type,C=i[m].containsRTL,y=i[m].endIndex}let R=!1;if(D)if(r&&u){const N=t>0?e.charCodeAt(t-1):0,O=t>1?e.charCodeAt(t-2):0;N===32&&O!==32&&O!==9||(R=!0)}else R=!0;if(R)if(h){const N=p>0?f[p-1].endIndex:s;for(let O=N+1;O<=t;O++)f[p++]=new fs(O,"mtkw",1,!1)}else f[p++]=new fs(t,"mtkw",1,!1);else f[p++]=new fs(t,v,0,C);return f}function X0t(n,e,t,i){i.sort(kc.compare);const r=$0t.normalize(n,i),s=r.length;let o=0;const a=[];let l=0,c=0;for(let d=0,h=t.length;d<h;d++){const f=t[d],p=f.endIndex,m=f.type,v=f.metadata,C=f.containsRTL;for(;o<s&&r[o].startOffset<p;){const y=r[o];if(y.startOffset>c&&(c=y.startOffset,a[l++]=new fs(c,m,v,C)),y.endOffset+1<=p)c=y.endOffset+1,a[l++]=new fs(c,m+" "+y.className,v|y.metadata,C),o++;else{c=p,a[l++]=new fs(c,m+" "+y.className,v|y.metadata,C);break}}p>c&&(c=p,a[l++]=new fs(c,m,v,C))}const u=t[t.length-1].endIndex;if(o<s&&r[o].startOffset===u)for(;o<s&&r[o].startOffset===u;){const d=r[o];a[l++]=new fs(c,d.className,d.metadata,!1),o++}return a}function Z0t(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,r=n.containsForeignElements,s=n.lineContent,o=n.len,a=n.isOverflowing,l=n.overflowingCharCount,c=n.parts,u=n.fauxIndentLength,d=n.tabSize,h=n.startVisibleColumn,f=n.containsRTL,p=n.spaceWidth,m=n.renderSpaceCharCode,v=n.renderWhitespace,C=n.renderControlCharacters,y=new bd(o+1,c.length);let w=!1,_=0,x=h,k=0,D=0,T=0;f?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let L=0,I=c.length;L<I;L++){const R=c[L],N=R.endIndex,O=R.type,F=R.containsRTL,A=v!==0&&R.isWhitespace(),H=A&&!t&&(O==="mtkw"||!r),W=_===N&&R.isPseudoAfter();if(k=0,e.appendString("<span "),F&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(H?"mtkz":O),e.appendASCIICharCode(34),A){let $=0;{let U=_,z=x;for(;U<N;U++){const Z=(s.charCodeAt(U)===9?d-z%d:1)|0;$+=Z,U>=u&&(z+=Z)}}for(H&&(e.appendString(' style="width:'),e.appendString(String(p*$)),e.appendString('px"')),e.appendASCIICharCode(62);_<N;_++){y.setColumnInfo(_+1,L-T,k,D),T=0;const U=s.charCodeAt(_);let z,K;if(U===9){z=d-x%d|0,K=z,!i||K>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let Z=2;Z<=K;Z++)e.appendCharCode(160)}else z=2,K=1,e.appendCharCode(m),e.appendCharCode(8204);k+=z,D+=K,_>=u&&(x+=K)}}else for(e.appendASCIICharCode(62);_<N;_++){y.setColumnInfo(_+1,L-T,k,D),T=0;const $=s.charCodeAt(_);let U=1,z=1;switch($){case 9:U=d-x%d,z=U;for(let K=1;K<=U;K++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:C?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:Np($)&&z++,C&&$<32?e.appendCharCode(9216+$):C&&$===127?e.appendCharCode(9249):C&&lSe($)?(e.appendString("[U+"),e.appendString(J0t($)),e.appendString("]"),U=8,z=U):e.appendCharCode($)}k+=U,D+=z,_>=u&&(x+=z)}W?T++:T=0,_>=o&&!w&&R.isPseudoAfter()&&(w=!0,y.setColumnInfo(_+1,L,k,D)),e.appendString("</span>")}return w||y.setColumnInfo(o+1,c.length-1,k,D),a&&(e.appendString('<span class="mtkoverflow">'),e.appendString(P("showMore","Show more ({0})",e_t(l))),e.appendString("</span>")),e.appendString("</span>"),new ZW(y,f,r)}function J0t(n){return n.toString(16).toUpperCase().padStart(4,"0")}function e_t(n){return n<1024?P("overflow.chars","{0} chars",n):n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/1024/1024).toFixed(1)} MB`}class ahe{constructor(e,t,i,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=r|0}}class t_t{constructor(e,t){this.tabSize=e,this.data=t}}class XG{constructor(e,t,i,r,s,o,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=r,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=a}}class ul{constructor(e,t,i,r,s,o,a,l,c,u){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=r,this.isBasicASCII=ul.isBasicASCII(i,o),this.containsRTL=ul.containsRTL(i,this.isBasicASCII,s),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=u}static isBasicASCII(e,t){return t?hq(e):!0}static containsRTL(e,t,i){return!t&&i?Xx(e):!1}}class nx{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class n_t{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new nx(new _e(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class cSe{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class kk{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&es(e.data,t.data)}static equalsArr(e,t){return es(e,t,kk.equals)}}function i_t(n){return Array.isArray(n)}function r_t(n){return!i_t(n)}function uSe(n){return typeof n=="string"}function lhe(n){return!uSe(n)}function ab(n){return!n}function Lf(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function che(n){return n.replace(/[&<>'"_]/g,"-")}function s_t(n,e){console.log(`${n.languageId}: ${e}`)}function Pi(n,e){return new Error(`${n.languageId}: ${e}`)}function Jg(n,e,t,i,r){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return e.replace(s,function(a,l,c,u,d,h,f,p,m){return ab(c)?ab(u)?!ab(d)&&d<i.length?Lf(n,i[d]):!ab(f)&&n&&typeof n[f]=="string"?n[f]:(o===null&&(o=r.split("."),o.unshift(r)),!ab(h)&&h<o.length?Lf(n,o[h]):""):Lf(n,t):"$"})}function o_t(n,e,t){const i=/\$[sS](\d\d?)/g;let r=null;return e.replace(i,function(s,o){return r===null&&(r=t.split("."),r.unshift(t)),!ab(o)&&o<r.length?Lf(n,r[o]):""})}function _2(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function a_t(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}var l_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},c_t=function(n,e){return function(t,i){e(t,i,n)}},JW;const dSe=5,HR=class HR{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new kC(e,t);let i=kC.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let r=this._entries[i];return r||(r=new kC(e,t),this._entries[i]=r,r)}};HR._INSTANCE=new HR(dSe);let Lk=HR;class kC{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return kC._equals(this,e)}push(e){return Lk.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Lk.create(this.parent,e)}}class Ay{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Ay(this.languageId,this.state)}}const VR=class VR{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(t!==null)return new ix(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new ix(e,t);const i=kC.getStackElementId(e);let r=this._entries[i];return r||(r=new ix(e,null),this._entries[i]=r,r)}};VR._INSTANCE=new VR(dSe);let ep=VR;class ix{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:ep.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof ix)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class u_t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Yx(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=Rr.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenize(e,t,o);if(r!==0)for(const c of l.tokens)this._tokens.push(new Yx(c.offset+r,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new oq(this._tokens,e)}}class OM{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t)|1024;this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const r=e!==null?e.length:0,s=t.length,o=i!==null?i.length:0;if(r===0&&s===0&&o===0)return new Uint32Array(0);if(r===0&&s===0)return i;if(s===0&&o===0)return e;const a=new Uint32Array(r+s+o);e!==null&&a.set(e);for(let l=0;l<s;l++)a[r+l]=t[l];return i!==null&&a.set(i,r+s),a}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=Rr.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenizeEncoded(e,t,o);if(r!==0)for(let c=0,u=l.tokens.length;c<u;c+=2)l.tokens[c]+=r;return this._prependTokens=OM._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new EA(OM._merge(this._prependTokens,this._tokens,null),e)}}let Ek=JW=class extends je{constructor(e,t,i,r,s){super(),this._configurationService=s,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=r,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._register(Rr.onDidChange(a=>{if(o)return;let l=!1;for(let c=0,u=a.changedLanguages.length;c<u;c++){const d=a.changedLanguages[c];if(this._embeddedLanguages[d]){l=!0;break}}l&&(o=!0,Rr.handleChange([this._languageId]),o=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=Rr.get(t);if(i){if(i instanceof JW){const r=i.getLoadStatus();r.loaded===!1&&e.push(r.promise)}continue}Rr.isResolved(t)||e.push(Rr.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=Lk.create(null,this._lexer.start);return ep.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return E_e(this._languageId,i);const r=new u_t,s=this._tokenize(e,t,i,r);return r.finalize(s)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return iG(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const r=new OM(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,r);return r.finalize(s)}_tokenize(e,t,i,r){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,r):this._myTokenize(e,t,i,0,r)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=_2(this._lexer,t.stack.state),!i))throw Pi(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,s=!1;for(const o of i){if(!lhe(o.action)||o.action.nextEmbedded!=="@pop")continue;s=!0;let a=o.resolveRegex(t.stack.state);const l=a.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const u=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),u)}const c=e.search(a);c===-1||c!==0&&o.matchOnlyAtLineStart||(r===-1||c<r)&&(r=c)}if(!s)throw Pi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,i,r,s){const o=this._findLeavingNestedLanguageOffset(e,i);if(o===-1){const c=s.nestedLanguageTokenize(e,t,i.embeddedLanguageData,r);return ep.create(i.stack,new Ay(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,o);a.length>0&&s.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,r);const l=e.substring(o);return this._myTokenize(l,t,i,r+o,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,r,s){s.enterLanguage(this._languageId);const o=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,u=i.stack,d=0,h=null,f=!0;for(;f||d<l;){const p=d,m=u.depth,v=h?h.groups.length:0,C=u.state;let y=null,w=null,_=null,x=null,k=null;if(h){y=h.matches;const L=h.groups.shift();w=L.matched,_=L.action,x=h.rule,h.groups.length===0&&(h=null)}else{if(!f&&d>=l)break;f=!1;let L=this._lexer.tokenizer[C];if(!L&&(L=_2(this._lexer,C),!L))throw Pi(this._lexer,"tokenizer state is not defined: "+C);const I=a.substr(d);for(const R of L)if((d===0||!R.matchOnlyAtLineStart)&&(y=I.match(R.resolveRegex(C)),y)){w=y[0],_=R.action;break}}if(y||(y=[""],w=""),_||(d<l&&(y=[a.charAt(d)],w=y[0]),_=this._lexer.defaultToken),w===null)break;for(d+=w.length;r_t(_)&&lhe(_)&&_.test;)_=_.test(w,y,C,d===l);let D=null;if(typeof _=="string"||Array.isArray(_))D=_;else if(_.group)D=_.group;else if(_.token!==null&&_.token!==void 0){if(_.tokenSubst?D=Jg(this._lexer,_.token,w,y,C):D=_.token,_.nextEmbedded)if(_.nextEmbedded==="@pop"){if(!c)throw Pi(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw Pi(this._lexer,"cannot enter embedded language from within an embedded language");k=Jg(this._lexer,_.nextEmbedded,w,y,C)}if(_.goBack&&(d=Math.max(0,d-_.goBack)),_.switchTo&&typeof _.switchTo=="string"){let L=Jg(this._lexer,_.switchTo,w,y,C);if(L[0]==="@"&&(L=L.substr(1)),_2(this._lexer,L))u=u.switchTo(L);else throw Pi(this._lexer,"trying to switch to a state '"+L+"' that is undefined in rule: "+this._safeRuleName(x))}else{if(_.transform&&typeof _.transform=="function")throw Pi(this._lexer,"action.transform not supported");if(_.next)if(_.next==="@push"){if(u.depth>=this._lexer.maxStack)throw Pi(this._lexer,"maximum tokenizer stack size reached: ["+u.state+","+u.parent.state+",...]");u=u.push(C)}else if(_.next==="@pop"){if(u.depth<=1)throw Pi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(x));u=u.pop()}else if(_.next==="@popall")u=u.popall();else{let L=Jg(this._lexer,_.next,w,y,C);if(L[0]==="@"&&(L=L.substr(1)),_2(this._lexer,L))u=u.push(L);else throw Pi(this._lexer,"trying to set a next state '"+L+"' that is undefined in rule: "+this._safeRuleName(x))}}_.log&&typeof _.log=="string"&&s_t(this._lexer,this._lexer.languageId+": "+Jg(this._lexer,_.log,w,y,C))}if(D===null)throw Pi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(x));const T=L=>{const I=this._languageService.getLanguageIdByLanguageName(L)||this._languageService.getLanguageIdByMimeType(L)||L,R=this._getNestedEmbeddedLanguageData(I);if(d<l){const N=e.substr(d);return this._nestedTokenize(N,t,ep.create(u,R),r+d,s)}else return ep.create(u,R)};if(Array.isArray(D)){if(h&&h.groups.length>0)throw Pi(this._lexer,"groups cannot be nested: "+this._safeRuleName(x));if(y.length!==D.length+1)throw Pi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(x));let L=0;for(let I=1;I<y.length;I++)L+=y[I].length;if(L!==w.length)throw Pi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(x));h={rule:x,matches:y,groups:[]};for(let I=0;I<D.length;I++)h.groups[I]={action:D[I],matched:y[I+1]};d-=w.length;continue}else{if(D==="@rematch"&&(d-=w.length,w="",y=null,D="",k!==null))return T(k);if(w.length===0){if(l===0||m!==u.depth||C!==u.state||(h?h.groups.length:0)!==v)continue;throw Pi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(x))}let L=null;if(uSe(D)&&D.indexOf("@brackets")===0){const I=D.substr(9),R=d_t(this._lexer,w);if(!R)throw Pi(this._lexer,"@brackets token returned but no bracket defined as: "+w);L=che(R.token+I)}else{const I=D===""?"":D+this._lexer.tokenPostfix;L=che(I)}p<o&&s.emit(p+r,L)}if(k!==null)return T(k)}return ep.create(u,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Ay(e,uk);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),Rr.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=Rr.get(e);return t?new Ay(e,t.getInitialState()):new Ay(e,uk)}};Ek=JW=l_t([c_t(4,br)],Ek);function d_t(n,e){if(!e)return null;e=Lf(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}const T6=Qv("standaloneColorizer",{createHTML:n=>n});class ZG{static colorizeElement(e,t,i,r){r=r||{};const s=r.theme||"vs",o=r.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(o)||o;e.setTheme(s);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+s;const c=u=>{const d=(T6==null?void 0:T6.createHTML(u))??u;i.innerHTML=d};return this.colorize(t,l||"",a,r).then(c,u=>console.error(u))}static async colorize(e,t,i,r){const s=e.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),gq(t)&&(t=t.substr(1));const a=J0(t);if(!e.isRegisteredLanguageId(i))return uhe(a,o,s);const l=await Rr.getOrCreate(i);return l?h_t(a,o,l,s):uhe(a,o,s)}static colorizeLine(e,t,i,r,s=4){const o=ul.isBasicASCII(e,t),a=ul.containsRTL(e,o,i);return _P(new a_(!1,!0,e,!1,o,a,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const r=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function h_t(n,e,t,i){return new Promise((r,s)=>{const o=()=>{const a=f_t(n,e,t,i);if(t instanceof Ek){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(o,s);return}}r(a)};o()})}function uhe(n,e,t){let i=[];const s=new Uint32Array(2);s[0]=0,s[1]=33587200;for(let o=0,a=n.length;o<a;o++){const l=n[o];s[0]=l.length;const c=new Ds(s,l,t),u=ul.isBasicASCII(l,!0),d=ul.containsRTL(l,u,!0),h=_P(new a_(!1,!0,l,!1,u,d,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function f_t(n,e,t,i){let r=[],s=t.getInitialState();for(let o=0,a=n.length;o<a;o++){const l=n[o],c=t.tokenizeEncoded(l,!0,s);Ds.convertToEndOffset(c.tokens,l.length);const u=new Ds(c.tokens,l,i),d=ul.isBasicASCII(l,!0),h=ul.containsRTL(l,d,!0),f=_P(new a_(!1,!0,l,!1,d,h,0,u.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(f.html),r.push("<br/>"),s=c.endState}return r.join("")}var g_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},p_t=function(n,e){return function(t,i){e(t,i,n)}},IC;let FM=(IC=class{constructor(e,t){}dispose(){}},IC.ID="editor.contrib.markerDecorations",IC);FM=g_t([p_t(1,swe)],FM);ZCe(FM.ID,FM,0);class hSe extends je{constructor(e,t){super(),this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,r=!1;const s=()=>{if(i&&!r)try{i=!1,r=!0,t()}finally{Va(Ft(this._referenceDomElement),()=>{r=!1,s()})}};this._resizeObserver=new ResizeObserver(o=>{o&&o[0]&&o[0].contentRect?e={width:o[0].contentRect.width,height:o[0].contentRect.height}:e=null,i=!0,s()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,r=0;t?(i=t.width,r=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),i=Math.max(5,i),r=Math.max(5,r),(this._width!==i||this._height!==r)&&(this._width=i,this._height=r,e&&this._onDidChange.fire())}}const Ky=class Ky{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=Ky._read(e,this.key),i=s=>Ky._read(e,s),r=(s,o)=>Ky._write(e,s,o);this.migrate(t,i,r)}static _read(e,t){if(typeof e>"u")return;const i=t.indexOf(".");if(i>=0){const r=t.substring(0,i);return this._read(e[r],t.substring(i+1))}return e[t]}static _write(e,t,i){const r=t.indexOf(".");if(r>=0){const s=t.substring(0,r);e[s]=e[s]||{},this._write(e[s],t.substring(r+1),i);return}e[t]=i}};Ky.items=[];let Dk=Ky;function Wu(n,e){Dk.items.push(new Dk(n,e))}function za(n,e){Wu(n,(t,i,r)=>{if(typeof t<"u"){for(const[s,o]of e)if(t===s){r(n,o);return}}})}function m_t(n){Dk.items.forEach(e=>e.apply(n))}za("wordWrap",[[!0,"on"],[!1,"off"]]);za("lineNumbers",[[!0,"on"],[!1,"off"]]);za("cursorBlinking",[["visible","solid"]]);za("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);za("renderLineHighlight",[[!0,"line"],[!1,"none"]]);za("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);za("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);za("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);za("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);za("autoIndent",[[!1,"advanced"],[!0,"full"]]);za("matchBrackets",[[!0,"always"],[!1,"never"]]);za("renderFinalNewline",[[!0,"on"],[!1,"off"]]);za("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);za("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);za("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);Wu("autoClosingBrackets",(n,e,t)=>{n===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});Wu("renderIndentGuides",(n,e,t)=>{typeof n<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!n))});Wu("highlightActiveIndentGuide",(n,e,t)=>{typeof n<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!n))});const b_t={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Wu("suggest.filteredTypes",(n,e,t)=>{if(n&&typeof n=="object"){for(const i of Object.entries(b_t))n[i[0]]===!1&&typeof e(`suggest.${i[1]}`)>"u"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});Wu("quickSuggestions",(n,e,t)=>{if(typeof n=="boolean"){const i=n?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});Wu("experimental.stickyScroll.enabled",(n,e,t)=>{typeof n=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")>"u"&&t("stickyScroll.enabled",n))});Wu("experimental.stickyScroll.maxLineCount",(n,e,t)=>{typeof n=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")>"u"&&t("stickyScroll.maxLineCount",n))});Wu("codeActionsOnSave",(n,e,t)=>{if(n&&typeof n=="object"){let i=!1;const r={};for(const s of Object.entries(n))typeof s[1]=="boolean"?(i=!0,r[s[0]]=s[1]?"explicit":"never"):r[s[0]]=s[1];i&&t("codeActionsOnSave",r)}});Wu("codeActionWidget.includeNearbyQuickfixes",(n,e,t)=>{typeof n=="boolean"&&(t("codeActionWidget.includeNearbyQuickfixes",void 0),typeof e("codeActionWidget.includeNearbyQuickFixes")>"u"&&t("codeActionWidget.includeNearbyQuickFixes",n))});Wu("lightbulb.enabled",(n,e,t)=>{typeof n=="boolean"&&t("lightbulb.enabled",n?void 0:"off")});class v_t{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ke,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}}const BM=new v_t;var y_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},C_t=function(n,e){return function(t,i){e(t,i,n)}};let e$=class extends je{constructor(e,t,i,r,s){super(),this._accessibilityService=s,this._onDidChange=this._register(new ke),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ke),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new Yye,this.isSimpleWidget=e,this.contextMenuId=t,this._containerObserver=this._register(new hSe(r,i.dimension)),this._targetWindowId=Ft(r).vscodeWindowId,this._rawOptions=dhe(i),this._validatedOptions=tp.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(Yg.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(BM.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(RV.onDidChange(()=>this._recomputeOptions())),this._register(PI.getInstance(Ft(r)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=tp.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=Pb.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),r={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:BM.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return tp.computeOptions(this._validatedOptions,r)}_readEnvConfiguration(){return{extraEditorClassName:w_t(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Ab||Oc,pixelRatio:PI.getInstance(zle(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return RV.readFontInfo(zle(this._targetWindowId,!0).window,e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=dhe(e);tp.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=tp.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=__t(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};e$=y_t([C_t(4,Vu)],e$);function __t(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function w_t(){let n="";return!Pf&&!CCe&&(n+="no-user-select "),Pf&&(n+="no-minimap-shadow ",n+="enable-user-select "),An&&(n+="mac "),n}class S_t{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class x_t{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class tp{static validateOptions(e){const t=new S_t;for(const i of yy){const r=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(r))}return t}static computeOptions(e,t){const i=new x_t;for(const r of yy)i._write(r.id,r.compute(t,i,e._read(r.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?es(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!tp._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let r=!1;for(const s of yy){const o=!tp._deepEquals(e._read(s.id),t._read(s.id));i[s.id]=o,o&&(r=!0)}return r?new Qye(i):null}static applyUpdate(e,t){let i=!1;for(const r of yy)if(t.hasOwnProperty(r.name)){const s=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=s.newValue,i=i||s.didChange}return i}}function dhe(n){const e=zg(n);return m_t(e),e}var cp;(function(n){const e={total:0,min:Number.MAX_VALUE,max:0},t={...e},i={...e},r={...e};let s=0;const o={keydown:0,input:0,render:0};function a(){C(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),o.keydown=1,queueMicrotask(l)}n.onKeyDown=a;function l(){o.keydown===1&&(performance.mark("keydown/end"),o.keydown=2)}function c(){performance.mark("input/start"),o.input=1,v()}n.onBeforeInput=c;function u(){o.input===0&&c(),queueMicrotask(d)}n.onInput=u;function d(){o.input===1&&(performance.mark("input/end"),o.input=2)}function h(){C()}n.onKeyUp=h;function f(){C()}n.onSelectionChange=f;function p(){o.keydown===2&&o.input===2&&o.render===0&&(performance.mark("render/start"),o.render=1,queueMicrotask(m),v())}n.onRenderStart=p;function m(){o.render===1&&(performance.mark("render/end"),o.render=2)}function v(){setTimeout(C)}function C(){o.keydown===2&&o.input===2&&o.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),y("keydown",e),y("input",t),y("render",i),y("inputlatency",r),s++,w())}function y(D,T){const L=performance.getEntriesByName(D)[0].duration;T.total+=L,T.min=Math.min(T.min,L),T.max=Math.max(T.max,L)}function w(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),o.keydown=0,o.input=0,o.render=0}function _(){if(s===0)return;const D={keydown:x(e),input:x(t),render:x(i),total:x(r),sampleCount:s};return k(e),k(t),k(i),k(r),s=0,D}n.getAndClearMeasurements=_;function x(D){return{average:D.total/s,max:D.max,min:D.min}}function k(D){D.total=0,D.min=Number.MAX_VALUE,D.max=0}})(cp||(cp={}));class wP{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new fSe(this.x-e.scrollX,this.y-e.scrollY)}}class fSe{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new wP(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class k_t{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r,this._editorPagePositionBrand=void 0}}class L_t{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function JG(n){const e=Fl(n);return new k_t(e.left,e.top,e.width,e.height)}function eK(n,e,t){const i=e.width/n.offsetWidth,r=e.height/n.offsetHeight,s=(t.x-e.x)/i,o=(t.y-e.y)/r;return new L_t(s,o)}class Hp extends Cu{constructor(e,t,i){super(Ft(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new wP(this.posx,this.posy),this.editorPos=JG(i),this.relativePos=eK(i,this.editorPos,this.pos)}}class E_t{constructor(e){this._editorViewDomNode=e}_create(e){return new Hp(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return ze(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return ze(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return ze(e,pt.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return ze(e,pt.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return ze(e,pt.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return ze(e,"mousemove",i=>t(this._create(i)))}}class D_t{constructor(e){this._editorViewDomNode=e}_create(e){return new Hp(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return ze(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return ze(e,pt.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return ze(e,pt.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return ze(e,"pointermove",i=>t(this._create(i)))}}class T_t extends je{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new YA),this._keydownListener=null}startMonitoring(e,t,i,r,s){this._keydownListener=ms(e.ownerDocument,"keydown",o=>{o.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,o.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,o=>{r(new Hp(o,!0,this._editorViewDomNode))},o=>{this._keydownListener.dispose(),s(o)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}const zR=class zR{constructor(e){this._editor=e,this._instanceId=++zR._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new Lo(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const r=this._counter++;i=new I_t(t,`dyn-rule-${this._instanceId}-${r}`,NI(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}};zR._idPool=0;let hhe=zR;class I_t{constructor(e,t,i,r){this.key=e,this.className=t,this.properties=r,this._referenceCount=0,this._styleElementDisposables=new It,this._styleElement=ql(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const r in t){const s=t[r];let o;typeof s=="object"?o=mt(s.id):o=s;const a=M_t(r);i+=`
	${a}: ${o};`}return i+=`
}`,i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function M_t(n){return n.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class jL extends je{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,r=e.length;i<r;i++){const s=e[i];switch(s.type){case 0:this.onCompositionStart(s)&&(t=!0);break;case 1:this.onCompositionEnd(s)&&(t=!0);break;case 2:this.onConfigurationChanged(s)&&(t=!0);break;case 3:this.onCursorStateChanged(s)&&(t=!0);break;case 4:this.onDecorationsChanged(s)&&(t=!0);break;case 5:this.onFlushed(s)&&(t=!0);break;case 6:this.onFocusChanged(s)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(t=!0);break;case 8:this.onLineMappingChanged(s)&&(t=!0);break;case 9:this.onLinesChanged(s)&&(t=!0);break;case 10:this.onLinesDeleted(s)&&(t=!0);break;case 11:this.onLinesInserted(s)&&(t=!0);break;case 12:this.onRevealRangeRequest(s)&&(t=!0);break;case 13:this.onScrollChanged(s)&&(t=!0);break;case 15:this.onTokensChanged(s)&&(t=!0);break;case 14:this.onThemeChanged(s)&&(t=!0);break;case 16:this.onTokensColorsChanged(s)&&(t=!0);break;case 17:this.onZonesChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(s)}}t&&(this._shouldRender=!0)}}class Wa extends jL{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Pu{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let r=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[r++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=i[r-o-1];return s}}class R_t{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class N_t extends R_t{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class A_t{constructor(e,t,i,r){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=r}}class SP{static from(e){const t=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=new SP(s.left,s.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class Wb{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class P_t{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class fhe{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class LT{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,r,s){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(i,r),o.getClientRects()}catch{return null}finally{this._detachRange(o,s)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(Wb.compare);const t=[];let i=0,r=e[0];for(let s=1,o=e.length;s<o;s++){const a=e[s];r.left+r.width+.9>=a.left?r.width=Math.max(r.width,a.left+a.width-r.left):(t[i++]=r,r=a)}return t[i++]=r,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s];r[s]=new Wb(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(r)}static readHorizontalRanges(e,t,i,r,s,o){const l=e.children.length-1;if(0>l)return null;if(t=Math.min(l,Math.max(0,t)),r=Math.min(l,Math.max(0,r)),t===r&&i===s&&i===0&&!e.children[t].firstChild){const h=e.children[t].getClientRects();return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,o.clientRectDeltaLeft,o.clientRectScale)}t!==r&&r>0&&s===0&&(r--,s=1073741824);let c=e.children[t].firstChild,u=e.children[r].firstChild;if((!c||!u)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!u&&s===0&&r>0&&(u=e.children[r-1].firstChild,s=1073741824)),!c||!u)return null;i=Math.min(c.textContent.length,Math.max(0,i)),s=Math.min(u.textContent.length,Math.max(0,s));const d=this._readClientRects(c,i,u,s,o.endNode);return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(d,o.clientRectDeltaLeft,o.clientRectScale)}}const O_t=function(){return RS?!0:!(ga||Oc||Pf)}();let LC=!0;class ghe{constructor(e,t){this.themeType=t;const i=e.options,r=i.get(50);i.get(38)==="off"?this.renderWhitespace=i.get(100):this.renderWhitespace="none",this.renderControlCharacters=i.get(95),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(67),this.stopRenderingLineAfter=i.get(118),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}const WR=class WR{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=Wn(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return fC(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,r,s){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=r.getViewLineRenderingData(e),a=this._options,l=kc.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let c=null;if(fC(a.themeType)||this._options.renderWhitespace==="selection"){const f=r.selections;for(const p of f){if(p.endLineNumber<e||p.startLineNumber>e)continue;const m=p.startLineNumber===e?p.startColumn:o.minColumn,v=p.endLineNumber===e?p.endColumn:o.maxColumn;m<v&&(fC(a.themeType)&&l.push(new kc(m,v,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(c||(c=[]),c.push(new oSe(m-1,v-1))))}}const u=new a_(a.useMonospaceOptimizations,a.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,l,o.tabSize,o.startVisibleColumn,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==dv.OFF,c);if(this._renderedViewLine&&this._renderedViewLine.input.equals(u))return!1;s.appendString('<div style="top:'),s.appendString(String(t)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;" class="'),s.appendString(WR.CLASS_NAME),s.appendString('">');const d=YG(u,s);s.appendString("</div>");let h=null;return LC&&O_t&&o.isBasicASCII&&a.useMonospaceOptimizations&&d.containsForeignElements===0&&(h=new w2(this._renderedViewLine?this._renderedViewLine.domNode:null,u,d.characterMapping)),h||(h=pSe(this._renderedViewLine?this._renderedViewLine.domNode:null,u,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t,i){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(i))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof w2:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof w2?this._renderedViewLine.monospaceAssumptionsAreValid():LC}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof w2&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,r){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const s=this._renderedViewLine.input.stopRenderingLineAfter;if(s!==-1&&t>s+1&&i>s+1)return new fhe(!0,[new Wb(this.getWidth(r),0)]);s!==-1&&t>s+1&&(t=s+1),s!==-1&&i>s+1&&(i=s+1);const o=this._renderedViewLine.getVisibleRangesForRange(e,t,i,r);return o&&o.length>0?new fhe(!1,o):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}};WR.CLASS_NAME="view-line";let af=WR;class w2{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const r=Math.floor(t.lineContent.length/300);if(r>0){this._keyColumnPixelOffsetCache=new Float32Array(r);for(let s=0;s<r;s++)this._keyColumnPixelOffsetCache[s]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const t=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*t)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return LC;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),LC=!1)}return LC}toSlowRenderedLine(){return pSe(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,r){const s=this._getColumnPixelOffset(e,t,r),o=this._getColumnPixelOffset(e,i,r);return[new Wb(s,o-s)]}_getColumnPixelOffset(e,t,i){if(t<=300){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const r=Math.floor((t-1)/300)-1,s=(r+1)*300+1;let o=-1;if(this._keyColumnPixelOffsetCache&&(o=this._keyColumnPixelOffsetCache[r],o===-1&&(o=this._actualReadPixelOffset(e,s,i),this._keyColumnPixelOffsetCache[r]=o)),o===-1){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const a=this._characterMapping.getHorizontalOffset(s),l=this._characterMapping.getHorizontalOffset(t);return o+this._charWidth*(l-a)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const r=this._characterMapping.getDomPosition(t),s=LT.readHorizontalRanges(this._getReadingTarget(this.domNode),r.partIndex,r.charIndex,r.partIndex,r.charIndex,i);return!s||s.length===0?-1:s[0].left}getColumnOfNodeOffset(e,t){return mSe(this._characterMapping,e,t)}}class gSe{constructor(e,t,i,r,s){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let o=0,a=this._characterMapping.length;o<=a;o++)this._pixelOffsetCache[o]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const s=this._readPixelOffset(this.domNode,e,t,r);if(s===-1)return null;const o=this._readPixelOffset(this.domNode,e,i,r);return o===-1?null:[new Wb(s,o-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,r)}_readVisibleRangesForRange(e,t,i,r,s){if(i===r){const o=this._readPixelOffset(e,t,i,s);return o===-1?null:[new Wb(o,0)]}else return this._readRawVisibleRangesForRange(e,i,r,s)}_readPixelOffset(e,t,i,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(r);const s=this._getReadingTarget(e);return s.firstChild?(r.markDidDomLayout(),s.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const s=this._pixelOffsetCache[i];if(s!==-1)return s;const o=this._actualReadPixelOffset(e,t,i,r);return this._pixelOffsetCache[i]=o,o}return this._actualReadPixelOffset(e,t,i,r)}_actualReadPixelOffset(e,t,i,r){if(this._characterMapping.length===0){const l=LT.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,r);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(r);const s=this._characterMapping.getDomPosition(i),o=LT.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,r);if(!o||o.length===0)return-1;const a=o[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,r){if(t===1&&i===this._characterMapping.length)return[new Wb(0,this.getWidth(r))];const s=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(i);return LT.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,o.partIndex,o.charIndex,r)}getColumnOfNodeOffset(e,t){return mSe(this._characterMapping,e,t)}}class F_t extends gSe{_readVisibleRangesForRange(e,t,i,r,s){const o=super._readVisibleRangesForRange(e,t,i,r,s);if(!o||o.length===0||i===r||i===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,r,s);if(a!==-1){const l=o[o.length-1];l.left<a&&(l.width=a-l.left)}}return o}}const pSe=function(){return Ab?B_t:H_t}();function B_t(n,e,t,i,r){return new F_t(n,e,t,i,r)}function H_t(n,e,t,i,r){return new gSe(n,e,t,i,r)}function mSe(n,e,t){const i=e.textContent.length;let r=-1;for(;e;)e=e.previousSibling,r++;return n.getColumn(new aSe(r,t),i)}class Tk{static whitespaceVisibleColumn(e,t,i){const r=e.length;let s=0,o=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[o,a,s];switch(s%i===0&&(o=l,a=s),e.charCodeAt(l)){case 32:s+=1;break;case 9:s=Kr.nextRenderTabStop(s,i);break;default:return[-1,-1,-1]}}return t===r?[o,a,s]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const s=e.length,[o,a,l]=Tk.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(r){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(o===-1)return-1;let h=a;for(let f=o;f<s;++f){if(h===a+i)return o;switch(e.charCodeAt(f)){case 32:h+=1;break;case 9:h=Kr.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?o:-1}const u=Kr.nextRenderTabStop(l,i);let d=l;for(let h=t;h<s;h++){if(d===u)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=Kr.nextRenderTabStop(d,i);break;default:return-1}}return d===u?s:-1}}class Pg{constructor(e=null){this.hitTarget=e,this.type=0}}class bSe{get hitTarget(){return this.spanNode}constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var lb;(function(n){function e(t,i,r){const s=t.getPositionFromDOMInfo(i,r);return s?new bSe(s,i,null):new Pg(i)}n.createFromDOMInfo=e})(lb||(lb={}));class V_t{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class yo{static _deduceRage(e,t=null){return!t&&e?new _e(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,r,s,o){return{type:e,element:t,mouseColumn:i,position:r,range:s,detail:o}}static createViewZone(e,t,i,r,s){return{type:e,element:t,mouseColumn:i,position:r,range:this._deduceRage(r),detail:s}}static createContentText(e,t,i,r,s){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,r),detail:s}}static createContentEmpty(e,t,i,r){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:r}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,r){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:r}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Ao{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===7}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===8}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===8}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===6}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===9}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowGuard(e){return e.length>=1&&e[0]===3}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}static isChildOfOverflowingOverlayWidgets(e){return e.length>=1&&e[0]===5}}class f0{constructor(e,t,i){this.viewModel=e.viewModel;const r=e.configuration.options;this.layoutInfo=r.get(146),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(67),this.stickyTabStops=r.get(117),this.typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return f0.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const r=i.verticalOffset+i.height/2,s=e.viewModel.getLineCount();let o=null,a,l=null;return i.afterLineNumber!==s&&(l=new Pe(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(o=new Pe(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=o:o===null?a=l:t<r?a=o:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:o,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.viewModel.getLineCount(),s=this._context.viewModel.getLineMaxColumn(r);return{range:new _e(r,s,r,s),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new _e(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return f0._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class z_t{constructor(e,t,i,r){this.editorPos=t,this.pos=i,this.relativePos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,mo._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class W_t extends z_t{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=Pu.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(e,t,i,r,s){super(e,t,i,r),this.hitTestResult=new Rp(()=>mo.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=e,this._eventTarget=s;const o=!!this._eventTarget;this._useHitTestTarget=!o}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Kr.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return yo.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return yo.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,r){return yo.createMargin(e,this.target,this._getMouseColumn(t),t,i,r)}fulfillViewZone(e,t,i){return yo.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return yo.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return yo.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return yo.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return yo.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return yo.createOverlayWidget(this.target,this._getMouseColumn(),e)}}const phe={isAfterLines:!0};function I6(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class mo{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=Pu.collect(t,this._viewHelper.viewDomNode);return!!(Ao.isChildOfContentWidgets(i)||Ao.isChildOfOverflowingContentWidgets(i)||Ao.isChildOfOverlayWidgets(i)||Ao.isChildOfOverflowingOverlayWidgets(i))}createMouseTarget(e,t,i,r,s){const o=new f0(this._context,this._viewHelper,e),a=new W_t(o,t,i,r,s);try{const l=mo._createMouseTarget(o,a);if(l.type===6&&o.stickyTabStops&&l.position!==null){const c=mo._snapToSoftTabBoundary(l.position,o.viewModel),u=_e.fromPositions(c,c).plusRange(l.range);return a.fulfillContentText(c,u,l.detail)}return l}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t){if(t.target===null)return t.fulfillUnknown();const i=t;let r=null;return!Ao.isChildOfOverflowGuard(t.targetPath)&&!Ao.isChildOfOverflowingContentWidgets(t.targetPath)&&!Ao.isChildOfOverflowingOverlayWidgets(t.targetPath)&&(r=r||t.fulfillUnknown()),r=r||mo._hitTestContentWidget(e,i),r=r||mo._hitTestOverlayWidget(e,i),r=r||mo._hitTestMinimap(e,i),r=r||mo._hitTestScrollbarSlider(e,i),r=r||mo._hitTestViewZone(e,i),r=r||mo._hitTestMargin(e,i),r=r||mo._hitTestViewCursor(e,i),r=r||mo._hitTestTextArea(e,i),r=r||mo._hitTestViewLines(e,i),r=r||mo._hitTestScrollbar(e,i),r||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Ao.isChildOfContentWidgets(t.targetPath)||Ao.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Ao.isChildOfOverlayWidgets(t.targetPath)||Ao.isChildOfOverflowingOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const r of i)if(t.target===r.domNode)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const o of i){if(r<o.contentLeft||r>o.contentLeft+o.width)continue;const a=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(a<=s&&s<=a+o.height)return t.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const r=t.isInContentArea?8:5;return t.fulfillViewZone(r,i.position,i)}return null}static _hitTestTextArea(e,t){return Ao.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=i.range.getStartPosition();let s=Math.abs(t.relativePos.x);const o={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};if(s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth){const a=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i.range.getStartPosition()),l=e.viewModel.glyphLanes.getLanesAtLine(a.lineNumber);return o.glyphMarginLane=l[Math.floor(s/e.lineHeight)],t.fulfillMargin(2,r,i.range,o)}return s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,r,i.range,o):(s-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,r,i.range,o))}return null}static _hitTestViewLines(e,t){if(!Ao.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new Pe(1,1),phe);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const r=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(r);return t.fulfillContentEmpty(new Pe(r,s),phe)}if(Ao.isStrictChildOfViewLines(t.targetPath)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(r)===0){const o=e.getLineWidth(r),a=I6(t.mouseContentHorizontalOffset-o);return t.fulfillContentEmpty(new Pe(r,1),a)}const s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=s){const o=I6(t.mouseContentHorizontalOffset-s),a=new Pe(r,e.viewModel.getLineMaxColumn(r));return t.fulfillContentEmpty(a,o)}}const i=t.hitTestResult.value;return i.type===1?mo.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):t.wouldBenefitFromHitTestTargetSwitch?(t.switchToHitTestTarget(),this._createMouseTarget(e,t)):t.fulfillUnknown()}static _hitTestMinimap(e,t){if(Ao.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Pe(i,r))}return null}static _hitTestScrollbarSlider(e,t){if(Ao.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(r);return t.fulfillScrollbar(new Pe(r,s))}}return null}static _hitTestScrollbar(e,t){if(Ao.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Pe(i,r))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(146),r=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return mo._getMouseColumn(r,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,r,s){const o=r.lineNumber,a=r.column,l=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>l){const C=I6(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(r,C)}const c=e.visibleRangeForPosition(o,a);if(!c)return t.fulfillUnknown(r);const u=c.left;if(Math.abs(t.mouseContentHorizontalOffset-u)<1)return t.fulfillContentText(r,null,{mightBeForeignElement:!!s,injectedText:s});const d=[];if(d.push({offset:c.left,column:a}),a>1){const C=e.visibleRangeForPosition(o,a-1);C&&d.push({offset:C.left,column:a-1})}const h=e.viewModel.getLineMaxColumn(o);if(a<h){const C=e.visibleRangeForPosition(o,a+1);C&&d.push({offset:C.left,column:a+1})}d.sort((C,y)=>C.offset-y.offset);const f=t.pos.toClientCoordinates(Ft(e.viewDomNode)),p=i.getBoundingClientRect(),m=p.left<=f.clientX&&f.clientX<=p.right;let v=null;for(let C=1;C<d.length;C++){const y=d[C-1],w=d[C];if(y.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=w.offset){v=new _e(o,y.column,o,w.column);const _=Math.abs(y.offset-t.mouseContentHorizontalOffset),x=Math.abs(w.offset-t.mouseContentHorizontalOffset);r=_<x?new Pe(o,y.column):new Pe(o,w.column);break}}return t.fulfillContentText(r,v,{mightBeForeignElement:!m||!!s,injectedText:s})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.getVerticalOffsetForLineNumber(i),s=r+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>s)){const a=Math.floor((r+s)/2);let l=t.pos.y+(a-t.mouseVerticalOffset);l<=t.editorPos.y&&(l=t.editorPos.y+1),l>=t.editorPos.y+t.editorPos.height&&(l=t.editorPos.y+t.editorPos.height-1);const c=new wP(t.pos.x,l),u=this._actualDoHitTestWithCaretRangeFromPoint(e,c.toClientCoordinates(Ft(e.viewDomNode)));if(u.type===1)return u}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(Ft(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=YC(e.viewDomNode);let r;if(i?typeof i.caretRangeFromPoint>"u"?r=$_t(i,t.clientX,t.clientY):r=i.caretRangeFromPoint(t.clientX,t.clientY):r=e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new Pg;const s=r.startContainer;if(s.nodeType===s.TEXT_NODE){const o=s.parentNode,a=o?o.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===af.CLASS_NAME?lb.createFromDOMInfo(e,o,r.startOffset):new Pg(s.parentNode)}else if(s.nodeType===s.ELEMENT_NODE){const o=s.parentNode,a=o?o.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===af.CLASS_NAME?lb.createFromDOMInfo(e,s,s.textContent.length):new Pg(s)}return new Pg}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const r=i.offsetNode.parentNode,s=r?r.parentNode:null,o=s?s.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===af.CLASS_NAME?lb.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Pg(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const r=i.offsetNode.parentNode,s=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,o=r?r.parentNode:null,a=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(s===af.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return lb.createFromDOMInfo(e,l,0)}else if(a===af.CLASS_NAME)return lb.createFromDOMInfo(e,i.offsetNode,0)}return new Pg(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:r}=t.model.getOptions(),s=Tk.atomicPosition(i,e.column-1,r,2);return s!==-1?new Pe(e.lineNumber,s+1):e}static doHitTest(e,t){let i=new Pg;if(typeof e.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(Ft(e.viewDomNode)))),i.type===1){const r=e.viewModel.getInjectedTextAt(i.position),s=e.viewModel.normalizePosition(i.position,2);(r||!s.equals(i.position))&&(i=new bSe(s,i.spanNode,r))}return i}}function $_t(n,e,t){const i=document.createRange();let r=n.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const s=r.getBoundingClientRect(),o=Ft(r),a=o.getComputedStyle(r,null).getPropertyValue("font-style"),l=o.getComputedStyle(r,null).getPropertyValue("font-variant"),c=o.getComputedStyle(r,null).getPropertyValue("font-weight"),u=o.getComputedStyle(r,null).getPropertyValue("font-size"),d=o.getComputedStyle(r,null).getPropertyValue("line-height"),h=o.getComputedStyle(r,null).getPropertyValue("font-family"),f=`${a} ${l} ${c} ${u}/${d} ${h}`,p=r.innerText;let m=s.left,v=0,C;if(e>s.left+s.width)v=p.length;else{const y=t$.getInstance();for(let w=0;w<p.length+1;w++){if(C=y.getCharWidth(p.charAt(w),f)/2,m+=C,e<m){v=w;break}m+=C}}i.setStart(r.firstChild,v),i.setEnd(r.firstChild,v)}return i}const pb=class pb{static getInstance(){return pb._INSTANCE||(pb._INSTANCE=new pb),pb._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const r=this._canvas.getContext("2d");r.font=t;const o=r.measureText(e).width;return this._cache[i]=o,o}};pb._INSTANCE=null;let t$=pb;class tK extends jL{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new mo(this._context,i),this._mouseDownOperation=this._register(new j_t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(o,a)=>this._createMouseTarget(o,a),o=>this._getMouseColumn(o))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(146).height;const r=new E_t(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,o=>this._onContextMenu(o,!0))),this._register(r.onMouseMove(this.viewHelper.viewDomNode,o=>{this._onMouseMove(o),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=ze(this.viewHelper.viewDomNode.ownerDocument,"mousemove",a=>{this.viewHelper.viewDomNode.contains(a.target)||this._onMouseLeave(new Hp(a,!1,this.viewHelper.viewDomNode))}))})),this._register(r.onMouseUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o)));let s=0;this._register(r.onPointerDown(this.viewHelper.viewDomNode,(o,a)=>{s=a})),this._register(ze(this.viewHelper.viewDomNode,pt.POINTER_UP,o=>{this._mouseDownOperation.onPointerUp()})),this._register(r.onMouseDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o,s))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=ZI.INSTANCE;let t=0,i=Yg.getZoomLevel(),r=!1,s=0;const o=l=>{if(this.viewController.emitMouseWheel(l),!this._context.configuration.options.get(76))return;const c=new fv(l);if(e.acceptStandardWheelEvent(c),e.isPhysicalMouseWheel()){if(a(l)){const u=Yg.getZoomLevel(),d=c.deltaY>0?1:-1;Yg.setZoomLevel(u+d),c.preventDefault(),c.stopPropagation()}}else Date.now()-t>50&&(i=Yg.getZoomLevel(),r=a(l),s=0),t=Date.now(),s+=c.deltaY,r&&(Yg.setZoomLevel(i+s/5),c.preventDefault(),c.stopPropagation())};this._register(ze(this.viewHelper.viewDomNode,pt.MOUSE_WHEEL,o,{capture:!0,passive:!1}));function a(l){return An?(l.metaKey||l.ctrlKey)&&!l.shiftKey&&!l.altKey:l.ctrlKey&&!l.metaKey&&!l.shiftKey&&!l.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(146)){const t=this._context.configuration.options.get(146).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const r=new fSe(e,t).toPageCoordinates(Ft(this.viewHelper.viewDomNode)),s=JG(this.viewHelper.viewDomNode);if(r.y<s.y||r.y>s.y+s.height||r.x<s.x||r.x>s.x+s.width)return null;const o=eK(this.viewHelper.viewDomNode,s,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s,r,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const r=YC(this.viewHelper.viewDomNode);r&&(i=r.elementsFromPoint(e.posx,e.posy).find(s=>this.viewHelper.viewDomNode.contains(s)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),r=i.type===6||i.type===7,s=i.type===2||i.type===3||i.type===4,o=i.type===3,a=this._context.configuration.options.get(110),l=i.type===8||i.type===5,c=i.type===9;let u=e.leftButton||e.middleButton;An&&e.leftButton&&e.ctrlKey&&(u=!1);const d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(u&&(r||o&&a))d(),this._mouseDownOperation.start(i.type,e,t);else if(s)e.preventDefault();else if(l){const h=i.detail;u&&this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(d(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class j_t extends je{constructor(e,t,i,r,s,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=r,this._createMouseTarget=s,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new T_t(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new U_t(this._context,this._viewHelper,this._mouseTargetFactory,(a,l,c)=>this._dispatchMouse(a,l,c))),this._mouseState=new n$,this._currentSelection=new wi(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):t.type===13&&(t.outsidePosition==="above"||t.outsidePosition==="below")?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const r=this._findMousePosition(t,!0);if(!r||!r.position)return;this._mouseState.trySetCount(t.detail,r.position),t.detail=this._mouseState.count;const s=this._context.configuration.options;if(!s.get(92)&&s.get(35)&&!s.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&r.type===6&&r.position&&this._currentSelection.containsPosition(r.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,o=>this._onMouseDownThenMove(o),o=>{const a=this._findMousePosition(this._lastMouseEvent,!1);Xh(o)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(r,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,o=>this._onMouseDownThenMove(o),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,r=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const a=t.y-e.posy,l=Math.max(r.getCurrentScrollTop()-a,0),c=f0.getZoneAtCoord(this._context,l);if(c){const d=this._helpPositionJumpOverViewZone(c);if(d)return yo.createOutsideEditor(s,d,"above",a)}const u=r.getLineNumberAtVerticalOffset(l);return yo.createOutsideEditor(s,new Pe(u,1),"above",a)}if(e.posy>t.y+t.height){const a=e.posy-t.y-t.height,l=r.getCurrentScrollTop()+e.relativePos.y,c=f0.getZoneAtCoord(this._context,l);if(c){const d=this._helpPositionJumpOverViewZone(c);if(d)return yo.createOutsideEditor(s,d,"below",a)}const u=r.getLineNumberAtVerticalOffset(l);return yo.createOutsideEditor(s,new Pe(u,i.getLineMaxColumn(u)),"below",a)}const o=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const a=t.x-e.posx;return yo.createOutsideEditor(s,new Pe(o,1),"left",a)}if(e.posx>t.x+t.width){const a=e.posx-t.x-t.width;return yo.createOutsideEditor(s,new Pe(o,i.getLineMaxColumn(o)),"right",a)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const o=this._helpPositionJumpOverViewZone(r.detail);if(o)return yo.createViewZone(r.type,r.element,r.mouseColumn,o,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new Pe(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,r=e.positionAfter;return i&&r?i.isBefore(t)?i:r:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class U_t extends je{constructor(e,t,i,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new q_t(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class q_t extends je{constructor(e,t,i,r,s,o){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._position=s,this._mouseEvent=o,this._lastTime=Date.now(),this._animationFrameDisposable=Va(Ft(o.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(67),t=this._context.configuration.options.get(146).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(67),t=this._getScrollSpeed(),i=this._tick(),r=t*(i/1e3)*e,s=this._position.outsidePosition==="above"?-r:r;this._context.viewModel.viewLayout.deltaScrollNow(0,s),this._viewHelper.renderNow();const o=this._context.viewLayout.getLinesViewportData(),a=this._position.outsidePosition==="above"?o.startLineNumber:o.endLineNumber;let l;{const c=JG(this._viewHelper.viewDomNode),u=this._context.configuration.options.get(146).horizontalScrollbarHeight,d=new wP(this._mouseEvent.pos.x,c.y+c.height-u-.1),h=eK(this._viewHelper.viewDomNode,c,d);l=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),c,d,h,null)}(!l.position||l.position.lineNumber!==a)&&(this._position.outsidePosition==="above"?l=yo.createOutsideEditor(this._position.mouseColumn,new Pe(a,1),"above",this._position.outsideDistance):l=yo.createOutsideEditor(this._position.mouseColumn,new Pe(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(l,!0,2),this._animationFrameDisposable=Va(Ft(l.element),()=>this._execute())}}const $R=class $R{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>$R.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};$R.CLEAR_MOUSE_DOWN_COUNT_TIME=400;let n$=$R;const Qy=class Qy{constructor(e,t,i,r,s){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=r,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),r=e.getSelectionStart(),s=e.getSelectionEnd();let o;if(t){const a=i.substring(0,r),l=t.value.substring(0,t.selectionStart);a===l&&(o=t.newlineCountBeforeSelection)}return new Qy(i,r,s,null,o)}collapseSelection(){return this.selectionStart===this.value.length?this:new Qy(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var r,s,o,a;if(e<=this.selectionStart){const l=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(((r=this.selection)==null?void 0:r.getStartPosition())??null,l,-1)}if(e>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(((s=this.selection)==null?void 0:s.getEndPosition())??null,l,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf("")===-1)return this._finishDeduceEditorPosition(((o=this.selection)==null?void 0:o.getStartPosition())??null,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(((a=this.selection)==null?void 0:a.getEndPosition())??null,i,-1)}_finishDeduceEditorPosition(e,t,i){let r=0,s=-1;for(;(s=t.indexOf(`
`,s+1))!==-1;)r++;return[e,i*t.length,r]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const r=Math.min(mV(e.value,t.value),e.selectionStart,t.selectionStart),s=Math.min(bV(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(r,e.value.length-s);const o=t.value.substring(r,t.value.length-s),a=e.selectionStart-r,l=e.selectionEnd-r,c=t.selectionStart-r,u=t.selectionEnd-r;if(c===u){const h=e.selectionStart-r;return{text:o,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const d=l-a;return{text:o,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(mV(e.value,t.value),e.selectionEnd),r=Math.min(bV(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(i,e.value.length-r),o=t.value.substring(i,t.value.length-r);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:s.length-a,positionDelta:l-o.length}}};Qy.EMPTY=new Qy("",0,0,null,void 0);let Co=Qy;class Py{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,r=i+1,s=i+t;return new _e(r,1,s+1,1)}static fromEditorSelection(e,t,i,r){const o=Py._getPageOfLine(t.startLineNumber,i),a=Py._getRangeForPage(o,i),l=Py._getPageOfLine(t.endLineNumber,i),c=Py._getRangeForPage(l,i);let u=a.intersectRanges(new _e(1,1,t.startLineNumber,t.startColumn));if(r&&e.getValueLengthInRange(u,1)>500){const C=e.modifyPosition(u.getEndPosition(),-500);u=_e.fromPositions(C,u.getEndPosition())}const d=e.getValueInRange(u,1),h=e.getLineCount(),f=e.getLineMaxColumn(h);let p=c.intersectRanges(new _e(t.endLineNumber,t.endColumn,h,f));if(r&&e.getValueLengthInRange(p,1)>500){const C=e.modifyPosition(p.getStartPosition(),500);p=_e.fromPositions(p.getStartPosition(),C)}const m=e.getValueInRange(p,1);let v;if(o===l||o+1===l)v=e.getValueInRange(t,1);else{const C=a.intersectRanges(t),y=c.intersectRanges(t);v=e.getValueInRange(C,1)+""+e.getValueInRange(y,1)}return r&&v.length>2*500&&(v=v.substring(0,500)+""+v.substring(v.length-500,v.length)),new Co(d+v+m,d.length,d.length+v.length,t,u.endLineNumber-u.startLineNumber)}}var G_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mhe=function(n,e){return function(t,i){e(t,i,n)}},HM;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(HM||(HM={}));const jR=class jR{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};jR.INSTANCE=new jR;let VM=jR;class K_t{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let i$=class extends je{get textAreaState(){return this._textAreaState}constructor(e,t,i,r,s,o){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=r,this._accessibilityService=s,this._logService=o,this._onFocus=this._register(new ke),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ke),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ke),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ke),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ke),this.onCut=this._onCut.event,this._onPaste=this._register(new ke),this.onPaste=this._onPaste.event,this._onType=this._register(new ke),this.onType=this._onType.event,this._onCompositionStart=this._register(new ke),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ke),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ke),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ke),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new Nf),this._asyncTriggerCut=this._register(new Lo(()=>this._onCut.fire(),0)),this._textAreaState=Co.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(ut.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new Lo(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let a=null;this._register(this._textArea.onKeyDown(l=>{const c=new Bi(l);(c.keyCode===114||this._currentComposition&&c.keyCode===1)&&c.stopPropagation(),c.equals(9)&&c.preventDefault(),a=c,this._onKeyDown.fire(c)})),this._register(this._textArea.onKeyUp(l=>{const c=new Bi(l);this._onKeyUp.fire(c)})),this._register(this._textArea.onCompositionStart(l=>{const c=new K_t;if(this._currentComposition){this._currentComposition=c;return}if(this._currentComposition=c,this._OS===2&&a&&a.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===l.data&&(a.code==="ArrowRight"||a.code==="ArrowLeft")){c.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:l.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:l.data});return}this._onCompositionStart.fire({data:l.data})})),this._register(this._textArea.onCompositionUpdate(l=>{const c=this._currentComposition;if(!c)return;if(this._browser.isAndroid){const d=Co.readFromTextArea(this._textArea,this._textAreaState),h=Co.deduceAndroidCompositionInput(this._textAreaState,d);this._textAreaState=d,this._onType.fire(h),this._onCompositionUpdate.fire(l);return}const u=c.handleCompositionUpdate(l.data);this._textAreaState=Co.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(u),this._onCompositionUpdate.fire(l)})),this._register(this._textArea.onCompositionEnd(l=>{const c=this._currentComposition;if(!c)return;if(this._currentComposition=null,this._browser.isAndroid){const d=Co.readFromTextArea(this._textArea,this._textAreaState),h=Co.deduceAndroidCompositionInput(this._textAreaState,d);this._textAreaState=d,this._onType.fire(h),this._onCompositionEnd.fire();return}const u=c.handleCompositionUpdate(l.data);this._textAreaState=Co.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(u),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const c=Co.readFromTextArea(this._textArea,this._textAreaState),u=Co.deduceInput(this._textAreaState,c,this._OS===2);u.replacePrevCharCnt===0&&u.text.length===1&&(hs(u.text.charCodeAt(0))||u.text.charCodeAt(0)===127)||(this._textAreaState=c,(u.text!==""||u.replacePrevCharCnt!==0||u.replaceNextCharCnt!==0||u.positionDelta!==0)&&this._onType.fire(u))})),this._register(this._textArea.onCut(l=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(l),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(l=>{this._ensureClipboardGetsEditorSelection(l)})),this._register(this._textArea.onPaste(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),l.preventDefault(),!l.clipboardData)return;let[c,u]=bhe.getTextData(l.clipboardData);c&&(u=u||VM.INSTANCE.get(c),this._onPaste.fire({text:c,metadata:u}))})),this._register(this._textArea.onFocus(()=>{const l=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!l&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new Lo(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return ze(this._textArea.ownerDocument,"selectionchange",t=>{if(cp.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),r=i-e;if(e=i,r<5)return;const s=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100||!this._textAreaState.selection)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),u=this._host.deduceModelPosition(c[0],c[1],c[2]),d=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(d[0],d[1],d[2]),f=new wi(u.lineNumber,u.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&e==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};VM.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&bhe.setTextData(e.clipboardData,t.text,t.html,i)}};i$=G_t([mhe(4,Vu),mhe(5,Bu)],i$);const bhe={getTextData(n){const e=n.getData(rf.text);let t=null;const i=n.getData("vscode-editor-data");if(typeof i=="string")try{t=JSON.parse(i),t.version!==1&&(t=null)}catch{}return e.length===0&&t===null&&n.files.length>0?[Array.prototype.slice.call(n.files,0).map(s=>s.name).join(`
`),null]:[e,t]},setTextData(n,e,t,i){n.setData(rf.text,e),typeof t=="string"&&n.setData("text/html",t),n.setData("vscode-editor-data",JSON.stringify(i))}};class Q_t extends je{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new kn(this._actual,"keydown")).event,this.onKeyUp=this._register(new kn(this._actual,"keyup")).event,this.onCompositionStart=this._register(new kn(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new kn(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new kn(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new kn(this._actual,"beforeinput")).event,this.onInput=this._register(new kn(this._actual,"input")).event,this.onCut=this._register(new kn(this._actual,"cut")).event,this.onCopy=this._register(new kn(this._actual,"copy")).event,this.onPaste=this._register(new kn(this._actual,"paste")).event,this.onFocus=this._register(new kn(this._actual,"focus")).event,this.onBlur=this._register(new kn(this._actual,"blur")).event,this._onSyntheticTap=this._register(new ke),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>cp.onKeyDown())),this._register(this.onBeforeInput(()=>cp.onBeforeInput())),this._register(this.onInput(()=>cp.onInput())),this._register(this.onKeyUp(()=>cp.onKeyUp())),this._register(ze(this._actual,HM.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=YC(this._actual);return e?e.activeElement===this._actual:this._actual.isConnected?Eo()===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const r=this._actual;let s=null;const o=YC(r);o?s=o.activeElement:s=Eo();const a=Ft(s),l=s===r,c=r.selectionStart,u=r.selectionEnd;if(l&&c===t&&u===i){Oc&&a.parent!==a&&r.focus();return}if(l){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),Oc&&a.parent!==a&&r.focus();return}try{const d=glt(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),plt(r,d)}catch{}}}class Y_t extends tK{constructor(e,t,i){super(e,t,i),this._register(Uo.addTarget(this.viewHelper.linesContentDomNode)),this._register(ze(this.viewHelper.linesContentDomNode,Di.Tap,s=>this.onTap(s))),this._register(ze(this.viewHelper.linesContentDomNode,Di.Change,s=>this.onChange(s))),this._register(ze(this.viewHelper.linesContentDomNode,Di.Contextmenu,s=>this._onContextMenu(new Hp(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(ze(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const o=s.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new D_t(this.viewHelper.viewDomNode);this._register(r.onPointerMove(this.viewHelper.viewDomNode,s=>this._onMouseMove(s))),this._register(r.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,(s,o)=>this._onMouseDown(s,o)))}onTap(e){!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget)||(e.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(e,!1))}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(e,!0)}_dispatchGesture(e,t){const i=this._createMouseTarget(new Hp(e,!1,this.viewHelper.viewDomNode),!1);i.position&&this.viewController.dispatchMouse({position:i.position,mouseColumn:i.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:t,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:i.type===6&&i.detail.injectedText!==null})}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class X_t extends tK{constructor(e,t,i){super(e,t,i),this._register(Uo.addTarget(this.viewHelper.linesContentDomNode)),this._register(ze(this.viewHelper.linesContentDomNode,Di.Tap,r=>this.onTap(r))),this._register(ze(this.viewHelper.linesContentDomNode,Di.Change,r=>this.onChange(r))),this._register(ze(this.viewHelper.linesContentDomNode,Di.Contextmenu,r=>this._onContextMenu(new Hp(r,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Hp(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(HM.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class Z_t extends je{constructor(e,t,i){super(),(uv||dst&&jye)&&_Ce.pointerEvents?this.handler=this._register(new Y_t(e,t,i)):yi.TouchEvent?this.handler=this._register(new X_t(e,t,i)):this.handler=this._register(new tK(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class t1 extends jL{}const UR=class UR extends t1{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Pe(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(67);const t=e.get(68);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(96);const i=e.get(146);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onDecorationsChanged(e){return e.affectsLineNumber}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-i);return r===0?'<span class="relative-current-line-number">'+i+"</span>":String(r)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===i||i%10===0)return String(i);const r=this._context.viewModel.getLineCount();return i===r?String(i):""}return String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=ga?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=this._context.viewModel.getDecorationsInViewport(e.visibleRange).filter(c=>!!c.options.lineNumberClassName);s.sort((c,u)=>_e.compareRangesUsingEnds(c.range,u.range));let o=0;const a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=r;c++){const u=c-i;let d=this._getLineRenderLineNumber(c),h="";for(;o<s.length&&s[o].range.endLineNumber<c;)o++;for(let f=o;f<s.length;f++){const{range:p,options:m}=s[f];p.startLineNumber<=c&&(h+=" "+m.lineNumberClassName)}if(!d&&!h){l[u]="";continue}c===a&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(d=""),this._renderFinalNewline==="dimmed"&&(h+=" dimmed-line-number")),c===this._activeLineNumber&&(h+=" active-line-number"),l[u]=`<div class="${UR.CLASS_NAME}${t}${h}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${d}</div>`}this._renderResult=l}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};UR.CLASS_NAME="line-numbers";let zM=UR;Qf((n,e)=>{const t=n.getColor(Tbt),i=n.getColor($bt);i?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):t&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${t.transparent(.4)}; }`)});const Yy=class Yy extends Wa{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Wn(document.createElement("div")),this._domNode.setClassName(Yy.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Wn(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Yy.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}};Yy.CLASS_NAME="glyph-margin",Yy.OUTER_CLASS_NAME="margin";let WM=Yy;const EC="monaco-mouse-cursor-text";var J_t=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vhe=function(n,e){return function(t,i){e(t,i,n)}};class ewt{constructor(e,t,i,r,s){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=r,this.distanceToModelLineEnd=s,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new Pe(this.modelLineNumber,this.distanceToModelLineStart+1),i=new Pe(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const M6=Oc;let r$=class extends Wa{constructor(e,t,i,r,s){super(e),this._keybindingService=r,this._instantiationService=s,this._primaryCursorPosition=new Pe(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,a=o.get(146);this._setAccessibilityOptions(o),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._contentHeight=a.height,this._fontInfo=o.get(50),this._lineHeight=o.get(67),this._emptySelectionClipboard=o.get(37),this._copyWithSyntaxHighlighting=o.get(25),this._visibleTextArea=null,this._selections=[new wi(1,1,1,1)],this._modelSelections=[new wi(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Wn(document.createElement("textarea")),Pu.write(this.textArea,7),this.textArea.setClassName(`inputarea ${EC}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:l}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${l*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("aria-required",o.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(o.get(125))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",P("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",o.get(92)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=Wn(document.createElement("div")),this.textAreaCover.setPosition("absolute");const c={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:h=>this._context.viewModel.getLineMaxColumn(h),getValueInRange:(h,f)=>this._context.viewModel.getValueInRange(h,f),getValueLengthInRange:(h,f)=>this._context.viewModel.getValueLengthInRange(h,f),modifyPosition:(h,f)=>this._context.viewModel.modifyPosition(h,f)},u={getDataToCopy:()=>{const h=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Ba),f=this._context.viewModel.model.getEOL(),p=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),m=Array.isArray(h)?h:null,v=Array.isArray(h)?h.join(f):h;let C,y=null;if(this._copyWithSyntaxHighlighting&&v.length<65536){const w=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);w&&(C=w.html,y=w.mode)}return{isFromEmptySelection:p,multicursorText:m,text:v,html:C,mode:y}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const h=this._selections[0];if(An&&h.isEmpty()){const p=h.getStartPosition();let m=this._getWordBeforePosition(p);if(m.length===0&&(m=this._getCharacterBeforePosition(p)),m.length>0)return new Co(m,m.length,m.length,_e.fromPositions(p),0)}if(An&&!h.isEmpty()&&c.getValueLengthInRange(h,0)<500){const p=c.getValueInRange(h,0);return new Co(p,0,p.length,h,0)}if(Pf&&!h.isEmpty()){const p="vscode-placeholder";return new Co(p,0,p.length,null,void 0)}return Co.EMPTY}if(Dle){const h=this._selections[0];if(h.isEmpty()){const f=h.getStartPosition(),[p,m]=this._getAndroidWordAtPosition(f);if(p.length>0)return new Co(p,m,m,_e.fromPositions(f),0)}return Co.EMPTY}return Py.fromEditorSelection(c,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(h,f,p)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(h,f,p)},d=this._register(new Q_t(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(i$,u,d,Sc,{isAndroid:Dle,isChrome:SL,isFirefox:Oc,isSafari:Pf})),this._register(this._textAreaInput.onKeyDown(h=>{this._viewController.emitKeyDown(h)})),this._register(this._textAreaInput.onKeyUp(h=>{this._viewController.emitKeyUp(h)})),this._register(this._textAreaInput.onPaste(h=>{let f=!1,p=null,m=null;h.metadata&&(f=this._emptySelectionClipboard&&!!h.metadata.isFromEmptySelection,p=typeof h.metadata.multicursorText<"u"?h.metadata.multicursorText:null,m=h.metadata.mode),this._viewController.paste(h.text,f,p,m)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(h=>{h.replacePrevCharCnt||h.replaceNextCharCnt||h.positionDelta?this._viewController.compositionType(h.text,h.replacePrevCharCnt,h.replaceNextCharCnt,h.positionDelta):this._viewController.type(h.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(h=>{this._viewController.setSelection(h)})),this._register(this._textAreaInput.onCompositionStart(h=>{const f=this.textArea.domNode,p=this._modelSelections[0],{distanceToModelLineStart:m,widthOfHiddenTextBefore:v}=(()=>{const y=f.value.substring(0,Math.min(f.selectionStart,f.selectionEnd)),w=y.lastIndexOf(`
`),_=y.substring(w+1),x=_.lastIndexOf("	"),k=_.length-x-1,D=p.getStartPosition(),T=Math.min(D.column-1,k),L=D.column-1-T,I=_.substring(0,_.length-T),{tabSize:R}=this._context.viewModel.model.getOptions(),N=twt(this.textArea.domNode.ownerDocument,I,this._fontInfo,R);return{distanceToModelLineStart:L,widthOfHiddenTextBefore:N}})(),{distanceToModelLineEnd:C}=(()=>{const y=f.value.substring(Math.max(f.selectionStart,f.selectionEnd)),w=y.indexOf(`
`),_=w===-1?y:y.substring(0,w),x=_.indexOf("	"),k=x===-1?_.length:_.length-x-1,D=p.getEndPosition(),T=Math.min(this._context.viewModel.model.getLineMaxColumn(D.lineNumber)-D.column,k);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(D.lineNumber)-D.column-T}})();this._context.viewModel.revealRange("keyboard",!0,_e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new ewt(this._context,p.startLineNumber,m,v,C),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${EC} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(h=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${EC}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(zS.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),r=JC(t,[]);let s=!0,o=e.column,a=!0,l=e.column,c=0;for(;c<50&&(s||a);){if(s&&o<=1&&(s=!1),s){const u=i.charCodeAt(o-2);r.get(u)!==0?s=!1:o--}if(a&&l>i.length&&(a=!1),a){const u=i.charCodeAt(l-1);r.get(u)!==0?a=!1:l++}c++}return[i.substring(o-1,l-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=JC(this._context.configuration.options.get(132),[]);let r=e.column,s=0;for(;r>1;){const o=t.charCodeAt(r-2);if(i.get(o)!==0||s>50)return t.substring(r-1,e.column-1);s++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!hs(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){var i,r,s;if(e.get(2)===1){const o=(i=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))==null?void 0:i.getAriaLabel(),a=(r=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))==null?void 0:r.getAriaLabel(),l=(s=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))==null?void 0:s.getAriaLabel(),c=P("accessibilityModeOff","The editor is not accessible at this time.");return o?P("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",c,o):a?P("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",c,a):l?P("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",c,l):c}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===Vv.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const r=e.get(146).wrappingColumn;if(r!==-1&&this._accessibilitySupport!==1){const s=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(r*s.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=M6?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(67),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:r}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${r*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(125))),(e.hasChanged(34)||e.hasChanged(92))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!zS.enabled||e.get(34)&&e.get(92)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new Pe(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)==null||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){if(this._visibleTextArea){const i=this._visibleTextArea.visibleTextareaStart,r=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,o=this._visibleTextArea.endPosition;if(s&&o&&i&&r&&r.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){const a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let c=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+i.left-this._scrollLeft,d=r.left-i.left+1;if(u<this._contentLeft){const C=this._contentLeft-u;u+=C,c+=C,d-=C}d>this._contentWidth&&(d=this._contentWidth);const h=this._context.viewModel.getViewLineData(s.lineNumber),f=h.tokens.findTokenIndexAtOffset(s.column-1),p=h.tokens.findTokenIndexAtOffset(o.column-1),m=f===p,v=this._visibleTextArea.definePresentation(m?h.tokens.getPresentation(f):null);this.textArea.domNode.scrollTop=l*this._lineHeight,this.textArea.domNode.scrollLeft=c,this._doRender({lastRenderPosition:null,top:a,left:u,width:d,height:this._lineHeight,useCover:!1,color:(Rr.getColorMap()||[])[v.foreground],italic:v.italic,bold:v.bold,underline:v.underline,strikethrough:v.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(An||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._textAreaInput.textAreaState.newlineCountBeforeSelection??this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:M6?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:M6?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;eo(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?tt.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const r=this._context.configuration.options;r.get(57)?i.setClassName("monaco-editor-background textAreaCover "+WM.OUTER_CLASS_NAME):r.get(68).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+zM.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};r$=J_t([vhe(3,Ks),vhe(4,ui)],r$);function twt(n,e,t,i){if(e.length===0)return 0;const r=n.createElement("div");r.style.position="absolute",r.style.top="-50000px",r.style.width="50000px";const s=n.createElement("span");eo(s,t),s.style.whiteSpace="pre",s.style.tabSize=`${i*t.spaceWidth}px`,s.append(e),r.appendChild(s),n.body.appendChild(r);const o=s.offsetWidth;return r.remove(),o}const nwt=()=>!0,iwt=()=>!1,rwt=n=>n===" "||n==="	";class oy{static shouldRecreate(e){return e.hasChanged(146)||e.hasChanged(132)||e.hasChanged(37)||e.hasChanged(77)||e.hasChanged(79)||e.hasChanged(80)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(129)||e.hasChanged(50)||e.hasChanged(92)||e.hasChanged(131)}constructor(e,t,i,r){this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,o=s.get(146),a=s.get(50);this.readOnly=s.get(92),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(117),this.lineHeight=a.lineHeight,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=s.get(129),this.wordSeparators=s.get(132),this.emptySelectionClipboard=s.get(37),this.copyWithSyntaxHighlighting=s.get(25),this.multiCursorMergeOverlapping=s.get(77),this.multiCursorPaste=s.get(79),this.multiCursorLimit=s.get(80),this.autoClosingBrackets=s.get(6),this.autoClosingComments=s.get(7),this.autoClosingQuotes=s.get(11),this.autoClosingDelete=s.get(9),this.autoClosingOvertype=s.get(10),this.autoSurround=s.get(14),this.autoIndent=s.get(12),this.wordSegmenterLocales=s.get(131),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const l=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(l)for(const u of l)this.surroundingPairs[u.open]=u.close;const c=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=(c==null?void 0:c.blockCommentStartToken)??null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)==null?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const r=xb(t,i-1),s=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return s?s.onElectricCharacter(e,r,i-r.firstCharOffset):null}normalizeIndentation(e){return owe(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return rwt;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return nwt;case"never":return iwt}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return r=>i.indexOf(r)!==-1}visibleColumnFromColumn(e,t){return Kr.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const r=Kr.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),s=e.getLineMinColumn(t);if(r<s)return s;const o=e.getLineMaxColumn(t);return r>o?o:r}}class En{static fromModelState(e){return new swt(e)}static fromViewState(e){return new owt(e)}static fromModelSelection(e){const t=wi.liftSelection(e),i=new _s(_e.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return En.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class swt{constructor(e){this.modelState=e,this.viewState=null}}class owt{constructor(e){this.modelState=null,this.viewState=e}}class _s{constructor(e,t,i,r,s){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=r,this.leftoverVisibleColumns=s,this._singleCursorStateBrand=void 0,this.selection=_s._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,r){return e?new _s(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new Pe(t,i),r):new _s(new _e(t,i,t,i),0,r,new Pe(t,i),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?wi.fromPositions(e.getStartPosition(),t):wi.fromPositions(e.getEndPosition(),t)}}class ma{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function Vp(n){return n==="'"||n==='"'||n==="`"}class cb{static columnSelect(e,t,i,r,s,o){const a=Math.abs(s-i)+1,l=i>s,c=r>o,u=r<o,d=[];for(let h=0;h<a;h++){const f=i+(l?-h:h),p=e.columnFromVisibleColumn(t,f,r),m=e.columnFromVisibleColumn(t,f,o),v=e.visibleColumnFromColumn(t,new Pe(f,p)),C=e.visibleColumnFromColumn(t,new Pe(f,m));u&&(v>o||C<r)||c&&(C>r||v<o)||d.push(new _s(new _e(f,p,f,p),0,0,new Pe(f,m),0))}if(d.length===0)for(let h=0;h<a;h++){const f=i+(l?-h:h),p=t.getLineMaxColumn(f);d.push(new _s(new _e(f,p,f,p),0,0,new Pe(f,p),0))}return{viewStates:d,reversed:l,fromLineNumber:i,fromVisualColumn:r,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(e,t,i){let r=i.toViewVisualColumn;return r>0&&r--,cb.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectRight(e,t,i){let r=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=s;l<=o;l++){const c=t.getLineMaxColumn(l),u=e.visibleColumnFromColumn(t,new Pe(l,c));r=Math.max(r,u)}let a=i.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,r){const s=r?e.pageSize:1,o=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(e,t,i,r){const s=r?e.pageSize:1,o=Math.min(t.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}class Ra{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return wi.fromPositions(r.getEndPosition())}}class ET{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return wi.fromPositions(r.getStartPosition())}}class $M{constructor(e,t,i,r,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return wi.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class awt{constructor(e,t,i,r=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class R6{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class si{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-pCe(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Pe(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),s=e.getLineContent(t.lineNumber),o=Tk.atomicPosition(s,t.column-1,i,0);if(o!==-1&&o+1>=r)return new Pe(t.lineNumber,o+1)}return this.leftPosition(e,t)}static left(e,t,i){const r=e.stickyTabStops?si.leftPositionAtomicSoftTabs(t,i,e.tabSize):si.leftPosition(t,i);return new R6(r.lineNumber,r.column,0)}static moveLeft(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(s-1)),c=t.normalizePosition(si.clipPositionColumn(l,t),0),u=si.left(e,t,c);o=u.lineNumber,a=u.column}return i.move(r,o,a,0)}static clipPositionColumn(e,t){return new Pe(e.lineNumber,si.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+dq(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new Pe(t,i)}static rightPositionAtomicSoftTabs(e,t,i,r,s){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),a=Tk.atomicPosition(o,i-1,r,1);if(a!==-1)return new Pe(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const r=e.stickyTabStops?si.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):si.rightPosition(t,i.lineNumber,i.column);return new R6(r.lineNumber,r.column,0)}static moveRight(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,s-1),c=t.normalizePosition(si.clipPositionColumn(l,t),1),u=si.right(e,t,c);o=u.lineNumber,a=u.column}return i.move(r,o,a,0)}static vertical(e,t,i,r,s,o,a,l){const c=Kr.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+s,u=t.getLineCount(),d=i===1&&r===1,h=i===u&&r===t.getLineMaxColumn(i),f=o<i?d:h;if(i=o,i<1?(i=1,a?r=t.getLineMinColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):i>u?(i=u,a?r=t.getLineMaxColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=e.columnFromVisibleColumn(t,i,c),f?s=0:s=c-Kr.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),l!==void 0){const p=new Pe(i,r),m=t.normalizePosition(p,l);s=s+(r-m.column),i=m.lineNumber,r=m.column}return new R6(i,r,s)}static down(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i+o,a,4)}static moveDown(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.endLineNumber,a=i.selection.endColumn):(o=i.position.lineNumber,a=i.position.column);let l=0,c;do if(c=si.down(e,t,o+l,a,i.leftoverVisibleColumns,s,!0),t.normalizePosition(new Pe(c.lineNumber,c.column),2).lineNumber>o)break;while(l++<10&&o+l<t.getLineCount());return i.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(e,t,i){const r=i.selection,s=si.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=si.down(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new _s(new _e(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new Pe(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i-o,a,3)}static moveUp(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.startLineNumber,a=i.selection.startColumn):(o=i.position.lineNumber,a=i.position.column);const l=si.up(e,t,o,a,i.leftoverVisibleColumns,s,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const r=i.selection,s=si.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=si.up(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new _s(new _e(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new Pe(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,r){let s=i.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return i.move(r,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,i,r){const s=t.getLineCount();let o=i.position.lineNumber;for(;o<s&&this._isBlankLine(t,o);)o++;for(;o<s&&!this._isBlankLine(t,o);)o++;return i.move(r,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,i,r){const s=i.position.lineNumber,o=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||o;let l;return i.position.column===a?l=o:l=a,i.move(r,s,l,0)}static moveToEndOfLine(e,t,i,r,s){const o=i.position.lineNumber,a=t.getLineMaxColumn(o);return i.move(r,o,a,s?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,r){return i.move(r,1,1,0)}static moveToEndOfBuffer(e,t,i,r){const s=t.getLineCount(),o=t.getLineMaxColumn(s);return i.move(r,s,o,0)}}class _v{static deleteRight(e,t,i,r){const s=[];let o=e!==3;for(let a=0,l=r.length;a<l;a++){const c=r[a];let u=c;if(u.isEmpty()){const d=c.getPosition(),h=si.right(t,i,d);u=new _e(h.lineNumber,h.column,d.lineNumber,d.column)}if(u.isEmpty()){s[a]=null;continue}u.startLineNumber!==u.endLineNumber&&(o=!0),s[a]=new Ra(u,"")}return[o,s]}static isAutoClosingPairDelete(e,t,i,r,s,o,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=o.length;l<c;l++){const u=o[l],d=u.getPosition();if(!u.isEmpty())return!1;const h=s.getLineContent(d.lineNumber);if(d.column<2||d.column>=h.length+1)return!1;const f=h.charAt(d.column-2),p=r.get(f);if(!p)return!1;if(Vp(f)){if(i==="never")return!1}else if(t==="never")return!1;const m=h.charAt(d.column-1);let v=!1;for(const C of p)C.open===f&&C.close===m&&(v=!0);if(!v)return!1;if(e==="auto"){let C=!1;for(let y=0,w=a.length;y<w;y++){const _=a[y];if(d.lineNumber===_.startLineNumber&&d.column===_.startColumn){C=!0;break}}if(!C)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].getPosition(),l=new _e(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[s]=new Ra(l,"")}return[!0,r]}static deleteLeft(e,t,i,r,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,r,s))return this._runAutoClosingPairDelete(t,i,r);const o=[];let a=e!==2;for(let l=0,c=r.length;l<c;l++){const u=_v.getDeleteRange(r[l],i,t);if(u.isEmpty()){o[l]=null;continue}u.startLineNumber!==u.endLineNumber&&(a=!0),o[l]=new Ra(u,"")}return[a,o]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const r=e.getPosition();if(i.useTabStops&&r.column>1){const s=t.getLineContent(r.lineNumber),o=Oa(s),a=o===-1?s.length+1:o+1;if(r.column<=a){const l=i.visibleColumnFromColumn(t,r),c=Kr.prevIndentTabStop(l,i.indentSize),u=i.columnFromVisibleColumn(t,r.lineNumber,c);return new _e(r.lineNumber,u,r.lineNumber,r.column)}}return _e.fromPositions(_v.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=lat(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new Pe(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const r=[];let s=null;i.sort((o,a)=>Pe.compare(o.getStartPosition(),a.getEndPosition()));for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let u,d,h,f;c.lineNumber<t.getLineCount()?(u=c.lineNumber,d=1,h=c.lineNumber+1,f=1):c.lineNumber>1&&(s==null?void 0:s.endLineNumber)!==c.lineNumber?(u=c.lineNumber-1,d=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(u=c.lineNumber,d=1,h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));const p=new _e(u,d,h,f);s=p,p.isEmpty()?r[o]=null:r[o]=new Ra(p,"")}else r[o]=null;else r[o]=new Ra(l,"")}return new ma(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class Sr{static _createWord(e,t,i,r,s){return{start:r,end:s,wordType:t,nextCharClass:i}}static _createIntlWord(e,t){return{start:e.index,end:e.index+e.segment.length,wordType:1,nextCharClass:t}}static _findPreviousWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(r,e,i)}static _doFindPreviousWordOnLine(e,t,i){let r=0;const s=t.findPrevIntlWordBeforeOrAtOffset(e,i.column-2);for(let o=i.column-2;o>=0;o--){const a=e.charCodeAt(o),l=t.get(a);if(s&&o===s.index)return this._createIntlWord(s,l);if(l===0){if(r===2)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1));r=1}else if(l===2){if(r===1)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1));r=2}else if(l===1&&r!==0)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,i,r){const s=t.findNextIntlWordAtOrAfterOffset(e,r),o=e.length;for(let a=r;a<o;a++){const l=e.charCodeAt(a),c=t.get(l);if(s&&a===s.index+s.segment.length||c===1||i===1&&c===2||i===2&&c===0)return a}return o}static _findNextWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(r,e,i)}static _doFindNextWordOnLine(e,t,i){let r=0;const s=e.length,o=t.findNextIntlWordAtOrAfterOffset(e,i.column-1);for(let a=i.column-1;a<s;a++){const l=e.charCodeAt(a),c=t.get(l);if(o&&a===o.index)return this._createIntlWord(o,c);if(c===0){if(r===2)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a);r=1}else if(c===2){if(r===1)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a);r=2}else if(c===1&&r!==0)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,s-1),s):null}static _findStartOfWord(e,t,i,r){const s=t.findPrevIntlWordBeforeOrAtOffset(e,r);for(let o=r;o>=0;o--){const a=e.charCodeAt(o),l=t.get(a);if(s&&o===s.index)return o;if(l===1||i===1&&l===2||i===2&&l===0)return o+1}return 0}static moveWordLeft(e,t,i,r,s){let o=i.lineNumber,a=i.column;a===1&&o>1&&(o=o-1,a=t.getLineMaxColumn(o));let l=Sr._findPreviousWordOnLine(e,t,new Pe(o,a));if(r===0)return new Pe(o,l?l.start+1:1);if(r===1)return!s&&l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Sr._findPreviousWordOnLine(e,t,new Pe(o,l.start+1))),new Pe(o,l?l.start+1:1);if(r===3){for(;l&&l.wordType===2;)l=Sr._findPreviousWordOnLine(e,t,new Pe(o,l.start+1));return new Pe(o,l?l.start+1:1)}return l&&a<=l.end+1&&(l=Sr._findPreviousWordOnLine(e,t,new Pe(o,l.start+1))),new Pe(o,l?l.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===1)return i>1?new Pe(i-1,e.getLineMaxColumn(i-1)):t;const s=e.getLineContent(i);for(let o=t.column-1;o>1;o--){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a===95&&l!==95)return new Pe(i,o);if(a===45&&l!==45)return new Pe(i,o);if((Cy(a)||$D(a))&&Wg(l))return new Pe(i,o);if(Wg(a)&&Wg(l)&&o+1<r){const c=s.charCodeAt(o);if(Cy(c)||$D(c))return new Pe(i,o)}}return new Pe(i,1)}static moveWordRight(e,t,i,r){let s=i.lineNumber,o=i.column,a=!1;o===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(a=!0,s=s+1,o=1);let l=Sr._findNextWordOnLine(e,t,new Pe(s,o));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Sr._findNextWordOnLine(e,t,new Pe(s,l.end+1))),l?o=l.end+1:o=t.getLineMaxColumn(s);else if(r===3){for(a&&(o=0);l&&(l.wordType===2||l.start+1<=o);)l=Sr._findNextWordOnLine(e,t,new Pe(s,l.end+1));l?o=l.start+1:o=t.getLineMaxColumn(s)}else l&&!a&&o>=l.start+1&&(l=Sr._findNextWordOnLine(e,t,new Pe(s,l.end+1))),l?o=l.start+1:o=t.getLineMaxColumn(s);return new Pe(s,o)}static _moveWordPartRight(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===r)return i<e.getLineCount()?new Pe(i+1,1):t;const s=e.getLineContent(i);for(let o=t.column+1;o<r;o++){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a!==95&&l===95)return new Pe(i,o);if(a!==45&&l===45)return new Pe(i,o);if((Cy(a)||$D(a))&&Wg(l))return new Pe(i,o);if(Wg(a)&&Wg(l)&&o+1<r){const c=s.charCodeAt(o);if(Cy(c)||$D(c))return new Pe(i,o)}}return new Pe(i,r)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-2,s=Wv(i,r);return s+1<r?new _e(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(_v.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const d=e.selection.getPosition();return new _e(d.lineNumber,d.column-1,d.lineNumber,d.column+1)}const a=new Pe(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(o){const d=this._deleteWordLeftWhitespace(r,a);if(d)return d}let u=Sr._findPreviousWordOnLine(i,r,a);return t===0?u?c=u.start+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l)):(u&&c<=u.end+1&&(u=Sr._findPreviousWordOnLine(i,r,new Pe(l,u.start+1))),u?c=u.end+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l))),new _e(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const r=new Pe(i.positionLineNumber,i.positionColumn),s=this._deleteInsideWordWhitespace(t,r);return s||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=i.length;if(r===0)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,s))return null;let o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(i,o))return null;for(;s>0&&this._charAtIsWhitespace(i,s-1);)s--;for(;o+1<r&&this._charAtIsWhitespace(i,o+1);)o++;return new _e(t.lineNumber,s+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const r=t.getLineContent(i.lineNumber),s=r.length;if(s===0)return i.lineNumber>1?new _e(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new _e(i.lineNumber,1,i.lineNumber+1,1):new _e(i.lineNumber,1,i.lineNumber,1);const o=d=>d.start+1<=i.column&&i.column<=d.end+1,a=(d,h)=>(d=Math.min(d,i.column),h=Math.max(h,i.column),new _e(i.lineNumber,d,i.lineNumber,h)),l=d=>{let h=d.start+1,f=d.end+1,p=!1;for(;f-1<s&&this._charAtIsWhitespace(r,f-1);)p=!0,f++;if(!p)for(;h>1&&this._charAtIsWhitespace(r,h-2);)h--;return a(h,f)},c=Sr._findPreviousWordOnLine(e,t,i);if(c&&o(c))return l(c);const u=Sr._findNextWordOnLine(e,t,i);return u&&o(u)?l(u):c&&u?a(c.end+1,u.start+1):c?a(c.start+1,c.end+1):u?a(u.start+1,u.end+1):a(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Sr._moveWordPartLeft(e,i);return new _e(i.lineNumber,i.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let r=t;r<i;r++){const s=e.charAt(r);if(s!==" "&&s!=="	")return r}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-1,s=this._findFirstNonWhitespaceChar(i,r);return r+1<s?new _e(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new Pe(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,c=a.column;const u=r.getLineCount(),d=r.getLineMaxColumn(l);if(l===u&&c===d)return null;if(o){const f=this._deleteWordRightWhitespace(r,a);if(f)return f}let h=Sr._findNextWordOnLine(i,r,a);return t===2?h?c=h.end+1:c<d||l===u?c=d:(l++,h=Sr._findNextWordOnLine(i,r,new Pe(l,1)),h?c=h.start+1:c=r.getLineMaxColumn(l)):(h&&c>=h.start+1&&(h=Sr._findNextWordOnLine(i,r,new Pe(l,h.end+1))),h?c=h.start+1:c<d||l===u?c=d:(l++,h=Sr._findNextWordOnLine(i,r,new Pe(l,1)),h?c=h.start+1:c=r.getLineMaxColumn(l))),new _e(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Sr._moveWordPartRight(e,i);return new _e(i.lineNumber,i.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,i){const r=new _e(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,i,r){const s=JC(t,i),o=Sr._findPreviousWordOnLine(s,e,r);if(o&&o.wordType===1&&o.start<=r.column-1&&r.column-1<=o.end)return Sr._createWordAtPosition(e,r.lineNumber,o);const a=Sr._findNextWordOnLine(s,e,r);return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?Sr._createWordAtPosition(e,r.lineNumber,a):null}static word(e,t,i,r,s){const o=JC(e.wordSeparators,e.wordSegmenterLocales),a=Sr._findPreviousWordOnLine(o,t,s),l=Sr._findNextWordOnLine(o,t,s);if(!r){let f,p;return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?(f=a.start+1,p=a.end+1):l&&l.wordType===1&&l.start<=s.column-1&&s.column-1<=l.end?(f=l.start+1,p=l.end+1):(a?f=a.end+1:f=1,l?p=l.start+1:p=t.getLineMaxColumn(s.lineNumber)),new _s(new _e(s.lineNumber,f,s.lineNumber,p),1,0,new Pe(s.lineNumber,p),0)}let c,u;a&&a.wordType===1&&a.start<s.column-1&&s.column-1<a.end?(c=a.start+1,u=a.end+1):l&&l.wordType===1&&l.start<s.column-1&&s.column-1<l.end?(c=l.start+1,u=l.end+1):(c=s.column,u=s.column);const d=s.lineNumber;let h;if(i.selectionStart.containsPosition(s))h=i.selectionStart.endColumn;else if(s.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=c;const f=new Pe(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.endColumn)}else{h=u;const f=new Pe(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.startColumn)}return i.move(!0,d,h,0)}}class fo{static addCursorDown(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new En(l.modelState,l.viewState),i?r[s++]=En.fromModelState(si.translateDown(e.cursorConfig,e.model,l.modelState)):r[s++]=En.fromViewState(si.translateDown(e.cursorConfig,e,l.viewState))}return r}static addCursorUp(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new En(l.modelState,l.viewState),i?r[s++]=En.fromModelState(si.translateUp(e.cursorConfig,e.model,l.modelState)):r[s++]=En.fromViewState(si.translateUp(e.cursorConfig,e,l.viewState))}return r}static moveToBeginningOfLine(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=this._moveToLineStart(e,a,i)}return r}static _moveToLineStart(e,t,i){const r=t.viewState.position.column,s=t.modelState.position.column,o=r===s,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!o&&!(r===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return En.fromViewState(si.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return En.fromModelState(si.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=this._moveToLineEnd(e,l,i,r)}return s}static _moveToLineEnd(e,t,i,r){const s=t.viewState.position,o=e.getLineMaxColumn(s.lineNumber),a=s.column===o,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),u=o-s.column===c-l.column;return a||u?this._moveToLineEndByModel(e,t,i,r):this._moveToLineEndByView(e,t,i,r)}static _moveToLineEndByView(e,t,i,r){return En.fromViewState(si.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,r))}static _moveToLineEndByModel(e,t,i,r){return En.fromModelState(si.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,r))}static expandLineSelection(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r],a=o.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=o.modelState.selection.endLineNumber,u;c===l?u=e.model.getLineMaxColumn(l):(c++,u=1),i[r]=En.fromModelState(new _s(new _e(a,1,a,1),0,0,new Pe(c,u),0))}return i}static moveToBeginningOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=En.fromModelState(si.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static moveToEndOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=En.fromModelState(si.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static selectAll(e,t){const i=e.model.getLineCount(),r=e.model.getLineMaxColumn(i);return En.fromModelState(new _s(new _e(1,1,1,1),0,0,new Pe(i,r),0))}static line(e,t,i,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Pe(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!i){const c=e.model.getLineCount();let u=o.lineNumber+1,d=1;return u>c&&(u=c,d=e.model.getLineMaxColumn(u)),En.fromModelState(new _s(new _e(o.lineNumber,1,u,d),2,0,new Pe(u,d),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<l)return En.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(o.lineNumber>l){const c=e.getLineCount();let u=a.lineNumber+1,d=1;return u>c&&(u=c,d=e.getLineMaxColumn(u)),En.fromViewState(t.viewState.move(!0,u,d,0))}else{const c=t.modelState.selectionStart.getEndPosition();return En.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(e,t,i,r){const s=e.model.validatePosition(r);return En.fromModelState(Sr.word(e.cursorConfig,e.model,t.modelState,i,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new En(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,r=t.viewState.position.column;return En.fromViewState(new _s(new _e(i,r,i,r),0,0,new Pe(i,r),0))}static moveTo(e,t,i,r,s){if(i){if(t.modelState.selectionStartKind===1)return this.word(e,t,i,r);if(t.modelState.selectionStartKind===2)return this.line(e,t,i,r,s)}const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Pe(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return En.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,r,s,o){switch(i){case 0:return o===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,s);case 1:return o===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,s);case 2:return o===2?this._moveUpByViewLines(e,t,r,s):this._moveUpByModelLines(e,t,r,s);case 3:return o===2?this._moveDownByViewLines(e,t,r,s):this._moveDownByModelLines(e,t,r,s);case 4:return o===2?t.map(a=>En.fromViewState(si.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>En.fromModelState(si.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return o===2?t.map(a=>En.fromViewState(si.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>En.fromModelState(si.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,i,r,s){const o=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 14:{const l=[];for(let c=0,u=t.length;c<u;c++){const d=t[c];l[c]=this.findPositionInViewportIfOutside(e,d,o,r)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,r){const s=t.viewState.position.lineNumber;if(i.startLineNumber<=s&&s<=i.endLineNumber-1)return new En(t.modelState,t.viewState);{let o;s>i.endLineNumber-1?o=i.endLineNumber-1:s<i.startLineNumber?o=i.startLineNumber:o=s;const a=si.vertical(e.cursorConfig,e,s,t.viewState.position.column,t.viewState.leftoverVisibleColumns,o,!1);return En.fromViewState(t.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+i-1)}static _lastLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-i+1)}static _moveLeft(e,t,i,r){return t.map(s=>En.fromViewState(si.moveLeft(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineLeft(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[s]=En.fromViewState(si.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveRight(e,t,i,r){return t.map(s=>En.fromViewState(si.moveRight(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineRight(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[s]=En.fromViewState(si.moveRight(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveDownByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=En.fromViewState(si.moveDown(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveDownByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=En.fromModelState(si.moveDown(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveUpByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=En.fromViewState(si.moveUp(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveUpByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=En.fromModelState(si.moveUp(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveToViewPosition(e,t,i,r,s){return En.fromViewState(t.viewState.move(i,r,s,0))}static _moveToModelPosition(e,t,i,r,s){return En.fromModelState(t.modelState.move(i,r,s,0))}static _moveToViewMinColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewCenterColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewMaxColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}}var jM;(function(n){const e=function(i){if(!ca(i))return!1;const r=i;return!(!sl(r.to)||!Ol(r.select)&&!Fye(r.select)||!Ol(r.by)&&!sl(r.by)||!Ol(r.value)&&!Q0(r.value))};n.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let r;switch(i.to){case n.RawDirection.Left:r=0;break;case n.RawDirection.Right:r=1;break;case n.RawDirection.Up:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.PrevBlankLine:r=4;break;case n.RawDirection.NextBlankLine:r=5;break;case n.RawDirection.WrappedLineStart:r=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case n.RawDirection.WrappedLineColumnCenter:r=8;break;case n.RawDirection.WrappedLineEnd:r=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case n.RawDirection.ViewPortTop:r=11;break;case n.RawDirection.ViewPortBottom:r=13;break;case n.RawDirection.ViewPortCenter:r=12;break;case n.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let s=0;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Character:s=3;break;case n.RawUnit.HalfLine:s=4;break}return{direction:r,unit:s,select:!!i.select,value:i.value||1}}n.parse=t})(jM||(jM={}));class lwt{constructor(e,t,i){this._indentRulesSupport=t,this._indentationLineProcessor=new vSe(e,i)}shouldIncrease(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIncrease(i)}shouldDecrease(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldDecrease(i)}shouldIgnore(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIgnore(i)}shouldIndentNextLine(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIndentNextLine(i)}}class nK{constructor(e,t){this.model=e,this.indentationLineProcessor=new vSe(e,t)}getProcessedTokenContextAroundRange(e){const t=this._getProcessedTokensBeforeRange(e),i=this._getProcessedTokensAfterRange(e),r=this._getProcessedPreviousLineTokens(e);return{beforeRangeProcessedTokens:t,afterRangeProcessedTokens:i,previousLineProcessedTokens:r}}_getProcessedTokensBeforeRange(e){this.model.tokenization.forceTokenization(e.startLineNumber);const t=this.model.tokenization.getLineTokens(e.startLineNumber),i=xb(t,e.startColumn-1);let r;if(iK(this.model,e.getStartPosition())){const o=e.startColumn-1-i.firstCharOffset,a=i.firstCharOffset,l=a+o;r=t.sliceAndInflate(a,l,0)}else{const o=e.startColumn-1;r=t.sliceAndInflate(0,o,0)}return this.indentationLineProcessor.getProcessedTokens(r)}_getProcessedTokensAfterRange(e){const t=e.isEmpty()?e.getStartPosition():e.getEndPosition();this.model.tokenization.forceTokenization(t.lineNumber);const i=this.model.tokenization.getLineTokens(t.lineNumber),r=xb(i,t.column-1),s=t.column-1-r.firstCharOffset,o=r.firstCharOffset+s,a=r.firstCharOffset+r.getLineLength(),l=i.sliceAndInflate(o,a,0);return this.indentationLineProcessor.getProcessedTokens(l)}_getProcessedPreviousLineTokens(e){const t=f=>{this.model.tokenization.forceTokenization(f);const p=this.model.tokenization.getLineTokens(f),m=this.model.getLineMaxColumn(f)-1;return xb(p,m)};this.model.tokenization.forceTokenization(e.startLineNumber);const i=this.model.tokenization.getLineTokens(e.startLineNumber),r=xb(i,e.startColumn-1),s=Ds.createEmpty("",r.languageIdCodec),o=e.startLineNumber-1;if(o===0||!(r.firstCharOffset===0))return s;const c=t(o);if(!(r.languageId===c.languageId))return s;const d=c.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(d)}}class vSe{constructor(e,t){this.model=e,this.languageConfigurationService=t}getProcessedLine(e,t){var o,a;const i=(l,c)=>{const u=Oo(l);return c+l.substring(u.length)};(a=(o=this.model.tokenization).forceTokenization)==null||a.call(o,e);const r=this.model.tokenization.getLineTokens(e);let s=this.getProcessedTokens(r).getLineContent();return t!==void 0&&(s=i(s,t)),s}getProcessedTokens(e){const t=l=>l===2||l===3||l===1,i=e.getLanguageId(0),s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew.getBracketRegExp({global:!0}),o=[];return e.forEach(l=>{const c=e.getStandardTokenType(l);let u=e.getTokenText(l);t(c)&&(u=u.replace(s,""));const d=e.getMetadata(l);o.push({text:u,metadata:d})}),Ds.createFromTextAndMetadata(o,e.languageIdCodec)}}function iK(n,e){n.tokenization.forceTokenization(e.lineNumber);const t=n.tokenization.getLineTokens(e.lineNumber),i=xb(t,e.column-1),r=i.firstCharOffset===0,s=t.getLanguageId(0)===i.languageId;return!r&&!s}function rK(n,e,t,i){e.tokenization.forceTokenization(t.startLineNumber);const r=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),s=i.getLanguageConfiguration(r);if(!s)return null;const a=new nK(e,i).getProcessedTokenContextAroundRange(t),l=a.previousLineProcessedTokens.getLineContent(),c=a.beforeRangeProcessedTokens.getLineContent(),u=a.afterRangeProcessedTokens.getLineContent(),d=s.onEnter(n,l,c,u);if(!d)return null;const h=d.indentAction;let f=d.appendText;const p=d.removeText||0;f?h===zo.Indent&&(f="	"+f):h===zo.Indent||h===zo.IndentOutdent?f="	":f="";let m=h0e(e,t.startLineNumber,t.startColumn);return p&&(m=m.substring(0,m.length-p)),{indentAction:h,appendText:f,removeText:p,indentation:m}}var cwt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},uwt=function(n,e){return function(t,i){e(t,i,n)}},DT;const N6=Object.create(null);function Nm(n,e){if(e<=0)return"";N6[n]||(N6[n]=["",n]);const t=N6[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}let wv=DT=class{static unshiftIndent(e,t,i,r,s){const o=Kr.visibleColumnFromColumn(e,t,i);if(s){const a=Nm(" ",r),c=Kr.prevIndentTabStop(o,r)/r;return Nm(a,c)}else{const a="	",c=Kr.prevRenderTabStop(o,i)/i;return Nm(a,c)}}static shiftIndent(e,t,i,r,s){const o=Kr.visibleColumnFromColumn(e,t,i);if(s){const a=Nm(" ",r),c=Kr.nextIndentTabStop(o,r)/r;return Nm(a,c)}else{const a="	",c=Kr.nextRenderTabStop(o,i)/i;return Nm(a,c)}}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&i!==r&&(r=r-1);const{tabSize:s,indentSize:o,insertSpaces:a}=this._opts,l=i===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,u=0;for(let d=i;d<=r;d++,c=u){u=0;const h=e.getLineContent(d);let f=Oa(h);if(this._opts.isUnshift&&(h.length===0||f===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(f===-1&&(f=h.length),d>1&&Kr.visibleColumnFromColumn(h,f+1,s)%o!==0&&e.tokenization.isCheapToTokenize(d-1)){const v=rK(this._opts.autoIndent,e,new _e(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)),this._languageConfigurationService);if(v){if(u=c,v.appendText)for(let C=0,y=v.appendText.length;C<y&&u<o&&v.appendText.charCodeAt(C)===32;C++)u++;v.removeText&&(u=Math.max(0,u-v.removeText));for(let C=0;C<u&&!(f===0||h.charCodeAt(f-1)!==32);C++)f--}}if(this._opts.isUnshift&&f===0)continue;let p;this._opts.isUnshift?p=DT.unshiftIndent(h,f+1,s,o,a):p=DT.shiftIndent(h,f+1,s,o,a),this._addEditOperation(t,new _e(d,1,d,f+1),p),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?Nm(" ",o):"	";for(let u=i;u<=r;u++){const d=e.getLineContent(u);let h=Oa(d);if(!(this._opts.isUnshift&&(d.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&d.length===0)&&(h===-1&&(h=d.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,o);for(let f=0;f<h;f++)if(d.charCodeAt(f)===9){h=f+1;break}this._addEditOperation(t,new _e(u,1,u,h+1),"")}else this._addEditOperation(t,new _e(u,1,u,1),c),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new wi(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===0?new wi(i.startLineNumber,r,i.endLineNumber,i.endColumn):new wi(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i}};wv=DT=cwt([uwt(2,nh)],wv);class dwt{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new _e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new _e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),r=i[0].range,s=i[1].range;return new wi(r.endLineNumber,r.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}class hwt{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new _e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return new wi(r.endLineNumber,r.startColumn,r.endLineNumber,r.endColumn-this._charAfter.length)}}function fwt(n,e,t){const i=n.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let r,s=-1;for(r=e-1;r>=1;r--){if(n.tokenization.getLanguageIdAtPosition(r,0)!==i)return s;const o=n.getLineContent(r);if(t.shouldIgnore(r)||/^\s+$/.test(o)||o===""){s=r;continue}return r}}return-1}function UM(n,e,t,i=!0,r){if(n<4)return null;const s=r.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!s)return null;const o=new lwt(e,s,r);if(t<=1)return{indentation:"",action:null};for(let l=t-1;l>0&&e.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const a=fwt(e,t,o);if(a<0)return null;if(a<1)return{indentation:"",action:null};if(o.shouldIncrease(a)||o.shouldIndentNextLine(a)){const l=e.getLineContent(a);return{indentation:Oo(l),action:zo.Indent,line:a}}else if(o.shouldDecrease(a)){const l=e.getLineContent(a);return{indentation:Oo(l),action:null,line:a}}else{if(a===1)return{indentation:Oo(e.getLineContent(a)),action:null,line:a};const l=a-1,c=s.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let u=0;for(let d=l-1;d>0;d--)if(!o.shouldIndentNextLine(d)){u=d;break}return{indentation:Oo(e.getLineContent(u+1)),action:null,line:u+1}}if(i)return{indentation:Oo(e.getLineContent(a)),action:null,line:a};for(let u=a;u>0;u--){if(o.shouldIncrease(u))return{indentation:Oo(e.getLineContent(u)),action:zo.Indent,line:u};if(o.shouldIndentNextLine(u)){let d=0;for(let h=u-1;h>0;h--)if(!o.shouldIndentNextLine(u)){d=h;break}return{indentation:Oo(e.getLineContent(d+1)),action:null,line:d+1}}else if(o.shouldDecrease(u))return{indentation:Oo(e.getLineContent(u)),action:null,line:u}}return{indentation:Oo(e.getLineContent(1)),action:null,line:1}}}function gwt(n,e,t,i,r){if(n<4)return null;const s=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),o=r.getLanguageConfiguration(s).indentRulesSupport;if(!o)return null;e.tokenization.forceTokenization(t.startLineNumber);const l=new nK(e,r).getProcessedTokenContextAroundRange(t),c=l.afterRangeProcessedTokens,u=l.beforeRangeProcessedTokens,d=Oo(u.getLineContent()),h=mwt(e,t.startLineNumber,u),f=iK(e,t.getStartPosition()),p=e.getLineContent(t.startLineNumber),m=Oo(p),v=UM(n,h,t.startLineNumber+1,void 0,r);if(!v){const y=f?m:d;return{beforeEnter:y,afterEnter:y}}let C=f?m:v.indentation;return v.action===zo.Indent&&(C=i.shiftIndent(C)),o.shouldDecrease(c.getLineContent())&&(C=i.unshiftIndent(C)),{beforeEnter:f?m:d,afterEnter:C}}function pwt(n,e,t,i,r,s){const o=n.autoIndent;if(o<4||iK(e,t.getStartPosition()))return null;const l=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),c=s.getLanguageConfiguration(l).indentRulesSupport;if(!c)return null;const d=new nK(e,s).getProcessedTokenContextAroundRange(t),h=d.beforeRangeProcessedTokens.getLineContent(),f=d.afterRangeProcessedTokens.getLineContent(),p=h+f,m=h+i+f;if(!c.shouldDecrease(p)&&c.shouldDecrease(m)){const C=UM(o,e,t.startLineNumber,!1,s);if(!C)return null;let y=C.indentation;return C.action!==zo.Indent&&(y=r.unshiftIndent(y)),y}const v=t.startLineNumber-1;if(v>0){const C=e.getLineContent(v);if(c.shouldIndentNextLine(C)&&c.shouldIncrease(m)){const y=UM(o,e,t.startLineNumber,!1,s),w=y==null?void 0:y.indentation;if(w!==void 0){const _=e.getLineContent(t.startLineNumber),x=Oo(_),D=r.shiftIndent(w)===x,T=/^\s*$/.test(p),L=n.autoClosingPairs.autoClosingPairsOpenByEnd.get(i),R=L&&L.length>0&&T;if(D&&R)return w}}}return null}function mwt(n,e,t){return{tokenization:{getLineTokens:r=>r===e?t:n.tokenization.getLineTokens(r),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(r,s)=>n.getLanguageIdAtPosition(r,s)},getLineContent:r=>r===e?t.getLineContent():n.getLineContent(r)}}class bwt{static getEdits(e,t,i,r,s){if(!s&&this._isAutoIndentType(e,t,i)){const o=[];for(const l of i){const c=this._findActualIndentationForSelection(e,t,l,r);if(c===null)return;o.push({selection:l,indentation:c})}const a=s$.getAutoClosingPairClose(e,t,i,r,!1);return this._getIndentationAndAutoClosingPairEdits(e,t,o,r,a)}}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let r=0,s=i.length;r<s;r++)if(!t.tokenization.isCheapToTokenize(i[r].getEndPosition().lineNumber))return!1;return!0}static _findActualIndentationForSelection(e,t,i,r){const s=pwt(e,t,i,r,{shiftIndent:a=>aK(e,a),unshiftIndent:a=>qM(e,a)},e.languageConfigurationService);if(s===null)return null;const o=h0e(t,i.startLineNumber,i.startColumn);return s===e.normalizeIndentation(o)?null:s}static _getIndentationAndAutoClosingPairEdits(e,t,i,r,s){const o=i.map(({selection:l,indentation:c})=>{if(s!==null){const u=this._getEditFromIndentationAndSelection(e,t,c,l,r,!1);return new Dwt(u,l,r,s)}else{const u=this._getEditFromIndentationAndSelection(e,t,c,l,r,!0);return jm(u.range,u.text,!1)}}),a={shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1};return new ma(4,o,a)}static _getEditFromIndentationAndSelection(e,t,i,r,s,o=!0){const a=r.startLineNumber,l=t.getLineFirstNonWhitespaceColumn(a);let c=e.normalizeIndentation(i);if(l!==0){const d=t.getLineContent(a);c+=d.substring(l-1,r.startColumn-1)}return c+=o?s:"",{range:new _e(a,1,r.endLineNumber,r.endColumn),text:c}}}class vwt{static getEdits(e,t,i,r,s,o){if(CSe(t,i,r,s,o))return this._runAutoClosingOvertype(e,r,o)}static _runAutoClosingOvertype(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const l=t[s].getPosition(),c=new _e(l.lineNumber,l.column,l.lineNumber,l.column+1);r[s]=new Ra(c,i)}return new ma(4,r,{shouldPushStackElementBefore:xP(e,4),shouldPushStackElementAfter:!1})}}class ywt{static getEdits(e,t,i,r,s){if(CSe(e,t,i,r,s)){const o=i.map(a=>new Ra(new _e(a.positionLineNumber,a.positionColumn,a.positionLineNumber,a.positionColumn+1),"",!1));return new ma(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}}class s${static getEdits(e,t,i,r,s,o){if(!o){const a=this.getAutoClosingPairClose(e,t,i,r,s);if(a!==null)return this._runAutoClosingOpenCharType(i,r,s,a)}}static _runAutoClosingOpenCharType(e,t,i,r){const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];s[o]=new Ewt(l,t,!i,r)}return new ma(4,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static getAutoClosingPairClose(e,t,i,r,s){for(const p of i)if(!p.isEmpty())return null;const o=i.map(p=>{const m=p.getPosition();return s?{lineNumber:m.lineNumber,beforeColumn:m.column-r.length,afterColumn:m.column}:{lineNumber:m.lineNumber,beforeColumn:m.column,afterColumn:m.column}}),a=this._findAutoClosingPairOpen(e,t,o.map(p=>new Pe(p.lineNumber,p.beforeColumn)),r);if(!a)return null;let l,c;if(Vp(r)?(l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote):(e.blockCommentStartToken?a.open.includes(e.blockCommentStartToken):!1)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket),l==="never")return null;const d=this._findContainedAutoClosingPair(e,a),h=d?d.close:"";let f=!0;for(const p of o){const{lineNumber:m,beforeColumn:v,afterColumn:C}=p,y=t.getLineContent(m),w=y.substring(0,v-1),_=y.substring(C-1);if(_.startsWith(h)||(f=!1),_.length>0){const T=_.charAt(0);if(!this._isBeforeClosingBrace(e,_)&&!c(T))return null}if(a.open.length===1&&(r==="'"||r==='"')&&l!=="always"){const T=JC(e.wordSeparators,[]);if(w.length>0){const L=w.charCodeAt(w.length-1);if(T.get(L)===0)return null}}if(!t.tokenization.isCheapToTokenize(m))return null;t.tokenization.forceTokenization(m);const x=t.tokenization.getLineTokens(m),k=xb(x,v-1);if(!a.shouldAutoClose(k,v-k.firstCharOffset))return null;const D=a.findNeutralCharacter();if(D){const T=t.tokenization.getTokenTypeIfInsertingCharacter(m,v,D);if(!a.isOK(T))return null}}return f?a.close.substring(0,a.close.length-h.length):a.close}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let s=null;for(const o of r)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!s||o.open.length>s.open.length)&&(s=o);return s}static _findAutoClosingPairOpen(e,t,i,r){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!s)return null;let o=null;for(const a of s)if(o===null||a.open.length>o.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new _e(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+r!==a.open){l=!1;break}l&&(o=a)}return o}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],o=r.some(l=>t.startsWith(l.open)),a=s.some(l=>t.startsWith(l.close));return!o&&a}}class Cwt{static getEdits(e,t,i,r,s){if(!s&&this._isSurroundSelectionType(e,t,i,r))return this._runSurroundSelectionType(e,i,r)}static _runSurroundSelectionType(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=e.surroundingPairs[i];r[s]=new dwt(a,i,l)}return new ma(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isSurroundSelectionType(e,t,i,r){if(!_Se(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const s=Vp(r);for(const o of i){if(o.isEmpty())return!1;let a=!0;for(let l=o.startLineNumber;l<=o.endLineNumber;l++){const c=t.getLineContent(l),u=l===o.startLineNumber?o.startColumn-1:0,d=l===o.endLineNumber?o.endColumn-1:c.length,h=c.substring(u,d);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1;if(s&&o.startLineNumber===o.endLineNumber&&o.startColumn+1===o.endColumn){const l=t.getValueInRange(o);if(Vp(l))return!1}}return!0}}class _wt{static getEdits(e,t,i,r,s,o){if(!o&&this._isTypeInterceptorElectricChar(t,i,r)){const a=this._typeInterceptorElectricChar(e,t,i,r[0],s);if(a)return a}}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,s){if(!t.electricChars.hasOwnProperty(s)||!r.isEmpty())return null;const o=r.getPosition();i.tokenization.forceTokenization(o.lineNumber);const a=i.tokenization.getLineTokens(o.lineNumber);let l;try{l=t.onElectricCharacter(s,a,o.column)}catch(c){return _i(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+s).lastIndexOf(l.matchOpenBracket)+1,u=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:o.lineNumber,column:c},500);if(u){if(u.startLineNumber===o.lineNumber)return null;const d=i.getLineContent(u.startLineNumber),h=Oo(d),f=t.normalizeIndentation(h),p=i.getLineContent(o.lineNumber),m=i.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,v=p.substring(m-1,o.column-1),C=f+v+s,y=new _e(o.lineNumber,1,o.lineNumber,o.column),w=new Ra(y,C);return new ma(oK(C,e),[w],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}}class wwt{static getEdits(e,t,i){const r=[];for(let o=0,a=t.length;o<a;o++)r[o]=new Ra(t[o],i);const s=oK(i,e);return new ma(s,r,{shouldPushStackElementBefore:xP(e,s),shouldPushStackElementAfter:!1})}}class ySe{static getEdits(e,t,i,r,s){if(!s&&r===`
`){const o=[];for(let a=0,l=i.length;a<l;a++)o[a]=this._enter(e,t,!1,i[a]);return new ma(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}static _enter(e,t,i,r){if(e.autoIndent===0)return jm(r,`
`,i);if(!t.tokenization.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(r.startLineNumber),c=Oo(l).substring(0,r.startColumn-1);return jm(r,`
`+e.normalizeIndentation(c),i)}const s=rK(e.autoIndent,t,r,e.languageConfigurationService);if(s){if(s.indentAction===zo.None)return jm(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===zo.Indent)return jm(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===zo.IndentOutdent){const l=e.normalizeIndentation(s.indentation),c=e.normalizeIndentation(s.indentation+s.appendText),u=`
`+c+`
`+l;return i?new ET(r,u,!0):new $M(r,u,-1,c.length-l.length,!0)}else if(s.indentAction===zo.Outdent){const l=qM(e,s.indentation);return jm(r,`
`+e.normalizeIndentation(l+s.appendText),i)}}const o=t.getLineContent(r.startLineNumber),a=Oo(o).substring(0,r.startColumn-1);if(e.autoIndent>=4){const l=gwt(e.autoIndent,t,r,{unshiftIndent:c=>qM(e,c),shiftIndent:c=>aK(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,r.getEndPosition());const u=r.endColumn,d=t.getLineContent(r.endLineNumber),h=Oa(d);if(h>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,h+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),i)return new ET(r,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return u<=h+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new $M(r,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return jm(r,`
`+e.normalizeIndentation(a),i)}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){let a=i[s].positionLineNumber;if(a===1)r[s]=new ET(new _e(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new _e(a,l,a,l))}}return r}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].positionLineNumber,l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new _e(a,l,a,l))}return r}static lineBreakInsert(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=this._enter(e,t,!0,i[s]);return r}}class Swt{static getEdits(e,t,i,r,s,o){const a=this._distributePasteToCursors(e,i,r,s,o);return a?(i=i.sort(_e.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,r,s)}static _distributePasteToCursors(e,t,i,r,s){if(r||t.length===1)return null;if(s&&s.length===t.length)return s;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substring(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substring(0,i.length-1));const o=J0(i);if(o.length===t.length)return o}return null}static _distributedPaste(e,t,i,r){const s=[];for(let o=0,a=i.length;o<a;o++)s[o]=new Ra(i[o],r[o]);return new ma(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,r,s){const o=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.getPosition();if(s&&!c.isEmpty()&&(s=!1),s&&r.indexOf(`
`)!==r.length-1&&(s=!1),s){const d=new _e(u.lineNumber,1,u.lineNumber,1);o[a]=new awt(d,r,c,!0)}else o[a]=new Ra(c,r)}return new ma(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class xwt{static getEdits(e,t,i,r,s,o,a,l){const c=r.map(u=>this._compositionType(i,u,s,o,a,l));return new ma(4,c,{shouldPushStackElementBefore:xP(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,r,s,o){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-r),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+s),u=new _e(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(u)===i&&o===0?null:new $M(u,i,0,o)}}class kwt{static getEdits(e,t,i){const r=[];for(let o=0,a=t.length;o<a;o++)r[o]=new Ra(t[o],i);const s=oK(i,e);return new ma(s,r,{shouldPushStackElementBefore:xP(e,s),shouldPushStackElementAfter:!1})}}class Lwt{static getCommands(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const u=e.normalizeIndentation(c);if(!l.startsWith(u)){r[s]=new Ra(new _e(a.startLineNumber,1,a.startLineNumber,l.length+1),u,!0);continue}}r[s]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){r[s]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[s]=new wv(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return r}static _goodIndentForLine(e,t,i){let r=null,s="";const o=UM(e.autoIndent,t,i,!1,e.languageConfigurationService);if(o)r=o.action,s=o.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const u=t.getLineContent(a);if(Wv(u)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=rK(e.autoIndent,t,new _e(a,l,a,l),e.languageConfigurationService);c&&(s=c.indentation+c.appendText)}return r&&(r===zo.Indent&&(s=aK(e,s)),r===zo.Outdent&&(s=qM(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,i,r){let s="";const o=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,o),l=e.indentSize,c=l-a%l;for(let u=0;u<c;u++)s+=" "}else s="	";return new Ra(i,s,r)}}class sK extends $M{constructor(e,t,i,r,s,o){super(e,t,i,r),this._openCharacter=s,this._closeCharacter=o,this.closeCharacterRange=null,this.enclosingRange=null}_computeCursorStateWithRange(e,t,i){return this.closeCharacterRange=new _e(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new _e(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(e,i)}}class Ewt extends sK{constructor(e,t,i,r){const s=(i?t:"")+r,o=0,a=-r.length;super(e,s,o,a,t,r)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._computeCursorStateWithRange(e,r,t)}}class Dwt extends sK{constructor(e,t,i,r){const s=i+r,o=0,a=i.length;super(t,s,o,a,i,r),this._autoIndentationEdit=e,this._autoClosingEdit={range:t,text:s}}getEditOperations(e,t){t.addTrackedEditOperation(this._autoIndentationEdit.range,this._autoIndentationEdit.text),t.addTrackedEditOperation(this._autoClosingEdit.range,this._autoClosingEdit.text)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length!==2)throw new Error("There should be two inverse edit operations!");const r=i[0].range,s=i[1].range,o=r.plusRange(s);return this._computeCursorStateWithRange(e,o,t)}}function oK(n,e){return n===" "?e===5||e===6?6:5:4}function xP(n,e){return Che(n)&&!Che(e)?!0:n===5?!1:yhe(n)!==yhe(e)}function yhe(n){return n===6||n===5?"space":n}function Che(n){return n===4||n===5||n===6}function CSe(n,e,t,i,r){if(n.autoClosingOvertype==="never"||!n.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(!a.isEmpty())return!1;const l=a.getPosition(),c=e.getLineContent(l.lineNumber);if(c.charAt(l.column-1)!==r)return!1;const d=Vp(r);if((l.column>2?c.charCodeAt(l.column-2):0)===92&&d)return!1;if(n.autoClosingOvertype==="auto"){let f=!1;for(let p=0,m=i.length;p<m;p++){const v=i[p];if(l.lineNumber===v.startLineNumber&&l.column===v.startColumn){f=!0;break}}if(!f)return!1}}return!0}function jm(n,e,t){return t?new ET(n,e,!0):new Ra(n,e,!0)}function aK(n,e,t){return t=t||1,wv.shiftIndent(e,e.length+t,n.tabSize,n.indentSize,n.insertSpaces)}function qM(n,e,t){return t=t||1,wv.unshiftIndent(e,e.length+t,n.tabSize,n.indentSize,n.insertSpaces)}function _Se(n,e){return Vp(e)?n.autoSurround==="quotes"||n.autoSurround==="languageDefined":n.autoSurround==="brackets"||n.autoSurround==="languageDefined"}class ub{static indent(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new wv(i[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static outdent(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new wv(i[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static paste(e,t,i,r,s,o){return Swt.getEdits(e,t,i,r,s,o)}static tab(e,t,i){return Lwt.getCommands(e,t,i)}static compositionType(e,t,i,r,s,o,a,l){return xwt.getEdits(e,t,i,r,s,o,a,l)}static compositionEndWithInterceptors(e,t,i,r,s,o){if(!r)return null;let a=null;for(const h of r)if(a===null)a=h.insertedText;else if(a!==h.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const h of r)if(h.deletedText.length!==0){c=!0;break}if(c){if(!_Se(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const h=Vp(l);for(const m of r)if(m.deletedSelectionStart!==0||m.deletedSelectionEnd!==m.deletedText.length||/^[ \t]+$/.test(m.deletedText)||h&&Vp(m.deletedText))return null;const f=[];for(const m of s){if(!m.isEmpty())return null;f.push(m.getPosition())}if(f.length!==r.length)return null;const p=[];for(let m=0,v=f.length;m<v;m++)p.push(new hwt(f[m],r[m].deletedText,t.surroundingPairs[l]));return new ma(4,p,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const u=ywt.getEdits(t,i,s,o,l);if(u!==void 0)return u;const d=s$.getEdits(t,i,s,l,!0,!1);return d!==void 0?d:null}static typeWithInterceptors(e,t,i,r,s,o,a){const l=ySe.getEdits(i,r,s,a,e);if(l!==void 0)return l;const c=bwt.getEdits(i,r,s,a,e);if(c!==void 0)return c;const u=vwt.getEdits(t,i,r,s,o,a);if(u!==void 0)return u;const d=s$.getEdits(i,r,s,a,!1,e);if(d!==void 0)return d;const h=Cwt.getEdits(i,r,s,a,e);if(h!==void 0)return h;const f=_wt.getEdits(t,i,r,s,a,e);return f!==void 0?f:wwt.getEdits(t,s,a)}static typeWithoutInterceptors(e,t,i,r,s){return kwt.getEdits(e,r,s)}}class Twt{constructor(e,t,i,r,s,o){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=r,this.insertedSelectionStart=s,this.insertedSelectionEnd=o}}var St;(function(n){n.editorSimpleInput=new Nt("editorSimpleInput",!1,!0),n.editorTextFocus=new Nt("editorTextFocus",!1,P("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new Nt("editorFocus",!1,P("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new Nt("textInputFocus",!1,P("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new Nt("editorReadonly",!1,P("editorReadonly","Whether the editor is read-only")),n.inDiffEditor=new Nt("inDiffEditor",!1,P("inDiffEditor","Whether the context is a diff editor")),n.isEmbeddedDiffEditor=new Nt("isEmbeddedDiffEditor",!1,P("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),n.inMultiDiffEditor=new Nt("inMultiDiffEditor",!1,P("inMultiDiffEditor","Whether the context is a multi diff editor")),n.multiDiffEditorAllCollapsed=new Nt("multiDiffEditorAllCollapsed",void 0,P("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),n.hasChanges=new Nt("diffEditorHasChanges",!1,P("diffEditorHasChanges","Whether the diff editor has changes")),n.comparingMovedCode=new Nt("comparingMovedCode",!1,P("comparingMovedCode","Whether a moved code block is selected for comparison")),n.accessibleDiffViewerVisible=new Nt("accessibleDiffViewerVisible",!1,P("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),n.diffEditorRenderSideBySideInlineBreakpointReached=new Nt("diffEditorRenderSideBySideInlineBreakpointReached",!1,P("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),n.diffEditorInlineMode=new Nt("diffEditorInlineMode",!1,P("diffEditorInlineMode","Whether inline mode is active")),n.diffEditorOriginalWritable=new Nt("diffEditorOriginalWritable",!1,P("diffEditorOriginalWritable","Whether modified is writable in the diff editor")),n.diffEditorModifiedWritable=new Nt("diffEditorModifiedWritable",!1,P("diffEditorModifiedWritable","Whether modified is writable in the diff editor")),n.diffEditorOriginalUri=new Nt("diffEditorOriginalUri","",P("diffEditorOriginalUri","The uri of the original document")),n.diffEditorModifiedUri=new Nt("diffEditorModifiedUri","",P("diffEditorModifiedUri","The uri of the modified document")),n.columnSelection=new Nt("editorColumnSelection",!1,P("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new Nt("editorHasSelection",!1,P("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new Nt("editorHasMultipleSelections",!1,P("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new Nt("editorTabMovesFocus",!1,P("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInEmbeddedEditor=new Nt("isInEmbeddedEditor",!1,!0),n.canUndo=new Nt("canUndo",!1,!0),n.canRedo=new Nt("canRedo",!1,!0),n.hoverVisible=new Nt("editorHoverVisible",!1,P("editorHoverVisible","Whether the editor hover is visible")),n.hoverFocused=new Nt("editorHoverFocused",!1,P("editorHoverFocused","Whether the editor hover is focused")),n.stickyScrollFocused=new Nt("stickyScrollFocused",!1,P("stickyScrollFocused","Whether the sticky scroll is focused")),n.stickyScrollVisible=new Nt("stickyScrollVisible",!1,P("stickyScrollVisible","Whether the sticky scroll is visible")),n.standaloneColorPickerVisible=new Nt("standaloneColorPickerVisible",!1,P("standaloneColorPickerVisible","Whether the standalone color picker is visible")),n.standaloneColorPickerFocused=new Nt("standaloneColorPickerFocused",!1,P("standaloneColorPickerFocused","Whether the standalone color picker is focused")),n.inCompositeEditor=new Nt("inCompositeEditor",void 0,P("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new Nt("editorLangId","",P("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new Nt("editorHasCompletionItemProvider",!1,P("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new Nt("editorHasCodeActionsProvider",!1,P("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new Nt("editorHasCodeLensProvider",!1,P("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new Nt("editorHasDefinitionProvider",!1,P("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new Nt("editorHasDeclarationProvider",!1,P("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new Nt("editorHasImplementationProvider",!1,P("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new Nt("editorHasTypeDefinitionProvider",!1,P("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new Nt("editorHasHoverProvider",!1,P("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new Nt("editorHasDocumentHighlightProvider",!1,P("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new Nt("editorHasDocumentSymbolProvider",!1,P("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new Nt("editorHasReferenceProvider",!1,P("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new Nt("editorHasRenameProvider",!1,P("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new Nt("editorHasSignatureHelpProvider",!1,P("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new Nt("editorHasInlayHintsProvider",!1,P("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new Nt("editorHasDocumentFormattingProvider",!1,P("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new Nt("editorHasDocumentSelectionFormattingProvider",!1,P("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new Nt("editorHasMultipleDocumentFormattingProvider",!1,P("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new Nt("editorHasMultipleDocumentSelectionFormattingProvider",!1,P("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(St||(St={}));const Pn=0;class rr extends mv{runEditorCommand(e,t,i){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,i||{})}}var Fs;(function(n){const e=function(i){if(!ca(i))return!1;const r=i;return!(!sl(r.to)||!Ol(r.by)&&!sl(r.by)||!Ol(r.value)&&!Q0(r.value)||!Ol(r.revealCursor)&&!Fye(r.revealCursor))};n.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function t(i){let r;switch(i.to){case n.RawDirection.Up:r=1;break;case n.RawDirection.Right:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.Left:r=4;break;default:return null}let s;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Page:s=3;break;case n.RawUnit.HalfPage:s=4;break;case n.RawUnit.Editor:s=5;break;case n.RawUnit.Column:s=6;break;default:s=2}const o=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:r,unit:s,value:o,revealCursor:a,select:!!i.select}}n.parse=t})(Fs||(Fs={}));var Oy;(function(n){const e=function(t){if(!ca(t))return!1;const i=t;return!(!Q0(i.lineNumber)&&!sl(i.lineNumber)||!Ol(i.at)&&!sl(i.at))};n.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Oy||(Oy={}));class o${constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(ts).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const r=Eo();return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(r),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const r=t.get(ts).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,i)):!1})}_runEditorCommand(e,t,i){const r=this.runEditorCommand(e,t,i);return r||!0}}var ls;(function(n){class e extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){if(!w.position)return;y.model.pushStackElement(),y.setCursorStates(w.source,3,[fo.moveTo(y,y.getPrimaryCursorState(),this._inSelectionMode,w.position,w.viewPosition)])&&w.revealType!==2&&y.revealAllCursors(w.source,!0,!0)}}n.MoveTo=an(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=an(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends rr{runCoreEditorCommand(y,w){y.model.pushStackElement();const _=this._getColumnSelectResult(y,y.getPrimaryCursorState(),y.getCursorColumnSelectData(),w);_!==null&&(y.setCursorStates(w.source,3,_.viewStates.map(x=>En.fromViewState(x))),y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:_.fromLineNumber,fromViewVisualColumn:_.fromVisualColumn,toViewLineNumber:_.toLineNumber,toViewVisualColumn:_.toVisualColumn}),_.reversed?y.revealTopMostCursor(w.source):y.revealBottomMostCursor(w.source))}}n.ColumnSelect=an(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(C,y,w,_){if(typeof _.position>"u"||typeof _.viewPosition>"u"||typeof _.mouseColumn>"u")return null;const x=C.model.validatePosition(_.position),k=C.coordinatesConverter.validateViewPosition(new Pe(_.viewPosition.lineNumber,_.viewPosition.column),x),D=_.doColumnSelect?w.fromViewLineNumber:k.lineNumber,T=_.doColumnSelect?w.fromViewVisualColumn:_.mouseColumn-1;return cb.columnSelect(C.cursorConfig,C,D,T,k.lineNumber,_.mouseColumn-1)}}),n.CursorColumnSelectLeft=an(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(C,y,w,_){return cb.columnSelectLeft(C.cursorConfig,C,w)}}),n.CursorColumnSelectRight=an(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(C,y,w,_){return cb.columnSelectRight(C.cursorConfig,C,w)}});class i extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,w,_,x){return cb.columnSelectUp(y.cursorConfig,y,_,this._isPaged)}}n.CursorColumnSelectUp=an(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=an(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,w,_,x){return cb.columnSelectDown(y.cursorConfig,y,_,this._isPaged)}}n.CursorColumnSelectDown=an(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=an(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends rr{constructor(){super({id:"cursorMove",precondition:void 0,metadata:jM.metadata})}runCoreEditorCommand(y,w){const _=jM.parse(w);_&&this._runCursorMove(y,w.source,_)}_runCursorMove(y,w,_){y.model.pushStackElement(),y.setCursorStates(w,3,s._move(y,y.getCursorStates(),_)),y.revealAllCursors(w,!0)}static _move(y,w,_){const x=_.select,k=_.value;switch(_.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return fo.simpleMove(y,w,_.direction,x,k,_.unit);case 11:case 13:case 12:case 14:return fo.viewportMove(y,w,_.direction,x,k);default:return null}}}n.CursorMoveImpl=s,n.CursorMove=an(new s);class o extends rr{constructor(y){super(y),this._staticArgs=y.args}runCoreEditorCommand(y,w){let _=this._staticArgs;this._staticArgs.value===-1&&(_={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:w.pageSize||y.cursorConfig.pageSize}),y.model.pushStackElement(),y.setCursorStates(w.source,3,fo.simpleMove(y,y.getCursorStates(),_.direction,_.select,_.value,_.unit)),y.revealAllCursors(w.source,!0)}}n.CursorLeft=an(new o({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=an(new o({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1039}})),n.CursorRight=an(new o({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=an(new o({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1041}})),n.CursorUp=an(new o({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=an(new o({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=an(new o({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:11}})),n.CursorPageUpSelect=an(new o({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1035}})),n.CursorDown=an(new o({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=an(new o({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=an(new o({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:12}})),n.CursorPageDownSelect=an(new o({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1036}})),n.CreateCursor=an(new class extends rr{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(C,y){if(!y.position)return;let w;y.wholeLine?w=fo.line(C,C.getPrimaryCursorState(),!1,y.position,y.viewPosition):w=fo.moveTo(C,C.getPrimaryCursorState(),!1,y.position,y.viewPosition);const _=C.getCursorStates();if(_.length>1){const x=w.modelState?w.modelState.position:null,k=w.viewState?w.viewState.position:null;for(let D=0,T=_.length;D<T;D++){const L=_[D];if(!(x&&!L.modelState.selection.containsPosition(x))&&!(k&&!L.viewState.selection.containsPosition(k))){_.splice(D,1),C.model.pushStackElement(),C.setCursorStates(y.source,3,_);return}}}_.push(w),C.model.pushStackElement(),C.setCursorStates(y.source,3,_)}}),n.LastCursorMoveToSelect=an(new class extends rr{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(C,y){if(!y.position)return;const w=C.getLastAddedCursorIndex(),_=C.getCursorStates(),x=_.slice(0);x[w]=fo.moveTo(C,_[w],!0,y.position,y.viewPosition),C.model.pushStackElement(),C.setCursorStates(y.source,3,x)}});class a extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,fo.moveToBeginningOfLine(y,y.getCursorStates(),this._inSelectionMode)),y.revealAllCursors(w.source,!0)}}n.CursorHome=an(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=an(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,this._exec(y.getCursorStates())),y.revealAllCursors(w.source,!0)}_exec(y){const w=[];for(let _=0,x=y.length;_<x;_++){const k=y[_],D=k.modelState.position.lineNumber;w[_]=En.fromModelState(k.modelState.move(this._inSelectionMode,D,1,0))}return w}}n.CursorLineStart=an(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=an(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,fo.moveToEndOfLine(y,y.getCursorStates(),this._inSelectionMode,w.sticky||!1)),y.revealAllCursors(w.source,!0)}}n.CursorEnd=an(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Pn,kbExpr:St.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:P("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=an(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Pn,kbExpr:St.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:P("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,this._exec(y,y.getCursorStates())),y.revealAllCursors(w.source,!0)}_exec(y,w){const _=[];for(let x=0,k=w.length;x<k;x++){const D=w[x],T=D.modelState.position.lineNumber,L=y.model.getLineMaxColumn(T);_[x]=En.fromModelState(D.modelState.move(this._inSelectionMode,T,L,0))}return _}}n.CursorLineEnd=an(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=an(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,fo.moveToBeginningOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealAllCursors(w.source,!0)}}n.CursorTop=an(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=an(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){y.model.pushStackElement(),y.setCursorStates(w.source,3,fo.moveToEndOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealAllCursors(w.source,!0)}}n.CursorBottom=an(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=an(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends rr{constructor(){super({id:"editorScroll",precondition:void 0,metadata:Fs.metadata})}determineScrollMethod(y){const w=[6],_=[1,2,3,4,5,6],x=[4,2],k=[1,3];return w.includes(y.unit)&&x.includes(y.direction)?this._runHorizontalEditorScroll.bind(this):_.includes(y.unit)&&k.includes(y.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(y,w){const _=Fs.parse(w);if(!_)return;const x=this.determineScrollMethod(_);x&&x(y,w.source,_)}_runVerticalEditorScroll(y,w,_){const x=this._computeDesiredScrollTop(y,_);if(_.revealCursor){const k=y.getCompletelyVisibleViewRangeAtScrollTop(x);y.setCursorStates(w,3,[fo.findPositionInViewportIfOutside(y,y.getPrimaryCursorState(),k,_.select)])}y.viewLayout.setScrollPosition({scrollTop:x},0)}_computeDesiredScrollTop(y,w){if(w.unit===1){const k=y.viewLayout.getFutureViewport(),D=y.getCompletelyVisibleViewRangeAtScrollTop(k.top),T=y.coordinatesConverter.convertViewRangeToModelRange(D);let L;w.direction===1?L=Math.max(1,T.startLineNumber-w.value):L=Math.min(y.model.getLineCount(),T.startLineNumber+w.value);const I=y.coordinatesConverter.convertModelPositionToViewPosition(new Pe(L,1));return y.viewLayout.getVerticalOffsetForLineNumber(I.lineNumber)}if(w.unit===5){let k=0;return w.direction===3&&(k=y.model.getLineCount()-y.cursorConfig.pageSize),y.viewLayout.getVerticalOffsetForLineNumber(k)}let _;w.unit===3?_=y.cursorConfig.pageSize*w.value:w.unit===4?_=Math.round(y.cursorConfig.pageSize/2)*w.value:_=w.value;const x=(w.direction===1?-1:1)*_;return y.viewLayout.getCurrentScrollTop()+x*y.cursorConfig.lineHeight}_runHorizontalEditorScroll(y,w,_){const x=this._computeDesiredScrollLeft(y,_);y.viewLayout.setScrollPosition({scrollLeft:x},0)}_computeDesiredScrollLeft(y,w){const _=(w.direction===4?-1:1)*w.value;return y.viewLayout.getCurrentScrollLeft()+_*y.cursorConfig.typicalHalfwidthCharacterWidth}}n.EditorScrollImpl=f,n.EditorScroll=an(new f),n.ScrollLineUp=an(new class extends rr{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Up,by:Fs.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollPageUp=an(new class extends rr{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Up,by:Fs.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollEditorTop=an(new class extends rr{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Up,by:Fs.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollLineDown=an(new class extends rr{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Down,by:Fs.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollPageDown=an(new class extends rr{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Down,by:Fs.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollEditorBottom=an(new class extends rr{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Down,by:Fs.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollLeft=an(new class extends rr{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Left,by:Fs.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:y.source})}}),n.ScrollRight=an(new class extends rr{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus}})}runCoreEditorCommand(C,y){n.EditorScroll.runCoreEditorCommand(C,{to:Fs.RawDirection.Right,by:Fs.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:y.source})}});class p extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){w.position&&(y.model.pushStackElement(),y.setCursorStates(w.source,3,[fo.word(y,y.getPrimaryCursorState(),this._inSelectionMode,w.position)]),w.revealType!==2&&y.revealAllCursors(w.source,!0,!0))}}n.WordSelect=an(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=an(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=an(new class extends rr{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(C,y){if(!y.position)return;const w=C.getLastAddedCursorIndex(),_=C.getCursorStates(),x=_.slice(0),k=_[w];x[w]=fo.word(C,k,k.modelState.hasSelection(),y.position),C.model.pushStackElement(),C.setCursorStates(y.source,3,x)}});class m extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){w.position&&(y.model.pushStackElement(),y.setCursorStates(w.source,3,[fo.line(y,y.getPrimaryCursorState(),this._inSelectionMode,w.position,w.viewPosition)]),w.revealType!==2&&y.revealAllCursors(w.source,!1,!0))}}n.LineSelect=an(new m({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=an(new m({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class v extends rr{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,w){if(!w.position)return;const _=y.getLastAddedCursorIndex(),x=y.getCursorStates(),k=x.slice(0);k[_]=fo.line(y,x[_],this._inSelectionMode,w.position,w.viewPosition),y.model.pushStackElement(),y.setCursorStates(w.source,3,k)}}n.LastCursorLineSelect=an(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=an(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=an(new class extends rr{constructor(){super({id:"cancelSelection",precondition:St.hasNonEmptySelection,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(C,y){C.model.pushStackElement(),C.setCursorStates(y.source,3,[fo.cancelSelection(C,C.getPrimaryCursorState())]),C.revealAllCursors(y.source,!0)}}),n.RemoveSecondaryCursors=an(new class extends rr{constructor(){super({id:"removeSecondaryCursors",precondition:St.hasMultipleSelections,kbOpts:{weight:Pn+1,kbExpr:St.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(C,y){C.model.pushStackElement(),C.setCursorStates(y.source,3,[C.getPrimaryCursorState()]),C.revealAllCursors(y.source,!0),iM(P("removedCursor","Removed secondary cursors"))}}),n.RevealLine=an(new class extends rr{constructor(){super({id:"revealLine",precondition:void 0,metadata:Oy.metadata})}runCoreEditorCommand(C,y){const w=y,_=w.lineNumber||0;let x=typeof _=="number"?_+1:parseInt(_)+1;x<1&&(x=1);const k=C.model.getLineCount();x>k&&(x=k);const D=new _e(x,1,x,C.model.getLineMaxColumn(x));let T=0;if(w.at)switch(w.at){case Oy.RawAtArgument.Top:T=3;break;case Oy.RawAtArgument.Center:T=1;break;case Oy.RawAtArgument.Bottom:T=4;break}const L=C.coordinatesConverter.convertModelRangeToViewRange(D);C.revealRange(y.source,!1,L,T,0)}}),n.SelectAll=new class extends o${constructor(){super(tct)}runDOMCommand(C){Oc&&(C.focus(),C.select()),C.ownerDocument.execCommand("selectAll")}runEditorCommand(C,y,w){const _=y._getViewModel();_&&this.runCoreEditorCommand(_,w)}runCoreEditorCommand(C,y){C.model.pushStackElement(),C.setCursorStates("keyboard",3,[fo.selectAll(C,C.getPrimaryCursorState())])}},n.SetSelection=an(new class extends rr{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(C,y){y.selection&&(C.model.pushStackElement(),C.setCursorStates(y.source,3,[En.fromModelSelection(y.selection)]))}})})(ls||(ls={}));const Iwt=Kn.and(St.textInputFocus,St.columnSelection);function l_(n,e){LL.registerKeybindingRule({id:n,primary:e,when:Iwt,weight:Pn+1})}l_(ls.CursorColumnSelectLeft.id,1039);l_(ls.CursorColumnSelectRight.id,1041);l_(ls.CursorColumnSelectUp.id,1040);l_(ls.CursorColumnSelectPageUp.id,1035);l_(ls.CursorColumnSelectDown.id,1042);l_(ls.CursorColumnSelectPageDown.id,1036);function _he(n){return n.register(),n}var whe;(function(n){class e extends mv{runEditorCommand(i,r,s){const o=r._getViewModel();o&&this.runCoreEditingCommand(r,o,s||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=an(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:St.writable,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,ySe.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection)))}}),n.Outdent=an(new class extends e{constructor(){super({id:"outdent",precondition:St.writable,kbOpts:{weight:Pn,kbExpr:Kn.and(St.editorTextFocus,St.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,ub.outdent(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.Tab=an(new class extends e{constructor(){super({id:"tab",precondition:St.writable,kbOpts:{weight:Pn,kbExpr:Kn.and(St.editorTextFocus,St.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,ub.tab(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=an(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,r){const[s,o]=_v.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(2)}}),n.DeleteRight=an(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:Pn,kbExpr:St.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,r){const[s,o]=_v.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(3)}}),n.Undo=new class extends o${constructor(){super(JCe)}runDOMCommand(t){t.ownerDocument.execCommand("undo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(92)===!0))return i.getModel().undo()}},n.Redo=new class extends o${constructor(){super(e0e)}runDOMCommand(t){t.ownerDocument.execCommand("redo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(92)===!0))return i.getModel().redo()}}})(whe||(whe={}));class She extends WA{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(ts).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function n1(n,e){_he(new She("default:"+n,n)),_he(new She(n,n,e))}n1("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});n1("replacePreviousChar");n1("compositionType");n1("compositionStart");n1("compositionEnd");n1("paste");n1("cut");class Mwt{constructor(e,t,i,r){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=r}paste(e,t,i,r){this.commandDelegate.paste(e,t,i,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,r){this.commandDelegate.compositionType(e,t,i,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){ls.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Pe(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=ga&&t.get(108),r=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){ls.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){ls.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),ls.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),ls.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){ls.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){ls.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){ls.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){ls.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){ls.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){ls.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){ls.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){ls.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){ls.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class wSe{constructor(e){this._lineFactory=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new ti("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>r)return null;let s=0,o=0;for(let l=i;l<=r;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(o===0?(s=c,o=1):o++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(s,o)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const r=this.getStartLineNumber(),s=this.getEndLineNumber();let o=!1;for(let a=e;a<=i;a++)a>=r&&a<=s&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,r=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=i,null;if(e>s)return null;if(i+e>s)return this._lines.splice(e-this._rendLineNumberStart,s-e+1);const o=[];for(let d=0;d<i;d++)o[d]=this._lineFactory.createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(o).concat(c),u}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let u=l;u<=c;u++){const d=u-this._rendLineNumberStart;this._lines[d].onTokensChanged(),r=!0}}return r}}class SSe{constructor(e){this._lineFactory=e,this.domNode=this._createDomNode(),this._linesCollection=new wSe(this._lineFactory)}_createDomNode(){const e=Wn(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(146)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const s=t[i].getDomNode();s==null||s.remove()}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const s=t[i].getDomNode();s==null||s.remove()}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new a$(this.domNode.domNode,this._lineFactory,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},s=i.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}const Yh=class Yh{constructor(e,t,i){this._domNode=e,this._lineFactory=t,this._viewportData=i}render(e,t,i,r){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||i<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=i-t+1,s.lines=[];for(let o=t;o<=i;o++)s.lines[o-t]=this._lineFactory.createLine();return this._finishRendering(s,!0,r),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(i-s.rendLineNumberStart,s.linesLength-1),r,t),s.rendLineNumberStart>t){const o=t,a=Math.min(i,s.rendLineNumberStart-1);o<=a&&(this._insertLinesBefore(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart<t){const o=Math.min(s.linesLength,t-s.rendLineNumberStart);o>0&&(this._removeLinesBefore(s,o),s.linesLength-=o)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<i){const o=s.rendLineNumberStart+s.linesLength,a=i;o<=a&&(this._insertLinesAfter(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart+s.linesLength-1>i){const o=Math.max(0,i-s.rendLineNumberStart+1),l=s.linesLength-1-o+1;l>0&&(this._removeLinesAfter(s,l),s.linesLength-=l)}return this._finishRendering(s,!1,r),s}_renderUntouchedLines(e,t,i,r,s){const o=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=o+l;a[l].layoutLine(c,r[c-s],this._viewportData.lineHeight)}}_insertLinesBefore(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this._lineFactory.createLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const r=e.lines[i].getDomNode();r==null||r.remove()}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this._lineFactory.createLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let r=0;r<t;r++){const s=e.lines[i+r].getDomNode();s==null||s.remove()}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,r){Yh._ttPolicy&&(i=Yh._ttPolicy.createHTML(i));const s=this._domNode.lastChild;t||!s?this._domNode.innerHTML=i:s.insertAdjacentHTML("afterend",i);let o=this._domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];r[a]&&(l.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const r=document.createElement("div");Yh._ttPolicy&&(t=Yh._ttPolicy.createHTML(t)),r.innerHTML=t;for(let s=0;s<e.linesLength;s++){const o=e.lines[s];if(i[s]){const a=r.firstChild,l=o.getDomNode();l.parentNode.replaceChild(a,l),o.setDomNode(a)}}}_finishRendering(e,t,i){const r=Yh._sb,s=e.linesLength,o=e.lines,a=e.rendLineNumberStart,l=[];{r.reset();let c=!1;for(let u=0;u<s;u++){const d=o[u];l[u]=!1,!(d.getDomNode()||!d.renderLine(u+a,i[u],this._viewportData.lineHeight,this._viewportData,r))&&(l[u]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,r.build(),l)}{r.reset();let c=!1;const u=[];for(let d=0;d<s;d++){const h=o[d];u[d]=!1,!(l[d]||!h.renderLine(d+a,i[d],this._viewportData.lineHeight,this._viewportData,r))&&(u[d]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,r.build(),u)}}};Yh._ttPolicy=Qv("editorViewLayer",{createHTML:e=>e}),Yh._sb=new $A(1e5);let a$=Yh;class xSe extends Wa{constructor(e){super(e),this._dynamicOverlays=[],this._isFocused=!1,this._visibleLines=new SSe({createLine:()=>new Rwt(this._dynamicOverlays)}),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);eo(this.domNode,i),this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const i=this._context.configuration.options.get(50);return eo(this.domNode,i),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,r=t.length;i<r;i++){const s=t[i];s.prepareRender(e),s.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Rwt{constructor(e){this._dynamicOverlays=e,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Wn(e)}onContentChanged(){}onTokensChanged(){}renderLine(e,t,i,r,s){let o="";for(let a=0,l=this._dynamicOverlays.length;a<l;a++){const c=this._dynamicOverlays[a];o+=c.render(r.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,s.appendString('<div style="top:'),s.appendString(String(t)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;">'),s.appendString(o),s.appendString("</div>"),!0)}layoutLine(e,t,i){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(i))}}class Nwt extends xSe{constructor(e){super(e);const i=this._context.configuration.options.get(146);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Awt extends xSe{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),eo(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;eo(this.domNode,t.get(50));const i=t.get(146);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class kP{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)==null||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)==null||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)==null||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)==null||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)==null||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return kP.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i={...e};return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),(i.type===5||i.type===8)&&(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new Pe(e.afterLineNumber,1)).lineNumber}}}class Pwt extends Wa{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=Wn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(146),r=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==r&&(this.contentWidth=r,e=!0);const s=i.contentLeft;return this.contentLeft!==s&&(this.contentLeft=s,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let t=0;const i=e.getDecorationsInViewport();for(const r of i){if(!r.options.blockClassName)continue;let s=this.blocks[t];s||(s=this.blocks[t]=Wn(document.createElement("div")),this.domNode.appendChild(s));let o,a;r.options.blockIsAfterEnd?(o=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!1),a=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0)):(o=e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!0),a=r.range.isEmpty()&&!r.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0));const[l,c,u,d]=r.options.blockPadding??[0,0,0,0];s.setClassName("blockDecorations-block "+r.options.blockClassName),s.setLeft(this.contentLeft-d),s.setWidth(this.contentWidth+d+c),s.setTop(o-e.scrollTop-l),s.setHeight(a-o+l+u),t++}for(let r=t;r<this.blocks.length;r++)this.blocks[r].domNode.remove();this.blocks.length=t}}class Owt extends Wa{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Wn(document.createElement("div")),Pu.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Wn(document.createElement("div")),Pu.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new Fwt(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,r,s){this._widgets[e.getId()].setPosition(t,i,r,s),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const r=i.domNode.domNode;r.remove(),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class Fwt{constructor(e,t,i){this._primaryAnchor=new Qw(null,null),this._secondaryAnchor=new Qw(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Wn(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,s=r.get(146);this._fixedOverflowWidgets=r.get(42),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=r.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(67),e.hasChanged(146)){const i=t.get(146);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){this._affinity=e,this._primaryAnchor=r(t,this._context.viewModel,this._affinity),this._secondaryAnchor=r(i,this._context.viewModel,this._affinity);function r(s,o,a){if(!s)return new Qw(null,null);const l=o.model.validatePosition(s);if(o.coordinatesConverter.modelPositionIsVisible(l)){const c=o.coordinatesConverter.convertModelPositionToViewPosition(l,a??void 0);return new Qw(s,c)}return new Qw(s,null)}}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(t==null?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,r){this._setPosition(r,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,r){const s=e.top,o=s,a=e.top+e.height,l=r.viewportHeight-a,c=s-i,u=o>=i,d=a,h=l>=i;let f=e.left;return f+t>r.scrollLeft+r.viewportWidth&&(f=r.scrollLeft+r.viewportWidth-t),f<r.scrollLeft&&(f=r.scrollLeft),{fitsAbove:u,aboveTop:c,fitsBelow:h,belowTop:d,left:f}}_layoutHorizontalSegmentInPage(e,t,i,r){const a=Math.max(15,t.left-r),l=Math.min(t.left+t.width+r,e.width-15),u=this._viewDomNode.domNode.ownerDocument.defaultView;let d=t.left+i-((u==null?void 0:u.scrollX)??0);if(d+r>l){const h=d-(l-r);d-=h,i-=h}if(d<a){const h=d-a;d-=h,i-=h}return[i,d]}_layoutBoxInPage(e,t,i,r){const s=e.top-i,o=e.top+e.height,a=Fl(this._viewDomNode.domNode),l=this._viewDomNode.domNode.ownerDocument,c=l.defaultView,u=a.top+s-((c==null?void 0:c.scrollY)??0),d=a.top+o-((c==null?void 0:c.scrollY)??0),h=DV(l.body),[f,p]=this._layoutHorizontalSegmentInPage(h,a,e.left-r.scrollLeft+this._contentLeft,t),m=22,v=22,C=u>=m,y=d+i<=h.height-v;return this._fixedOverflowWidgets?{fitsAbove:C,aboveTop:Math.max(u,m),fitsBelow:y,belowTop:d,left:p}:{fitsAbove:C,aboveTop:s,fitsBelow:y,belowTop:o,left:f}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Yw(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var o,a;const t=s(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),i=((o=this._secondaryAnchor.viewPosition)==null?void 0:o.lineNumber)===((a=this._primaryAnchor.viewPosition)==null?void 0:a.lineNumber)?this._secondaryAnchor.viewPosition:null,r=s(i,this._affinity,this._lineHeight);return{primary:t,secondary:r};function s(l,c,u){if(!l)return null;const d=e.visibleRangeForPosition(l);if(!d)return null;const h=l.column===1&&c===3?0:d.left,f=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop;return new xhe(f,h,u)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const r=this._context.configuration.options.get(50);let s=t.left;return s<e.left?s=Math.max(s,e.left-i+r.typicalFullwidthCharacterWidth):s=Math.min(s,e.left+i-r.typicalFullwidthCharacterWidth),new xhe(e.top,s,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=A6(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const r=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let s;this.allowEditorOverflow?s=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):s=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let o=1;o<=2;o++)for(const a of this._preference)if(a===1){if(!s)return null;if(o===2||s.fitsAbove)return{kind:"inViewport",coordinate:new Yw(s.aboveTop,s.left),position:1}}else if(a===2){if(!s)return null;if(o===2||s.fitsBelow)return{kind:"inViewport",coordinate:new Yw(s.belowTop,s.left),position:2}}else return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Yw(r.top,r.left)),position:0}:{kind:"inViewport",coordinate:new Yw(r.top,r.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){var t;if(!this._renderData||this._renderData.kind==="offViewport"){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,((t=this._renderData)==null?void 0:t.kind)==="offViewport"&&this._renderData.preserveFocus?this.domNode.setTop(-1e3):this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&A6(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&A6(this._actual.afterRender,this._actual,this._renderData.position)}}class Qw{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class Yw{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class xhe{constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function A6(n,e,...t){try{return n.call(e,...t)}catch{return null}}class kSe extends t1{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(146);this._renderLineHighlight=t.get(97),this._renderLineHighlightOnlyWhenFocus=t.get(98),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new wi(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=new Set;for(const s of this._selections)t.add(s.positionLineNumber);const i=Array.from(t);i.sort((s,o)=>s-o),es(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const r=this._selections.every(s=>s.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._renderLineHighlight=t.get(97),this._renderLineHighlightOnlyWhenFocus=t.get(98),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=[];for(let o=t;o<=i;o++){const a=o-t;r[a]=""}if(this._wordWrap){const o=this._renderOne(e,!1);for(const a of this._cursorLineNumbers){const l=this._context.viewModel.coordinatesConverter,c=l.convertViewPositionToModelPosition(new Pe(a,1)).lineNumber,u=l.convertModelPositionToViewPosition(new Pe(c,1)).lineNumber,d=l.convertModelPositionToViewPosition(new Pe(c,this._context.viewModel.model.getLineMaxColumn(c))).lineNumber,h=Math.max(u,t),f=Math.min(d,i);for(let p=h;p<=f;p++){const m=p-t;r[m]=o}}}const s=this._renderOne(e,!0);for(const o of this._cursorLineNumbers){if(o<t||o>i)continue;const a=o-t;r[a]=s}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Bwt extends kSe{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Hwt extends kSe{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}Qf((n,e)=>{const t=n.getColor(Y_e);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(nde)){const i=n.getColor(nde);i&&(e.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${i}; }`),fC(n.type)&&(e.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class Vwt extends t1{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let l=0,c=t.length;l<c;l++){const u=t[l];u.options.className&&(i[r++]=u)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const u=l.options.className,d=c.options.className;return u<d?-1:u>d?1:_e.compareRangesUsingStarts(l.range,c.range)});const s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,a=[];for(let l=s;l<=o;l++){const c=l-s;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let o=0,a=t.length;o<a;o++){const l=t[o];if(!l.options.isWholeLine)continue;const c='<div class="cdr '+l.options.className+'" style="left:0;width:100%;"></div>',u=Math.max(l.range.startLineNumber,r),d=Math.min(l.range.endLineNumber,s);for(let h=u;h<=d;h++){const f=h-r;i[f]+=c}}}_renderNormalDecorations(e,t,i){const r=e.visibleRange.startLineNumber;let s=null,o=!1,a=null,l=!1;for(let c=0,u=t.length;c<u;c++){const d=t[c];if(d.options.isWholeLine)continue;const h=d.options.className,f=!!d.options.showIfCollapsed;let p=d.range;if(f&&p.endColumn===1&&p.endLineNumber!==p.startLineNumber&&(p=new _e(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.viewModel.getLineMaxColumn(p.endLineNumber-1))),s===h&&o===f&&_e.areIntersectingOrTouching(a,p)){a=_e.plusRange(a,p);continue}s!==null&&this._renderNormalDecoration(e,a,s,l,o,r,i),s=h,o=f,a=p,l=d.options.shouldFillLineOnLineBreak??!1}s!==null&&this._renderNormalDecoration(e,a,s,l,o,r,i)}_renderNormalDecoration(e,t,i,r,s,o,a){const l=e.linesVisibleRangesForRange(t,i==="findMatch");if(l)for(let c=0,u=l.length;c<u;c++){const d=l[c];if(d.outsideRenderedLine)continue;const h=d.lineNumber-o;if(s&&d.ranges.length===1){const f=d.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){const p=Math.round(f.left+f.width/2),m=Math.max(0,Math.round(p-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new SP(m,this._typicalHalfwidthCharacterWidth)}}for(let f=0,p=d.ranges.length;f<p;f++){const m=r&&d.continuesOnNextLine&&p===1,v=d.ranges[f],C='<div class="cdr '+i+'" style="left:'+String(v.left)+"px;width:"+(m?"100%;":String(v.width)+"px;")+'"></div>';a[h]+=C}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class zwt extends Wa{constructor(e,t,i,r){super(e);const s=this._context.configuration.options,o=s.get(104),a=s.get(75),l=s.get(40),c=s.get(107),u={listenOnDomNode:i.domNode,className:"editor-scrollable "+ZV(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new XA(t.domNode,u,this._context.viewLayout.getScrollable())),Pu.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=Wn(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(h,f,p)=>{const m={};{const v=h.scrollTop;v&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+v,h.scrollTop=0)}if(p){const v=h.scrollLeft;v&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+v,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(m,1)};this._register(ze(i.domNode,"scroll",h=>d(i.domNode,!0,!0))),this._register(ze(t.domNode,"scroll",h=>d(t.domNode,!0,!1))),this._register(ze(r.domNode,"scroll",h=>d(r.domNode,!0,!1))),this._register(ze(this.scrollbarDomNode.domNode,"scroll",h=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(146);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(73).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(104)||e.hasChanged(75)||e.hasChanged(40)){const t=this._context.configuration.options,i=t.get(104),r=t.get(75),s=t.get(40),o=t.get(107),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:s,scrollPredominantAxis:o};this.scrollbar.updateOptions(a)}return e.hasChanged(146)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+ZV(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class l${constructor(e,t,i,r,s){this.startLineNumber=e,this.endLineNumber=t,this.className=i,this.tooltip=r,this._decorationToRenderBrand=void 0,this.zIndex=s??0}}class Wwt{constructor(e,t,i){this.className=e,this.zIndex=t,this.tooltip=i}}class $wt{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class LSe extends t1{_render(e,t,i){const r=[];for(let a=e;a<=t;a++){const l=a-e;r[l]=new $wt}if(i.length===0)return r;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let s=null,o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.className,d=c.zIndex;let h=Math.max(c.startLineNumber,e)-e;const f=Math.min(c.endLineNumber,t)-e;s===u?(h=Math.max(o+1,h),o=Math.max(o,f)):(s=u,o=f);for(let p=h;p<=o;p++)r[p].add(new Wwt(u,d,c.tooltip))}return r}}class jwt extends Wa{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(146);this.domNode=Wn(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=Wn(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference.lane===t.lane&&i.preference.zIndex===t.zIndex&&_e.equalsRange(i.preference.range,t.range)?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets[t]){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var o;const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=e.getDecorationsInViewport();for(const a of s){const l=a.options.glyphMarginClassName;if(!l)continue;const c=Math.max(a.range.startLineNumber,i),u=Math.min(a.range.endLineNumber,r),d=((o=a.options.glyphMargin)==null?void 0:o.position)??Pp.Center,h=a.options.zIndex??0;for(let f=c;f<=u;f++){const p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe(f,0)),m=this._context.viewModel.glyphLanes.getLanesAtLine(p.lineNumber).indexOf(d);t.push(new Uwt(f,m,h,l))}}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(const s of Object.values(this._widgets)){const o=s.preference.range,{startLineNumber:a,endLineNumber:l}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(_e.lift(o));if(!a||!l||l<i||a>r)continue;const c=Math.max(a,i),u=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe(c,0)),d=this._context.viewModel.glyphLanes.getLanesAtLine(u.lineNumber).indexOf(s.preference.lane);t.push(new qwt(c,d,s.preference.zIndex,s))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort((i,r)=>i.lineNumber===r.lineNumber?i.laneIndex===r.laneIndex?i.zIndex===r.zIndex?r.type===i.type?i.type===0&&r.type===0?i.className<r.className?-1:1:0:r.type-i.type:r.zIndex-i.zIndex:i.laneIndex-r.laneIndex:i.lineNumber-r.lineNumber),t}prepareRender(e){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const r of Object.values(this._widgets))r.renderInfo=null;const t=new Rf(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const r=t.peek();if(!r)break;const s=t.takeWhile(a=>a.lineNumber===r.lineNumber&&a.laneIndex===r.laneIndex);if(!s||s.length===0)break;const o=s[0];if(o.type===0){const a=[];for(const l of s){if(l.zIndex!==o.zIndex||l.type!==o.type)break;(a.length===0||a[a.length-1]!==l.className)&&a.push(l.className)}i.push(o.accept(a.join(" ")))}else o.widget.renderInfo={lineNumber:o.lineNumber,laneIndex:o.laneIndex}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const i of Object.values(this._widgets))i.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(!i.renderInfo)i.domNode.setDisplay("none");else{const r=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],s=this._glyphMarginLeft+i.renderInfo.laneIndex*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(r),i.domNode.setLeft(s),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}for(let i=0;i<this._decorationGlyphsToRender.length;i++){const r=this._decorationGlyphsToRender[i],s=e.viewportData.relativeVerticalOffset[r.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+r.laneIndex*this._lineHeight;let a;i<this._managedDomNodes.length?a=this._managedDomNodes[i]:(a=Wn(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+r.combinedClassName),a.setPosition("absolute"),a.setTop(s),a.setLeft(o),a.setWidth(t),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}}}class Uwt{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.className=r,this.type=0}accept(e){return new Gwt(this.lineNumber,this.laneIndex,e)}}class qwt{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.widget=r,this.type=1}}class Gwt{constructor(e,t,i){this.lineNumber=e,this.laneIndex=t,this.combinedClassName=i}}class Kwt extends t1{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(147),r=t.get(50);this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(147),r=t.get(50);return this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var r;const i=e.selections[0].getPosition();return(r=this._primaryPosition)!=null&&r.equals(i)?!1:(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var l,c;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=e.scrollWidth,s=this._primaryPosition,o=this.getGuidesByLine(t,Math.min(i+1,this._context.viewModel.getLineCount()),s),a=[];for(let u=t;u<=i;u++){const d=u-t,h=o[d];let f="";const p=((l=e.visibleRangeForPosition(new Pe(u,1)))==null?void 0:l.left)??0;for(const m of h){const v=m.column===-1?p+(m.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new Pe(u,m.column)).left;if(v>r||this._maxIndentLeft>0&&v>this._maxIndentLeft)break;const C=m.horizontalLine?m.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",y=m.horizontalLine?(((c=e.visibleRangeForPosition(new Pe(u,m.horizontalLine.endColumn)))==null?void 0:c.left)??v+this._spaceWidth)-v:this._spaceWidth;f+=`<div class="core-guide ${m.className} ${C}" style="left:${v}px;width:${y}px"></div>`}a[d]=f}this._renderResult=a}getGuidesByLine(e,t,i){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Hb.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Hb.EnabledForActive:Hb.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,s=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let o=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const d=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);o=d.startLineNumber,a=d.endLineNumber,l=d.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),u=[];for(let d=e;d<=t;d++){const h=new Array;u.push(h);const f=r?r[d-e]:[],p=new Rf(f),m=s?s[d-e]:0;for(let v=1;v<=m;v++){const C=(v-1)*c+1,y=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&o<=d&&d<=a&&v===l;h.push(...p.takeWhile(_=>_.visibleColumn<C)||[]);const w=p.peek();(!w||w.visibleColumn!==C||w.horizontalLine)&&h.push(new Lb(C,-1,`core-guide-indent lvl-${(v-1)%30}`+(y?" indent-active":""),null,-1,-1))}h.push(...p.takeWhile(v=>!0)||[])}return u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function ay(n){if(!(n&&n.isTransparent()))return n}Qf((n,e)=>{const t=[{bracketColor:J_e,guideColor:Zbt,guideColorActive:rvt},{bracketColor:ewe,guideColor:Jbt,guideColorActive:svt},{bracketColor:twe,guideColor:evt,guideColorActive:ovt},{bracketColor:nwe,guideColor:tvt,guideColorActive:avt},{bracketColor:iwe,guideColor:nvt,guideColorActive:lvt},{bracketColor:rwe,guideColor:ivt,guideColorActive:cvt}],i=new gwe,r=[{indentColor:zL,indentColorActive:WL},{indentColor:Rbt,indentColorActive:Fbt},{indentColor:Nbt,indentColorActive:Bbt},{indentColor:Abt,indentColorActive:Hbt},{indentColor:Pbt,indentColorActive:Vbt},{indentColor:Obt,indentColorActive:zbt}],s=t.map(a=>{const l=n.getColor(a.bracketColor),c=n.getColor(a.guideColor),u=n.getColor(a.guideColorActive),d=ay(ay(c)??(l==null?void 0:l.transparent(.3))),h=ay(ay(u)??l);if(!(!d||!h))return{guideColor:d,guideColorActive:h}}).filter(qC),o=r.map(a=>{const l=n.getColor(a.indentColor),c=n.getColor(a.indentColorActive),u=ay(l),d=ay(c);if(!(!u||!d))return{indentColor:u,indentColorActive:d}}).filter(qC);if(s.length>0){for(let a=0;a<30;a++){const l=s[a%s.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(o.length>0){for(let a=0;a<30;a++){const l=o[a%o.length];e.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}e.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),e.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});class P6{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Qwt{constructor(){this._currentVisibleRange=new _e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Ywt{constructor(e,t,i,r,s,o,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=r,this.startScrollTop=s,this.stopScrollTop=o,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Xwt{constructor(e,t,i,r,s){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=r,this.scrollType=s,this.type="selections";let o=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const u=t[l];o=Math.min(o,u.startLineNumber),a=Math.max(a,u.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=a}}const qR=class qR extends Wa{constructor(e,t){super(e);const i=this._context.configuration,r=this._context.configuration.options,s=r.get(50),o=r.get(147);this._lineHeight=r.get(67),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=r.get(101),this._cursorSurroundingLines=r.get(29),this._cursorSurroundingLinesStyle=r.get(30),this._canUseLayerHinting=!r.get(32),this._viewLineOptions=new ghe(i,this._context.theme.type),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new SSe({createLine:()=>new af(this._viewLineOptions)}),this.domNode=this._visibleLines.domNode,Pu.write(this.domNode,8),this.domNode.setClassName(`view-lines ${EC}`),eo(this.domNode,s),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Lo(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Lo(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Qwt,this._horizontalRevealRequest=null,this._stickyScrollEnabled=r.get(116).enabled,this._maxNumberStickyLines=r.get(116).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(147)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),r=t.get(147);return this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(101),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(116).enabled,this._maxNumberStickyLines=t.get(116).maxLineCount,eo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(146)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new ghe(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=!1;for(let s=t;s<=i;s++)r=this._visibleLines.getVisibleLine(s).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Ywt(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Xwt(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const s=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,s),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const r=this._getLineNumberFor(i);if(r===-1||r<1||r>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(r)===1)return new Pe(r,1);const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<s||r>o)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(e,t);const l=this._context.viewModel.getLineMinColumn(r);return a<l&&(a=l),new Pe(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===af.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++){const s=this._visibleLines.getVisibleLine(r);if(e===s.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const r=new P6(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getVisibleLine(e).getWidth(r);return this._updateLineWidthsSlowIfDomDidLayout(r),s}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,r=_e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;const s=[];let o=0;const a=new P6(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe(r.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let d=r.startLineNumber;d<=r.endLineNumber;d++){if(d<c||d>u)continue;const h=d===r.startLineNumber?r.startColumn:1,f=d!==r.endLineNumber,p=f?this._context.viewModel.getLineMaxColumn(d):r.endColumn,m=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,h,p,a);if(m){if(t&&d<i){const v=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pe(d+1,1)).lineNumber,v!==l&&(m.ranges[m.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[o++]=new A_t(m.outsideRenderedLine,d,SP.from(m.ranges),f)}}return this._updateLineWidthsSlowIfDomDidLayout(a),o===0?null:s}_visibleRangesForLineRange(e,t,i){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const r=new P6(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,r);return this._updateLineWidthsSlowIfDomDidLayout(r),s}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new P_t(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=1,s=!0;for(let o=t;o<=i;o++){const a=this._visibleLines.getVisibleLine(o);if(e&&!a.getWidthIsFast()){s=!1;continue}r=Math.max(r,a.getWidth(null))}return s&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),s}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++){const o=this._visibleLines.getVisibleLine(s);if(o.needsMonospaceFontCheck()){const a=o.getWidth(null);a>t&&(t=a,e=s)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(i);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),ga&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)if(this._visibleLines.getVisibleLine(s).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,r,s,o){const a=e.top,l=e.height,c=a+l;let u,d,h;if(s&&s.length>0){let C=s[0].startLineNumber,y=s[0].endLineNumber;for(let w=1,_=s.length;w<_;w++){const x=s[w];C=Math.min(C,x.startLineNumber),y=Math.max(y,x.endLineNumber)}u=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(C),h=this._context.viewLayout.getVerticalOffsetForLineNumber(y)+this._lineHeight}else if(r)u=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;else return-1;const f=(t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default";let p=0,m=0;if(f)i||(p=this._lineHeight);else{const C=l/this._lineHeight,y=Math.max(this._cursorSurroundingLines,this._stickyScrollEnabled?this._maxNumberStickyLines:0),w=Math.min(C/2,y);p=w*this._lineHeight,m=Math.max(0,w-1)*this._lineHeight}i||(o===0||o===4)&&(m+=this._lineHeight),d-=p,h+=m;let v;if(h-d>l){if(!u)return-1;v=d}else if(o===5||o===6)if(o===6&&a<=d&&h<=c)v=a;else{const C=Math.max(5*this._lineHeight,l*.2),y=d-C,w=h-l;v=Math.max(w,y)}else if(o===1||o===2)if(o===2&&a<=d&&h<=c)v=a;else{const C=(d+h)/2;v=Math.max(0,C-l/2)}else v=this._computeMinimumScrolling(a,c,d,h,o===3,o===4);return v}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(146),r=t.left,s=r+t.width-i.verticalScrollbarWidth;let o=1073741824,a=0;if(e.type==="range"){const c=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!c)return null;for(const u of c.ranges)o=Math.min(o,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}else for(const c of e.selections){if(c.startLineNumber!==c.endLineNumber)return null;const u=this._visibleRangesForLineRange(c.startLineNumber,c.startColumn,c.endColumn);if(!u)return null;for(const d of u.ranges)o=Math.min(o,Math.round(d.left)),a=Math.max(a,Math.round(d.left+d.width))}return e.minimalReveal||(o=Math.max(0,o-qR.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),e.type==="selections"&&a-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(r,s,o,a),maxHorizontalOffset:a}}_computeMinimumScrolling(e,t,i,r,s,o){e=e|0,t=t|0,i=i|0,r=r|0,s=!!s,o=!!o;const a=t-e;if(r-i<a){if(s)return i;if(o)return Math.max(0,r-a);if(i<e)return i;if(r>t)return Math.max(0,r-a)}else return i;return e}};qR.HORIZONTAL_EXTRA_PX=30;let c$=qR;class Zwt extends LSe{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(146);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.linesDecorationsClassName,c=a.options.zIndex;l&&(i[r++]=new l$(a.range.startLineNumber,a.range.endLineNumber,l,a.options.linesDecorationsTooltip??null,c));const u=a.options.firstLineDecorationClassName;u&&(i[r++]=new l$(a.range.startLineNumber,a.range.startLineNumber,u,a.options.linesDecorationsTooltip??null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=this._decorationsLeft.toString(),o=this._decorationsWidth.toString(),a='" style="left:'+s+"px;width:"+o+'px;"></div>',l=[];for(let c=t;c<=i;c++){const u=c-t,d=r[u].getDecorations();let h="";for(const f of d){let p='<div class="cldr '+f.className;f.tooltip!==null&&(p+='" title="'+f.tooltip),p+=a,h+=p}l[u]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Jwt extends LSe{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.marginClassName,c=a.options.zIndex;l&&(i[r++]=new l$(a.range.startLineNumber,a.range.endLineNumber,l,null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=[];for(let o=t;o<=i;o++){const a=o-t,l=r[a].getDecorations();let c="";for(const u of l)c+='<div class="cmdr '+u.className+'" style=""></div>';s[a]=c}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}const Ug=class Ug{constructor(e,t,i,r){this._rgba8Brand=void 0,this.r=Ug._clamp(e),this.g=Ug._clamp(t),this.b=Ug._clamp(i),this.a=Ug._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}};Ug.Empty=new Ug(0,0,0,0);let Ef=Ug;const GR=class GR extends je{static getInstance(){return this._INSTANCE||(this._INSTANCE=new GR),this._INSTANCE}constructor(){super(),this._onDidChange=new ke,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Rr.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=Rr.getColorMap();if(!e){this._colors=[Ef.Empty],this._backgroundIsLight=!0;return}this._colors=[Ef.Empty];for(let i=1;i<e.length;i++){const r=e[i].rgba;this._colors[i]=new Ef(r.r,r.g,r.b,Math.round(r.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}};GR._INSTANCE=null;let GM=GR;const eSt=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),tSt=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:95:n);class Ik{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ik.soften(e,12/15),this.charDataLight=Ik.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let r=0,s=e.length;r<s;r++)i[r]=BI(e[r]*t);return i}renderChar(e,t,i,r,s,o,a,l,c,u,d){const h=1*this.scale,f=2*this.scale,p=d?1:f;if(t+h>e.width||i+p>e.height){console.warn("bad render request outside image data");return}const m=u?this.charDataLight:this.charDataNormal,v=tSt(r,c),C=e.width*4,y=a.r,w=a.g,_=a.b,x=s.r-y,k=s.g-w,D=s.b-_,T=Math.max(o,l),L=e.data;let I=v*h*f,R=i*C+t*4;for(let N=0;N<p;N++){let O=R;for(let F=0;F<h;F++){const A=m[I++]/255*(o/255);L[O++]=y+x*A,L[O++]=w+k*A,L[O++]=_+D*A,L[O++]=T}R+=C}}blockRenderChar(e,t,i,r,s,o,a,l){const c=1*this.scale,u=2*this.scale,d=l?1:u;if(t+c>e.width||i+d>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,f=.5*(s/255),p=o.r,m=o.g,v=o.b,C=r.r-p,y=r.g-m,w=r.b-v,_=p+C*f,x=m+y*f,k=v+w*f,D=Math.max(s,a),T=e.data;let L=i*h+t*4;for(let I=0;I<d;I++){let R=L;for(let N=0;N<c;N++)T[R++]=_,T[R++]=x,T[R++]=k,T[R++]=D;L+=h}}}const khe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Lhe=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=khe[n[t]]<<4|khe[n[t+1]]&15;return e},Ehe={1:KC(()=>Lhe("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:KC(()=>Lhe("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class rx{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return Ehe[e]?i=new Ik(Ehe[e](),e):i=rx.createFromSampleData(rx.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let r=0;for(const s of eSt)i.fillText(String.fromCharCode(s),r,16/2),r+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const r=rx._downsample(e,t);return new Ik(r,t)}static _downsampleChar(e,t,i,r,s){const o=1*s,a=2*s;let l=r,c=0;for(let u=0;u<a;u++){const d=u/a*16,h=(u+1)/a*16;for(let f=0;f<o;f++){const p=f/o*10,m=(f+1)/o*10;let v=0,C=0;for(let w=d;w<h;w++){const _=t+Math.floor(w)*3840,x=1-(w-Math.floor(w));for(let k=p;k<m;k++){const D=1-(k-Math.floor(k)),T=_+Math.floor(k)*4,L=D*x;C+=L,v+=e[T]*e[T+3]/255*L}}const y=v/C;c=Math.max(c,y),i[l++]=BI(y)}}return c}static _downsample(e,t){const i=2*t*1*t,r=i*96,s=new Uint8ClampedArray(r);let o=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,s,o,t)),o+=i,a+=10*4;if(l>0){const c=255/l;for(let u=0;u<r;u++)s[u]*=c}return s}}const nSt=Ba?'"Segoe WPC", "Segoe UI", sans-serif':An?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif',iSt=140,rSt=2;class DC{constructor(e,t,i){const r=e.options,s=r.get(144),o=r.get(146),a=o.minimap,l=r.get(50),c=r.get(73);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(106),this.paddingTop=r.get(84).top,this.paddingBottom=r.get(84).bottom,this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(67),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=o.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=nSt,this.sectionHeaderFontSize=c.sectionHeaderFontSize*s,this.sectionHeaderLetterSpacing=c.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=DC._getSectionHeaderColor(t,i.getColor(1)),this.charRenderer=KC(()=>rx.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=DC._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=DC._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(Lht);return i?new Ef(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(Eht);return t?Ef._clamp(Math.round(255*t.rgba.a)):255}static _getSectionHeaderColor(e,t){const i=e.getColor(ML);return i?new Ef(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.sectionHeaderFontSize===e.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===e.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class sx{constructor(e,t,i,r,s,o,a,l,c){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=r,this.sliderTop=s,this.sliderHeight=o,this.topPaddingLineCount=a,this.startLineNumber=l,this.endLineNumber=c}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,r,s,o,a,l,c,u,d){const h=e.pixelRatio,f=e.minimapLineHeight,p=Math.floor(e.canvasInnerHeight/f),m=e.lineHeight;if(e.minimapHeightIsEditorHeight){let k=l*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(k+=Math.max(0,s-e.lineHeight-e.paddingBottom));const D=Math.max(1,Math.floor(s*s/k)),T=Math.max(0,e.minimapHeight-D),L=T/(u-s),I=c*L,R=T>0,N=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),O=Math.floor(e.paddingTop/e.lineHeight);return new sx(c,u,R,L,I,D,O,1,Math.min(a,N))}let v;if(o&&i!==a){const k=i-t+1;v=Math.floor(k*f/h)}else{const k=s/m;v=Math.floor(k*f/h)}const C=Math.floor(e.paddingTop/m);let y=Math.floor(e.paddingBottom/m);if(e.scrollBeyondLastLine){const k=s/m;y=Math.max(y,k-1)}let w;if(y>0){const k=s/m;w=(C+a+y-k-1)*f/h}else w=Math.max(0,(C+a)*f/h-v);w=Math.min(e.minimapHeight-v,w);const _=w/(u-s),x=c*_;if(p>=C+a+y){const k=w>0;return new sx(c,u,k,_,x,v,C,1,a)}else{let k;t>1?k=t+C:k=Math.max(1,c/m);let D,T=Math.max(1,Math.floor(k-x*h/f));T<C?(D=C-T+1,T=1):(D=0,T=Math.max(1,T-C)),d&&d.scrollHeight===u&&(d.scrollTop>c&&(T=Math.min(T,d.startLineNumber),D=Math.max(D,d.topPaddingLineCount)),d.scrollTop<c&&(T=Math.max(T,d.startLineNumber),D=Math.min(D,d.topPaddingLineCount)));const L=Math.min(a,T-D+p-1),I=(c-r)/m;let R;return c>=e.paddingTop?R=(t-T+D+I)*f/h:R=c/e.paddingTop*(D+I)*f/h,new sx(c,u,!0,_,R,v,D,T,L)}}}const KR=class KR{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}};KR.INVALID=new KR(-1);let KM=KR;class Dhe{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new wSe({createLine:()=>KM.INVALID}),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let r=0,s=i.length;r<s;r++)if(i[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class lK{constructor(e,t,i,r){this._backgroundFillData=lK._createBackgroundFillData(t,i,r),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const r=i.r,s=i.g,o=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let u=0;u<t;u++)for(let d=0;d<e;d++)l[c]=r,l[c+1]=s,l[c+2]=o,l[c+3]=a,c+=4;return l}}class Mk{static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:r}=oC.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),s=t/r,o=s/2;if(!i||i.minimapLines.length===0){const v=[];if(v[0]=1,r>1){for(let C=0,y=r-1;C<y;C++)v[C]=Math.round(C*s+o);v[r-1]=t}return[new Mk(s,v),[]]}const a=i.minimapLines,l=a.length,c=[];let u=0,d=0,h=1;const f=10;let p=[],m=null;for(let v=0;v<r;v++){const C=Math.max(h,Math.round(v*s)),y=Math.max(C,Math.round((v+1)*s));for(;u<l&&a[u]<C;){if(p.length<f){const _=u+1+d;m&&m.type==="deleted"&&m._oldIndex===u-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:u,deleteFromLineNumber:_,deleteToLineNumber:_},p.push(m)),d--}u++}let w;if(u<l&&a[u]<=y)w=a[u],u++;else if(v===0?w=1:v+1===r?w=t:w=Math.round(v*s+o),p.length<f){const _=u+1+d;m&&m.type==="inserted"&&m._i===v-1?m.insertToLineNumber++:(m={type:"inserted",_i:v,insertFromLineNumber:_,insertToLineNumber:_},p.push(m)),d++}c[v]=w,h=w}if(p.length<f)for(;u<l;){const v=u+1+d;m&&m.type==="deleted"&&m._oldIndex===u-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:u,deleteFromLineNumber:v,deleteToLineNumber:v},p.push(m)),d--,u++}else p=[{type:"flush"}];return[new Mk(s,c),p]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(i===r){const s=this.minimapLines[i];if(s<e||s>t)return null}return[i+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===i&&(r===this.minimapLines.length?i>1&&i--:r++),[i,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,r=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,s),r=Math.max(r,s)):this.minimapLines[s]-=t;return[i,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class sSt extends Wa{constructor(e){super(e),this._sectionHeaderCache=new IL(10,1.5),this.tokensColorTracker=GM.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new DC(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Mk.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Fy(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new DC(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=Mk.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of i)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const r=[];for(let s=0,o=t-e+1;s<o;s++)i[s]?r[s]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+s-1]):r[s]=null;return r}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new wi(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){const i=this._getMinimapDecorationsInViewport(e,t).filter(r=>{var s;return!((s=r.options.minimap)!=null&&s.sectionHeaderStyle)});if(this._samplingState){const r=[];for(const s of i){if(!s.options.minimap)continue;const o=s.range,a=this._samplingState.modelLineToMinimapLine(o.startLineNumber),l=this._samplingState.modelLineToMinimapLine(o.endLineNumber);r.push(new cSe(new _e(a,o.startColumn,l,o.endColumn),s.options))}return r}return i}getSectionHeaderDecorationsInViewport(e,t){const i=this.options.minimapLineHeight,s=this.options.sectionHeaderFontSize/i;return e=Math.floor(Math.max(1,e-s)),this._getMinimapDecorationsInViewport(e,t).filter(o=>{var a;return!!((a=o.options.minimap)!=null&&a.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const r=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new _e(r,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new _e(e,1,t,this._context.viewModel.getLineMaxColumn(t));return this._context.viewModel.getMinimapDecorationsInRange(i)}getSectionHeaderText(e,t){var o;const i=(o=e.options.minimap)==null?void 0:o.sectionHeaderText;if(!i)return null;const r=this._sectionHeaderCache.get(i);if(r)return r;const s=t(i);return this._sectionHeaderCache.set(i,s),s}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new _e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class Fy extends je{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(lue),this._domNode=Wn(document.createElement("div")),Pu.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Wn(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Wn(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Wn(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Wn(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Wn(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=ms(this._domNode.domNode,pt.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=Fl(this._slider.domNode),u=c.top+c.height/2;this._startSliderDragging(i,u,this._lastRenderData.renderedLayout)}return}const s=this._model.options.minimapLineHeight,o=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(o/s)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new YA,this._sliderPointerDownListener=ms(this._slider.domNode,pt.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Uo.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ze(this._domNode.domNode,Di.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=ze(this._domNode.domNode,Di.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=ms(this._domNode.domNode,Di.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const r=e.pageX;this._slider.toggleClassName("active",!0);const s=(o,a)=>{const l=Fl(this._domNode.domNode),c=Math.min(Math.abs(a-r),Math.abs(a-l.left),Math.abs(a-l.left-l.width));if(Ba&&c>iSt){this._model.setScrollTop(i.scrollTop);return}const u=o-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(u))};e.pageY!==t&&s(e.pageY,r),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>s(o.pageY,o.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new lK(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)==null||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)==null||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(lue),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=sx.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(_e.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,f)=>(h.options.zIndex||0)-(f.options.zIndex||0));const{canvasInnerWidth:r,canvasInnerHeight:s}=this._model.options,o=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,r,s);const u=new The(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,u,e,o),this._renderDecorationsLineHighlights(c,i,u,e,o);const d=new The(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,d,e,o,l,a,r),this._renderDecorationsHighlights(c,i,d,e,o,l,a,r),this._renderSectionHeaders(e)}}_renderSelectionLineHighlights(e,t,i,r,s){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let o=0,a=0;for(const l of t){const c=r.intersectWithViewport(l);if(!c)continue;const[u,d]=c;for(let p=u;p<=d;p++)i.set(p,!0);const h=r.getYForLineNumber(u,s),f=r.getYForLineNumber(d,s);a>=h||(a>o&&e.fillRect(id,o,e.canvas.width,a-o),o=h),a=f}a>o&&e.fillRect(id,o,e.canvas.width,a-o)}_renderDecorationsLineHighlights(e,t,i,r,s){const o=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==1)continue;const u=r.intersectWithViewport(l.range);if(!u)continue;const[d,h]=u,f=c.getColor(this._theme.value);if(!f||f.isTransparent())continue;let p=o.get(f.toString());p||(p=f.transparent(.5).toString(),o.set(f.toString(),p)),e.fillStyle=p;for(let m=d;m<=h;m++){if(i.has(m))continue;i.set(m,!0);const v=r.getYForLineNumber(d,s);e.fillRect(id,v,e.canvas.width,s)}}}_renderSelectionsHighlights(e,t,i,r,s,o,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const u=r.intersectWithViewport(c);if(!u)continue;const[d,h]=u;for(let f=d;f<=h;f++)this.renderDecorationOnLine(e,i,c,this._selectionColor,r,f,s,s,o,a,l)}}_renderDecorationsHighlights(e,t,i,r,s,o,a,l){for(const c of t){const u=c.options.minimap;if(!u)continue;const d=r.intersectWithViewport(c.range);if(!d)continue;const[h,f]=d,p=u.getColor(this._theme.value);if(!(!p||p.isTransparent()))for(let m=h;m<=f;m++)switch(u.position){case 1:this.renderDecorationOnLine(e,i,c.range,p,r,m,s,s,o,a,l);continue;case 2:{const v=r.getYForLineNumber(m,s);this.renderDecoration(e,p,2,v,rSt,s);continue}}}}renderDecorationOnLine(e,t,i,r,s,o,a,l,c,u,d){const h=s.getYForLineNumber(o,l);if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:f,endLineNumber:p}=i,m=f===o?i.startColumn:1,v=p===o?i.endColumn:this._model.getLineMaxColumn(o),C=this.getXOffsetForPosition(t,o,m,c,u,d),y=this.getXOffsetForPosition(t,o,v,c,u,d);this.renderDecoration(e,r,C,h,y-C,a)}getXOffsetForPosition(e,t,i,r,s,o){if(i===1)return id;if((i-1)*s>=o)return o;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[id];let u=id;for(let d=1;d<c.length+1;d++){const h=c.charCodeAt(d-1),f=h===9?r*s:Np(h)?2*s:s,p=u+f;if(p>=o){l[d]=o;break}l[d]=p,u=p}e.set(t,l)}return i-1<l.length?l[i-1]:o}renderDecoration(e,t,i,r,s,o){e.fillStyle=t&&t.toString()||"",e.fillRect(i,r,s,o)}_renderSectionHeaders(e){var m;const t=this._model.options.minimapLineHeight,i=this._model.options.sectionHeaderFontSize,r=this._model.options.sectionHeaderLetterSpacing,s=i*1.5,{canvasInnerWidth:o}=this._model.options,a=this._model.options.backgroundColor,l=`rgb(${a.r} ${a.g} ${a.b} / .7)`,c=this._model.options.sectionHeaderFontColor,u=`rgb(${c.r} ${c.g} ${c.b})`,d=u,h=this._decorationsCanvas.domNode.getContext("2d");h.letterSpacing=r+"px",h.font="500 "+i+"px "+this._model.options.sectionHeaderFontFamily,h.strokeStyle=d,h.lineWidth=.2;const f=this._model.getSectionHeaderDecorationsInViewport(e.startLineNumber,e.endLineNumber);f.sort((v,C)=>v.range.startLineNumber-C.range.startLineNumber);const p=Fy._fitSectionHeader.bind(null,h,o-id);for(const v of f){const C=e.getYForLineNumber(v.range.startLineNumber,t)+i,y=C-i,w=y+2,_=this._model.getSectionHeaderText(v,p);Fy._renderSectionLabel(h,_,((m=v.options.minimap)==null?void 0:m.sectionHeaderStyle)===2,l,u,o,y,s,C,w)}}static _fitSectionHeader(e,t,i){if(!i)return i;const r="",s=e.measureText(i).width,o=e.measureText(r).width;if(s<=t||s<=o)return i;const a=i.length,l=s/i.length,c=Math.floor((t-o)/l)-1;let u=Math.ceil(c/2);for(;u>0&&/\s/.test(i[u-1]);)--u;return i.substring(0,u)+r+i.substring(a-(c-u))}static _renderSectionLabel(e,t,i,r,s,o,a,l,c,u){t&&(e.fillStyle=r,e.fillRect(0,a,o,l),e.fillStyle=s,e.fillText(t,id,c)),i&&(e.beginPath(),e.moveTo(0,u),e.lineTo(o,u),e.closePath(),e.stroke())}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const A=this._lastRenderData._get();return new Dhe(e,A.imageData,A.lines)}const s=this._getBuffer();if(!s)return null;const[o,a,l]=Fy._renderUntouchedLines(s,e.topPaddingLineCount,t,i,r,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),u=this._model.getOptions().tabSize,d=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,p=this._model.tokensColorTracker,m=p.backgroundIsLight(),v=this._model.options.renderMinimap,C=this._model.options.charRenderer(),y=this._model.options.fontScale,w=this._model.options.minimapCharWidth,x=(v===1?2:3)*y,k=r>x?Math.floor((r-x)/2):0,D=h.a/255,T=new Ef(Math.round((h.r-d.r)*D+d.r),Math.round((h.g-d.g)*D+d.g),Math.round((h.b-d.b)*D+d.b),255);let L=e.topPaddingLineCount*r;const I=[];for(let A=0,H=i-t+1;A<H;A++)l[A]&&Fy._renderLine(s,T,h.a,m,v,w,p,f,C,L,k,u,c[A],y,r),I[A]=new KM(L),L+=r;const R=o===-1?0:o,O=(a===-1?s.height:a)-R;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,R,s.width,O),new Dhe(e,s,I)}static _renderUntouchedLines(e,t,i,r,s,o){const a=[];if(!o){for(let L=0,I=r-i+1;L<I;L++)a[L]=!0;return[-1,-1,a]}const l=o._get(),c=l.imageData.data,u=l.rendLineNumberStart,d=l.lines,h=d.length,f=e.width,p=e.data,m=(r-i+1)*s*f*4;let v=-1,C=-1,y=-1,w=-1,_=-1,x=-1,k=t*s;for(let L=i;L<=r;L++){const I=L-i,R=L-u,N=R>=0&&R<h?d[R].dy:-1;if(N===-1){a[I]=!0,k+=s;continue}const O=N*f*4,F=(N+s)*f*4,A=k*f*4,H=(k+s)*f*4;w===O&&x===A?(w=F,x=H):(y!==-1&&(p.set(c.subarray(y,w),_),v===-1&&y===0&&y===_&&(v=w),C===-1&&w===m&&y===_&&(C=y)),y=O,w=F,_=A,x=H),a[I]=!1,k+=s}y!==-1&&(p.set(c.subarray(y,w),_),v===-1&&y===0&&y===_&&(v=w),C===-1&&w===m&&y===_&&(C=y));const D=v===-1?-1:v/(f*4),T=C===-1?-1:C/(f*4);return[D,T,a]}static _renderLine(e,t,i,r,s,o,a,l,c,u,d,h,f,p,m){const v=f.content,C=f.tokens,y=e.width-o,w=m===1;let _=id,x=0,k=0;for(let D=0,T=C.getCount();D<T;D++){const L=C.getEndOffset(D),I=C.getForeground(D),R=a.getColor(I);for(;x<L;x++){if(_>y)return;const N=v.charCodeAt(x);if(N===9){const O=h-(x+k)%h;k+=O-1,_+=O*o}else if(N===32)_+=o;else{const O=Np(N)?2:1;for(let F=0;F<O;F++)if(s===2?c.blockRenderChar(e,_,u+d,R,l,t,i,w):c.renderChar(e,_,u+d,N,R,l,t,i,p,r,w),_+=o,_>y)return}}}}}class The{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let r=0,s=this._endLineNumber-this._startLineNumber+1;r<s;r++)this._values[r]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class oSt extends Wa{constructor(e,t){super(e),this._viewDomNode=t;const r=this._context.configuration.options.get(146);this._widgets={},this._verticalScrollbarWidth=r.verticalScrollbarWidth,this._minimapWidth=r.minimap.minimapWidth,this._horizontalScrollbarHeight=r.horizontalScrollbarHeight,this._editorHeight=r.height,this._editorWidth=r.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=Wn(document.createElement("div")),Pu.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=Wn(document.createElement("div")),Pu.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=Wn(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),e.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(t):this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()],r=t?t.preference:null,s=t==null?void 0:t.stackOridinal;return i.preference===r&&i.stack===s?(this._updateMaxMinWidth(),!1):(i.preference=r,i.stack=s,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var i,r;let e=0;const t=Object.keys(this._widgets);for(let s=0,o=t.length;s<o;s++){const a=t[s],c=(r=(i=this._widgets[a].widget).getMinContentWidthInPx)==null?void 0:r.call(i);typeof c<"u"&&(e=Math.max(e,c))}this._context.viewLayout.setOverlayWidgetsMinWidth(e)}_renderWidget(e,t){const i=e.domNode;if(e.preference===null){i.setTop("");return}const r=2*this._verticalScrollbarWidth+this._minimapWidth;if(e.preference===0||e.preference===1){if(e.preference===1){const s=i.domNode.clientHeight;i.setTop(this._editorHeight-s-2*this._horizontalScrollbarHeight)}else i.setTop(0);e.stack!==void 0?(i.setTop(t[e.preference]),t[e.preference]+=i.domNode.clientWidth):i.setRight(r)}else if(e.preference===2)i.domNode.style.right="50%",e.stack!==void 0?(i.setTop(t[2]),t[2]+=i.domNode.clientHeight):i.setTop(0);else{const{top:s,left:o}=e.preference;if(this._context.configuration.options.get(42)&&e.widget.allowEditorOverflow){const l=this._viewDomNodeRect;i.setTop(s+l.top),i.setLeft(o+l.left),i.setPosition("fixed")}else i.setTop(s),i.setLeft(o),i.setPosition("absolute")}}prepareRender(e){this._viewDomNodeRect=Fl(this._viewDomNode.domNode)}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets),i=Array.from({length:3},()=>0);t.sort((r,s)=>(this._widgets[r].stack||0)-(this._widgets[s].stack||0));for(let r=0,s=t.length;r<s;r++){const o=t[r];this._renderWidget(this._widgets[o],i)}}}class aSt{constructor(e,t){const i=e.options;this.lineHeight=i.get(67),this.pixelRatio=i.get(144),this.overviewRulerLanes=i.get(83),this.renderBorder=i.get(82);const r=t.getColor(jbt);this.borderColor=r?r.toString():null,this.hideCursor=i.get(59);const s=t.getColor(uP);this.cursorColorSingle=s?s.transparent(.7).toString():null;const o=t.getColor(X_e);this.cursorColorPrimary=o?o.transparent(.7).toString():null;const a=t.getColor(Z_e);this.cursorColorSecondary=a?a.transparent(.7).toString():null,this.themeType=t.type;const l=i.get(73),c=l.enabled,u=l.side,d=t.getColor(Ubt),h=Rr.getDefaultBackground();d?this.backgroundColor=d:c&&u==="right"?this.backgroundColor=h:this.backgroundColor=null;const p=i.get(146).overviewRuler;this.top=p.top,this.right=p.right,this.domWidth=p.width,this.domHeight=p.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[m,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=v}_initLanes(e,t,i){const r=t-e;if(i>=3){const s=Math.floor(r/3),o=Math.floor(r/3),a=r-s-o,l=e,c=l+s,u=l+s+a;return[[0,l,c,l,u,l,c,l],[0,s,a,s+a,o,s+a+o,a+o,s+a+o]]}else if(i===2){const s=Math.floor(r/2),o=r-s,a=e,l=a+s;return[[0,a,a,a,l,a,a,a],[0,s,s,s,o,s+o,s+o,s+o]]}else{const s=e,o=r;return[[0,s,s,s,s,s,s,s],[0,o,o,o,o,o,o,o]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColorSingle===e.cursorColorSingle&&this.cursorColorPrimary===e.cursorColorPrimary&&this.cursorColorSecondary===e.cursorColorSecondary&&this.themeType===e.themeType&&tt.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class lSt extends Wa{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=Wn(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Rr.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new Pe(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new aSt(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++){let r=this._settings.cursorColorSingle;i>1&&(r=t===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:e.selections[t].getPosition(),color:r})}return this._cursorPositions.sort((t,i)=>Pe.compare(t.position,i.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return e.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return e.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?tt.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(kk.compareByRenderingProps),this._actualShouldRender===1&&!kk.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!es(this._renderedCursorPositions,this._cursorPositions,(p,m)=>p.position.lineNumber===m.position.lineNumber&&p.color===m.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,r=this._settings.canvasHeight,s=this._settings.lineHeight,o=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=r/a,c=6*this._settings.pixelRatio|0,u=c/2|0,d=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(d.fillStyle=tt.Format.CSS.formatHexA(e),d.fillRect(0,0,i,r)):(d.clearRect(0,0,i,r),d.fillStyle=tt.Format.CSS.formatHexA(e),d.fillRect(0,0,i,r)):d.clearRect(0,0,i,r);const h=this._settings.x,f=this._settings.w;for(const p of t){const m=p.color,v=p.data;d.fillStyle=m;let C=0,y=0,w=0;for(let _=0,x=v.length/3;_<x;_++){const k=v[3*_],D=v[3*_+1],T=v[3*_+2];let L=o.getVerticalOffsetForLineNumber(D)*l|0,I=(o.getVerticalOffsetForLineNumber(T)+s)*l|0;if(I-L<c){let N=(L+I)/2|0;N<u?N=u:N+u>r&&(N=r-u),L=N-u,I=N+u}L>w+1||k!==C?(_!==0&&d.fillRect(h[C],y,f[C],w-y),C=k,y=L,w=I):I>w&&(w=I)}d.fillRect(h[C],y,f[C],w-y)}if(!this._settings.hideCursor){const p=2*this._settings.pixelRatio|0,m=p/2|0,v=this._settings.x[7],C=this._settings.w[7];let y=-100,w=-100,_=null;for(let x=0,k=this._cursorPositions.length;x<k;x++){const D=this._cursorPositions[x].color;if(!D)continue;const T=this._cursorPositions[x].position;let L=o.getVerticalOffsetForLineNumber(T.lineNumber)*l|0;L<m?L=m:L+m>r&&(L=r-m);const I=L-m,R=I+p;I>w+1||D!==_?(x!==0&&_&&d.fillRect(v,y,C,w-y),y=I,w=R):R>w&&(w=R),_=D,d.fillStyle=D}_&&d.fillRect(v,y,C,w-y)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,r),d.moveTo(1,0),d.lineTo(i,0),d.stroke())}}class Ihe{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class ESe{constructor(e,t,i,r){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=r,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class cSt{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(ESe.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),s=i/r,o=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const u=this._zones[l];if(!e){const _=u.getColorZones();if(_){a.push(_);continue}}const d=this._getVerticalOffsetForLine(u.startLineNumber),h=u.heightInLines===0?this._getVerticalOffsetForLine(u.endLineNumber)+t:d+u.heightInLines*t,f=Math.floor(s*d),p=Math.floor(s*h);let m=Math.floor((f+p)/2),v=p-m;v<o&&(v=o),m-v<0&&(m=v),m+v>i&&(m=i-v);const C=u.color;let y=this._color2Id[C];y||(y=++this._lastAssignedId,this._color2Id[C]=y,this._id2Color[y]=C);const w=new Ihe(m-v,m+v,y);u.setColorZone(w),a.push(w)}return this._colorZonesInvalid=!1,a.sort(Ihe.compare),a}}class uSt extends jL{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Wn(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new cSt(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(67)),this._zoneManager.setPixelRatio(i.get(144)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(67)&&(this._zoneManager.setLineHeight(t.get(67)),this._render()),e.hasChanged(144)&&(this._zoneManager.setPixelRatio(t.get(144)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(s,i,r,e),!0}_renderOneLane(e,t,i,r){let s=0,o=0,a=0;for(const l of t){const c=l.colorId,u=l.from,d=l.to;c!==s?(e.fillRect(0,o,r,a-o),s=c,e.fillStyle=i[s],o=u,a=d):a>=u?a=Math.max(a,d):(e.fillRect(0,o,r,a-o),o=u,a=d)}e.fillRect(0,o,r,a-o)}}class dSt extends Wa{constructor(e){super(e),this.domNode=Wn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(103),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(103),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.viewModel.model.getOptions(),s=r;let o=t-e;for(;o>0;){const a=Wn(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(s),this.domNode.appendChild(a),this._renderedRulers.push(a),o--}return}let i=e-t;for(;i>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const r=this._renderedRulers[t],s=this._rulers[t];r.setBoxShadow(s.color?`1px 0 0 0 ${s.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(s.column*this._typicalHalfwidthCharacterWidth)}}}class hSt extends Wa{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(104);this._useShadows=i.useShadows,this._domNode=Wn(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(146);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(104);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class fSt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class gSt{constructor(e,t){this.lineNumber=e,this.ranges=t}}function pSt(n){return new fSt(n)}function mSt(n){return new gSt(n.lineNumber,n.ranges.map(pSt))}const gr=class gr extends t1{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const r=this._typicalHalfwidthCharacterWidth/4;let s=null,o=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!s&&c<i.length;c++)i[c].lineNumber===a&&(s=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!o&&c>=0;c--)i[c].lineNumber===l&&(o=i[c].ranges[0]);s&&!s.startStyle&&(s=null),o&&!o.startStyle&&(o=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],u=c.left,d=c.left+c.width,h={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const p=t[a-1].ranges[0].left,m=t[a-1].ranges[0].left+t[a-1].ranges[0].width;S2(u-p)<r?h.top=2:u>p&&(h.top=1),S2(d-m)<r?f.top=2:p<d&&d<m&&(f.top=1)}else s&&(h.top=s.startStyle.top,f.top=s.endStyle.top);if(a+1<l){const p=t[a+1].ranges[0].left,m=t[a+1].ranges[0].left+t[a+1].ranges[0].width;S2(u-p)<r?h.bottom=2:p<u&&u<m&&(h.bottom=1),S2(d-m)<r?f.bottom=2:d<m&&(f.bottom=1)}else o&&(h.bottom=o.startStyle.bottom,f.bottom=o.endStyle.bottom);c.startStyle=h,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){const s=(t.linesVisibleRangesForRange(e,!0)||[]).map(mSt);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,s,i),s}_createSelectionPiece(e,t,i,r,s){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;bottom:"+t.toString()+"px;left:"+r.toString()+"px;width:"+s.toString()+'px;"></div>'}_actualRenderOneSelection(e,t,i,r){if(r.length===0)return;const s=!!r[0].ranges[0].startStyle,o=r[0].lineNumber,a=r[r.length-1].lineNumber;for(let l=0,c=r.length;l<c;l++){const u=r[l],d=u.lineNumber,h=d-t,f=i&&d===o?1:0,p=i&&d!==o&&d===a?1:0;let m="",v="";for(let C=0,y=u.ranges.length;C<y;C++){const w=u.ranges[C];if(s){const x=w.startStyle,k=w.endStyle;if(x.top===1||x.bottom===1){m+=this._createSelectionPiece(f,p,gr.SELECTION_CLASS_NAME,w.left-gr.ROUNDED_PIECE_WIDTH,gr.ROUNDED_PIECE_WIDTH);let D=gr.EDITOR_BACKGROUND_CLASS_NAME;x.top===1&&(D+=" "+gr.SELECTION_TOP_RIGHT),x.bottom===1&&(D+=" "+gr.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(f,p,D,w.left-gr.ROUNDED_PIECE_WIDTH,gr.ROUNDED_PIECE_WIDTH)}if(k.top===1||k.bottom===1){m+=this._createSelectionPiece(f,p,gr.SELECTION_CLASS_NAME,w.left+w.width,gr.ROUNDED_PIECE_WIDTH);let D=gr.EDITOR_BACKGROUND_CLASS_NAME;k.top===1&&(D+=" "+gr.SELECTION_TOP_LEFT),k.bottom===1&&(D+=" "+gr.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(f,p,D,w.left+w.width,gr.ROUNDED_PIECE_WIDTH)}}let _=gr.SELECTION_CLASS_NAME;if(s){const x=w.startStyle,k=w.endStyle;x.top===0&&(_+=" "+gr.SELECTION_TOP_LEFT),x.bottom===0&&(_+=" "+gr.SELECTION_BOTTOM_LEFT),k.top===0&&(_+=" "+gr.SELECTION_TOP_RIGHT),k.bottom===0&&(_+=" "+gr.SELECTION_BOTTOM_RIGHT)}v+=this._createSelectionPiece(f,p,_,w.left,w.width)}e[h][0]+=m,e[h][1]+=v}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let o=i;o<=r;o++){const a=o-i;t[a]=["",""]}const s=[];for(let o=0,a=this._selections.length;o<a;o++){const l=this._selections[o];if(l.isEmpty()){s[o]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[o]);s[o]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map(([o,a])=>o+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};gr.SELECTION_CLASS_NAME="selected-text",gr.SELECTION_TOP_LEFT="top-left-radius",gr.SELECTION_BOTTOM_LEFT="bottom-left-radius",gr.SELECTION_TOP_RIGHT="top-right-radius",gr.SELECTION_BOTTOM_RIGHT="bottom-right-radius",gr.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",gr.ROUNDED_PIECE_WIDTH=10;let u$=gr;Qf((n,e)=>{const t=n.getColor(lht);t&&!t.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function S2(n){return n<0?-n:n}class Mhe{constructor(e,t,i,r,s,o,a){this.top=e,this.left=t,this.paddingLeft=i,this.width=r,this.height=s,this.textContent=o,this.textContentClassName=a}}var ff;(function(n){n[n.Single=0]="Single",n[n.MultiPrimary=1]="MultiPrimary",n[n.MultiSecondary=2]="MultiSecondary"})(ff||(ff={}));class Rhe{constructor(e,t){this._context=e;const i=this._context.configuration.options,r=i.get(50);this._cursorStyle=i.get(28),this._lineHeight=i.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(i.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Wn(document.createElement("div")),this._domNode.setClassName(`cursor ${EC}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),eo(this._domNode,r),this._domNode.setDisplay("none"),this._position=new Pe(1,1),this._pluralityClass="",this.setPlurality(t),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(e){switch(e){default:case ff.Single:this._pluralityClass="";break;case ff.MultiPrimary:this._pluralityClass="cursor-primary";break;case ff.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),eo(this._domNode,i),!0}onCursorPositionChanged(e,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[r,s]=iat(i,t-1);return[new Pe(e,r+1),i.substring(r,s)]}_prepareRender(e){let t="",i="";const[r,s]=this._getGraphemeAwarePosition();if(this._cursorStyle===ws.Line||this._cursorStyle===ws.LineThin){const h=e.visibleRangeForPosition(r);if(!h||h.outsideRenderedLine)return null;const f=Ft(this._domNode.domNode);let p;this._cursorStyle===ws.Line?(p=jle(f,this._lineCursorWidth>0?this._lineCursorWidth:2),p>2&&(t=s,i=this._getTokenClassName(r))):p=jle(f,1);let m=h.left,v=0;p>=2&&m>=1&&(v=1,m-=v);const C=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta;return new Mhe(C,m,v,p,this._lineHeight,t,i)}const o=e.linesVisibleRangesForRange(new _e(r.lineNumber,r.column,r.lineNumber,r.column+s.length),!1);if(!o||o.length===0)return null;const a=o[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const l=a.ranges[0],c=s==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===ws.Block&&(t=s,i=this._getTokenClassName(r));let u=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return(this._cursorStyle===ws.Underline||this._cursorStyle===ws.UnderlineThin)&&(u+=this._lineHeight-2,d=2),new Mhe(u,l.left,0,c,d,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${EC} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}const wx=class wx extends Wa{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(92),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Rhe(this._context,ff.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=Wn(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new $v,this._cursorFlatBlinkInterval=new vq,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(92),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,r=this._secondaryCursors.length;i<r;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const r=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&i!==3;if(this._primaryCursor.setPlurality(t.length?ff.MultiPrimary:ff.Single),this._primaryCursor.onCursorPositionChanged(e,r),this._updateBlinking(),this._secondaryCursors.length<t.length){const s=t.length-this._secondaryCursors.length;for(let o=0;o<s;o++){const a=new Rhe(this._context,ff.MultiSecondary);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>t.length){const s=this._secondaryCursors.length-t.length;for(let o=0;o<s;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let s=0;s<t.length;s++)this._secondaryCursors[s].onCursorPositionChanged(t[s],r)}onCursorStateChanged(e){const t=[];for(let r=0,s=e.selections.length;r<s;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let r=0,s=e.ranges.length;r<s;r++)if(e.ranges[r].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},wx.BLINK_INTERVAL,Ft(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},wx.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case ws.Line:e+=" cursor-line-style";break;case ws.Block:e+=" cursor-block-style";break;case ws.Underline:e+=" cursor-underline-style";break;case ws.LineThin:e+=" cursor-line-thin-style";break;case ws.BlockOutline:e+=" cursor-block-outline-style";break;case ws.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const r=this._primaryCursor.render(e);r&&(t[i++]=r);for(let s=0,o=this._secondaryCursors.length;s<o;s++){const a=this._secondaryCursors[s].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}};wx.BLINK_INTERVAL=500;let d$=wx;Qf((n,e)=>{const t=[{class:".cursor",foreground:uP,background:mG},{class:".cursor-primary",foreground:X_e,background:Ebt},{class:".cursor-secondary",foreground:Z_e,background:Dbt}];for(const i of t){const r=n.getColor(i.foreground);if(r){let s=n.getColor(i.background);s||(s=r.opposite()),e.addRule(`.monaco-editor .cursors-layer ${i.class} { background-color: ${r}; border-color: ${r}; color: ${s}; }`),fC(n.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection ${i.class} { border-left: 1px solid ${s}; border-right: 1px solid ${s}; }`)}}});const O6=()=>{throw new Error("Invalid change accessor")};class bSt extends Wa{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Wn(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Wn(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let i=!1;return this._context.viewModel.changeWhitespace(r=>{const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._zones[l],u=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=u.isInHiddenArea;const d=t.get(l);d&&(d.afterLineNumber!==u.afterViewLineNumber||d.height!==u.heightInPx)&&(r.changeOneWhitespace(l,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(c.delegate,u.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return e.ordinal??e.afterColumn??1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Pe(o,this._context.viewModel.model.getLineMaxColumn(o))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),s=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!s,afterViewLineNumber:r.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const r={addZone:s=>(t=!0,this._addZone(i,s)),removeZone:s=>{s&&(t=this._removeZone(i,s)||t)},layoutZone:s=>{s&&(t=this._layoutZone(i,s)||t)}};vSt(e,r),r.addZone=O6,r.removeZone=O6,r.layoutZone=O6}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),s={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:Wn(t.domNode),marginDomNode:t.marginDomNode?Wn(t.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,i.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.remove(),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.remove()),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],r=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=r.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(i.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){_i(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){_i(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let r=!1;for(const o of t)this._zones[o.id].isInHiddenArea||(i[o.id]=o,r=!0);const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._zones[l];let u=0,d=0,h="none";i.hasOwnProperty(l)?(u=i[l].verticalOffset-e.bigNumbersDelta,d=i[l].height,h="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(u),c.domNode.setHeight(d),c.domNode.setDisplay(h),c.marginDomNode&&(c.marginDomNode.setTop(u),c.marginDomNode.setHeight(d),c.marginDomNode.setDisplay(h))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function vSt(n,e){try{return n(e)}catch(t){_i(t)}}class ySt extends t1{constructor(e){super(),this._context=e,this._options=new Nhe(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new Nhe(this._context.configuration);return this._options.equals(t)?e.hasChanged(146):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber-t+1,s=new Array(r);for(let a=0;a<r;a++)s[a]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,s);this._renderResult=[];for(let a=e.viewportData.startLineNumber;a<=e.viewportData.endLineNumber;a++){const l=a-e.viewportData.startLineNumber,c=o.data[l];let u=null;if(this._options.renderWhitespace==="selection"){const d=this._selection;for(const h of d){if(h.endLineNumber<a||h.startLineNumber>a)continue;const f=h.startLineNumber===a?h.startColumn:c.minColumn,p=h.endLineNumber===a?h.endColumn:c.maxColumn;f<p&&(u||(u=[]),u.push(new oSe(f-1,p-1)))}}this._renderResult[l]=this._applyRenderWhitespace(e,a,u,c)}}_applyRenderWhitespace(e,t,i,r){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&r.continuesWithWrappedLine)return"";const s=this._context.theme.getColor(bG),o=this._options.renderWithSVG,a=r.content,l=this._options.stopRenderingLineAfter===-1?a.length:Math.min(this._options.stopRenderingLineAfter,a.length),c=r.continuesWithWrappedLine,u=r.minColumn-1,d=this._options.renderWhitespace==="boundary",h=this._options.renderWhitespace==="trailing",f=this._options.lineHeight,p=this._options.middotWidth,m=this._options.wsmiddotWidth,v=this._options.spaceWidth,C=Math.abs(m-v),y=Math.abs(p-v),w=C<y?11825:183,_=this._options.canUseHalfwidthRightwardsArrow;let x="",k=!1,D=Oa(a),T;D===-1?(k=!0,D=l,T=l):T=Wv(a);let L=0,I=i&&i[L],R=0;for(let N=u;N<l;N++){const O=a.charCodeAt(N);if(I&&N>=I.endOffset&&(L++,I=i&&i[L]),O!==9&&O!==32||h&&!k&&N<=T)continue;if(d&&N>=D&&N<=T&&O===32){const A=N-1>=0?a.charCodeAt(N-1):0,H=N+1<l?a.charCodeAt(N+1):0;if(A!==32&&H!==32)continue}if(d&&c&&N===l-1){const A=N-1>=0?a.charCodeAt(N-1):0;if(O===32&&A!==32&&A!==9)continue}if(i&&(!I||I.startOffset>N||I.endOffset<=N))continue;const F=e.visibleRangeForPosition(new Pe(t,N+1));F&&(o?(R=Math.max(R,F.left),O===9?x+=this._renderArrow(f,v,F.left):x+=`<circle cx="${(F.left+v/2).toFixed(2)}" cy="${(f/2).toFixed(2)}" r="${(v/7).toFixed(2)}" />`):O===9?x+=`<div class="mwh" style="left:${F.left}px;height:${f}px;">${_?"":""}</div>`:x+=`<div class="mwh" style="left:${F.left}px;height:${f}px;">${String.fromCharCode(w)}</div>`)}return o?(R=Math.round(R+v),`<svg style="bottom:0;position:absolute;width:${R}px;height:${f}px" viewBox="0 0 ${R} ${f}" xmlns="http://www.w3.org/2000/svg" fill="${s}">`+x+"</svg>"):x}_renderArrow(e,t,i){const r=t/7,s=t,o=e/2,a=i,l={x:0,y:r/2},c={x:100/125*s,y:l.y},u={x:c.x-.2*c.x,y:c.y+.2*c.x},d={x:u.x+.1*c.x,y:u.y+.1*c.x},h={x:d.x+.35*c.x,y:d.y-.35*c.x},f={x:h.x,y:-h.y},p={x:d.x,y:-d.y},m={x:u.x,y:-u.y},v={x:c.x,y:-c.y},C={x:l.x,y:-l.y};return`<path d="M ${[l,c,u,d,h,f,p,m,v,C].map(_=>`${(a+_.x).toFixed(2)} ${(o+_.y).toFixed(2)}`).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Nhe{constructor(e){const t=e.options,i=t.get(50),r=t.get(38);r==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):r==="svg"?(this.renderWhitespace=t.get(100),this.renderWithSVG=!0):(this.renderWhitespace=t.get(100),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(67),this.stopRenderingLineAfter=t.get(118)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class CSt{constructor(e,t,i,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.lineHeight=t.lineHeight|0,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new _e(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class _St{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class wSt{constructor(e,t,i){this.configuration=e,this.theme=new _St(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}var SSt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xSt=function(n,e){return function(t,i){e(t,i,n)}};let h$=class extends jL{constructor(e,t,i,r,s,o,a){super(),this._instantiationService=a,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new wi(1,1,1,1)],this._renderAnimationFrame=null;const l=new Mwt(t,r,s,e);this._context=new wSt(t,i,r),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(r$,this._context,l,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Wn(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Wn(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Wn(document.createElement("div")),Pu.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new zwt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new c$(this._context,this._linesContent),this._viewZones=new bSt(this._context),this._viewParts.push(this._viewZones);const c=new lSt(this._context);this._viewParts.push(c);const u=new hSt(this._context);this._viewParts.push(u);const d=new Nwt(this._context);this._viewParts.push(d),d.addDynamicOverlay(new Bwt(this._context)),d.addDynamicOverlay(new u$(this._context)),d.addDynamicOverlay(new Kwt(this._context)),d.addDynamicOverlay(new Vwt(this._context)),d.addDynamicOverlay(new ySt(this._context));const h=new Awt(this._context);this._viewParts.push(h),h.addDynamicOverlay(new Hwt(this._context)),h.addDynamicOverlay(new Jwt(this._context)),h.addDynamicOverlay(new Zwt(this._context)),h.addDynamicOverlay(new zM(this._context)),this._glyphMarginWidgets=new jwt(this._context),this._viewParts.push(this._glyphMarginWidgets);const f=new WM(this._context);f.getDomNode().appendChild(this._viewZones.marginDomNode),f.getDomNode().appendChild(h.getDomNode()),f.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(f),this._contentWidgets=new Owt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new d$(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new oSt(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const p=new dSt(this._context);this._viewParts.push(p);const m=new Pwt(this._context);this._viewParts.push(m);const v=new sSt(this._context);if(this._viewParts.push(v),c){const C=this._scrollbar.getOverviewRulerLayoutInfo();C.parent.insertBefore(c.getDomNode(),C.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(p.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(f.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(v.getDomNode()),this._overflowGuardContainer.appendChild(m.domNode),this.domNode.appendChild(this._overflowGuardContainer),o?(o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),o.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new Z_t(this._context,l,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const e=this._context.viewModel.model,t=this._context.viewModel.glyphLanes;let i=[],r=0;i=i.concat(e.getAllMarginDecorations().map(s=>{var a,l;const o=((a=s.options.glyphMargin)==null?void 0:a.position)??Pp.Center;return r=Math.max(r,s.range.endLineNumber),{range:s.range,lane:o,persist:(l=s.options.glyphMargin)==null?void 0:l.persistLane}})),i=i.concat(this._glyphMarginWidgets.getWidgets().map(s=>{const o=e.validateRange(s.preference.range);return r=Math.max(r,o.endLineNumber),{range:o,lane:s.preference.lane}})),i.sort((s,o)=>_e.compareRangesUsingStarts(s.range,o.range)),t.reset(r);for(const s of i)t.push(s.lane,s.range,s.persist);return t}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new V_t(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Pe(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(146);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(143)+" "+ZV(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){var e;if(this._store.isDisposed)throw new ti;if(this._renderAnimationFrame===null){const t=this._createCoordinatedRendering();this._renderAnimationFrame=f$.INSTANCE.scheduleCoordinatedRendering({window:Ft((e=this.domNode)==null?void 0:e.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new ti;try{return t.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new ti;return t.renderText()},prepareRender:(i,r)=>{if(this._store.isDisposed)throw new ti;return t.prepareRender(i,r)},render:(i,r)=>{if(this._store.isDisposed)throw new ti;return t.render(i,r)}})}}_flushAccumulatedAndRenderNow(){const e=this._createCoordinatedRendering();up(()=>e.prepareRenderText());const t=up(()=>e.renderText());if(t){const[i,r]=t;up(()=>e.prepareRender(i,r)),up(()=>e.render(i,r))}}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const e=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(e.requiredLanes)}cp.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return null;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new CSt(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender()),[e,new N_t(this._context.viewLayout,i,this._viewLines)]},prepareRender:(e,t)=>{for(const i of e)i.prepareRender(t)},render:(e,t)=>{for(const i of e)i.render(t),i.onDidRender()}}}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new Pe(r.lineNumber,r.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?kP.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new uSt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i,r,s;this._contentWidgets.setWidgetPosition(e.widget,((t=e.position)==null?void 0:t.position)??null,((i=e.position)==null?void 0:i.secondaryPosition)??null,((r=e.position)==null?void 0:r.preference)??null,((s=e.position)==null?void 0:s.positionAffinity)??null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){this._overlayWidgets.setWidgetPosition(e.widget,e.position)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};h$=SSt([xSt(6,ui)],h$);function up(n){try{return n()}catch(e){return _i(e),null}}const QR=class QR{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(e){return this._coordinatedRenderings.push(e),this._scheduleRender(e.window),{dispose:()=>{const t=this._coordinatedRenderings.indexOf(e);if(t!==-1&&(this._coordinatedRenderings.splice(t,1),this._coordinatedRenderings.length===0)){for(const[i,r]of this._animationFrameRunners)r.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(e){if(!this._animationFrameRunners.has(e)){const t=()=>{this._animationFrameRunners.delete(e),this._onRenderScheduled()};this._animationFrameRunners.set(e,BCe(e,t,100))}}_onRenderScheduled(){const e=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const i of e)up(()=>i.prepareRenderText());const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=up(()=>s.renderText())}for(let i=0,r=e.length;i<r;i++){const s=e[i],o=t[i];if(!o)continue;const[a,l]=o;up(()=>s.prepareRender(a,l))}for(let i=0,r=e.length;i<r;i++){const s=e[i],o=t[i];if(!o)continue;const[a,l]=o;up(()=>s.render(a,l))}}};QR.INSTANCE=new QR;let f$=QR;class ox{constructor(e,t,i,r,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let r=this.breakOffsets[e]-t;return e>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let r=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&r>this.injectionOffsets[s];s++)r<this.injectionOffsets[s]+this.injectionOptions[s].content.length?r=this.injectionOffsets[s]:r-=this.injectionOptions[s].content.length;return r}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)i+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,r=this.breakOffsets.length-1,s=0,o=0;for(;i<=r;){s=i+(r-i)/2|0;const l=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,t===0)if(e<=o)r=s-1;else if(e>l)i=s+1;else break;else if(e<o)r=s-1;else if(e>=l)i=s+1;else break}let a=e-o;return s>0&&(a+=this.wrappedTextIndentLength),new x2(s,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,i);if(s!==r)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new x2(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const r=this.getOutputLineCount()-1;if(e<r&&t===this.getMaxOutputOffset(e))return new x2(e+1,this.getMinOutputOffset(e+1))}return new x2(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&Ahe(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let r=i.offsetInInputWithInjections;if(Phe(this.injectionOptions[i.injectedTextIndex].cursorStops))return r;let s=i.injectedTextIndex-1;for(;s>=0&&this.injectionOffsets[s]===this.injectionOffsets[i.injectedTextIndex]&&!(Ahe(this.injectionOptions[s].cursorStops)||(r-=this.injectionOptions[s].content.length,Phe(this.injectionOptions[s].cursorStops)));)s--;return r}}else if(t===1||t===4){let r=i.offsetInInputWithInjections+i.length,s=i.injectedTextIndex;for(;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)r+=this.injectionOptions[s+1].content.length,s++;return r}else if(t===0||t===3){let r=i.offsetInInputWithInjections,s=i.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)r-=this.injectionOptions[s-1].content.length,s--;return r}Eq()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.getInjectedTextAtOffset(i);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let r=0;for(let s=0;s<t.length;s++){const o=i[s].content.length,a=t[s]+r,l=t[s]+r+o;if(a>e)break;if(e<=l)return{injectedTextIndex:s,offsetInInputWithInjections:a,length:o};r+=o}}}}function Ahe(n){return n==null?!0:n===e0.Right||n===e0.Both}function Phe(n){return n==null?!0:n===e0.Left||n===e0.Both}class x2{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Pe(e+this.outputLineIndex,this.outputOffset+1)}}const F6=Qv("domLineBreaksComputer",{createHTML:n=>n});class cK{static create(e){return new cK(new WeakRef(e))}constructor(e){this.targetWindow=e}createLineBreaksComputer(e,t,i,r,s){const o=[],a=[];return{addRequest:(l,c,u)=>{o.push(l),a.push(c)},finalize:()=>kSt(Bye(this.targetWindow.deref()),o,e,t,i,r,s,a)}}}function kSt(n,e,t,i,r,s,o,a){function l(L){const I=a[L];if(I){const R=Ru.applyInjectedText(e[L],I),N=I.map(F=>F.options),O=I.map(F=>F.column-1);return new ox(O,N,[R.length],[],0)}else return null}if(r===-1){const L=[];for(let I=0,R=e.length;I<R;I++)L[I]=l(I);return L}const c=Math.round(r*t.typicalHalfwidthCharacterWidth),d=Math.round(i*(s===3?2:s===2?1:0)),h=Math.ceil(t.spaceWidth*d),f=document.createElement("div");eo(f,t);const p=new $A(1e4),m=[],v=[],C=[],y=[],w=[];for(let L=0;L<e.length;L++){const I=Ru.applyInjectedText(e[L],a[L]);let R=0,N=0,O=c;if(s!==0)if(R=Oa(I),R===-1)R=0;else{for(let W=0;W<R;W++){const $=I.charCodeAt(W)===9?i-N%i:1;N+=$}const H=Math.ceil(t.spaceWidth*N);H+t.typicalFullwidthCharacterWidth>c?(R=0,N=0):O=c-H}const F=I.substr(R),A=LSt(F,N,i,O,p,h);m[L]=R,v[L]=N,C[L]=F,y[L]=A[0],w[L]=A[1]}const _=p.build(),x=(F6==null?void 0:F6.createHTML(_))??_;f.innerHTML=x,f.style.position="absolute",f.style.top="10000",o==="keepAll"?(f.style.wordBreak="keep-all",f.style.overflowWrap="anywhere"):(f.style.wordBreak="inherit",f.style.overflowWrap="break-word"),n.document.body.appendChild(f);const k=document.createRange(),D=Array.prototype.slice.call(f.children,0),T=[];for(let L=0;L<e.length;L++){const I=D[L],R=ESt(k,I,C[L],y[L]);if(R===null){T[L]=l(L);continue}const N=m[L],O=v[L]+d,F=w[L],A=[];for(let U=0,z=R.length;U<z;U++)A[U]=F[R[U]];if(N!==0)for(let U=0,z=R.length;U<z;U++)R[U]+=N;let H,W;const $=a[L];$?(H=$.map(U=>U.options),W=$.map(U=>U.column-1)):(H=null,W=null),T[L]=new ox(W,H,R,A,O)}return f.remove(),T}function LSt(n,e,t,i,r,s){if(s!==0){const h=String(s);r.appendString('<div style="text-indent: -'),r.appendString(h),r.appendString("px; padding-left: "),r.appendString(h),r.appendString("px; box-sizing: border-box; width:")}else r.appendString('<div style="width:');r.appendString(String(i)),r.appendString('px;">');const o=n.length;let a=e,l=0;const c=[],u=[];let d=0<o?n.charCodeAt(0):0;r.appendString("<span>");for(let h=0;h<o;h++){h!==0&&h%16384===0&&r.appendString("</span><span>"),c[h]=l,u[h]=a;const f=d;d=h+1<o?n.charCodeAt(h+1):0;let p=1,m=1;switch(f){case 9:p=t-a%t,m=p;for(let v=1;v<=p;v++)v<p?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 32:d===32?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 60:r.appendString("&lt;");break;case 62:r.appendString("&gt;");break;case 38:r.appendString("&amp;");break;case 0:r.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.appendCharCode(65533);break;default:Np(f)&&m++,f<32?r.appendCharCode(9216+f):r.appendCharCode(f)}l+=p,a+=m}return r.appendString("</span>"),c[n.length]=l,u[n.length]=a,r.appendString("</div>"),[c,u]}function ESt(n,e,t,i){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),s=[];try{g$(n,r,i,0,null,t.length-1,null,s)}catch(o){return console.log(o),null}return s.length===0?null:(s.push(t.length),s)}function g$(n,e,t,i,r,s,o,a){if(i===s||(r=r||B6(n,e,t[i],t[i+1]),o=o||B6(n,e,t[s],t[s+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(i+1===s){a.push(s);return}const l=i+(s-i)/2|0,c=B6(n,e,t[l],t[l+1]);g$(n,e,t,i,r,l,c,a),g$(n,e,t,l,c,s,o,a)}function B6(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}class DSt extends je{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new nq),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const r of t){if(this._pending.has(r.id)){_i(new Error(`Cannot have two contributions with the same id ${r.id}`));continue}this._pending.set(r.id,r)}this._instantiateSome(0),this._register(GD(Ft(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(GD(Ft(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(GD(Ft(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)typeof i.saveViewState=="function"&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)typeof i.restoreViewState=="function"&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var e;return GD(Ft((e=this._editor)==null?void 0:e.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const i=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,i),typeof i.restoreViewState=="function"&&t.instantiation!==0&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(i){_i(i)}}}}class DSe{constructor(e,t,i,r,s,o,a){this.id=e,this.label=t,this.alias=i,this.metadata=r,this._precondition=s,this._run=o,this._contextKeyService=a}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}class uK{static create(e){return new uK(e.get(135),e.get(134))}constructor(e,t){this.classifier=new TSt(e,t)}createLineBreaksComputer(e,t,i,r,s){const o=[],a=[],l=[];return{addRequest:(c,u,d)=>{o.push(c),a.push(u),l.push(d)},finalize:()=>{const c=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,u=[];for(let d=0,h=o.length;d<h;d++){const f=a[d],p=l[d];p&&!p.injectionOptions&&!f?u[d]=ISt(this.classifier,p,o[d],t,i,c,r,s):u[d]=MSt(this.classifier,o[d],f,t,i,c,r,s)}return p$.length=0,m$.length=0,u}}}}class TSt extends TL{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let p$=[],m$=[];function ISt(n,e,t,i,r,s,o,a){if(r===-1)return null;const l=t.length;if(l<=1)return null;const c=a==="keepAll",u=e.breakOffsets,d=e.breakOffsetsVisibleColumn,h=TSe(t,i,r,s,o),f=r-h,p=p$,m=m$;let v=0,C=0,y=0,w=r;const _=u.length;let x=0;if(x>=0){let k=Math.abs(d[x]-w);for(;x+1<_;){const D=Math.abs(d[x+1]-w);if(D>=k)break;k=D,x++}}for(;x<_;){let k=x<0?0:u[x],D=x<0?0:d[x];C>k&&(k=C,D=y);let T=0,L=0,I=0,R=0;if(D<=w){let O=D,F=k===0?0:t.charCodeAt(k-1),A=k===0?0:n.get(F),H=!0;for(let W=k;W<l;W++){const $=W,U=t.charCodeAt(W);let z,K;if(hs(U)?(W++,z=0,K=2):(z=n.get(U),K=ax(U,O,i,s)),$>C&&b$(F,A,U,z,c)&&(T=$,L=O),O+=K,O>w){$>C?(I=$,R=O-K):(I=W+1,R=O),O-L>f&&(T=0),H=!1;break}F=U,A=z}if(H){v>0&&(p[v]=u[u.length-1],m[v]=d[u.length-1],v++);break}}if(T===0){let O=D,F=t.charCodeAt(k),A=n.get(F),H=!1;for(let W=k-1;W>=C;W--){const $=W+1,U=t.charCodeAt(W);if(U===9){H=!0;break}let z,K;if(QC(U)?(W--,z=0,K=2):(z=n.get(U),K=Np(U)?s:1),O<=w){if(I===0&&(I=$,R=O),O<=w-f)break;if(b$(U,z,F,A,c)){T=$,L=O;break}}O-=K,F=U,A=z}if(T!==0){const W=f-(R-L);if(W<=i){const $=t.charCodeAt(I);let U;hs($)?U=2:U=ax($,R,i,s),W-U<0&&(T=0)}}if(H){x--;continue}}if(T===0&&(T=I,L=R),T<=C){const O=t.charCodeAt(C);hs(O)?(T=C+2,L=y+2):(T=C+1,L=y+ax(O,y,i,s))}for(C=T,p[v]=T,y=L,m[v]=L,v++,w=L+f;x<0||x<_&&d[x]<L;)x++;let N=Math.abs(d[x]-w);for(;x+1<_;){const O=Math.abs(d[x+1]-w);if(O>=N)break;N=O,x++}}return v===0?null:(p.length=v,m.length=v,p$=e.breakOffsets,m$=e.breakOffsetsVisibleColumn,e.breakOffsets=p,e.breakOffsetsVisibleColumn=m,e.wrappedTextIndentLength=h,e)}function MSt(n,e,t,i,r,s,o,a){const l=Ru.applyInjectedText(e,t);let c,u;if(t&&t.length>0?(c=t.map(L=>L.options),u=t.map(L=>L.column-1)):(c=null,u=null),r===-1)return c?new ox(u,c,[l.length],[],0):null;const d=l.length;if(d<=1)return c?new ox(u,c,[l.length],[],0):null;const h=a==="keepAll",f=TSe(l,i,r,s,o),p=r-f,m=[],v=[];let C=0,y=0,w=0,_=r,x=l.charCodeAt(0),k=n.get(x),D=ax(x,0,i,s),T=1;hs(x)&&(D+=1,x=l.charCodeAt(1),k=n.get(x),T++);for(let L=T;L<d;L++){const I=L,R=l.charCodeAt(L);let N,O;hs(R)?(L++,N=0,O=2):(N=n.get(R),O=ax(R,D,i,s)),b$(x,k,R,N,h)&&(y=I,w=D),D+=O,D>_&&((y===0||D-w>p)&&(y=I,w=D-O),m[C]=y,v[C]=w,C++,_=w+p,y=0),x=R,k=N}return C===0&&(!t||t.length===0)?null:(m[C]=d,v[C]=D,new ox(u,c,m,v,f))}function ax(n,e,t,i){return n===9?t-e%t:Np(n)||n<32?i:1}function Ohe(n,e){return e-n%e}function b$(n,e,t,i,r){return t!==32&&(e===2&&i!==2||e!==1&&i===1||!r&&e===3&&i!==2||!r&&i===3&&e!==1)}function TSe(n,e,t,i,r){let s=0;if(r!==0){const o=Oa(n);if(o!==-1){for(let l=0;l<o;l++){const c=n.charCodeAt(l)===9?Ohe(s,e):1;s+=c}const a=r===3?2:r===2?1:0;for(let l=0;l<a;l++){const c=Ohe(s,e);s+=c}s+i>t&&(s=0)}}return s}class QM{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new _s(new _e(1,1,1,1),0,0,new Pe(1,1),0),new _s(new _e(1,1,1,1),0,0,new Pe(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new En(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?wi.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):wi.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,r){return t.equals(i)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,r=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),o=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,r,i,o),l=this._validatePositionWithCache(e,s,r,a);return i.equals(o)&&r.equals(a)&&s.equals(l)?t:new _s(_e.fromPositions(a,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+r.column-a.column,o,t.leftoverVisibleColumns+i.column-o.column)}_setState(e,t,i){if(i&&(i=QM._validateViewState(e.viewModel,i)),t){const r=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new _s(r,t.selectionStartKind,s,o,a)}else{if(!i)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new _s(r,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}if(i){const r=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new _s(r,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new Pe(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new Pe(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new _e(r.lineNumber,r.column,s.lineNumber,s.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new _s(o,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class Fhe{constructor(e){this.context=e,this.cursors=[new QM(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return Sut(this.cursors,Dc(e=>e.viewState.position,Pe.compare)).viewState.position}getBottomMostViewPosition(){return wut(this.cursors,Dc(e=>e.viewState.position,Pe.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(En.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const r=i-t;for(let s=0;s<r;s++)this._addSecondaryCursor()}else if(t>i){const r=t-i;for(let s=0;s<r;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let r=0;r<i;r++)this.cursors[r+1].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new QM(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,r=e.length;i<r;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Dc(i=>i.selection,_e.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const r=t[i],s=t[i+1],o=r.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||o.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(o.getEndPosition()):l=a.getStartPosition().isBefore(o.getEndPosition()),l){const c=r.index<s.index?i:i+1,u=r.index<s.index?i+1:i,d=t[u].index,h=t[c].index,f=t[u].selection,p=t[c].selection;if(!f.equalsSelection(p)){const m=f.plusRange(p),v=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,C=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn;let y;d===this.lastAddedCursorIndex?(y=v,this.lastAddedCursorIndex=h):y=C;let w;y?w=new wi(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):w=new wi(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),t[c].selection=w;const _=En.fromModelSelection(w);e[h].setState(this.context,_.modelState,_.viewState)}for(const m of t)m.index>d&&m.index--;e.splice(d,1),t.splice(u,1),this._removeSecondaryCursor(d-1),i--}}}}class Bhe{constructor(e,t,i,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=r}}class RSt{constructor(){this.type=0}}class NSt{constructor(){this.type=1}}class ASt{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class PSt{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class Am{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin,this.affectsLineNumber=e.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class k2{constructor(){this.type=5}}class OSt{constructor(e){this.type=6,this.isFocused=e}}class FSt{constructor(){this.type=7}}class L2{constructor(){this.type=8}}class ISe{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class v${constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class y${constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class lx{constructor(e,t,i,r,s,o,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=r,this.verticalType=s,this.revealHorizontal=o,this.scrollType=a,this.type=12}}class BSt{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class HSt{constructor(e){this.theme=e,this.type=14}}class VSt{constructor(e){this.type=15,this.ranges=e}}class zSt{constructor(){this.type=16}}let WSt=class{constructor(){this.type=17}};class $St extends je{constructor(){super(),this._onEvent=this._register(new ke),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const r=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(r){this._outgoingEvents[t]=r;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new jSt),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class jSt{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class dK{constructor(e,t,i,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new dK(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class hK{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new hK(this.oldHasFocus,e.hasFocus)}}class fK{constructor(e,t,i,r,s,o,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=r,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new fK(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class USt{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class qSt{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class YM{constructor(e,t,i,r,s,o,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=r,this.source=s,this.reason=o,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return YM._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new YM(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class GSt{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class KSt{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class QSt{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class YSt{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class XSt{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class ZSt{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class JSt{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class ext extends je{constructor(e,t,i,r){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Bhe(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new Fhe(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Us(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Bhe(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,r){let s=!1;const o=this.context.cursorConfig.multiCursorLimit;r!==null&&r.length>o&&(r=r.slice(0,o),s=!0);const a=cx.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,a,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealAll(e,t,i,r,s,o){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=_e.fromPositions(a[0],a[0]),e.emitViewEvent(new lx(t,i,l,c,r,s,o))}revealPrimary(e,t,i,r,s,o){const l=[this._cursors.getPrimaryCursor().viewState.selection];e.emitViewEvent(new lx(t,i,null,l,r,s,o))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return e}restoreState(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];let a=1,l=1;o.position&&o.position.lineNumber&&(a=o.position.lineNumber),o.position&&o.position.column&&(l=o.position.column);let c=a,u=l;o.selectionStart&&o.selectionStart.lineNumber&&(c=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(u=o.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:u,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,En.fromModelSelections(i)),this.revealAll(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof xwe){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const r=i.containsEvent(1);if(this._prevEditOperationType=0,r)this._cursors.dispose(),this._cursors=new Fhe(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const s=En.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,s)&&this.revealAll(e,"modelChange",!1,0,!0,0)}else{const s=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,En.fromModelSelections(s))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,r){this.setStates(e,t,r,En.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],r=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const s=this._model.deltaDecorations([],i),o=this._model.deltaDecorations([],r);this._autoClosedActions.push(new Hhe(this._model,s,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=txt.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],r=[];for(let s=0;s<e.commands.length;s++){const o=e.commands[s];o instanceof sK&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),r.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,r,s){const o=cx.from(this._model,this);if(o.equals(r))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new PSt(l,a,i)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((c,u)=>!c.modelState.equals(r.cursorState[u].modelState))){const c=r?r.cursorState.map(d=>d.modelState.selection):null,u=r?r.modelVersionId:0;e.emitOutgoingEvent(new YM(c,a,u,o.modelVersionId,t||"keyboard",i,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.text||s.text.indexOf(`
`)>=0)return null;const o=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const a=o[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,u=s.text.length-o[2].length-1,d=s.text.lastIndexOf(c,u-1);if(d===-1)return null;t.push([d,u])}return t}executeEdits(e,t,i,r){let s=null;t==="snippet"&&(s=this._findAutoClosingPairs(i)),s&&(i[0]._isTracked=!0);const o=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(s)for(let d=0,h=s.length;d<h;d++){const[f,p]=s[d],m=c[d],v=m.range.startLineNumber,C=m.range.startColumn-1+f,y=m.range.startColumn-1+p;o.push(new _e(v,y+1,v,y+2)),a.push(new _e(v,C+1,v,y+2))}const u=r(c);return u&&(this._isHandling=!0),u});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),o.length>0&&this._pushAutoClosedAction(o,a)}_executeEdit(e,t,i,r=0){if(this.context.cursorConfig.readOnly)return;const s=cx.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){_i(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,r,s,!1)&&this.revealAll(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return Hhe.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new ux(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(ub.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const r=t.length;let s=0;for(;s<r;){const o=dq(t,s),a=t.substr(s,o);this._executeEditOperation(ub.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),s+=o}}else this._executeEditOperation(ub.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,r,s,o){if(t.length===0&&i===0&&r===0){if(s!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new wi(c.lineNumber,c.column+s,c.lineNumber,c.column+s)});this.setSelections(e,o,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(ub.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,r,s))},e,o)}paste(e,t,i,r,s){this._executeEdit(()=>{this._executeEditOperation(ub.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,r||[]))},e,s,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(_v.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ma(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new ma(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}class cx{static from(e,t){return new cx(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class Hhe{static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(_e.compareRangesUsingStarts),e.sort(_e.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class txt{static executeCommands(e,t,i){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(r,i);for(let o=0,a=r.trackedRanges.length;o<a;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const r=i.operations,s=this._getLoserCursorMap(r);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const o=[];for(let c=0,u=r.length;c<u;c++)s.hasOwnProperty(r[c].identifier.major.toString())||o.push(r[c]);i.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,o,c=>{const u=[];for(let f=0;f<e.selectionsBefore.length;f++)u[f]=[];for(const f of c)f.identifier&&u[f.identifier.major].push(f);const d=(f,p)=>f.identifier.minor-p.identifier.minor,h=[];for(let f=0;f<e.selectionsBefore.length;f++)u[f].length>0?(u[f].sort(d),h[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>u[f],getTrackedSelection:p=>{const m=parseInt(p,10),v=e.model._getTrackedRange(e.trackedRanges[m]);return e.trackedRangesDirection[m]===0?new wi(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new wi(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}})):h[f]=e.selectionsBefore[f];return h});a||(a=e.selectionsBefore);const l=[];for(const c in s)s.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,u)=>u-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],r=!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a){const l=this._getEditOperationsFromCommand(e,s,a);i=i.concat(l.operations),r=r||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,i){const r=[];let s=0;const o=(d,h,f=!1)=>{_e.isEmpty(d)&&h===""||r.push({identifier:{major:t,minor:s++},range:d,text:h,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const u={addEditOperation:o,addTrackedEditOperation:(d,h,f)=>{a=!0,o(d,h,f)},trackSelection:(d,h)=>{const f=wi.liftSelection(d);let p;if(f.isEmpty())if(typeof h=="boolean")h?p=2:p=3;else{const C=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===C?p=2:p=3}else p=1;const m=e.trackedRanges.length,v=e.model._setTrackedRange(null,f,p);return e.trackedRanges[m]=v,e.trackedRangesDirection[m]=f.getDirection(),m.toString()}};try{i.getEditOperations(e.model,u)}catch(d){return _i(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,r)=>-_e.compareRangesUsingEnds(i.range,r.range));const t={};for(let i=1;i<e.length;i++){const r=e[i-1],s=e[i];if(_e.getStartPosition(r.range).isBefore(_e.getEndPosition(s.range))){let o;r.identifier.major>s.identifier.major?o=r.identifier.major:o=s.identifier.major,t[o.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class nxt{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class ux{static _capture(e,t){const i=[];for(const r of t){if(r.startLineNumber!==r.endLineNumber)return null;i.push(new nxt(e.getLineContent(r.startLineNumber),r.startColumn-1,r.endColumn-1))}return i}constructor(e,t){this._original=ux._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=ux._capture(e,t);if(!i||this._original.length!==i.length)return null;const r=[];for(let s=0,o=this._original.length;s<o;s++)r.push(ux._deduceOutcome(this._original[s],i[s]));return r}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,mV(e.text,t.text)),r=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,bV(e.text,t.text)),s=e.text.substring(i,e.text.length-r),o=t.text.substring(i,t.text.length-r);return new Twt(s,e.startSelection-i,e.endSelection-i,o,t.startSelection-i,t.endSelection-i)}}class ixt{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,r)}}class rxt{constructor(e,t,i,r,s){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=r,this.minWidth=s,this.prefixSum=0}}var wp;let sxt=(wp=class{constructor(e,t,i,r){this._instanceId=vCe(++wp.INSTANCE_COUNT),this._pendingChanges=new ixt,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let r=0,s=e.length;for(;r<s;){const o=r+s>>>1;t===e[o].afterLineNumber?i<e[o].ordinal?s=o:r=o+1:t<e[o].afterLineNumber?s=o:r=o+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,s,o,a)=>{t=!0,r=r|0,s=s|0,o=o|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new rxt(l,r,s,o,a)),l},changeOneWhitespace:(r,s,o)=>{t=!0,s=s|0,o=o|0,this._pendingChanges.change({id:r,newAfterLineNumber:s,newHeight:o})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const r=new Set;for(const l of i)r.add(l.id);const s=new Map;for(const l of t)s.set(l.id,l);const o=l=>{const c=[];for(const u of l)if(!r.has(u.id)){if(s.has(u.id)){const d=s.get(u.id);u.afterLineNumber=d.newAfterLineNumber,u.height=d.newHeight}c.push(u)}return c},a=o(this._arr).concat(o(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=wp.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,r=t.length;i<r;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==i&&(this._arr[r].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const s=this._arr[r];this._removeWhitespace(r),s.afterLineNumber=t,this._insertWhitespace(s)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&s<=t?this._arr[i].afterLineNumber=e-1:s>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,r=t.length-1;for(;i<=r;){const o=(r-i|0)/2|0,a=i+o|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+r+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+r+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let r=1,s=t;for(;r<s;){const o=(r+s)/2|0,a=this.getVerticalOffsetForLineNumber(o)|0;if(e>=a+i)r=o+1;else{if(e>=a)return o;s=o}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,s=this.getVerticalOffsetForLineNumber(r)|0;let o=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const l=this.getWhitespacesCount()|0;let c,u;a===-1?(a=l,u=o+1,c=0):(u=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let d=s,h=d;const f=5e5;let p=0;s>=f&&(p=Math.floor(s/f)*f,p=Math.floor(p/i)*i,h-=p);const m=[],v=e+(t-e)/2;let C=-1;for(let x=r;x<=o;x++){if(C===-1){const k=d,D=d+i;(k<=v&&v<D||k>v)&&(C=x)}for(d+=i,m[x-r]=h,h+=i;u===x;)h+=c,d+=c,a++,a>=l?u=o+1:(u=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(d>=t){o=x;break}}C===-1&&(C=o);const y=this.getVerticalOffsetForLineNumber(o)|0;let w=r,_=o;return w<_&&s<e&&w++,w<_&&y+i>t&&_--,{bigNumbersDelta:p,startLineNumber:r,endLineNumber:o,relativeVerticalOffset:m,centeredLineNumber:C,completelyVisibleStartLineNumber:w,completelyVisibleEndLineNumber:_,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,i+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(e>=r+s)return-1;for(;t<i;){const o=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(e>=a+l)t=o+1;else{if(e>=a)return o;i=o}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const r=this.getHeightForWhitespaceIndex(t),s=this.getIdForWhitespaceIndex(t),o=this.getAfterLineNumberForWhitespaceIndex(t);return{id:s,afterLineNumber:o,verticalOffset:i,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(i<0)return[];const s=[];for(let o=i;o<=r;o++){const a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(a>=t)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:a,height:l})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}},wp.INSTANCE_COUNT=0,wp);const oxt=125;class bS{constructor(e,t,i,r){e=e|0,t=t|0,i=i|0,r=r|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class axt extends je{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ke),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new bS(0,0,0,0),this._scrollable=this._register(new t_({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(i||r)&&this._onDidContentSizeChange.fire(new dK(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class lxt extends je{constructor(e,t,i){super(),this._configuration=e;const r=this._configuration.options,s=r.get(146),o=r.get(84);this._linesLayout=new sxt(t,r.get(67),o.top,o.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new axt(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new bS(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(115)?oxt:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),e.hasChanged(84)){const i=t.get(84);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(146)){const i=t.get(146),r=i.contentWidth,s=i.height,o=this._scrollable.getScrollDimensions(),a=o.contentWidth;this._scrollable.setScrollDimensions(new bS(r,o.contentWidth,s,this._getContentHeight(r,s,a)))}else this._updateHeight();e.hasChanged(115)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(104);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,i){const r=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return r.get(106)?s+=Math.max(0,t-r.get(67)-r.get(84).bottom):r.get(104).ignoreHorizontalScrollbarInContentHeight||(s+=this._getHorizontalScrollbarHeight(e,i)),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new bS(t,e.contentWidth,i,this._getContentHeight(t,i,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new ahe(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new ahe(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(147),r=e.get(50),s=e.get(146);if(i.isViewportWrapping){const o=e.get(73);return t>s.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?t+s.verticalScrollbarWidth:t}else{const o=e.get(105)*r.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+o+s.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new bS(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class cxt{constructor(e,t,i,r,s){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=r,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,s=e.options;let o;if(s.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new Pe(r.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new Pe(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);o=new _e(a.lineNumber,a.column,l.lineNumber,l.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new cSe(o,s),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,i=!1){const r=new _e(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(r,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const r=this._linesCollection.getDecorationsInRange(e,this.editorId,xI(this.configuration.options),t,i),s=e.startLineNumber,o=e.endLineNumber,a=[];let l=0;const c=[];for(let u=s;u<=o;u++)c[u-s]=[];for(let u=0,d=r.length;u<d;u++){const h=r[u],f=h.options;if(!uxt(this.model,h))continue;const p=this._getOrCreateViewModelDecoration(h),m=p.range;if(a[l++]=p,f.inlineClassName){const v=new nx(m,f.inlineClassName,f.inlineClassNameAffectsLetterSpacing?3:0),C=Math.max(s,m.startLineNumber),y=Math.min(o,m.endLineNumber);for(let w=C;w<=y;w++)c[w-s].push(v)}if(f.beforeContentClassName&&s<=m.startLineNumber&&m.startLineNumber<=o){const v=new nx(new _e(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn),f.beforeContentClassName,1);c[m.startLineNumber-s].push(v)}if(f.afterContentClassName&&s<=m.endLineNumber&&m.endLineNumber<=o){const v=new nx(new _e(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn),f.afterContentClassName,2);c[m.endLineNumber-s].push(v)}}return{decorations:a,inlineDecorations:c}}}function uxt(n,e){return!(e.options.hideInCommentTokens&&dxt(n,e)||e.options.hideInStringTokens&&hxt(n,e))}function dxt(n,e){return MSe(n,e.range,t=>t===1)}function hxt(n,e){return MSe(n,e.range,t=>t===2)}function MSe(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const r=n.tokenization.getLineTokens(i),s=i===e.startLineNumber,o=i===e.endLineNumber;let a=s?r.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<r.getCount()&&!(o&&r.getStartOffset(a)>e.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}function H6(n,e){return n===null?e?XM.INSTANCE:ZM.INSTANCE:new fxt(n,e)}class fxt{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const r=i>0?this._projectionData.breakOffsets[i-1]:0,s=this._projectionData.breakOffsets[i];let o;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,u)=>new Ru(0,0,c+1,this._projectionData.injectionOptions[u],0));o=Ru.applyInjectedText(e.getLineContent(t),a).substring(r,s)}else o=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:s+1});return i>0&&(o=Vhe(this._projectionData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const r=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],r),r[0]}getViewLinesData(e,t,i,r,s,o,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,u=l.injectionOptions;let d=null;if(c){d=[];let f=0,p=0;for(let m=0;m<l.getOutputLineCount();m++){const v=new Array;d[m]=v;const C=m>0?l.breakOffsets[m-1]:0,y=l.breakOffsets[m];for(;p<c.length;){const w=u[p].content.length,_=c[p]+f,x=_+w;if(_>y)break;if(C<x){const k=u[p];if(k.inlineClassName){const D=m>0?l.wrappedTextIndentLength:0,T=D+Math.max(_-C,0),L=D+Math.min(x-C,y-C);T!==L&&v.push(new n_t(T,L,k.inlineClassName,k.inlineClassNameAffectsLetterSpacing))}}if(x<=y)f+=w,p++;else break}}}let h;c?h=e.tokenization.getLineTokens(t).withInserted(c.map((f,p)=>({offset:f,text:u[p].content,tokenMetadata:Ds.defaultTokenMetadata}))):h=e.tokenization.getLineTokens(t);for(let f=i;f<i+r;f++){const p=s+f-i;if(!o[p]){a[p]=null;continue}a[p]=this._getViewLineData(h,d?d[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();const r=this._projectionData,s=i>0?r.wrappedTextIndentLength:0,o=i>0?r.breakOffsets[i-1]:0,a=r.breakOffsets[i],l=e.sliceAndInflate(o,a,s);let c=l.getLineContent();i>0&&(c=Vhe(r.wrappedTextIndentLength)+c);const u=this._projectionData.getMinOutputOffset(i)+1,d=c.length+1,h=i+1<this.getViewLineCount(),f=i===0?0:r.breakOffsetsVisibleColumn[i-1];return new XG(c,h,u,d,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const r=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(r)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}const YR=class YR{constructor(){}isVisible(){return!0}setVisible(e){return e?this:ZM.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const r=e.tokenization.getLineTokens(t),s=r.getLineContent();return new XG(s,!1,1,s.length+1,0,r.inflate(),null)}getViewLinesData(e,t,i,r,s,o,a){if(!o[s]){a[s]=null;return}a[s]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Pe(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}};YR.INSTANCE=new YR;let XM=YR;const XR=class XR{constructor(){}isVisible(){return!1}setVisible(e){return e?XM.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,r,s,o,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}};XR.INSTANCE=new XR;let ZM=XR;const V6=[""];function Vhe(n){if(n>=V6.length)for(let e=1;e<=n;e++)V6[e]=gxt(e);return V6[n]}function gxt(n){return new Array(n+1).join(" ")}class pxt{constructor(e,t,i,r,s,o,a,l,c,u){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=s,this.tabSize=o,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this.wordBreak=u,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new bxt(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),s=i.length,o=this.createLineBreaksComputer(),a=new Rf(Ru.fromDecorations(r));for(let m=0;m<s;m++){const v=a.takeWhile(C=>C.lineNumber===m+1);o.addRequest(i[m],v,t?t[m]:null)}const l=o.finalize(),c=[],u=this.hiddenAreasDecorationIds.map(m=>this.model.getDecorationRange(m)).sort(_e.compareRangesUsingStarts);let d=1,h=0,f=-1,p=f+1<u.length?h+1:s+2;for(let m=0;m<s;m++){const v=m+1;v===p&&(f++,d=u[f].startLineNumber,h=u[f].endLineNumber,p=f+1<u.length?h+1:s+2);const C=v>=d&&v<=h,y=H6(l[m],!C);c[m]=y.getViewLineCount(),this.modelLineProjections[m]=y}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new ldt(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=mxt(t),r=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(_e.compareRangesUsingStarts);if(i.length===r.length){let h=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(r[f])){h=!0;break}if(!h)return!1}const s=i.map(h=>({range:h,options:Zr.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);const o=i;let a=1,l=0,c=-1,u=c+1<o.length?l+1:this.modelLineProjections.length+2,d=!1;for(let h=0;h<this.modelLineProjections.length;h++){const f=h+1;f===u&&(c++,a=o[c].startLineNumber,l=o[c].endLineNumber,u=c+1<o.length?l+1:this.modelLineProjections.length+2);let p=!1;if(f>=a&&f<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),p=!0):(d=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),p=!0)),p){const m=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,m)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,r,s){const o=this.fontInfo.equals(e),a=this.wrappingStrategy===t,l=this.wrappingColumn===i,c=this.wrappingIndent===r,u=this.wordBreak===s;if(o&&a&&l&&c&&u)return!1;const d=o&&a&&!l&&c&&u;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=r,this.wordBreak=s;let h=null;if(d){h=[];for(let f=0,p=this.modelLineProjections.length;f<p;f++)h[f]=this.modelLineProjections[f].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new v$(r,s)}onModelLinesInserted(e,t,i,r){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.modelLineProjections[t-2].isVisible(),o=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let u=0,d=r.length;u<d;u++){const h=H6(r[u],!s);l.push(h);const f=h.getViewLineCount();a+=f,c[u]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new y$(o,o+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const r=t-1,s=this.modelLineProjections[r].getViewLineCount(),o=this.modelLineProjections[r].isVisible(),a=H6(i,o);this.modelLineProjections[r]=a;const l=this.modelLineProjections[r].getViewLineCount();let c=!1,u=0,d=-1,h=0,f=-1,p=0,m=-1;s>l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+l-1,p=d+1,m=p+(s-l)-1,c=!0):s<l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+s-1,h=d+1,f=h+(l-s)-1,c=!0):(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=u+l-1),this.projectedModelLineLineCounts.setValue(r,l);const v=u<=d?new ISe(u,d-u+1):null,C=h<=f?new y$(h,f):null,y=p<=m?new v$(p,m):null;return[c,v,C,y]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(r.lineNumber,s.lineNumber,o.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,r=t.remainder;return new zhe(i+1,r)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Pe(e.modelLineNumber,r)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Pe(e.modelLineNumber,r)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),r=this.getViewLineInfo(t),s=new Array;let o=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=r.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const u=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,d=l===r.modelLineNumber?r.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let h=u;h<d;h++)a.push(new zhe(l,h))}if(!c.isVisible()&&o){const u=new Pe(l-1,this.model.getLineMaxColumn(l-1)+1),d=_e.fromPositions(o,u);s.push(new Whe(d,a)),a=[],o=null}else c.isVisible()&&!o&&(o=new Pe(l,1))}if(o){const l=_e.fromPositions(o,this.getModelEndPositionOfViewLine(r));s.push(new Whe(l,a))}return s}getViewLinesBracketGuides(e,t,i,r){const s=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,o=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,s,r);for(const u of a.viewLines){const h=c[u.modelLineNumber-l].map(f=>{if(f.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesAfterColumn).lineNumber>=u.modelLineWrappedLineIdx||f.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesBeforeOrAtColumn).lineNumber<u.modelLineWrappedLineIdx)return;if(!f.horizontalLine)return f;let p=-1;if(f.column!==-1){const C=this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.column);if(C.lineNumber===u.modelLineWrappedLineIdx)p=C.column;else if(C.lineNumber<u.modelLineWrappedLineIdx)p=this.getMinColumnOfViewLine(u);else if(C.lineNumber>u.modelLineWrappedLineIdx)return}const m=this.convertModelPositionToViewPosition(u.modelLineNumber,f.horizontalLine.endColumn),v=this.modelLineProjections[u.modelLineNumber-1].getViewPositionOfModelPosition(0,f.horizontalLine.endColumn);return v.lineNumber===u.modelLineWrappedLineIdx?new Lb(f.visibleColumn,p,f.className,new qS(f.horizontalLine.top,m.column),-1,-1):v.lineNumber<u.modelLineWrappedLineIdx||f.visibleColumn!==-1?void 0:new Lb(f.visibleColumn,p,f.className,new qS(f.horizontalLine.top,this.getMaxColumnOfViewLine(u)),-1,-1)});o.push(h.filter(f=>!!f))}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[];const o=[],a=[],l=i.lineNumber-1,c=r.lineNumber-1;let u=null;for(let p=l;p<=c;p++){const m=this.modelLineProjections[p];if(m.isVisible()){const v=m.getViewLineNumberOfModelPosition(0,p===l?i.column:1),C=m.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(p+1)),y=C-v+1;let w=0;y>1&&m.getViewLineMinColumn(this.model,p+1,C)===1&&(w=v===0?1:2),o.push(y),a.push(w),u===null&&(u=new Pe(p+1,0))}else u!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,p)),u=null)}u!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,r.lineNumber)),u=null);const d=t-e+1,h=new Array(d);let f=0;for(let p=0,m=s.length;p<m;p++){let v=s[p];const C=Math.min(d-f,o[p]),y=a[p];let w;y===2?w=0:y===1?w=1:w=C;for(let _=0;_<C;_++)_===w&&(v=0),h[f++]=v}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const r=this.projectedModelLineLineCounts.getIndexOf(e-1);let s=e;const o=r.index,a=r.remainder,l=[];for(let c=o,u=this.model.getLineCount();c<u;c++){const d=this.modelLineProjections[c];if(!d.isVisible())continue;const h=c===o?a:0;let f=d.getViewLineCount()-h,p=!1;if(s+f>t&&(p=!0,f=t-s+1),d.getViewLinesData(this.model,c+1,h,f,s-e,i,l),s+=f,p)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const r=this.projectedModelLineLineCounts.getIndexOf(e-1),s=r.index,o=r.remainder,a=this.modelLineProjections[s],l=a.getViewLineMinColumn(this.model,s+1,o),c=a.getViewLineMaxColumn(this.model,s+1,o);t<l&&(t=l),t>c&&(t=c);const u=a.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Pe(s+1,u)).equals(i)?new Pe(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new _e(i.lineNumber,i.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),r=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new Pe(i.modelLineNumber,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new _e(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2,r=!1,s=!1){const o=this.model.validatePosition(new Pe(e,t)),a=o.lineNumber,l=o.column;let c=a-1,u=!1;if(s)for(;c<this.modelLineProjections.length&&!this.modelLineProjections[c].isVisible();)c++,u=!0;else for(;c>0&&!this.modelLineProjections[c].isVisible();)c--,u=!0;if(c===0&&!this.modelLineProjections[c].isVisible())return new Pe(r?0:1,1);const d=1+this.projectedModelLineLineCounts.getPrefixSum(c);let h;return u?s?h=this.modelLineProjections[c].getViewPositionOfModelPosition(d,1,i):h=this.modelLineProjections[c].getViewPositionOfModelPosition(d,this.model.getLineMaxColumn(c+1),i):h=this.modelLineProjections[a-1].getViewPositionOfModelPosition(d,l,i),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return _e.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new _e(i.lineNumber,i.column,r.lineNumber,r.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const s=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(s,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,r,s){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(a.lineNumber-o.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new _e(o.lineNumber,1,a.lineNumber,a.column),t,i,r,s);let l=[];const c=o.lineNumber-1,u=a.lineNumber-1;let d=null;for(let m=c;m<=u;m++)if(this.modelLineProjections[m].isVisible())d===null&&(d=new Pe(m+1,m===c?o.column:1));else if(d!==null){const C=this.model.getLineMaxColumn(m);l=l.concat(this.model.getDecorationsInRange(new _e(d.lineNumber,d.column,m,C),t,i,r)),d=null}d!==null&&(l=l.concat(this.model.getDecorationsInRange(new _e(d.lineNumber,d.column,a.lineNumber,a.column),t,i,r)),d=null),l.sort((m,v)=>{const C=_e.compareRangesUsingStarts(m.range,v.range);return C===0?m.id<v.id?-1:m.id>v.id?1:0:C});const h=[];let f=0,p=null;for(const m of l){const v=m.id;p!==v&&(p=v,h[f++]=m)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function mxt(n){if(n.length===0)return[];const e=n.slice();e.sort(_e.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,o=e.length;s<o;s++){const a=e[s];a.startLineNumber>r+1?(t.push(new _e(i,1,r,1)),i=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return t.push(new _e(i,1,r,1)),t}class zhe{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class Whe{constructor(e,t){this.modelRange=e,this.viewLines=t}}class bxt{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,r){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,r)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class vxt{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new yxt(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,r){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new v$(t,i)}onModelLinesInserted(e,t,i,r){return new y$(t,i)}onModelLineChanged(e,t,i){return[!1,new ISe(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,r=new Array(i);for(let s=0;s<i;s++)r[s]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new XG(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);const s=[];for(let o=e;o<=t;o++){const a=o-e;s[a]=i[a]?this.getViewLineData(o):null}return s}getDecorationsInRange(e,t,i,r,s){return this.model.getDecorationsInRange(e,t,i,r,s)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class yxt{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}const Pm=Pp.Right;class Cxt{constructor(e){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((e+1)*Pm/8))}reset(e){const t=Math.ceil((e+1)*Pm/8);this.lanes.length<t?this.lanes=new Uint8Array(t):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(e,t,i){i&&(this.persist|=1<<e-1);for(let r=t.startLineNumber;r<=t.endLineNumber;r++){const s=Pm*r+(e-1);this.lanes[s>>>3]|=1<<s%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(r))}}getLanesAtLine(e){const t=[];let i=Pm*e;for(let r=0;r<Pm;r++)(this.persist&1<<r||this.lanes[i>>>3]&1<<i%8)&&t.push(r+1),i++;return t.length?t:[Pp.Center]}countAtLine(e){let t=Pm*e,i=0;for(let r=0;r<Pm;r++)(this.persist&1<<r||this.lanes[t>>>3]&1<<t%8)&&i++,t++;return i}}let _xt=class extends je{constructor(e,t,i,r,s,o,a,l,c,u){if(super(),this.languageConfigurationService=a,this._themeService=l,this._attachedView=c,this._transactionalTarget=u,this.hiddenAreasModel=new Sxt,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new $St,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new oy(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Lo(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=gK.create(this.model),this.glyphLanes=new Cxt(0),this.model.isTooLargeForTokenization())this._lines=new vxt(this.model);else{const d=this._configuration.options,h=d.get(50),f=d.get(140),p=d.get(147),m=d.get(139),v=d.get(130);this._lines=new pxt(this._editorId,this.model,r,s,h,this.model.getOptions().tabSize,f,p.wrappingColumn,m,v)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ext(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new lxt(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(d=>{d.scrollTopChanged&&this._handleVisibleLinesChanged(),d.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new BSt(d)),this._eventDispatcher.emitOutgoingEvent(new fK(d.oldScrollWidth,d.oldScrollLeft,d.oldScrollHeight,d.oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(d=>{this._eventDispatcher.emitOutgoingEvent(d)})),this._decorations=new cxt(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(d=>{try{const h=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(h,d)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(GM.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new zSt)})),this._register(this._themeService.onDidColorThemeChange(d=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new HSt(d))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new _e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new OSt(e)),this._eventDispatcher.emitOutgoingEvent(new hK(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new RSt)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new NSt)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new Pe(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new jhe(t,this._viewportStart.startLineDelta)}return new jhe(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),r=this._configuration.options,s=r.get(50),o=r.get(140),a=r.get(147),l=r.get(139),c=r.get(130);this._lines.setWrappingSettings(s,o,a.wrappingColumn,l,c)&&(e.emitViewEvent(new k2),e.emitViewEvent(new L2),e.emitViewEvent(new Am(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(92)&&(this._decorations.reset(),e.emitViewEvent(new Am(null))),t.hasChanged(99)&&(this._decorations.reset(),e.emitViewEvent(new Am(null))),e.emitViewEvent(new ASt(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),oy.shouldRecreate(t)&&(this.cursorConfig=new oy(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let r=!1,s=!1;const o=e instanceof Vb?e.rawContentChangedEvent.changes:e.changes,a=e instanceof Vb?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const d of o)switch(d.changeType){case 4:{for(let h=0;h<d.detail.length;h++){const f=d.detail[h];let p=d.injectedTexts[h];p&&(p=p.filter(m=>!m.ownerId||m.ownerId===this._editorId)),l.addRequest(f,p,null)}break}case 2:{let h=null;d.injectedText&&(h=d.injectedText.filter(f=>!f.ownerId||f.ownerId===this._editorId)),l.addRequest(d.detail,h,null);break}}const c=l.finalize(),u=new Rf(c);for(const d of o)switch(d.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new k2),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),r=!0;break}case 3:{const h=this._lines.onModelLinesDeleted(a,d.fromLineNumber,d.toLineNumber);h!==null&&(i.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),r=!0;break}case 4:{const h=u.takeCount(d.detail.length),f=this._lines.onModelLinesInserted(a,d.fromLineNumber,d.toLineNumber,h);f!==null&&(i.emitViewEvent(f),this.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),r=!0;break}case 2:{const h=u.dequeue(),[f,p,m,v]=this._lines.onModelLineChanged(a,d.lineNumber,h);s=f,p&&i.emitViewEvent(p),m&&(i.emitViewEvent(m),this.viewLayout.onLinesInserted(m.fromLineNumber,m.toLineNumber)),v&&(i.emitViewEvent(v),this.viewLayout.onLinesDeleted(v.fromLineNumber,v.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!r&&s&&(i.emitViewEvent(new L2),i.emitViewEvent(new Am(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const r=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),s=this.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber);this.viewLayout.setScrollPosition({scrollTop:s+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof Vb&&i.emitOutgoingEvent(new XSt(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,r=e.ranges.length;i<r;i++){const s=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Pe(s.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new Pe(s.toLineNumber,this.model.getLineMaxColumn(s.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new VSt(t)),this._eventDispatcher.emitOutgoingEvent(new JSt(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new FSt),this.cursorConfig=new oy(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new YSt(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new oy(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new QSt(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new k2),t.emitViewEvent(new L2),t.emitViewEvent(new Am(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new oy(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ZSt(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Am(e)),this._eventDispatcher.emitOutgoingEvent(new KSt(e))}))}setHiddenAreas(e,t){var o;this.hiddenAreasModel.setHiddenAreas(t,e);const i=this.hiddenAreasModel.getMergedRanges();if(i===this.previousHiddenAreas)return;this.previousHiddenAreas=i;const r=this._captureStableViewport();let s=!1;try{const a=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(i),s&&(a.emitViewEvent(new k2),a.emitViewEvent(new L2),a.emitViewEvent(new Am(null)),this._cursor.onLineMappingChanged(a),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const l=(o=r.viewportStartModelPosition)==null?void 0:o.lineNumber;l&&i.some(u=>u.startLineNumber<=l&&l<=u.endLineNumber)||r.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new qSt)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(146),t=this._configuration.options.get(67),i=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),s=Math.max(1,r.completelyVisibleStartLineNumber-i),o=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new _e(s,this.getLineMinColumn(s),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const r=[];let s=0,o=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let u=0,d=i.length;u<d;u++){const h=i[u].startLineNumber,f=i[u].endLineNumber;f<o||h>l||(o<h&&(r[s++]=new _e(o,a,h-1,this.model.getLineMaxColumn(h-1))),o=f+1,a=1)}return(o<l||o===l&&a<c)&&(r[s++]=new _e(o,a,l,c)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new _e(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new _e(i,this.getLineMinColumn(i),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new Pe(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:s}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,r){return this._lines.getViewLinesBracketGuides(e,t,i,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Oa(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Wv(this.getLineContent(e));return t===-1?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const r=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,r)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),o=this._lines.getViewLineData(e);return o.inlineDecorations&&(t=[...t,...o.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new ul(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,i,r,o.tokens,t,s,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const r=this._lines.getViewLinesData(e,t,i);return new t_t(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,xI(this._configuration.options)),i=new wxt;for(const r of t){const s=r.options,o=s.overviewRuler;if(!o)continue;const a=o.position;if(a===0)continue;const l=o.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.startLineNumber,r.range.startColumn),u=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.endLineNumber,r.range.endColumn);i.accept(l,s.zIndex,c,u,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i==null||i.invalidateCachedColor();const r=t.options.minimap;r==null||r.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e),r=this.model.modifyPosition(i,t);return this.coordinatesConverter.convertModelPositionToViewPosition(r)}deduceModelPositionRelativeToViewPosition(e,t,i){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(o)}getPlainTextToCopy(e,t,i){const r=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(_e.compareRangesUsingStarts);let s=!1,o=!1;for(const l of e)l.isEmpty()?s=!0:o=!0;if(!o){if(!t)return"";const l=e.map(u=>u.startLineNumber);let c="";for(let u=0;u<l.length;u++)u>0&&l[u-1]===l[u]||(c+=this.model.getLineContent(l[u])+r);return c}if(s&&t){const l=[];let c=0;for(const u of e){const d=u.startLineNumber;u.isEmpty()?d!==c&&l.push(this.model.getLineContent(d)):l.push(this.model.getValueInRange(u,i?2:0)),c=d}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===Tc||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const u=r.startLineNumber;r=new _e(u,this.model.getLineMinColumn(u),u,this.model.getLineMaxColumn(u))}const s=this._configuration.options.get(50),o=this._getColorMap(),l=/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===ol.fontFamily;let c;return l?c=ol.fontFamily:(c=s.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${ol.fontFamily}`),{mode:i,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${c};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,o)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=s;c++){const u=this.model.tokenization.getLineTokens(c),d=u.getLineContent(),h=c===i?r-1:0,f=c===s?o-1:d.length;d===""?l+="<br>":l+=upt(d,u.inflate(),t,h,f,a,Ba)}return l}_getColorMap(){const e=Rr.getColorMap(),t=["#000000"];if(e)for(let i=1,r=e.length;i<r;i++)t[i]=tt.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new GSt);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,r,s){this._executeCursorEdit(o=>this._cursor.compositionType(o,e,t,i,r,s))}paste(e,t,i,r){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,i,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealAllCursors(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealAll(r,e,i,0,t,0))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealPrimary(r,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new _e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new lx(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new _e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new lx(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,r,s){this._withViewEventsCollector(o=>o.emitViewEvent(new lx(e,!1,i,null,r,t,s)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new WSt),this._eventDispatcher.emitOutgoingEvent(new USt))}_withViewEventsCollector(e){return this._transactionalTarget.batchChanges(()=>{try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}})}batchEvents(e){this._withViewEventsCollector(()=>{e()})}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class gK{static create(e){const t=e._setTrackedRange(null,new _e(1,1,1,1),1);return new gK(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,r,s){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=r,this._startLineDelta=s}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new Pe(t,e.getLineMinColumn(t))),r=e.model._setTrackedRange(this._modelTrackedRange,new _e(i.lineNumber,i.column,i.lineNumber,i.column),1),s=e.viewLayout.getVerticalOffsetForLineNumber(t),o=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=r,this._startLineDelta=o-s}invalidate(){this._isValid=!1}}class wxt{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,r,s){const o=this._asMap[e];if(o){const a=o.data,l=a[a.length-3],c=a[a.length-1];if(l===s&&c+1>=i){r>c&&(a[a.length-1]=r);return}a.push(s,i,r)}else{const a=new kk(e,t,[s,i,r]);this._asMap[e]=a,this.asArray.push(a)}}}class Sxt{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&$he(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((t,i)=>xxt(t,i),[]);return $he(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function xxt(n,e){const t=[];let i=0,r=0;for(;i<n.length&&r<e.length;){const s=n[i],o=e[r];if(s.endLineNumber<o.startLineNumber-1)t.push(n[i++]);else if(o.endLineNumber<s.startLineNumber-1)t.push(e[r++]);else{const a=Math.min(s.startLineNumber,o.startLineNumber),l=Math.max(s.endLineNumber,o.endLineNumber);t.push(new _e(a,1,l,1)),i++,r++}}for(;i<n.length;)t.push(n[i++]);for(;r<e.length;)t.push(e[r++]);return t}function $he(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].equalsRange(e[t]))return!1;return!0}class jhe{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),r=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:r+this.startLineDelta},1)}}var kxt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Oh=function(n,e){return function(t,i){e(t,i,n)}},Um,Qb;let JM=(Qb=class extends je{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(e,t,i,r,s,o,a,l,c,u,d,h){super(),this.languageConfigurationService=d,this._deliveryQueue=got(),this._contributions=this._register(new DSt),this._onDidDispose=this._register(new ke),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Uhe({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Uhe({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new go(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new go(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new go(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new go(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new go(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new ke({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new ke),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new ke),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),s.willCreateCodeEditor();const f={...t};this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++Lxt,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,i.contextMenuId??(i.isSimpleWidget?Ws.SimpleEditorContext:Ws.EditorContext),f,u)),this._register(this._configuration.onDidChange(v=>{this._onDidChangeConfiguration.fire(v);const C=this._configuration.options;if(v.hasChanged(146)){const y=C.get(146);this._onDidLayoutChange.fire(y)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=s,this._commandService=o,this._themeService=l,this._register(new Dxt(this,this._contextKeyService)),this._register(new Txt(this,this._contextKeyService,h)),this._instantiationService=this._register(r.createChild(new o_([ii,this._contextKeyService]))),this._modelData=null,this._focusTracker=new Ixt(e,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let p;Array.isArray(i.contributions)?p=i.contributions:p=uC.getEditorContributions(),this._contributions.initialize(this,p,this._instantiationService);for(const v of uC.getEditorActions()){if(this._actions.has(v.id)){_i(new Error(`Cannot have two actions with the same id ${v.id}`));continue}const C=new DSe(v.id,v.label,v.alias,v.metadata,v.precondition??void 0,y=>this._instantiationService.invokeFunction(w=>Promise.resolve(v.runEditorCommand(w,this,y))),this._contextKeyService);this._actions.set(C.id,C)}const m=()=>!this._configuration.options.get(92)&&this._configuration.options.get(36).enabled;this._register(new _lt(this._domElement,{onDragOver:v=>{if(!m())return;const C=this.getTargetAtClientPoint(v.clientX,v.clientY);C!=null&&C.position&&this.showDropIndicatorAt(C.position)},onDrop:async v=>{if(!m()||(this.removeDropIndicator(),!v.dataTransfer))return;const C=this.getTargetAtClientPoint(v.clientX,v.clientY);C!=null&&C.position&&this._onDropIntoEditor.fire({position:C.position,event:v})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;(t=this._modelData)==null||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i,r){return new e$(e,t,i,this._domElement,r)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return QG.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Sr.getWordAtPosition(this._modelData.model,this._configuration.options.get(132),this._configuration.options.get(131),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(e)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){var t;try{this._beginUpdate();const i=e;if(this._modelData===null&&i===null||this._modelData&&this._modelData.model===i)return;const r={oldModelUrl:((t=this._modelData)==null?void 0:t.model.uri)||null,newModelUrl:(i==null?void 0:i.uri)||null};this._onWillChangeModel.fire(r);const s=this.hasTextFocus(),o=this._detachModel();this._attachModel(i),s&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(o),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,r){const s=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(o.lineNumber,r)}getTopForLineNumber(e,t=!1){return this._modelData?Um._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?Um._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,r=!1){const s=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber,r)}getBottomForLineNumber(e,t=!1){if(!this._modelData)return-1;const i=this._modelData.model.getLineMaxColumn(e);return Um._getVerticalOffsetAfterPosition(this._modelData,e,i,t)}setHiddenAreas(e,t){var i;(i=this._modelData)==null||i.viewModel.setHiddenAreas(e.map(r=>_e.lift(r)),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Kr.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!Pe.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,r){if(!this._modelData)return;if(!_e.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",i,o,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new _e(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,r){if(!Pe.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new _e(e.lineNumber,e.column,e.lineNumber,e.column),t,i,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=wi.isISelection(e),r=_e.isIRange(e);if(!i&&!r)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(r){const s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new wi(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new _e(e,1,t,1),i,!1,r)}revealRange(e,t=0,i=!1,r=!0){this._revealRange(e,i?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,r){if(!_e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(_e.lift(e),t,i,r)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,s=e.length;r<s;r++)if(!wi.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),t=this._modelData.viewModel.saveCursorState(),i=this._modelData.viewModel.saveState();return{cursorState:t,viewState:i,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]),this._contributions.restoreViewState(t.contributionsState||{});const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}handleInitialized(){var e;(e=this._getViewModel())==null||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){i=i||{};try{switch(this._beginUpdate(),t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const s=i;this._type(e,s.text||"");return}case"replacePreviousChar":{const s=i;this._compositionType(e,s.text||"",s.replaceCharCnt||0,0,0);return}case"compositionType":{const s=i;this._compositionType(e,s.text||"",s.replacePrevCharCnt||0,s.replaceNextCharCnt||0,s.positionDelta||0);return}case"paste":{const s=i;this._paste(e,s.text||"",s.pasteOnNewLine||!1,s.multicursorText||null,s.mode||null,s.clipboardEvent);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run(i)).then(void 0,_i);return}if(!this._modelData||this._triggerEditorCommand(e,t,i))return;this._triggerCommand(t,i)}finally{this._endUpdate()}}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,r,s){this._modelData&&this._modelData.viewModel.compositionType(t,i,r,s,e)}_paste(e,t,i,r,s,o){if(!this._modelData)return;const a=this._modelData.viewModel,l=a.getSelection().getStartPosition();a.paste(t,i,r,e);const c=a.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({clipboardEvent:o,range:new _e(l.lineNumber,l.column,c.lineNumber,c.column),languageId:s})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const r=uC.getEditorCommand(t);return r?(i=i||{},i.source=e,this._instantiationService.invokeFunction(s=>{Promise.resolve(r.runEditorCommand(s,this,i)).then(void 0,_i)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(92))return!1;let r;return i?Array.isArray(i)?r=()=>i:r=i:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new Mxt(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,xI(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,xI(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.changeDecorations(i=>i.deltaDecorations(t,[])),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(146)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e,t=!1){this._configuration.observeContainer(e),t||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id:"+e.getId()),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,r=i.get(146),s=Um._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),o=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:s,left:o,height:i.get(67)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,e)})}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){eo(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),r=new _xt(this._id,this._configuration,e,cK.create(Ft(this._domElement)),uK.create(this._configuration.options),a=>Va(Ft(this._domElement),a),this.languageConfigurationService,this._themeService,i,{batchChanges:a=>{try{return this._beginUpdate(),a()}finally{this._endUpdate()}}});t.push(e.onWillDispose(()=>this.setModel(null))),t.push(r.onEvent(a=>{switch(a.kind){case 0:this._onDidContentSizeChange.fire(a);break;case 1:this._editorTextFocus.setValue(a.hasFocus);break;case 2:this._onDidScrollChange.fire(a);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(a.reachedMaxCursorCount){const d=this.getOption(80),h=P("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",d);this._notificationService.prompt(Cdt.Warning,h,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:P("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const l=[];for(let d=0,h=a.selections.length;d<h;d++)l[d]=a.selections[d].getPosition();const c={position:l[0],secondaryPositions:l.slice(1),reason:a.reason,source:a.source};this._onDidChangeCursorPosition.fire(c);const u={selection:a.selections[0],secondarySelections:a.selections.slice(1),modelVersionId:a.modelVersionId,oldSelections:a.oldSelections,oldModelVersionId:a.oldModelVersionId,source:a.source,reason:a.reason};this._onDidChangeCursorSelection.fire(u);break}case 7:this._onDidChangeModelDecorations.fire(a.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(a.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(a.event);break;case 10:this._onDidChangeModelContent.fire(a.event);break;case 11:this._onDidChangeModelOptions.fire(a.event);break;case 12:this._onDidChangeModelTokens.fire(a.event);break}}));const[s,o]=this._createView(r);if(o){this._domElement.appendChild(s.domNode.domNode);let a=Object.keys(this._contentWidgets);for(let l=0,c=a.length;l<c;l++){const u=a[l];s.addContentWidget(this._contentWidgets[u])}a=Object.keys(this._overlayWidgets);for(let l=0,c=a.length;l<c;l++){const u=a[l];s.addOverlayWidget(this._overlayWidgets[u])}a=Object.keys(this._glyphMarginWidgets);for(let l=0,c=a.length;l<c;l++){const u=a[l];s.addGlyphMarginWidget(this._glyphMarginWidgets[u])}s.render(!1,!0),s.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Ext(e,r,s,o,t,i)}_createView(e){let t;this.isSimpleWidget?t={paste:(s,o,a,l)=>{this._paste("keyboard",s,o,a,l)},type:s=>{this._type("keyboard",s)},compositionType:(s,o,a,l)=>{this._compositionType("keyboard",s,o,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(s,o,a,l)=>{const c={text:s,pasteOnNewLine:o,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:s=>{const o={text:s};this._commandService.executeCommand("type",o)},compositionType:(s,o,a,l)=>{if(a||l){const c={text:s,replacePrevCharCnt:o,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:s,replaceCharCnt:o};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new kP(e.coordinatesConverter);return i.onKeyDown=s=>this._onKeyDown.fire(s),i.onKeyUp=s=>this._onKeyUp.fire(s),i.onContextMenu=s=>this._onContextMenu.fire(s),i.onMouseMove=s=>this._onMouseMove.fire(s),i.onMouseLeave=s=>this._onMouseLeave.fire(s),i.onMouseDown=s=>this._onMouseDown.fire(s),i.onMouseUp=s=>this._onMouseUp.fire(s),i.onMouseDrag=s=>this._onMouseDrag.fire(s),i.onMouseDrop=s=>this._onMouseDrop.fire(s),i.onMouseDropCanceled=s=>this._onMouseDropCanceled.fire(s),i.onMouseWheel=s=>this._onMouseWheel.fire(s),[new h$(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var i;if((i=this._contributionsDisposable)==null||i.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&t.remove(),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new _e(e.lineNumber,e.column,e.lineNumber,e.column),options:Um.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,this._updateCounter===0&&this._onEndUpdate.fire()}},Um=Qb,Qb.dropIntoEditorDecorationOptions=Zr.register({description:"workbench-dnd-target",className:"dnd-target"}),Qb);JM=Um=kxt([Oh(3,ui),Oh(4,ts),Oh(5,ml),Oh(6,ii),Oh(7,Zc),Oh(8,Hu),Oh(9,Vu),Oh(10,nh),Oh(11,xi)],JM);let Lxt=0;class Ext{constructor(e,t,i,r,s,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=r,this.listenersToRemove=s,this.attachedView=o}dispose(){Us(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class Uhe extends je{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new ke(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ke(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class go extends ke{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class Dxt extends je{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=St.editorSimpleInput.bindTo(t),this._editorFocus=St.focus.bindTo(t),this._textInputFocus=St.textInputFocus.bindTo(t),this._editorTextFocus=St.editorTextFocus.bindTo(t),this._tabMovesFocus=St.tabMovesFocus.bindTo(t),this._editorReadonly=St.readOnly.bindTo(t),this._inDiffEditor=St.inDiffEditor.bindTo(t),this._editorColumnSelection=St.columnSelection.bindTo(t),this._hasMultipleSelections=St.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=St.hasNonEmptySelection.bindTo(t),this._canUndo=St.canUndo.bindTo(t),this._canRedo=St.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(BM.onDidChangeTabFocus(i=>this._tabMovesFocus.set(i))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(BM.getTabFocusMode()),this._editorReadonly.set(e.get(92)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class Txt extends je{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=St.languageId.bindTo(t),this._hasCompletionItemProvider=St.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=St.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=St.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=St.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=St.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=St.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=St.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=St.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=St.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=St.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=St.hasReferenceProvider.bindTo(t),this._hasRenameProvider=St.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=St.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=St.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=St.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=St.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=St.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=St.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInEmbeddedEditor=St.isInEmbeddedEditor.bindTo(t);const r=()=>this._update();this._register(e.onDidChangeModel(r)),this._register(e.onDidChangeModelLanguage(r)),this._register(i.completionProvider.onDidChange(r)),this._register(i.codeActionProvider.onDidChange(r)),this._register(i.codeLensProvider.onDidChange(r)),this._register(i.definitionProvider.onDidChange(r)),this._register(i.declarationProvider.onDidChange(r)),this._register(i.implementationProvider.onDidChange(r)),this._register(i.typeDefinitionProvider.onDidChange(r)),this._register(i.hoverProvider.onDidChange(r)),this._register(i.documentHighlightProvider.onDidChange(r)),this._register(i.documentSymbolProvider.onDidChange(r)),this._register(i.referenceProvider.onDidChange(r)),this._register(i.renameProvider.onDidChange(r)),this._register(i.documentFormattingEditProvider.onDidChange(r)),this._register(i.documentRangeFormattingEditProvider.onDidChange(r)),this._register(i.signatureHelpProvider.onDidChange(r)),this._register(i.inlayHintsProvider.onDidChange(r)),r()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInEmbeddedEditor.set(e.uri.scheme===Cn.walkThroughSnippet||e.uri.scheme===Cn.vscodeChatCodeBlock)})}}class Ixt extends je{constructor(e,t){super(),this._onChange=this._register(new ke),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(ek(e)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),t&&(this._overflowWidgetsDomNode=this._register(ek(t)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const e=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==e&&(this._hadFocus=e,this._onChange.fire(void 0))}hasFocus(){return this._hadFocus??!1}}class Mxt{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(r=>{this._isChangingDecorations||e.call(t,r)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const r=e.getDecorationRange(i);r&&t.push(r)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(e){let t=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(i=>{t=i.deltaDecorations([],e),this._decorationIds=this._decorationIds.concat(t)})}finally{this._isChangingDecorations=!1}return t}}const Rxt=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Nxt=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function z6(n){return Rxt+encodeURIComponent(n.toString())+Nxt}const Axt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Pxt=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Oxt(n){return Axt+encodeURIComponent(n.toString())+Pxt}Qf((n,e)=>{const t=n.getColor(Wq);t&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${z6(t)}") repeat-x bottom left; }`);const i=n.getColor(Fp);i&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${z6(i)}") repeat-x bottom left; }`);const r=n.getColor(bv);r&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${z6(r)}") repeat-x bottom left; }`);const s=n.getColor(aht);s&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Oxt(s)}") no-repeat bottom left; }`);const o=n.getColor(qbt);o&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${o.rgba.a}; }`)});class eR{static capture(e){if(e.getScrollTop()===0||e.hasPendingScrollAnimation())return new eR(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-s}return new eR(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,r,s){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=r,this._cursorPosition=s}restore(e){if(!(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i,1)}}function Fxt(n,e,t,i){if(n.length===0)return e;if(e.length===0)return n;const r=[];let s=0,o=0;for(;s<n.length&&o<e.length;){const a=n[s],l=e[o],c=t(a),u=t(l);c<u?(r.push(a),s++):c>u?(r.push(l),o++):(r.push(i(a,l)),s++,o++)}for(;s<n.length;)r.push(n[s]),s++;for(;o<e.length;)r.push(e[o]),o++;return r}function tR(n,e){const t=new It,i=n.createDecorationsCollection();return t.add(iP({debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const s=e.read(r);i.set(s)})),t.add({dispose:()=>{i.clear()}}),t}function vS(n,e){return n.appendChild(e),cn(()=>{e.remove()})}function Bxt(n,e){return n.prepend(e),cn(()=>{e.remove()})}class RSe extends je{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor(e,t){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new hSe(e,t)),this._width=Bn(this,this.elementSizeObserver.getWidth()),this._height=Bn(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(i=>Xr(r=>{this._width.set(this.elementSizeObserver.getWidth(),r),this._height.set(this.elementSizeObserver.getHeight(),r)})))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){this._automaticLayout=e,e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function qhe(n,e,t){let i=e.get(),r=i,s=i;const o=Bn("animatedValue",i);let a=-1;const l=300;let c;t.add(rP({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(d,h)=>(d.didChange(e)&&(h.animate=h.animate||d.change),!0)},(d,h)=>{c!==void 0&&(n.cancelAnimationFrame(c),c=void 0),r=s,i=e.read(d),a=Date.now()-(h.animate?0:l),u()}));function u(){const d=Date.now()-a;s=Math.floor(Hxt(d,r,i-r,l)),d<l?c=n.requestAnimationFrame(u):s=i,o.set(s,void 0)}return o}function Hxt(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e}class pK extends je{constructor(e,t,i){super(),this._register(new C$(e,i)),this._register(zp(i,{height:t.actualHeight,top:t.actualTop}))}}class By{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=Bn(this,void 0),this._actualHeight=Bn(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=i=>{this._actualTop.set(i,void 0)},this.onComputedHeight=i=>{this._actualHeight.set(i,void 0)}}}const ZR=class ZR{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId=`managedOverlayWidget-${ZR._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}};ZR._counter=0;let C$=ZR;function zp(n,e){return Yn(t=>{for(let[i,r]of Object.entries(e))r&&typeof r=="object"&&"read"in r&&(r=r.read(t)),typeof r=="number"&&(r=`${r}px`),i=i.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),n.style[i]=r})}function nR(n,e,t,i){const r=new It,s=[];return r.add(Lu((o,a)=>{const l=e.read(o),c=new Map,u=new Map;t&&t(!0),n.changeViewZones(d=>{for(const h of s)d.removeZone(h),i==null||i.delete(h);s.length=0;for(const h of l){const f=d.addZone(h);h.setZoneId&&h.setZoneId(f),s.push(f),i==null||i.add(f),c.set(h,f)}}),t&&t(!1),a.add(rP({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(d,h){const f=u.get(d.changedObservable);return f!==void 0&&h.zoneIds.push(f),!0}},(d,h)=>{for(const f of l)f.onChange&&(u.set(f.onChange,c.get(f)),f.onChange.read(d));t&&t(!0),n.changeViewZones(f=>{for(const p of h.zoneIds)f.layoutZone(p)}),t&&t(!1)}))})),r.add({dispose(){t&&t(!0),n.changeViewZones(o=>{for(const a of s)o.removeZone(a)}),i==null||i.clear(),t&&t(!1)}}),r}function Ghe(n,e){const t=zI(e,r=>r.original.startLineNumber<=n.lineNumber);if(!t)return _e.fromPositions(n);if(t.original.endLineNumberExclusive<=n.lineNumber){const r=n.lineNumber-t.original.endLineNumberExclusive+t.modified.endLineNumberExclusive;return _e.fromPositions(new Pe(r,n.column))}if(!t.innerChanges)return _e.fromPositions(new Pe(t.modified.startLineNumber,1));const i=zI(t.innerChanges,r=>r.originalRange.getStartPosition().isBeforeOrEqual(n));if(!i){const r=n.lineNumber-t.original.startLineNumber+t.modified.startLineNumber;return _e.fromPositions(new Pe(r,n.column))}if(i.originalRange.containsPosition(n))return i.modifiedRange;{const r=Vxt(i.originalRange.getEndPosition(),n);return _e.fromPositions(r.addToPosition(i.modifiedRange.getEndPosition()))}}function Vxt(n,e){return n.lineNumber===e.lineNumber?new Op(0,e.column-n.column):new Op(e.lineNumber-n.lineNumber,e.column-1)}function zxt(n,e){let t;return n.filter(i=>{const r=e(i,t);return t=i,r})}class iR{static create(e,t=void 0){return new Khe(e,e,t)}static createWithDisposable(e,t,i=void 0){const r=new It;return r.add(t),r.add(e),new Khe(e,r,i)}}class Khe extends iR{constructor(e,t,i){super(),this.object=e,this._disposable=t,this._debugOwner=i,this._refCount=1,this._isDisposed=!1,this._owners=[],i&&this._addOwner(i)}_addOwner(e){e&&this._owners.push(e)}createNewRef(e){return this._refCount++,e&&this._addOwner(e),new Wxt(this,e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._decreaseRefCount(this._debugOwner))}_decreaseRefCount(e){if(this._refCount--,this._refCount===0&&this._disposable.dispose(),e){const t=this._owners.indexOf(e);t!==-1&&this._owners.splice(t,1)}}}class Wxt extends iR{constructor(e,t){super(),this._base=e,this._debugOwner=t,this._isDisposed=!1}get object(){return this._base.object}createNewRef(e){return this._base.createNewRef(e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._base._decreaseRefCount(this._debugOwner))}}var mK=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},bK=function(n,e){return function(t,i){e(t,i,n)}};const $xt=nm("diff-review-insert",Lt.add,P("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),jxt=nm("diff-review-remove",Lt.remove,P("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),Uxt=nm("diff-review-close",Lt.close,P("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));var MC;let Db=(MC=class extends je{constructor(e,t,i,r,s,o,a,l,c){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=r,this._width=s,this._height=o,this._diffs=a,this._models=l,this._instantiationService=c,this._state=i_(this,(u,d)=>{const h=this._visible.read(u);if(this._parentNode.style.visibility=h?"visible":"hidden",!h)return null;const f=d.add(this._instantiationService.createInstance(_$,this._diffs,this._models,this._setVisible,this._canClose)),p=d.add(this._instantiationService.createInstance(w$,this._parentNode,f,this._width,this._height,this._models));return{model:f,view:p}}).recomputeInitiallyAndOnChange(this._store)}next(){Xr(e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this._state.get().model.nextGroup(e)})}prev(){Xr(e=>{this._setVisible(!0,e),this._state.get().model.previousGroup(e)})}close(){Xr(e=>{this._setVisible(!1,e)})}},MC._ttPolicy=Qv("diffReview",{createHTML:e=>e}),MC);Db=mK([bK(8,ui)],Db);let _$=class extends je{constructor(e,t,i,r,s){super(),this._diffs=e,this._models=t,this._setVisible=i,this.canClose=r,this._accessibilitySignalService=s,this._groups=Bn(this,[]),this._currentGroupIdx=Bn(this,0),this._currentElementIdx=Bn(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((o,a)=>this._groups.read(a)[o]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((o,a)=>{var l;return(l=this.currentGroup.read(a))==null?void 0:l.lines[o]}),this._register(Yn(o=>{const a=this._diffs.read(o);if(!a){this._groups.set([],void 0);return}const l=qxt(a,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());Xr(c=>{const u=this._models.getModifiedPosition();if(u){const d=l.findIndex(h=>(u==null?void 0:u.lineNumber)<h.range.modified.endLineNumberExclusive);d!==-1&&this._currentGroupIdx.set(d,c)}this._groups.set(l,c)})})),this._register(Yn(o=>{const a=this.currentElement.read(o);(a==null?void 0:a.type)===Vo.Deleted?this._accessibilitySignalService.playSignal(md.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(a==null?void 0:a.type)===Vo.Added&&this._accessibilitySignalService.playSignal(md.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(Yn(o=>{const a=this.currentElement.read(o);if(a&&a.type!==Vo.Header){const l=a.modifiedLineNumber??a.diff.modified.startLineNumber;this._models.modifiedSetSelection(_e.fromPositions(new Pe(l,1)))}}))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||cG(t,r=>{this._currentGroupIdx.set(dn.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),r),this._currentElementIdx.set(0,r)})}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||Xr(i=>{this._currentElementIdx.set(dn.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);i!==-1&&Xr(r=>{this._currentElementIdx.set(i,r)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===Vo.Deleted?this._models.originalReveal(_e.fromPositions(new Pe(e.originalLineNumber,1))):this._models.modifiedReveal(e.type!==Vo.Header?_e.fromPositions(new Pe(e.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};_$=mK([bK(4,CP)],_$);const Xw=3;function qxt(n,e,t){const i=[];for(const r of qU(n,(s,o)=>o.modified.startLineNumber-s.modified.endLineNumberExclusive<2*Xw)){const s=[];s.push(new Kxt);const o=new Xt(Math.max(1,r[0].original.startLineNumber-Xw),Math.min(r[r.length-1].original.endLineNumberExclusive+Xw,e+1)),a=new Xt(Math.max(1,r[0].modified.startLineNumber-Xw),Math.min(r[r.length-1].modified.endLineNumberExclusive+Xw,t+1));Pye(r,(u,d)=>{const h=new Xt(u?u.original.endLineNumberExclusive:o.startLineNumber,d?d.original.startLineNumber:o.endLineNumberExclusive),f=new Xt(u?u.modified.endLineNumberExclusive:a.startLineNumber,d?d.modified.startLineNumber:a.endLineNumberExclusive);h.forEach(p=>{s.push(new Xxt(p,f.startLineNumber+(p-h.startLineNumber)))}),d&&(d.original.forEach(p=>{s.push(new Qxt(d,p))}),d.modified.forEach(p=>{s.push(new Yxt(d,p))}))});const l=r[0].modified.join(r[r.length-1].modified),c=r[0].original.join(r[r.length-1].original);i.push(new Gxt(new xo(l,c),s))}return i}var Vo;(function(n){n[n.Header=0]="Header",n[n.Unchanged=1]="Unchanged",n[n.Deleted=2]="Deleted",n[n.Added=3]="Added"})(Vo||(Vo={}));class Gxt{constructor(e,t){this.range=e,this.lines=t}}class Kxt{constructor(){this.type=Vo.Header}}class Qxt{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=Vo.Deleted,this.modifiedLineNumber=void 0}}class Yxt{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=Vo.Added,this.originalLineNumber=void 0}}class Xxt{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=Vo.Unchanged}}let w$=class extends je{constructor(e,t,i,r,s,o){super(),this._element=e,this._model=t,this._width=i,this._height=r,this._models=s,this._languageService=o,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const a=document.createElement("div");a.className="diff-review-actions",this._actionBar=this._register(new kf(a)),this._register(Yn(l=>{this._actionBar.clear(),this._model.canClose.read(l)&&this._actionBar.push(new wf("diffreview.close",P("label.close","Close"),"close-diff-review "+Hn.asClassName(Uxt),!0,async()=>t.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new Gq(this._content,{})),Wo(this.domNode,this._scrollbar.getDomNode(),a),this._register(Yn(l=>{this._height.read(l),this._width.read(l),this._scrollbar.scanDomNode()})),this._register(cn(()=>{Wo(this.domNode)})),this._register(zp(this.domNode,{width:this._width,height:this._height})),this._register(zp(this._content,{width:this._width,height:this._height})),this._register(Lu((l,c)=>{this._model.currentGroup.read(l),this._render(c)})),this._register(ms(this.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._model.goToNextLine()),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._model.goToPreviousLine()),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this._model.close()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(e){const t=this._models.getOriginalOptions(),i=this._models.getModifiedOptions(),r=document.createElement("div");r.className="diff-review-table",r.setAttribute("role","list"),r.setAttribute("aria-label",P("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),eo(r,i.get(50)),Wo(this._content,r);const s=this._models.getOriginalModel(),o=this._models.getModifiedModel();if(!s||!o)return;const a=s.getOptions(),l=o.getOptions(),c=i.get(67),u=this._model.currentGroup.get();for(const d of(u==null?void 0:u.lines)||[]){if(!u)break;let h;if(d.type===Vo.Header){const p=document.createElement("div");p.className="diff-review-row",p.setAttribute("role","listitem");const m=u.range,v=this._model.currentGroupIndex.get(),C=this._model.groups.get().length,y=k=>k===0?P("no_lines_changed","no lines changed"):k===1?P("one_line_changed","1 line changed"):P("more_lines_changed","{0} lines changed",k),w=y(m.original.length),_=y(m.modified.length);p.setAttribute("aria-label",P({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",v+1,C,m.original.startLineNumber,w,m.modified.startLineNumber,_));const x=document.createElement("div");x.className="diff-review-cell diff-review-summary",x.appendChild(document.createTextNode(`${v+1}/${C}: @@ -${m.original.startLineNumber},${m.original.length} +${m.modified.startLineNumber},${m.modified.length} @@`)),p.appendChild(x),h=p}else h=this._createRow(d,c,this._width.get(),t,s,a,i,o,l);r.appendChild(h);const f=ln(p=>this._model.currentElement.read(p)===d);e.add(Yn(p=>{const m=f.read(p);h.tabIndex=m?0:-1,m&&h.focus()})),e.add(ze(h,"focus",()=>{this._model.goToLine(d)}))}this._scrollbar.scanDomNode()}_createRow(e,t,i,r,s,o,a,l,c){const u=r.get(146),d=u.glyphMarginWidth+u.lineNumbersWidth,h=a.get(146),f=10+h.glyphMarginWidth+h.lineNumbersWidth;let p="diff-review-row",m="";const v="diff-review-spacer";let C=null;switch(e.type){case Vo.Added:p="diff-review-row line-insert",m=" char-insert",C=$xt;break;case Vo.Deleted:p="diff-review-row line-delete",m=" char-delete",C=jxt;break}const y=document.createElement("div");y.style.minWidth=i+"px",y.className=p,y.setAttribute("role","listitem"),y.ariaLevel="";const w=document.createElement("div");w.className="diff-review-cell",w.style.height=`${t}px`,y.appendChild(w);const _=document.createElement("span");_.style.width=d+"px",_.style.minWidth=d+"px",_.className="diff-review-line-number"+m,e.originalLineNumber!==void 0?_.appendChild(document.createTextNode(String(e.originalLineNumber))):_.innerText="",w.appendChild(_);const x=document.createElement("span");x.style.width=f+"px",x.style.minWidth=f+"px",x.style.paddingRight="10px",x.className="diff-review-line-number"+m,e.modifiedLineNumber!==void 0?x.appendChild(document.createTextNode(String(e.modifiedLineNumber))):x.innerText="",w.appendChild(x);const k=document.createElement("span");if(k.className=v,C){const L=document.createElement("span");L.className=Hn.asClassName(C),L.innerText="",k.appendChild(L)}else k.innerText="";w.appendChild(k);let D;if(e.modifiedLineNumber!==void 0){let L=this._getLineHtml(l,a,c.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);Db._ttPolicy&&(L=Db._ttPolicy.createHTML(L)),w.insertAdjacentHTML("beforeend",L),D=l.getLineContent(e.modifiedLineNumber)}else{let L=this._getLineHtml(s,r,o.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);Db._ttPolicy&&(L=Db._ttPolicy.createHTML(L)),w.insertAdjacentHTML("beforeend",L),D=s.getLineContent(e.originalLineNumber)}D.length===0&&(D=P("blankLine","blank"));let T="";switch(e.type){case Vo.Unchanged:e.originalLineNumber===e.modifiedLineNumber?T=P({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",D,e.originalLineNumber):T=P("equalLine","{0} original line {1} modified line {2}",D,e.originalLineNumber,e.modifiedLineNumber);break;case Vo.Added:T=P("insertLine","+ {0} modified line {1}",D,e.modifiedLineNumber);break;case Vo.Deleted:T=P("deleteLine","- {0} original line {1}",D,e.originalLineNumber);break}return y.setAttribute("aria-label",T),y}_getLineHtml(e,t,i,r,s){const o=e.getLineContent(r),a=t.get(50),l=Ds.createEmpty(o,s),c=ul.isBasicASCII(o,e.mightContainNonBasicASCII()),u=ul.containsRTL(o,c,e.mightContainRTL());return _P(new a_(a.isMonospace&&!t.get(33),a.canUseHalfwidthRightwardsArrow,o,!1,c,u,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(118),t.get(100),t.get(95),t.get(51)!==dv.OFF,null)).html}};w$=mK([bK(5,bs)],w$);class Zxt{constructor(e){this.editors=e}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(e){this.editors.original.revealRange(e),this.editors.original.setSelection(e),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(e){e&&(this.editors.modified.revealRange(e),this.editors.modified.setSelection(e)),this.editors.modified.focus()}modifiedSetSelection(e){this.editors.modified.setSelection(e)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){return this.editors.modified.getPosition()??void 0}}ge("diffEditor.move.border","#8b8b8b9c",P("diffEditor.move.border","The border color for text that got moved in the diff editor."));ge("diffEditor.moveActive.border","#FFA500",P("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));ge("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},P("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const Jxt=nm("diff-insert",Lt.add,P("diffInsertIcon","Line decoration for inserts in the diff editor.")),NSe=nm("diff-remove",Lt.remove,P("diffRemoveIcon","Line decoration for removals in the diff editor.")),Qhe=Zr.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+Hn.asClassName(Jxt),marginClassName:"gutter-insert"}),Yhe=Zr.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+Hn.asClassName(NSe),marginClassName:"gutter-delete"}),Xhe=Zr.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Zhe=Zr.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),Jhe=Zr.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),ekt=Zr.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),tkt=Zr.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),S$=Zr.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),nkt=Zr.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),ikt=Zr.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});var ASe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},x$=function(n,e){return function(t,i){e(t,i,n)}},qm;const PSe=Nn("diffProviderFactoryService");let k$=class{constructor(e){this.instantiationService=e}createDiffProvider(e){return this.instantiationService.createInstance(L$,e)}};k$=ASe([x$(0,ui)],k$);$n(PSe,k$,1);var Yb;let L$=(Yb=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new ke,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;(e=this.diffAlgorithmOnDidChangeSubscription)==null||e.dispose()}async computeDiff(e,t,i,r){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(e,t,i,r);if(e.isDisposed()||t.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return t.getLineCount()===1&&t.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new ll(new Xt(1,2),new Xt(1,t.getLineCount()+1),[new Ya(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const s=JSON.stringify([e.uri.toString(),t.uri.toString()]),o=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),a=qm.diffCache.get(s);if(a&&a.context===o)return a.result;const l=zv.create(),c=await this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),u=l.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:u,timedOut:(c==null?void 0:c.quitEarly)??!0,detectedMoves:i.computeMoves?(c==null?void 0:c.moves.length)??0:-1}),r.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!c)throw new Error("no diff result available");return qm.diffCache.size>10&&qm.diffCache.delete(qm.diffCache.keys().next().value),qm.diffCache.set(s,{result:c,context:o}),c}setOptions(e){var i;let t=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&((i=this.diffAlgorithmOnDidChangeSubscription)==null||i.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,typeof e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),t=!0),t&&this.onDidChangeEventEmitter.fire()}},qm=Yb,Yb.diffCache=new Map,Yb);L$=qm=ASe([x$(1,VL),x$(2,Kv)],L$);function vK(){return pH&&!!pH.VSCODE_DEV}function OSe(n){if(vK()){const e=rkt();return e.add(n),{dispose(){e.delete(n)}}}else return{dispose(){}}}function rkt(){E2||(E2=new Set);const n=globalThis;return n.$hotReload_applyNewExports||(n.$hotReload_applyNewExports=e=>{const t={config:{mode:void 0},...e},i=[];for(const r of E2){const s=r(t);s&&i.push(s)}if(i.length>0)return r=>{let s=!1;for(const o of i)o(r)&&(s=!0);return s}}),E2}let E2;vK()&&OSe(({oldExports:n,newSrc:e,config:t})=>{if(t.mode==="patch-prototype")return i=>{var r,s;for(const o in i){const a=i[o];if(console.log(`[hot-reload] Patching prototype methods of '${o}'`,{exportedItem:a}),typeof a=="function"&&a.prototype){const l=n[o];if(l){for(const c of Object.getOwnPropertyNames(a.prototype)){const u=Object.getOwnPropertyDescriptor(a.prototype,c),d=Object.getOwnPropertyDescriptor(l.prototype,c);((r=u==null?void 0:u.value)==null?void 0:r.toString())!==((s=d==null?void 0:d.value)==null?void 0:s.toString())&&console.log(`[hot-reload] Patching prototype method '${o}.${c}'`),Object.defineProperty(l.prototype,c,u)}i[o]=l}}}return!0}});function gc(n,e){return skt([n],e),n}function skt(n,e){vK()&&Rl("reload",i=>OSe(({oldExports:r})=>{if([...Object.values(r)].some(s=>n.includes(s)))return s=>(i(void 0),!0)})).read(e)}var okt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},akt=function(n,e){return function(t,i){e(t,i,n)}};let E$=class extends je{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i){super(),this.model=e,this._options=t,this._diffProviderFactoryService=i,this._isDiffUpToDate=Bn(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=Bn(this,void 0),this.diff=this._diff,this._unchangedRegions=Bn(this,void 0),this.unchangedRegions=ln(this,a=>{var l;return this._options.hideUnchangedRegions.read(a)?((l=this._unchangedRegions.read(a))==null?void 0:l.regions)??[]:(Xr(c=>{var u;for(const d of((u=this._unchangedRegions.get())==null?void 0:u.regions)||[])d.collapseAll(c)}),[])}),this.movedTextToCompare=Bn(this,void 0),this._activeMovedText=Bn(this,void 0),this._hoveredMovedText=Bn(this,void 0),this.activeMovedText=ln(this,a=>this.movedTextToCompare.read(a)??this._hoveredMovedText.read(a)??this._activeMovedText.read(a)),this._cancellationTokenSource=new Z0,this._diffProvider=ln(this,a=>{const l=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(a)}),c=Rl("onDidChange",l.onDidChange);return{diffProvider:l,onChangeSignal:c}}),this._register(cn(()=>this._cancellationTokenSource.cancel()));const r=hG("contentChangedSignal"),s=this._register(new Lo(()=>r.trigger(void 0),200));this._register(Yn(a=>{const l=this._unchangedRegions.read(a);if(!l||l.regions.some(p=>p.isDragged.read(a)))return;const c=l.originalDecorationIds.map(p=>e.original.getDecorationRange(p)).map(p=>p?Xt.fromRangeInclusive(p):void 0),u=l.modifiedDecorationIds.map(p=>e.modified.getDecorationRange(p)).map(p=>p?Xt.fromRangeInclusive(p):void 0),d=l.regions.map((p,m)=>!c[m]||!u[m]?void 0:new dp(c[m].startLineNumber,u[m].startLineNumber,c[m].length,p.visibleLineCountTop.read(a),p.visibleLineCountBottom.read(a))).filter(qC),h=[];let f=!1;for(const p of qU(d,(m,v)=>m.getHiddenModifiedRange(a).endLineNumberExclusive===v.getHiddenModifiedRange(a).startLineNumber))if(p.length>1){f=!0;const m=p.reduce((C,y)=>C+y.lineCount,0),v=new dp(p[0].originalLineNumber,p[0].modifiedLineNumber,m,p[0].visibleLineCountTop.get(),p[p.length-1].visibleLineCountBottom.get());h.push(v)}else h.push(p[0]);if(f){const p=e.original.deltaDecorations(l.originalDecorationIds,h.map(v=>({range:v.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),m=e.modified.deltaDecorations(l.modifiedDecorationIds,h.map(v=>({range:v.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));Xr(v=>{this._unchangedRegions.set({regions:h,originalDecorationIds:p,modifiedDecorationIds:m},v)})}}));const o=(a,l,c)=>{const u=dp.fromDiffs(a.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(c),this._options.hideUnchangedRegionsContextLineCount.read(c));let d;const h=this._unchangedRegions.get();if(h){const v=h.originalDecorationIds.map(_=>e.original.getDecorationRange(_)).map(_=>_?Xt.fromRangeInclusive(_):void 0),C=h.modifiedDecorationIds.map(_=>e.modified.getDecorationRange(_)).map(_=>_?Xt.fromRangeInclusive(_):void 0);let w=zxt(h.regions.map((_,x)=>{if(!v[x]||!C[x])return;const k=v[x].length;return new dp(v[x].startLineNumber,C[x].startLineNumber,k,Math.min(_.visibleLineCountTop.get(),k),Math.min(_.visibleLineCountBottom.get(),k-_.visibleLineCountTop.get()))}).filter(qC),(_,x)=>!x||_.modifiedLineNumber>=x.modifiedLineNumber+x.lineCount&&_.originalLineNumber>=x.originalLineNumber+x.lineCount).map(_=>new xo(_.getHiddenOriginalRange(c),_.getHiddenModifiedRange(c)));w=xo.clip(w,Xt.ofLength(1,e.original.getLineCount()),Xt.ofLength(1,e.modified.getLineCount())),d=xo.inverse(w,e.original.getLineCount(),e.modified.getLineCount())}const f=[];if(d)for(const v of u){const C=d.filter(y=>y.original.intersectsStrict(v.originalUnchangedRange)&&y.modified.intersectsStrict(v.modifiedUnchangedRange));f.push(...v.setVisibleRanges(C,l))}else f.push(...u);const p=e.original.deltaDecorations((h==null?void 0:h.originalDecorationIds)||[],f.map(v=>({range:v.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),m=e.modified.deltaDecorations((h==null?void 0:h.modifiedDecorationIds)||[],f.map(v=>({range:v.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:f,originalDecorationIds:p,modifiedDecorationIds:m},l)};this._register(e.modified.onDidChangeContent(a=>{if(this._diff.get()){const c=df.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),s.schedule()})),this._register(e.original.onDidChangeContent(a=>{if(this._diff.get()){const c=df.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),s.schedule()})),this._register(Lu(async(a,l)=>{this._options.hideUnchangedRegionsMinimumLineCount.read(a),this._options.hideUnchangedRegionsContextLineCount.read(a),s.cancel(),r.read(a);const c=this._diffProvider.read(a);c.onChangeSignal.read(a),gc(C0e,a),gc(KV,a),this._isDiffUpToDate.set(!1,void 0);let u=[];l.add(e.original.onDidChangeContent(f=>{const p=df.fromModelContentChanges(f.changes);u=bM(u,p)}));let d=[];l.add(e.modified.onDidChangeContent(f=>{const p=df.fromModelContentChanges(f.changes);d=bM(d,p)}));let h=await c.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(a),maxComputationTimeMs:this._options.maxComputationTimeMs.read(a),computeMoves:this._options.showMoves.read(a)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||e.original.isDisposed()||e.modified.isDisposed()||(h=lkt(h,e.original,e.modified),h=(e.original,e.modified,void 0)??h,h=(e.original,e.modified,void 0)??h,Xr(f=>{o(h,f),this._lastDiff=h;const p=yK.fromDiffResult(h);this._diff.set(p,f),this._isDiffUpToDate.set(!0,f);const m=this.movedTextToCompare.get();this.movedTextToCompare.set(m?this._lastDiff.moves.find(v=>v.lineRangeMapping.modified.intersect(m.lineRangeMapping.modified)):void 0,f)}))}))}ensureModifiedLineIsVisible(e,t,i){var s,o;if(((s=this.diff.get())==null?void 0:s.mappings.length)===0)return;const r=((o=this._unchangedRegions.get())==null?void 0:o.regions)||[];for(const a of r)if(a.getHiddenModifiedRange(void 0).contains(e)){a.showModifiedLine(e,t,i);return}}ensureOriginalLineIsVisible(e,t,i){var s,o;if(((s=this.diff.get())==null?void 0:s.mappings.length)===0)return;const r=((o=this._unchangedRegions.get())==null?void 0:o.regions)||[];for(const a of r)if(a.getHiddenOriginalRange(void 0).contains(e)){a.showOriginalLine(e,t,i);return}}async waitForDiff(){await Lmt(this.isDiffUpToDate,e=>e)}serializeState(){const e=this._unchangedRegions.get();return{collapsedRegions:e==null?void 0:e.regions.map(t=>({range:t.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(e){var r;const t=(r=e.collapsedRegions)==null?void 0:r.map(s=>Xt.deserialize(s.range)),i=this._unchangedRegions.get();!i||!t||Xr(s=>{for(const o of i.regions)for(const a of t)if(o.modifiedUnchangedRange.intersect(a)){o.setHiddenModifiedRange(a,s);break}})}};E$=okt([akt(2,PSe)],E$);function lkt(n,e,t){return{changes:n.changes.map(i=>new ll(i.original,i.modified,i.innerChanges?i.innerChanges.map(r=>ckt(r,e,t)):void 0)),moves:n.moves,identical:n.identical,quitEarly:n.quitEarly}}function ckt(n,e,t){let i=n.originalRange,r=n.modifiedRange;return i.startColumn===1&&r.startColumn===1&&(i.endColumn!==1||r.endColumn!==1)&&i.endColumn===e.getLineMaxColumn(i.endLineNumber)&&r.endColumn===t.getLineMaxColumn(r.endLineNumber)&&i.endLineNumber<e.getLineCount()&&r.endLineNumber<t.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),r=r.setEndPosition(r.endLineNumber+1,1)),new Ya(i,r)}class yK{static fromDiffResult(e){return new yK(e.changes.map(t=>new FSe(t)),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,r){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=r}}class FSe{constructor(e){this.lineRangeMapping=e}}class dp{static fromDiffs(e,t,i,r,s){const o=ll.inverse(e,t,i),a=[];for(const l of o){let c=l.original.startLineNumber,u=l.modified.startLineNumber,d=l.original.length;const h=c===1&&u===1,f=c+d===t+1&&u+d===i+1;(h||f)&&d>=s+r?(h&&!f&&(d-=s),f&&!h&&(c+=s,u+=s,d-=s),a.push(new dp(c,u,d,0,0))):d>=s*2+r&&(c+=s,u+=s,d-=s*2,a.push(new dp(c,u,d,0,0)))}return a}get originalUnchangedRange(){return Xt.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return Xt.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,r,s){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=Bn(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=Bn(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=ln(this,l=>this.visibleLineCountTop.read(l)+this.visibleLineCountBottom.read(l)===this.lineCount&&!this.isDragged.read(l)),this.isDragged=Bn(this,void 0);const o=Math.max(Math.min(r,this.lineCount),0),a=Math.max(Math.min(s,this.lineCount-r),0);Qle(r===o),Qle(s===a),this._visibleLineCountTop.set(o,void 0),this._visibleLineCountBottom.set(a,void 0)}setVisibleRanges(e,t){const i=[],r=new Ml(e.map(l=>l.modified)).subtractFrom(this.modifiedUnchangedRange);let s=this.originalLineNumber,o=this.modifiedLineNumber;const a=this.modifiedLineNumber+this.lineCount;if(r.ranges.length===0)this.showAll(t),i.push(this);else{let l=0;for(const c of r.ranges){const u=l===r.ranges.length-1;l++;const d=(u?a:c.endLineNumberExclusive)-o,h=new dp(s,o,d,0,0);h.setHiddenModifiedRange(c,t),i.push(h),s=h.originalUnchangedRange.endLineNumberExclusive,o=h.modifiedUnchangedRange.endLineNumberExclusive}}return i}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return Xt.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return Xt.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,r=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,r,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(e=10,t){const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t,i){const r=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),s=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;t===0&&r<s||t===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+r,i):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+s,i)}showOriginalLine(e,t,i){const r=e-this.originalLineNumber,s=this.originalLineNumber+this.lineCount-e;t===0&&r<s||t===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+s-r,this.getMaxVisibleLineCountTop()),i):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+r-s,this.getMaxVisibleLineCountBottom()),i)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}class ukt extends je{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,r,s,o,a,l,c){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=r,this._editor=s,this._viewLineCounts=o,this._originalTextModel=a,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Hn.asClassName(Lt.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const u=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${u}px`,this._diffActions.style.lineHeight=`${u}px`,this._marginDomNode.appendChild(this._diffActions);let d=0;const h=i.getOption(128)&&!uv,f=(p,m)=>{this._contextMenuService.showContextMenu({domForShadowRoot:h?i.getDomNode()??void 0:void 0,getAnchor:()=>({x:p,y:m}),getActions:()=>{const v=[],C=r.modified.isEmpty;return v.push(new wf("diff.clipboard.copyDeletedContent",C?r.original.length>1?P("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):P("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.original.length>1?P("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):P("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const w=this._originalTextModel.getValueInRange(r.original.toExclusiveRange());await this._clipboardService.writeText(w)})),r.original.length>1&&v.push(new wf("diff.clipboard.copyDeletedLineContent",C?P("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.original.startLineNumber+d):P("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.original.startLineNumber+d),void 0,!0,async()=>{let w=this._originalTextModel.getLineContent(r.original.startLineNumber+d);w===""&&(w=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(w)})),i.getOption(92)||v.push(new wf("diff.inline.revertChange",P("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),v},autoSelectFirstItem:!0})};this._register(ms(this._diffActions,"mousedown",p=>{if(!p.leftButton)return;const{top:m,height:v}=Fl(this._diffActions),C=Math.floor(u/3);p.preventDefault(),f(p.posx,m+v+C)})),this._register(i.onMouseMove(p=>{(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._getViewZoneId()?(d=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,u),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(p=>{p.event.leftButton&&(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._getViewZoneId()&&(p.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,u),f(p.event.posx,p.event.posy+u))}))}_updateLightBulbPosition(e,t,i){const{top:r}=Fl(e),s=t-r,o=Math.floor(s/i),a=o*i;if(this._diffActions.style.top=`${a}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],o<l)return c}return o}}const efe=Qv("diffEditorWidget",{createHTML:n=>n});function dkt(n,e,t,i){eo(i,e.fontInfo);const r=t.length>0,s=new $A(1e4);let o=0,a=0;const l=[];for(let h=0;h<n.lineTokens.length;h++){const f=h+1,p=n.lineTokens[h],m=n.lineBreakData[h],v=kc.filter(t,f,1,Number.MAX_SAFE_INTEGER);if(m){let C=0;for(const y of m.breakOffsets){const w=p.sliceAndInflate(C,y,0);o=Math.max(o,tfe(a,w,kc.extractWrapped(v,C,y),r,n.mightContainNonBasicASCII,n.mightContainRTL,e,s)),a++,C=y}l.push(m.breakOffsets.length)}else l.push(1),o=Math.max(o,tfe(a,p,v,r,n.mightContainNonBasicASCII,n.mightContainRTL,e,s)),a++}o+=e.scrollBeyondLastColumn;const c=s.build(),u=efe?efe.createHTML(c):c;i.innerHTML=u;const d=o*e.typicalHalfwidthCharacterWidth;return{heightInLines:a,minWidthInPx:d,viewLineCounts:l}}class hkt{constructor(e,t,i,r){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=r}}class CK{static fromEditor(e){var s;const t=e.getOptions(),i=t.get(50),r=t.get(146);return new CK(((s=e.getModel())==null?void 0:s.getOptions().tabSize)||0,i,t.get(33),i.typicalHalfwidthCharacterWidth,t.get(105),t.get(67),r.decorationsWidth,t.get(118),t.get(100),t.get(95),t.get(51))}constructor(e,t,i,r,s,o,a,l,c,u,d){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=s,this.lineHeight=o,this.lineDecorationsWidth=a,this.stopRenderingLineAfter=l,this.renderWhitespace=c,this.renderControlCharacters=u,this.fontLigatures=d}}function tfe(n,e,t,i,r,s,o,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(n*o.lineHeight)),a.appendString('px;width:1000000px;">');const l=e.getLineContent(),c=ul.isBasicASCII(l,r),u=ul.containsRTL(l,c,s),d=YG(new a_(o.fontInfo.isMonospace&&!o.disableMonospaceOptimizations,o.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,u,0,e,t,o.tabSize,0,o.fontInfo.spaceWidth,o.fontInfo.middotWidth,o.fontInfo.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==dv.OFF,null),a);return a.appendString("</div>"),d.characterMapping.getHorizontalOffset(d.characterMapping.length)}var fkt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},nfe=function(n,e){return function(t,i){e(t,i,n)}};let D$=class extends je{constructor(e,t,i,r,s,o,a,l,c,u){super(),this._targetWindow=e,this._editors=t,this._diffModel=i,this._options=r,this._diffEditorWidget=s,this._canIgnoreViewZoneUpdateEvent=o,this._origViewZonesToIgnore=a,this._modViewZonesToIgnore=l,this._clipboardService=c,this._contextMenuService=u,this._originalTopPadding=Bn(this,0),this._originalScrollOffset=Bn(this,0),this._originalScrollOffsetAnimated=qhe(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=Bn(this,0),this._modifiedScrollOffset=Bn(this,0),this._modifiedScrollOffsetAnimated=qhe(this._targetWindow,this._modifiedScrollOffset,this._store);const d=Bn("invalidateAlignmentsState",0),h=this._register(new Lo(()=>{d.set(d.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(w=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(w=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(w=>{(w.hasChanged(147)||w.hasChanged(67))&&h.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(w=>{(w.hasChanged(147)||w.hasChanged(67))&&h.schedule()}));const f=this._diffModel.map(w=>w?kr(this,w.model.original.onDidChangeTokens,()=>w.model.original.tokenization.backgroundTokenizationState===2):void 0).map((w,_)=>w==null?void 0:w.read(_)),p=ln(w=>{const _=this._diffModel.read(w),x=_==null?void 0:_.diff.read(w);if(!_||!x)return null;d.read(w);const D=this._options.renderSideBySide.read(w);return ife(this._editors.original,this._editors.modified,x.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,D)}),m=ln(w=>{var k;const _=(k=this._diffModel.read(w))==null?void 0:k.movedTextToCompare.read(w);if(!_)return null;d.read(w);const x=_.changes.map(D=>new FSe(D));return ife(this._editors.original,this._editors.modified,x,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function v(){const w=document.createElement("div");return w.className="diagonal-fill",w}const C=this._register(new It);this.viewZones=i_(this,(w,_)=>{var U,z,K,Z;C.clear();const x=p.read(w)||[],k=[],D=[],T=this._modifiedTopPadding.read(w);T>0&&D.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:T,showInHiddenAreas:!0,suppressMouseDown:!0});const L=this._originalTopPadding.read(w);L>0&&k.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:L,showInHiddenAreas:!0,suppressMouseDown:!0});const I=this._options.renderSideBySide.read(w),R=I||(U=this._editors.modified._getViewModel())==null?void 0:U.createLineBreaksComputer();if(R){const Q=this._editors.original.getModel();for(const G of x)if(G.diff)for(let J=G.originalRange.startLineNumber;J<G.originalRange.endLineNumberExclusive;J++){if(J>Q.getLineCount())return{orig:k,mod:D};R==null||R.addRequest(Q.getLineContent(J),null,null)}}const N=(R==null?void 0:R.finalize())??[];let O=0;const F=this._editors.modified.getOption(67),A=(z=this._diffModel.read(w))==null?void 0:z.movedTextToCompare.read(w),H=((K=this._editors.original.getModel())==null?void 0:K.mightContainNonBasicASCII())??!1,W=((Z=this._editors.original.getModel())==null?void 0:Z.mightContainRTL())??!1,$=CK.fromEditor(this._editors.modified);for(const Q of x)if(Q.diff&&!I&&(!this._options.useTrueInlineDiffRendering.read(w)||!_K(Q.diff))){if(!Q.originalRange.isEmpty){f.read(w);const J=document.createElement("div");J.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const ne=this._editors.original.getModel();if(Q.originalRange.endLineNumberExclusive-1>ne.getLineCount())return{orig:k,mod:D};const ae=new hkt(Q.originalRange.mapToLineArray(me=>ne.tokenization.getLineTokens(me)),Q.originalRange.mapToLineArray(me=>N[O++]),H,W),se=[];for(const me of Q.diff.innerChanges||[])se.push(new nx(me.originalRange.delta(-(Q.diff.original.startLineNumber-1)),S$.className,0));const X=dkt(ae,$,se,J),oe=document.createElement("div");if(oe.className="inline-deleted-margin-view-zone",eo(oe,$.fontInfo),this._options.renderIndicators.read(w))for(let me=0;me<X.heightInLines;me++){const ye=document.createElement("div");ye.className=`delete-sign ${Hn.asClassName(NSe)}`,ye.setAttribute("style",`position:absolute;top:${me*F}px;width:${$.lineDecorationsWidth}px;height:${F}px;right:0;`),oe.appendChild(ye)}let ve;C.add(new ukt(()=>Bye(ve),oe,this._editors.modified,Q.diff,this._diffEditorWidget,X.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let me=0;me<X.viewLineCounts.length;me++){const ye=X.viewLineCounts[me];ye>1&&k.push({afterLineNumber:Q.originalRange.startLineNumber+me,domNode:v(),heightInPx:(ye-1)*F,showInHiddenAreas:!0,suppressMouseDown:!0})}D.push({afterLineNumber:Q.modifiedRange.startLineNumber-1,domNode:J,heightInPx:X.heightInLines*F,minWidthInPx:X.minWidthInPx,marginDomNode:oe,setZoneId(me){ve=me},showInHiddenAreas:!0,suppressMouseDown:!0})}const G=document.createElement("div");G.className="gutter-delete",k.push({afterLineNumber:Q.originalRange.endLineNumberExclusive-1,domNode:v(),heightInPx:Q.modifiedHeightInPx,marginDomNode:G,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const G=Q.modifiedHeightInPx-Q.originalHeightInPx;if(G>0){if(A!=null&&A.lineRangeMapping.original.delta(-1).deltaLength(2).contains(Q.originalRange.endLineNumberExclusive-1))continue;k.push({afterLineNumber:Q.originalRange.endLineNumberExclusive-1,domNode:v(),heightInPx:G,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let J=function(){const ae=document.createElement("div");return ae.className="arrow-revert-change "+Hn.asClassName(Lt.arrowRight),_.add(ze(ae,"mousedown",se=>se.stopPropagation())),_.add(ze(ae,"click",se=>{se.stopPropagation(),s.revert(Q.diff)})),jt("div",{},ae)};if(A!=null&&A.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(Q.modifiedRange.endLineNumberExclusive-1))continue;let ne;Q.diff&&Q.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(w)&&(ne=J()),D.push({afterLineNumber:Q.modifiedRange.endLineNumberExclusive-1,domNode:v(),heightInPx:-G,marginDomNode:ne,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const Q of m.read(w)??[]){if(!(A!=null&&A.lineRangeMapping.original.intersect(Q.originalRange))||!(A!=null&&A.lineRangeMapping.modified.intersect(Q.modifiedRange)))continue;const G=Q.modifiedHeightInPx-Q.originalHeightInPx;G>0?k.push({afterLineNumber:Q.originalRange.endLineNumberExclusive-1,domNode:v(),heightInPx:G,showInHiddenAreas:!0,suppressMouseDown:!0}):D.push({afterLineNumber:Q.modifiedRange.endLineNumberExclusive-1,domNode:v(),heightInPx:-G,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:k,mod:D}});let y=!1;this._register(this._editors.original.onDidScrollChange(w=>{w.scrollLeftChanged&&!y&&(y=!0,this._editors.modified.setScrollLeft(w.scrollLeft),y=!1)})),this._register(this._editors.modified.onDidScrollChange(w=>{w.scrollLeftChanged&&!y&&(y=!0,this._editors.original.setScrollLeft(w.scrollLeft),y=!1)})),this._originalScrollTop=kr(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=kr(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(Yn(w=>{const _=this._originalScrollTop.read(w)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(w))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(w));_!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(_,1)})),this._register(Yn(w=>{const _=this._modifiedScrollTop.read(w)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(w))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(w));_!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(_,1)})),this._register(Yn(w=>{var k;const _=(k=this._diffModel.read(w))==null?void 0:k.movedTextToCompare.read(w);let x=0;if(_){const D=this._editors.original.getTopForLineNumber(_.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();x=this._editors.modified.getTopForLineNumber(_.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-D}x>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(x,void 0)):x<0?(this._modifiedTopPadding.set(-x,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-x,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+x,void 0,!0)}))}};D$=fkt([nfe(8,GG),nfe(9,Yf)],D$);function ife(n,e,t,i,r,s){const o=new Rf(rfe(n,i)),a=new Rf(rfe(e,r)),l=n.getOption(67),c=e.getOption(67),u=[];let d=0,h=0;function f(p,m){for(;;){let v=o.peek(),C=a.peek();if(v&&v.lineNumber>=p&&(v=void 0),C&&C.lineNumber>=m&&(C=void 0),!v&&!C)break;const y=v?v.lineNumber-d:Number.MAX_VALUE,w=C?C.lineNumber-h:Number.MAX_VALUE;y<w?(o.dequeue(),C={lineNumber:v.lineNumber-d+h,heightInPx:0}):y>w?(a.dequeue(),v={lineNumber:C.lineNumber-h+d,heightInPx:0}):(o.dequeue(),a.dequeue()),u.push({originalRange:Xt.ofLength(v.lineNumber,1),modifiedRange:Xt.ofLength(C.lineNumber,1),originalHeightInPx:l+v.heightInPx,modifiedHeightInPx:c+C.heightInPx,diff:void 0})}}for(const p of t){let w=function(_,x,k=!1){var R,N;if(_<y||x<C)return;if(v)v=!1;else if(!k&&(_===y||x===C))return;const D=new Xt(y,_),T=new Xt(C,x);if(D.isEmpty&&T.isEmpty)return;const L=((R=o.takeWhile(O=>O.lineNumber<_))==null?void 0:R.reduce((O,F)=>O+F.heightInPx,0))??0,I=((N=a.takeWhile(O=>O.lineNumber<x))==null?void 0:N.reduce((O,F)=>O+F.heightInPx,0))??0;u.push({originalRange:D,modifiedRange:T,originalHeightInPx:D.length*l+L,modifiedHeightInPx:T.length*c+I,diff:p.lineRangeMapping}),y=_,C=x};const m=p.lineRangeMapping;f(m.original.startLineNumber,m.modified.startLineNumber);let v=!0,C=m.modified.startLineNumber,y=m.original.startLineNumber;if(s)for(const _ of m.innerChanges||[]){_.originalRange.startColumn>1&&_.modifiedRange.startColumn>1&&w(_.originalRange.startLineNumber,_.modifiedRange.startLineNumber);const x=n.getModel(),k=_.originalRange.endLineNumber<=x.getLineCount()?x.getLineMaxColumn(_.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;_.originalRange.endColumn<k&&w(_.originalRange.endLineNumber,_.modifiedRange.endLineNumber)}w(m.original.endLineNumberExclusive,m.modified.endLineNumberExclusive,!0),d=m.original.endLineNumberExclusive,h=m.modified.endLineNumberExclusive}return f(Number.MAX_VALUE,Number.MAX_VALUE),u}function rfe(n,e){const t=[],i=[],r=n.getOption(147).wrappingColumn!==-1,s=n._getViewModel().coordinatesConverter,o=n.getOption(67);if(r)for(let l=1;l<=n.getModel().getLineCount();l++){const c=s.getModelLineViewLineCount(l);c>1&&i.push({lineNumber:l,heightInPx:o*(c-1)})}for(const l of n.getWhitespaces()){if(e.has(l.id))continue;const c=l.afterLineNumber===0?0:s.convertViewPositionToModelPosition(new Pe(l.afterLineNumber,1)).lineNumber;t.push({lineNumber:c,heightInPx:l.height})}return Fxt(t,i,l=>l.lineNumber,(l,c)=>({lineNumber:l.lineNumber,heightInPx:l.heightInPx+c.heightInPx}))}function _K(n){return n.innerChanges?n.innerChanges.every(e=>sfe(e.modifiedRange)&&sfe(e.originalRange)||e.originalRange.equalsRange(new _e(1,1,1,1))):!1}function sfe(n){return n.startLineNumber===n.endLineNumber}const Sx=class Sx extends je{constructor(e,t,i,r,s){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=r,this._editors=s,this._originalScrollTop=kr(this,this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=kr(this,this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=Rl("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=Bn(this,0),this._modifiedViewZonesChangedSignal=Rl("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=Rl("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=i_(this,(u,d)=>{var D;this._element.replaceChildren();const h=this._diffModel.read(u),f=(D=h==null?void 0:h.diff.read(u))==null?void 0:D.movedTexts;if(!f||f.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(u);const p=this._originalEditorLayoutInfo.read(u),m=this._modifiedEditorLayoutInfo.read(u);if(!p||!m){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(u),this._originalViewZonesChangedSignal.read(u);const v=f.map(T=>{function L($,U){const z=U.getTopForLineNumber($.startLineNumber,!0),K=U.getTopForLineNumber($.endLineNumberExclusive,!0);return(z+K)/2}const I=L(T.lineRangeMapping.original,this._editors.original),R=this._originalScrollTop.read(u),N=L(T.lineRangeMapping.modified,this._editors.modified),O=this._modifiedScrollTop.read(u),F=I-R,A=N-O,H=Math.min(I,N),W=Math.max(I,N);return{range:new dn(H,W),from:F,to:A,fromWithoutScroll:I,toWithoutScroll:N,move:T}});v.sort(jrt(Dc(T=>T.fromWithoutScroll>T.toWithoutScroll,Urt),Dc(T=>T.fromWithoutScroll>T.toWithoutScroll?T.fromWithoutScroll:-T.toWithoutScroll,mp)));const C=wK.compute(v.map(T=>T.range)),y=10,w=p.verticalScrollbarWidth,_=(C.getTrackCount()-1)*10+y*2,x=w+_+(m.contentLeft-Sx.movedCodeBlockPadding);let k=0;for(const T of v){const L=C.getTrack(k),I=w+y+L*10,R=15,N=15,O=x,F=m.glyphMarginWidth+m.lineNumbersWidth,A=18,H=document.createElementNS("http://www.w3.org/2000/svg","rect");H.classList.add("arrow-rectangle"),H.setAttribute("x",`${O-F}`),H.setAttribute("y",`${T.to-A/2}`),H.setAttribute("width",`${F}`),H.setAttribute("height",`${A}`),this._element.appendChild(H);const W=document.createElementNS("http://www.w3.org/2000/svg","g"),$=document.createElementNS("http://www.w3.org/2000/svg","path");$.setAttribute("d",`M 0 ${T.from} L ${I} ${T.from} L ${I} ${T.to} L ${O-N} ${T.to}`),$.setAttribute("fill","none"),W.appendChild($);const U=document.createElementNS("http://www.w3.org/2000/svg","polygon");U.classList.add("arrow"),d.add(Yn(z=>{$.classList.toggle("currentMove",T.move===h.activeMovedText.read(z)),U.classList.toggle("currentMove",T.move===h.activeMovedText.read(z))})),U.setAttribute("points",`${O-N},${T.to-R/2} ${O},${T.to} ${O-N},${T.to+R/2}`),W.appendChild(U),this._element.appendChild(W),k++}this.width.set(_,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(cn(()=>this._element.remove())),this._register(Yn(u=>{const d=this._originalEditorLayoutInfo.read(u),h=this._modifiedEditorLayoutInfo.read(u);!d||!h||(this._element.style.left=`${d.width-d.verticalScrollbarWidth}px`,this._element.style.height=`${d.height}px`,this._element.style.width=`${d.verticalScrollbarWidth+d.contentLeft-Sx.movedCodeBlockPadding+this.width.read(u)}px`)})),this._register(oP(this._state));const o=ln(u=>{const d=this._diffModel.read(u),h=d==null?void 0:d.diff.read(u);return h?h.movedTexts.map(f=>({move:f,original:new By(lM(f.lineRangeMapping.original.startLineNumber-1),18),modified:new By(lM(f.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(nR(this._editors.original,o.map(u=>u.map(d=>d.original)))),this._register(nR(this._editors.modified,o.map(u=>u.map(d=>d.modified)))),this._register(Lu((u,d)=>{const h=o.read(u);for(const f of h)d.add(new ofe(this._editors.original,f.original,f.move,"original",this._diffModel.get())),d.add(new ofe(this._editors.modified,f.modified,f.move,"modified",this._diffModel.get()))}));const a=Rl("original.onDidFocusEditorWidget",u=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>u(void 0),0))),l=Rl("modified.onDidFocusEditorWidget",u=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>u(void 0),0)));let c="modified";this._register(rP({createEmptyChangeSummary:()=>{},handleChange:(u,d)=>(u.didChange(a)&&(c="original"),u.didChange(l)&&(c="modified"),!0)},u=>{a.read(u),l.read(u);const d=this._diffModel.read(u);if(!d)return;const h=d.diff.read(u);let f;if(h&&c==="original"){const p=this._editors.originalCursor.read(u);p&&(f=h.movedTexts.find(m=>m.lineRangeMapping.original.contains(p.lineNumber)))}if(h&&c==="modified"){const p=this._editors.modifiedCursor.read(u);p&&(f=h.movedTexts.find(m=>m.lineRangeMapping.modified.contains(p.lineNumber)))}f!==d.movedTextToCompare.get()&&d.movedTextToCompare.set(void 0,void 0),d.setActiveMovedText(f)}))}};Sx.movedCodeBlockPadding=4;let TC=Sx;class wK{static compute(e){const t=[],i=[];for(const r of e){let s=t.findIndex(o=>!o.intersectsStrict(r));s===-1&&(t.length>=6?s=xut(t,Dc(a=>a.intersectWithRangeLength(r),mp)):(s=t.length,t.push(new Aq))),t[s].addRange(r),i.push(s)}return new wK(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class ofe extends pK{constructor(e,t,i,r,s){const o=On("div.diff-hidden-lines-widget");super(e,t,o.root),this._editor=e,this._move=i,this._kind=r,this._diffModel=s,this._nodes=On("div.diff-moved-code-block",{style:{marginRight:"4px"}},[On("div.text-content@textContent"),On("div.action-bar@actionBar")]),o.root.appendChild(this._nodes.root);const a=kr(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(zp(this._nodes.root,{paddingRight:a.map(h=>h.verticalScrollbarWidth)}));let l;i.changes.length>0?l=this._kind==="original"?P("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):P("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):l=this._kind==="original"?P("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):P("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const c=this._register(new kf(this._nodes.actionBar,{highlightToggledItems:!0})),u=new wf("",l,"",!1);c.push(u,{icon:!1,label:!0});const d=new wf("","Compare",Hn.asClassName(Lt.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)});this._register(Yn(h=>{const f=this._diffModel.movedTextToCompare.read(h)===i;d.checked=f})),c.push(d,{icon:!1,label:!0})}}class gkt extends je{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=ln(this,s=>{const o=this._diffModel.read(s),a=o==null?void 0:o.diff.read(s);if(!a)return null;const l=this._diffModel.read(s).movedTextToCompare.read(s),c=this._options.renderIndicators.read(s),u=this._options.showEmptyDecorations.read(s),d=[],h=[];if(!l)for(const p of a.mappings)if(p.lineRangeMapping.original.isEmpty||d.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:c?Yhe:Zhe}),p.lineRangeMapping.modified.isEmpty||h.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:c?Qhe:Xhe}),p.lineRangeMapping.modified.isEmpty||p.lineRangeMapping.original.isEmpty)p.lineRangeMapping.original.isEmpty||d.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:nkt}),p.lineRangeMapping.modified.isEmpty||h.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:ekt});else{const m=this._options.useTrueInlineDiffRendering.read(s)&&_K(p.lineRangeMapping);for(const v of p.lineRangeMapping.innerChanges||[])if(p.lineRangeMapping.original.contains(v.originalRange.startLineNumber)&&d.push({range:v.originalRange,options:v.originalRange.isEmpty()&&u?ikt:S$}),p.lineRangeMapping.modified.contains(v.modifiedRange.startLineNumber)&&h.push({range:v.modifiedRange,options:v.modifiedRange.isEmpty()&&u&&!m?tkt:Jhe}),m){const C=o.model.original.getValueInRange(v.originalRange);h.push({range:v.modifiedRange,options:{description:"deleted-text",before:{content:C,inlineClassName:"inline-deleted-text"},zIndex:1e5,showIfCollapsed:!0}})}}if(l)for(const p of l.changes){const m=p.original.toInclusiveRange();m&&d.push({range:m,options:c?Yhe:Zhe});const v=p.modified.toInclusiveRange();v&&h.push({range:v,options:c?Qhe:Xhe});for(const C of p.innerChanges||[])d.push({range:C.originalRange,options:S$}),h.push({range:C.modifiedRange,options:Jhe})}const f=this._diffModel.read(s).activeMovedText.read(s);for(const p of a.movedTexts)d.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(p===f?" currentMove":""),blockPadding:[TC.movedCodeBlockPadding,0,TC.movedCodeBlockPadding,TC.movedCodeBlockPadding]}}),h.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(p===f?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:d,modifiedDecorations:h}}),this._register(tR(this._editors.original,this._decorations.map(s=>(s==null?void 0:s.originalDecorations)||[]))),this._register(tR(this._editors.modified,this._decorations.map(s=>(s==null?void 0:s.modifiedDecorations)||[])))}}class pkt{resetSash(){this._sashRatio.set(void 0,void 0)}constructor(e,t){this._options=e,this.dimensions=t,this.sashLeft=dG(this,i=>{const r=this._sashRatio.read(i)??this._options.splitViewDefaultRatio.read(i);return this._computeSashLeft(r,i)},(i,r)=>{const s=this.dimensions.width.get();this._sashRatio.set(i/s,r)}),this._sashRatio=Bn(this,void 0)}_computeSashLeft(e,t){const i=this.dimensions.width.read(t),r=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),s=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):r,o=100;return i<=o*2?r:s<o?o:s>i-o?i-o:s}}class BSe extends je{constructor(e,t,i,r,s,o){super(),this._domNode=e,this._dimensions=t,this._enabled=i,this._boundarySashes=r,this.sashLeft=s,this._resetSash=o,this._sash=this._register(new Ll(this._domNode,{getVerticalSashTop:a=>0,getVerticalSashLeft:a=>this.sashLeft.get(),getVerticalSashHeight:a=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(a=>{this.sashLeft.set(this._startSashPosition+(a.currentX-a.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register(Yn(a=>{const l=this._boundarySashes.read(a);l&&(this._sash.orthogonalEndSash=l.bottom)})),this._register(Yn(a=>{const l=this._enabled.read(a);this._sash.state=l?3:0,this.sashLeft.read(a),this._dimensions.height.read(a),this._sash.layout()}))}}class mkt extends je{constructor(e,t,i){super(),this._editor=e,this._domNode=t,this.itemProvider=i,this.scrollTop=kr(this,this._editor.onDidScrollChange,o=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(o=>o===0),this.modelAttached=kr(this,this._editor.onDidChangeModel,o=>this._editor.hasModel()),this.editorOnDidChangeViewZones=Rl("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=Rl("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=hG("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const r=this._domNode.appendChild(On("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),s=new ResizeObserver(()=>{Xr(o=>{this.domNodeSizeChanged.trigger(o)})});s.observe(this._domNode),this._register(cn(()=>s.disconnect())),this._register(Yn(o=>{r.className=this.isScrollTopZero.read(o)?"":"scroll-decoration"})),this._register(Yn(o=>this.render(o)))}dispose(){super.dispose(),Wo(this._domNode)}render(e){if(!this.modelAttached.read(e))return;this.domNodeSizeChanged.read(e),this.editorOnDidChangeViewZones.read(e),this.editorOnDidContentSizeChange.read(e);const t=this.scrollTop.read(e),i=this._editor.getVisibleRanges(),r=new Set(this.views.keys()),s=dn.ofStartAndLength(0,this._domNode.clientHeight);if(!s.isEmpty)for(const o of i){const a=new Xt(o.startLineNumber,o.endLineNumber+1),l=this.itemProvider.getIntersectingGutterItems(a,e);Xr(c=>{for(const u of l){if(!u.range.intersect(a))continue;r.delete(u.id);let d=this.views.get(u.id);if(d)d.item.set(u,c);else{const m=document.createElement("div");this._domNode.appendChild(m);const v=Bn("item",u),C=this.itemProvider.createView(v,m);d=new bkt(v,C,m),this.views.set(u.id,d)}const h=u.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(u.range.startLineNumber,!0)-t:this._editor.getBottomForLineNumber(u.range.startLineNumber-1,!1)-t,p=(u.range.endLineNumberExclusive===1?Math.max(h,this._editor.getTopForLineNumber(u.range.startLineNumber,!1)-t):Math.max(h,this._editor.getBottomForLineNumber(u.range.endLineNumberExclusive-1,!0)-t))-h;d.domNode.style.top=`${h}px`,d.domNode.style.height=`${p}px`,d.gutterItemView.layout(dn.ofStartAndLength(h,p),s)}})}for(const o of r){const a=this.views.get(o);a.gutterItemView.dispose(),a.domNode.remove(),this.views.delete(o)}}}class bkt{constructor(e,t,i){this.item=e,this.gutterItemView=t,this.domNode=i}}class HSe extends gv{constructor(e){super(),this._getContext=e}runAction(e,t){const i=this._getContext();return super.runAction(e,i)}}class afe extends b0e{constructor(e){super(),this._textModel=e}getValueOfRange(e){return this._textModel.getValueInRange(e)}get length(){const e=this._textModel.getLineCount(),t=this._textModel.getLineLength(e);return new Op(e-1,t)}}class vkt extends je{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new mot),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new It),i.hoverDelegate=i.hoverDelegate??this._register(fG()),this.options=i,this.toggleMenuAction=this._register(new Rk(()=>{var r;return(r=this.toggleMenuActionViewItem)==null?void 0:r.show()},i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new kf(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,hoverDelegate:i.hoverDelegate,actionViewItemProvider:(r,s)=>{if(r.id===Rk.ID)return this.toggleMenuActionViewItem=new uM(r,r.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Hn.asClassNameArray(i.moreIcon??Lt.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const o=i.actionViewItemProvider(r,s);if(o)return o}if(r instanceof NA){const o=new uM(r,r.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:r.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return o.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(o),this.disposables.add(this._onDidChangeDropdownVisibility.add(o.onDidChangeVisibility)),o}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(r=>{this.actionBar.push(r,{icon:this.options.icon??!0,label:this.options.label??!1,keybinding:this.getKeybindingLabel(r)})})}getKeybindingLabel(e){var i,r;const t=(r=(i=this.options).getKeyBinding)==null?void 0:r.call(i,e);return(t==null?void 0:t.getLabel())??void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}const JR=class JR extends wf{constructor(e,t){t=t||P("moreActions","More Actions..."),super(JR.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}};JR.ID="toolbar.toggle.more";let Rk=JR;var VSe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Cc=function(n,e){return function(t,i){e(t,i,n)}};let T$=class extends vkt{constructor(e,t,i,r,s,o,a,l){super(e,s,{getKeyBinding:u=>o.lookupKeybinding(u.id)??void 0,...t,allowContextMenu:!0,skipTelemetry:typeof(t==null?void 0:t.telemetrySource)=="string"}),this._options=t,this._menuService=i,this._contextKeyService=r,this._contextMenuService=s,this._keybindingService=o,this._commandService=a,this._sessionDisposables=this._store.add(new It);const c=t==null?void 0:t.telemetrySource;c&&this._store.add(this.actionBar.onDidRun(u=>l.publicLog2("workbenchActionExecuted",{id:u.action.id,from:c})))}setActions(e,t=[],i){var u,d,h;this._sessionDisposables.clear();const r=e.slice(),s=t.slice(),o=[];let a=0;const l=[];let c=!1;if(((u=this._options)==null?void 0:u.hiddenItemStrategy)!==-1)for(let f=0;f<r.length;f++){const p=r[f];!(p instanceof Sf)&&!(p instanceof HS)||p.hideActions&&(o.push(p.hideActions.toggle),p.hideActions.toggle.checked&&a++,p.hideActions.isHidden&&(c=!0,r[f]=void 0,((d=this._options)==null?void 0:d.hiddenItemStrategy)!==0&&(l[f]=p)))}if(((h=this._options)==null?void 0:h.overflowBehavior)!==void 0){const f=dvt(new Set(this._options.overflowBehavior.exempted),Un.map(r,v=>v==null?void 0:v.id)),p=this._options.overflowBehavior.maxItems-f.size;let m=0;for(let v=0;v<r.length;v++){const C=r[v];C&&(m++,!f.has(C.id)&&m>=p&&(r[v]=void 0,l[v]=C))}}tle(r),tle(l),super.setActions(r,Do.join(l,s)),(o.length>0||r.length>0)&&this._sessionDisposables.add(ze(this.getElement(),"contextmenu",f=>{var y,w,_,x,k;const p=new Cu(Ft(this.getElement()),f),m=this.getItemAction(p.target);if(!m)return;p.preventDefault(),p.stopPropagation();const v=[];if(m instanceof Sf&&m.menuKeybinding)v.push(m.menuKeybinding);else if(!(m instanceof HS||m instanceof Rk)){const D=!!this._keybindingService.lookupKeybinding(m.id);v.push(rSe(this._commandService,this._keybindingService,m.id,void 0,D))}if(o.length>0){let D=!1;if(a===1&&((y=this._options)==null?void 0:y.hiddenItemStrategy)===0){D=!0;for(let T=0;T<o.length;T++)if(o[T].checked){o[T]=cC({id:m.id,label:m.label,checked:!0,enabled:!1,run(){}});break}}if(!D&&(m instanceof Sf||m instanceof HS)){if(!m.hideActions)return;v.push(m.hideActions.hide)}else v.push(cC({id:"label",label:P("hide","Hide"),enabled:!1,run(){}}))}const C=Do.join(v,o);(w=this._options)!=null&&w.resetMenu&&!i&&(i=[this._options.resetMenu]),c&&i&&(C.push(new Do),C.push(cC({id:"resetThisMenu",label:P("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),C.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>p,getActions:()=>C,menuId:(_=this._options)==null?void 0:_.contextMenu,menuActionOptions:{renderShortTitle:!0,...(x=this._options)==null?void 0:x.menuOptions},skipTelemetry:typeof((k=this._options)==null?void 0:k.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};T$=VSe([Cc(2,Gv),Cc(3,ii),Cc(4,Yf),Cc(5,Ks),Cc(6,ml),Cc(7,Kv)],T$);let rR=class extends T${constructor(e,t,i,r,s,o,a,l,c){super(e,{resetMenu:t,...i},r,s,o,a,l,c),this._onDidChangeMenuItems=this._store.add(new ke),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const u=this._store.add(r.createMenu(t,s,{emitEventsForSubmenuChanges:!0})),d=()=>{var p,m,v;const h=[],f=[];_bt(u,i==null?void 0:i.menuOptions,{primary:h,secondary:f},(p=i==null?void 0:i.toolbarOptions)==null?void 0:p.primaryGroup,(m=i==null?void 0:i.toolbarOptions)==null?void 0:m.shouldInlineSubmenu,(v=i==null?void 0:i.toolbarOptions)==null?void 0:v.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",h.length===0&&f.length===0),super.setActions(h,f)};this._store.add(u.onDidChange(()=>{d(),this._onDidChangeMenuItems.fire(this)})),d()}setActions(){throw new ti("This toolbar is populated from a menu.")}};rR=VSe([Cc(3,Gv),Cc(4,ii),Cc(5,Yf),Cc(6,Ks),Cc(7,ml),Cc(8,Kv)],rR);var zSe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},TT=function(n,e){return function(t,i){e(t,i,n)}};const W6=[],D2=35;let I$=class extends je{constructor(e,t,i,r,s,o,a,l,c){super(),this._diffModel=t,this._editors=i,this._options=r,this._sashLayout=s,this._boundarySashes=o,this._instantiationService=a,this._contextKeyService=l,this._menuService=c,this._menu=this._register(this._menuService.createMenu(Ws.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=kr(this,this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(u=>u.length>0),this._showSash=ln(this,u=>this._options.renderSideBySide.read(u)&&this._hasActions.read(u)),this.width=ln(this,u=>this._hasActions.read(u)?D2:0),this.elements=On("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:D2+"px"}},[]),this._currentDiff=ln(this,u=>{var p;const d=this._diffModel.read(u);if(!d)return;const h=(p=d.diff.read(u))==null?void 0:p.mappings,f=this._editors.modifiedCursor.read(u);if(f)return h==null?void 0:h.find(m=>m.lineRangeMapping.modified.contains(f.lineNumber))}),this._selectedDiffs=ln(this,u=>{const d=this._diffModel.read(u),h=d==null?void 0:d.diff.read(u);if(!h)return W6;const f=this._editors.modifiedSelections.read(u);if(f.every(C=>C.isEmpty()))return W6;const p=new Ml(f.map(C=>Xt.fromRangeInclusive(C))),v=h.mappings.filter(C=>C.lineRangeMapping.innerChanges&&p.intersects(C.lineRangeMapping.modified)).map(C=>({mapping:C,rangeMappings:C.lineRangeMapping.innerChanges.filter(y=>f.some(w=>_e.areIntersecting(y.modifiedRange,w)))}));return v.length===0||v.every(C=>C.rangeMappings.length===0)?W6:v}),this._register(Bxt(e,this.elements.root)),this._register(ze(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register(zp(this.elements.root,{display:this._hasActions.map(u=>u?"block":"none")})),sd(this,u=>this._showSash.read(u)?new BSe(e,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,dG(this,h=>this._sashLayout.sashLeft.read(h)-D2,(h,f)=>this._sashLayout.sashLeft.set(h+D2,f)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new mkt(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(u,d)=>{const h=this._diffModel.read(d);if(!h)return[];const f=h.diff.read(d);if(!f)return[];const p=this._selectedDiffs.read(d);if(p.length>0){const v=ll.fromRangeMappings(p.flatMap(C=>C.rangeMappings));return[new lfe(v,!0,Ws.DiffEditorSelectionToolbar,void 0,h.model.original.uri,h.model.modified.uri)]}const m=this._currentDiff.read(d);return f.mappings.map(v=>new lfe(v.lineRangeMapping.withInnerChangesFromLineRanges(),v.lineRangeMapping===(m==null?void 0:m.lineRangeMapping),Ws.DiffEditorHunkToolbar,void 0,h.model.original.uri,h.model.modified.uri))},createView:(u,d)=>this._instantiationService.createInstance(M$,u,d,this)})),this._register(ze(this.elements.gutter,pt.MOUSE_WHEEL,u=>{this._editors.modified.getOption(104).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(u)},{passive:!1}))}computeStagedValue(e){const t=e.innerChanges??[],i=new afe(this._editors.modifiedModel.get()),r=new afe(this._editors.original.getModel());return new Lut(t.map(a=>a.toTextEdit(i))).apply(r)}layout(e){this.elements.gutter.style.left=e+"px"}};I$=zSe([TT(6,ui),TT(7,ii),TT(8,Gv)],I$);class lfe{constructor(e,t,i,r,s,o){this.mapping=e,this.showAlways=t,this.menuId=i,this.rangeOverride=r,this.originalUri=s,this.modifiedUri=o}get id(){return this.mapping.modified.toString()}get range(){return this.rangeOverride??this.mapping.modified}}let M$=class extends je{constructor(e,t,i,r){super(),this._item=e,this._elements=On("div.gutterItem",{style:{height:"20px",width:"34px"}},[On("div.background@background",{},[]),On("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,o=>o.showAlways),this._menuId=this._item.map(this,o=>o.menuId),this._isSmall=Bn(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const s=this._register(r.createInstance(lk,"element",!0,{position:{hoverPosition:1}}));this._register(vS(t,this._elements.root)),this._register(Yn(o=>{const a=this._showAlways.read(o);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",a),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register(Lu((o,a)=>{this._elements.buttons.replaceChildren();const l=a.add(r.createInstance(rR,this._elements.buttons,this._menuId.read(o),{orientation:1,hoverDelegate:s,toolbarOptions:{primaryGroup:c=>c.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(o)?1:3},hiddenItemStrategy:0,actionRunner:new HSe(()=>{const c=this._item.get(),u=c.mapping;return{mapping:u,originalWithModifiedChanges:i.computeStagedValue(u),originalUri:c.originalUri,modifiedUri:c.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));a.add(l.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(e,t){this._lastItemRange=e,this._lastViewRange=t;let i=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&e.length<30,void 0),i=this._elements.buttons.clientHeight;const r=e.length/2-i/2,s=i;let o=e.start+r;const a=dn.tryCreate(s,t.endExclusive-s-i),l=dn.tryCreate(e.start+s,e.endExclusive-i-s);l&&a&&l.start<l.endExclusive&&(o=a.clip(o),o=l.clip(o)),this._elements.buttons.style.top=`${o-e.start}px`}};M$=zSe([TT(3,ui)],M$);function Nk(n){return R$.get(n)}const qg=class qg extends je{static get(e){let t=qg._map.get(e);if(!t){t=new qg(e),qg._map.set(e,t);const i=e.onDidDispose(()=>{const r=qg._map.get(e);r&&(qg._map.delete(e),r.dispose(),i.dispose())})}return t}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&(this._currentTransaction=new OL(()=>{}))}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){const e=this._currentTransaction;this._currentTransaction=void 0,e.finish()}}constructor(e){var t;super(),this.editor=e,this._updateCounter=0,this._currentTransaction=void 0,this._model=Bn(this,this.editor.getModel()),this.model=this._model,this.isReadonly=kr(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(92)),this._versionId=Bz({owner:this,lazy:!0},((t=this.editor.getModel())==null?void 0:t.getVersionId())??null),this.versionId=this._versionId,this._selections=Bz({owner:this,equalsFn:Wue(cmt(wi.selectionsEqual)),lazy:!0},this.editor.getSelections()??null),this.selections=this._selections,this.isFocused=kr(this,i=>{const r=this.editor.onDidFocusEditorWidget(i),s=this.editor.onDidBlurEditorWidget(i);return{dispose(){r.dispose(),s.dispose()}}},()=>this.editor.hasWidgetFocus()),this.value=dG(this,i=>{var r;return this.versionId.read(i),((r=this.model.read(i))==null?void 0:r.getValue())??""},(i,r)=>{const s=this.model.get();s!==null&&i!==s.getValue()&&s.setValue(i)}),this.valueIsEmpty=ln(this,i=>{var r;return this.versionId.read(i),((r=this.editor.getModel())==null?void 0:r.getValueLength())===0}),this.cursorSelection=nP({owner:this,equalsFn:Wue(wi.selectionsEqual)},i=>{var r;return((r=this.selections.read(i))==null?void 0:r[0])??null}),this.onDidType=hG(this),this.scrollTop=kr(this.editor.onDidScrollChange,()=>this.editor.getScrollTop()),this.scrollLeft=kr(this.editor.onDidScrollChange,()=>this.editor.getScrollLeft()),this.layoutInfo=kr(this.editor.onDidLayoutChange,()=>this.editor.getLayoutInfo()),this.layoutInfoContentLeft=this.layoutInfo.map(i=>i.contentLeft),this.layoutInfoDecorationsLeft=this.layoutInfo.map(i=>i.decorationsLeft),this.contentWidth=kr(this.editor.onDidContentSizeChange,()=>this.editor.getContentWidth()),this._overlayWidgetCounter=0,this._register(this.editor.onBeginUpdate(()=>this._beginUpdate())),this._register(this.editor.onEndUpdate(()=>this._endUpdate())),this._register(this.editor.onDidChangeModel(()=>{this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidType(i=>{this._beginUpdate();try{this._forceUpdate(),this.onDidType.trigger(this._currentTransaction,i)}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeModelContent(i=>{var r;this._beginUpdate();try{this._versionId.set(((r=this.editor.getModel())==null?void 0:r.getVersionId())??null,this._currentTransaction,i),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeCursorSelection(i=>{this._beginUpdate();try{this._selections.set(this.editor.getSelections(),this._currentTransaction,i),this._forceUpdate()}finally{this._endUpdate()}}))}forceUpdate(e){this._beginUpdate();try{return this._forceUpdate(),e?e(this._currentTransaction):void 0}finally{this._endUpdate()}}_forceUpdate(){var e;this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._versionId.set(((e=this.editor.getModel())==null?void 0:e.getVersionId())??null,this._currentTransaction,void 0),this._selections.set(this.editor.getSelections(),this._currentTransaction,void 0)}finally{this._endUpdate()}}getOption(e){return kr(this,t=>this.editor.onDidChangeConfiguration(i=>{i.hasChanged(e)&&t(void 0)}),()=>this.editor.getOption(e))}setDecorations(e){const t=new It,i=this.editor.createDecorationsCollection();return t.add(iP({owner:this,debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const s=e.read(r);i.set(s)})),t.add({dispose:()=>{i.clear()}}),t}createOverlayWidget(e){const t="observableOverlayWidget"+this._overlayWidgetCounter++,i={getDomNode:()=>e.domNode,getPosition:()=>e.position.get(),getId:()=>t,allowEditorOverflow:e.allowEditorOverflow,getMinContentWidthInPx:()=>e.minContentWidthInPx.get()};this.editor.addOverlayWidget(i);const r=Yn(s=>{e.position.read(s),e.minContentWidthInPx.read(s),this.editor.layoutOverlayWidget(i)});return cn(()=>{r.dispose(),this.editor.removeOverlayWidget(i)})}};qg._map=new Map;let R$=qg;var ykt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ckt=function(n,e){return function(t,i){e(t,i,n)}},IT,Xb;let N$=(Xb=class extends je{static setBreadcrumbsSourceFactory(e){this._breadcrumbsSourceFactory.set(e,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._instantiationService=r,this._modifiedOutlineSource=sd(this,l=>{const c=this._editors.modifiedModel.read(l),u=IT._breadcrumbsSourceFactory.read(l);return!c||!u?void 0:u(c,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(l=>{if(l.reason===1)return;const c=this._diffModel.get();Xr(u=>{for(const d of this._editors.original.getSelections()||[])c==null||c.ensureOriginalLineIsVisible(d.getStartPosition().lineNumber,0,u),c==null||c.ensureOriginalLineIsVisible(d.getEndPosition().lineNumber,0,u)})})),this._register(this._editors.modified.onDidChangeCursorPosition(l=>{if(l.reason===1)return;const c=this._diffModel.get();Xr(u=>{for(const d of this._editors.modified.getSelections()||[])c==null||c.ensureModifiedLineIsVisible(d.getStartPosition().lineNumber,0,u),c==null||c.ensureModifiedLineIsVisible(d.getEndPosition().lineNumber,0,u)})}));const s=this._diffModel.map((l,c)=>{var d;const u=(l==null?void 0:l.unchangedRegions.read(c))??[];return u.length===1&&u[0].modifiedLineNumber===1&&u[0].lineCount===((d=this._editors.modifiedModel.read(c))==null?void 0:d.getLineCount())?[]:u});this.viewZones=i_(this,(l,c)=>{const u=this._modifiedOutlineSource.read(l);if(!u)return{origViewZones:[],modViewZones:[]};const d=[],h=[],f=this._options.renderSideBySide.read(l),p=this._options.compactMode.read(l),m=s.read(l);for(let v=0;v<m.length;v++){const C=m[v];if(!C.shouldHideControls(l)&&!(p&&(v===0||v===m.length-1)))if(p){{const y=ln(this,_=>C.getHiddenOriginalRange(_).startLineNumber-1),w=new By(y,12);d.push(w),c.add(new cfe(this._editors.original,w,C,!f))}{const y=ln(this,_=>C.getHiddenModifiedRange(_).startLineNumber-1),w=new By(y,12);h.push(w),c.add(new cfe(this._editors.modified,w,C))}}else{{const y=ln(this,_=>C.getHiddenOriginalRange(_).startLineNumber-1),w=new By(y,24);d.push(w),c.add(new ufe(this._editors.original,w,C,C.originalUnchangedRange,!f,u,_=>this._diffModel.get().ensureModifiedLineIsVisible(_,2,void 0),this._options))}{const y=ln(this,_=>C.getHiddenModifiedRange(_).startLineNumber-1),w=new By(y,24);h.push(w),c.add(new ufe(this._editors.modified,w,C,C.modifiedUnchangedRange,!1,u,_=>this._diffModel.get().ensureModifiedLineIsVisible(_,2,void 0),this._options))}}}return{origViewZones:d,modViewZones:h}});const o={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},a={description:"Fold Unchanged",glyphMarginHoverMessage:new w_e(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(P("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+Hn.asClassName(Lt.fold),zIndex:10001};this._register(tR(this._editors.original,ln(this,l=>{const c=s.read(l),u=c.map(d=>({range:d.originalUnchangedRange.toInclusiveRange(),options:o}));for(const d of c)d.shouldHideControls(l)&&u.push({range:_e.fromPositions(new Pe(d.originalLineNumber,1)),options:a});return u}))),this._register(tR(this._editors.modified,ln(this,l=>{const c=s.read(l),u=c.map(d=>({range:d.modifiedUnchangedRange.toInclusiveRange(),options:o}));for(const d of c)d.shouldHideControls(l)&&u.push({range:Xt.ofLength(d.modifiedLineNumber,1).toInclusiveRange(),options:a});return u}))),this._register(Yn(l=>{const c=s.read(l);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(c.map(u=>u.getHiddenOriginalRange(l).toInclusiveRange()).filter(qC)),this._editors.modified.setHiddenAreas(c.map(u=>u.getHiddenModifiedRange(l).toInclusiveRange()).filter(qC))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&((c=l.target.element)!=null&&c.className.includes("fold-unchanged"))){const u=l.target.position.lineNumber,d=this._diffModel.get();if(!d)return;const h=d.unchangedRegions.get().find(f=>f.modifiedUnchangedRange.includes(u));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&((c=l.target.element)!=null&&c.className.includes("fold-unchanged"))){const u=l.target.position.lineNumber,d=this._diffModel.get();if(!d)return;const h=d.unchangedRegions.get().find(f=>f.originalUnchangedRange.includes(u));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}}))}},IT=Xb,Xb._breadcrumbsSourceFactory=Bn(IT,()=>({dispose(){},getBreadcrumbItems(e,t){return[]}})),Xb);N$=IT=ykt([Ckt(3,ui)],N$);class cfe extends pK{constructor(e,t,i,r=!1){const s=On("div.diff-hidden-lines-widget");super(e,t,s.root),this._unchangedRegion=i,this._hide=r,this._nodes=On("div.diff-hidden-lines-compact",[On("div.line-left",[]),On("div.text@text",[]),On("div.line-right",[])]),s.root.appendChild(this._nodes.root),this._hide&&this._nodes.root.replaceChildren(),this._register(Yn(o=>{if(!this._hide){const a=this._unchangedRegion.getHiddenModifiedRange(o).length,l=P("hiddenLines","{0} hidden lines",a);this._nodes.text.innerText=l}}))}}class ufe extends pK{constructor(e,t,i,r,s,o,a,l){const c=On("div.diff-hidden-lines-widget");super(e,t,c.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=r,this._hide=s,this._modifiedOutlineSource=o,this._revealModifiedHiddenLine=a,this._options=l,this._nodes=On("div.diff-hidden-lines",[On("div.top@top",{title:P("diff.hiddenLines.top","Click or drag to show more above")}),On("div.center@content",{style:{display:"flex"}},[On("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[jt("a",{title:P("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...Ob("$(unfold)"))]),On("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),On("div.bottom@bottom",{title:P("diff.bottom","Click or drag to show more below"),role:"button"})]),c.root.appendChild(this._nodes.root),this._hide?Wo(this._nodes.first):this._register(zp(this._nodes.first,{width:Nk(this._editor).layoutInfoContentLeft})),this._register(Yn(d=>{const h=this._unchangedRegion.visibleLineCountTop.read(d)+this._unchangedRegion.visibleLineCountBottom.read(d)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!h),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(d)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(d)>0),this._nodes.top.classList.toggle("canMoveBottom",!h);const f=this._unchangedRegion.isDragged.read(d),p=this._editor.getDomNode();p&&(p.classList.toggle("draggingUnchangedRegion",!!f),f==="top"?(p.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(d)>0),p.classList.toggle("canMoveBottom",!h)):f==="bottom"?(p.classList.toggle("canMoveTop",!h),p.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(d)>0)):(p.classList.toggle("canMoveTop",!1),p.classList.toggle("canMoveBottom",!1)))}));const u=this._editor;this._register(ze(this._nodes.top,"mousedown",d=>{if(d.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),d.preventDefault();const h=d.clientY;let f=!1;const p=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const m=Ft(this._nodes.top),v=ze(m,"mousemove",y=>{const _=y.clientY-h;f=f||Math.abs(_)>2;const x=Math.round(_/u.getOption(67)),k=Math.max(0,Math.min(p+x,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(k,void 0)}),C=ze(m,"mouseup",y=>{f||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),v.dispose(),C.dispose()})})),this._register(ze(this._nodes.bottom,"mousedown",d=>{if(d.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),d.preventDefault();const h=d.clientY;let f=!1;const p=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const m=Ft(this._nodes.bottom),v=ze(m,"mousemove",y=>{const _=y.clientY-h;f=f||Math.abs(_)>2;const x=Math.round(_/u.getOption(67)),k=Math.max(0,Math.min(p-x,this._unchangedRegion.getMaxVisibleLineCountBottom())),D=this._unchangedRegionRange.endLineNumberExclusive>u.getModel().getLineCount()?u.getContentHeight():u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(k,void 0);const T=this._unchangedRegionRange.endLineNumberExclusive>u.getModel().getLineCount()?u.getContentHeight():u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(T-D))}),C=ze(m,"mouseup",y=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!f){const w=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const _=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(_-w))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),v.dispose(),C.dispose()})})),this._register(Yn(d=>{const h=[];if(!this._hide){const f=i.getHiddenModifiedRange(d).length,p=P("hiddenLines","{0} hidden lines",f),m=jt("span",{title:P("diff.hiddenLines.expandAll","Double click to unfold")},p);m.addEventListener("dblclick",y=>{y.button===0&&(y.preventDefault(),this._unchangedRegion.showAll(void 0))}),h.push(m);const v=this._unchangedRegion.getHiddenModifiedRange(d),C=this._modifiedOutlineSource.getBreadcrumbItems(v,d);if(C.length>0){h.push(jt("span",void 0,"|"));for(let y=0;y<C.length;y++){const w=C[y],_=yH.toIcon(w.kind),x=On("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[JI(_),"",w.name,...y===C.length-1?[]:[JI(Lt.chevronRight)]]).root;h.push(x),x.onclick=()=>{this._revealModifiedHiddenLine(w.startLineNumber)}}}}Wo(this._nodes.others,...h)}))}}var _kt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wkt=function(n,e){return function(t,i){e(t,i,n)}},uu,mf;let Ak=(mf=class extends je{constructor(e,t,i,r,s,o,a){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=r,this._rootHeight=s,this._modifiedEditorLayoutInfo=o,this._themeService=a,this.width=uu.ENTIRE_DIFF_OVERVIEW_WIDTH;const l=kr(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),c=ln(h=>{const f=l.read(h),p=f.getColor(fht)||(f.getColor(dht)||cz).transparent(2),m=f.getColor(ght)||(f.getColor(hht)||uz).transparent(2);return{insertColor:p,removeColor:m}}),u=Wn(document.createElement("div"));u.setClassName("diffViewport"),u.setPosition("absolute");const d=On("div.diffOverview",{style:{position:"absolute",top:"0px",width:uu.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(vS(d,u.domNode)),this._register(ms(d,pt.POINTER_DOWN,h=>{this._editors.modified.delegateVerticalScrollbarPointerDown(h)})),this._register(ze(d,pt.MOUSE_WHEEL,h=>{this._editors.modified.delegateScrollFromMouseWheelEvent(h)},{passive:!1})),this._register(vS(this._rootElement,d)),this._register(Lu((h,f)=>{const p=this._diffModel.read(h),m=this._editors.original.createOverviewRuler("original diffOverviewRuler");m&&(f.add(m),f.add(vS(d,m.getDomNode())));const v=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(v&&(f.add(v),f.add(vS(d,v.getDomNode()))),!m||!v)return;const C=Rl("viewZoneChanged",this._editors.original.onDidChangeViewZones),y=Rl("viewZoneChanged",this._editors.modified.onDidChangeViewZones),w=Rl("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),_=Rl("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);f.add(Yn(x=>{var R;C.read(x),y.read(x),w.read(x),_.read(x);const k=c.read(x),D=(R=p==null?void 0:p.diff.read(x))==null?void 0:R.mappings;function T(N,O,F){const A=F._getViewModel();return A?N.filter(H=>H.length>0).map(H=>{const W=A.coordinatesConverter.convertModelPositionToViewPosition(new Pe(H.startLineNumber,1)),$=A.coordinatesConverter.convertModelPositionToViewPosition(new Pe(H.endLineNumberExclusive,1)),U=$.lineNumber-W.lineNumber;return new ESe(W.lineNumber,$.lineNumber,U,O.toString())}):[]}const L=T((D||[]).map(N=>N.lineRangeMapping.original),k.removeColor,this._editors.original),I=T((D||[]).map(N=>N.lineRangeMapping.modified),k.insertColor,this._editors.modified);m==null||m.setZones(L),v==null||v.setZones(I)})),f.add(Yn(x=>{const k=this._rootHeight.read(x),D=this._rootWidth.read(x),T=this._modifiedEditorLayoutInfo.read(x);if(T){const L=uu.ENTIRE_DIFF_OVERVIEW_WIDTH-2*uu.ONE_OVERVIEW_WIDTH;m.setLayout({top:0,height:k,right:L+uu.ONE_OVERVIEW_WIDTH,width:uu.ONE_OVERVIEW_WIDTH}),v.setLayout({top:0,height:k,right:0,width:uu.ONE_OVERVIEW_WIDTH});const I=this._editors.modifiedScrollTop.read(x),R=this._editors.modifiedScrollHeight.read(x),N=this._editors.modified.getOption(104),O=new o0(N.verticalHasArrows?N.arrowSize:0,N.verticalScrollbarSize,0,T.height,R,I);u.setTop(O.getSliderPosition()),u.setHeight(O.getSliderSize())}else u.setTop(0),u.setHeight(0);d.style.height=k+"px",d.style.left=D-uu.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",u.setWidth(uu.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}},uu=mf,mf.ONE_OVERVIEW_WIDTH=15,mf.ENTIRE_DIFF_OVERVIEW_WIDTH=mf.ONE_OVERVIEW_WIDTH*2,mf);Ak=uu=_kt([wkt(6,Zc)],Ak);const $6=[];class Skt extends je{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._widget=r,this._selectedDiffs=ln(this,s=>{const o=this._diffModel.read(s),a=o==null?void 0:o.diff.read(s);if(!a)return $6;const l=this._editors.modifiedSelections.read(s);if(l.every(h=>h.isEmpty()))return $6;const c=new Ml(l.map(h=>Xt.fromRangeInclusive(h))),d=a.mappings.filter(h=>h.lineRangeMapping.innerChanges&&c.intersects(h.lineRangeMapping.modified)).map(h=>({mapping:h,rangeMappings:h.lineRangeMapping.innerChanges.filter(f=>l.some(p=>_e.areIntersecting(f.modifiedRange,p)))}));return d.length===0||d.every(h=>h.rangeMappings.length===0)?$6:d}),this._register(Lu((s,o)=>{if(!this._options.shouldRenderOldRevertArrows.read(s))return;const a=this._diffModel.read(s),l=a==null?void 0:a.diff.read(s);if(!a||!l||a.movedTextToCompare.read(s))return;const c=[],u=this._selectedDiffs.read(s),d=new Set(u.map(h=>h.mapping));if(u.length>0){const h=this._editors.modifiedSelections.read(s),f=o.add(new sR(h[h.length-1].positionLineNumber,this._widget,u.flatMap(p=>p.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(f),c.push(f)}for(const h of l.mappings)if(!d.has(h)&&!h.lineRangeMapping.modified.isEmpty&&h.lineRangeMapping.innerChanges){const f=o.add(new sR(h.lineRangeMapping.modified.startLineNumber,this._widget,h.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(f),c.push(f)}o.add(cn(()=>{for(const h of c)this._editors.modified.removeGlyphMarginWidget(h)}))}))}}const eN=class eN extends je{getId(){return this._id}constructor(e,t,i,r){super(),this._lineNumber=e,this._widget=t,this._diffs=i,this._revertSelection=r,this._id=`revertButton${eN.counter++}`,this._domNode=On("div.revertButton",{title:this._revertSelection?P("revertSelectedChanges","Revert Selected Changes"):P("revertChange","Revert Change")},[JI(Lt.arrowRight)]).root,this._register(ze(this._domNode,pt.MOUSE_DOWN,s=>{s.button!==2&&(s.stopPropagation(),s.preventDefault())})),this._register(ze(this._domNode,pt.MOUSE_UP,s=>{s.stopPropagation(),s.preventDefault()})),this._register(ze(this._domNode,pt.CLICK,s=>{this._diffs instanceof xo?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),s.stopPropagation(),s.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:Pp.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}};eN.counter=0;let sR=eN;function Fh(n,e,t){const i=n.bindTo(e);return iP({debugName:()=>`Set Context Key "${n.key}"`},r=>{i.set(t(r))})}var xkt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dfe=function(n,e){return function(t,i){e(t,i,n)}};let A$=class extends je{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(e,t,i,r,s,o,a){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._argCodeEditorWidgetOptions=r,this._createInnerEditor=s,this._instantiationService=o,this._keybindingService=a,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new ke),this.modifiedScrollTop=kr(this,this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=kr(this,this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedObs=Nk(this.modified),this.originalObs=Nk(this.original),this.modifiedModel=this.modifiedObs.model,this.modifiedSelections=kr(this,this.modified.onDidChangeCursorSelection,()=>this.modified.getSelections()??[]),this.modifiedCursor=nP({owner:this,equalsFn:Pe.equals},l=>{var c;return((c=this.modifiedSelections.read(l)[0])==null?void 0:c.getPosition())??new Pe(1,1)}),this.originalCursor=kr(this,this.original.onDidChangeCursorPosition,()=>this.original.getPosition()??new Pe(1,1)),this._argCodeEditorWidgetOptions=null,this._register(rP({createEmptyChangeSummary:()=>({}),handleChange:(l,c)=>(l.didChange(i.editorOptions)&&Object.assign(c,l.change.changedOptions),!0)},(l,c)=>{i.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,c)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,c))}))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return r.setContextValue("isInDiffLeftEditor",!0),r}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return r.setContextValue("isInDiffRightEditor",!0),r}_constructInnerEditor(e,t,i,r){const s=this._createInnerEditor(e,t,i,r);return this._register(s.onDidContentSizeChange(o=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+Ak.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:a,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),s}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=Vv.revealHorizontalRightPadding.defaultValue+Ak.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t={...e,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var i;e||(e="");const t=P("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(i=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))==null?void 0:i.getAriaLabel());return this._options.accessibilityVerbose.get()?e+t:e?e.replaceAll(t,""):""}};A$=xkt([dfe(5,ui),dfe(6,Ks)],A$);const tN=class tN extends je{constructor(){super(...arguments),this._id=++tN.idCounter,this._onDidDispose=this._register(new ke),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,i=0){this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,r=!0){this._targetEditor.revealRange(e,t,i,r)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}};tN.idCounter=0;let P$=tN;var kkt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Lkt=function(n,e){return function(t,i){e(t,i,n)}};let O$=class{get editorOptions(){return this._options}constructor(e,t){this._accessibilityService=t,this._diffEditorWidth=Bn(this,0),this._screenReaderMode=kr(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=ln(this,r=>this._options.read(r).renderSideBySide&&this._diffEditorWidth.read(r)<=this._options.read(r).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=ln(this,r=>this._options.read(r).renderOverviewRuler),this.renderSideBySide=ln(this,r=>this.compactMode.read(r)&&this.shouldRenderInlineViewInSmartMode.read(r)?!1:this._options.read(r).renderSideBySide&&!(this._options.read(r).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(r)&&!this._screenReaderMode.read(r))),this.readOnly=ln(this,r=>this._options.read(r).readOnly),this.shouldRenderOldRevertArrows=ln(this,r=>!(!this._options.read(r).renderMarginRevertIcon||!this.renderSideBySide.read(r)||this.readOnly.read(r)||this.shouldRenderGutterMenu.read(r))),this.shouldRenderGutterMenu=ln(this,r=>this._options.read(r).renderGutterMenu),this.renderIndicators=ln(this,r=>this._options.read(r).renderIndicators),this.enableSplitViewResizing=ln(this,r=>this._options.read(r).enableSplitViewResizing),this.splitViewDefaultRatio=ln(this,r=>this._options.read(r).splitViewDefaultRatio),this.ignoreTrimWhitespace=ln(this,r=>this._options.read(r).ignoreTrimWhitespace),this.maxComputationTimeMs=ln(this,r=>this._options.read(r).maxComputationTime),this.showMoves=ln(this,r=>this._options.read(r).experimental.showMoves&&this.renderSideBySide.read(r)),this.isInEmbeddedEditor=ln(this,r=>this._options.read(r).isInEmbeddedEditor),this.diffWordWrap=ln(this,r=>this._options.read(r).diffWordWrap),this.originalEditable=ln(this,r=>this._options.read(r).originalEditable),this.diffCodeLens=ln(this,r=>this._options.read(r).diffCodeLens),this.accessibilityVerbose=ln(this,r=>this._options.read(r).accessibilityVerbose),this.diffAlgorithm=ln(this,r=>this._options.read(r).diffAlgorithm),this.showEmptyDecorations=ln(this,r=>this._options.read(r).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=ln(this,r=>this._options.read(r).onlyShowAccessibleDiffViewer),this.compactMode=ln(this,r=>this._options.read(r).compactMode),this.trueInlineDiffRenderingEnabled=ln(this,r=>this._options.read(r).experimental.useTrueInlineView),this.useTrueInlineDiffRendering=ln(this,r=>!this.renderSideBySide.read(r)&&this.trueInlineDiffRenderingEnabled.read(r)),this.hideUnchangedRegions=ln(this,r=>this._options.read(r).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=ln(this,r=>this._options.read(r).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=ln(this,r=>this._options.read(r).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=ln(this,r=>this._options.read(r).hideUnchangedRegions.minimumLineCount),this._model=Bn(this,void 0),this.shouldRenderInlineViewInSmartMode=this._model.map(this,r=>kmt(this,s=>{const o=r==null?void 0:r.diff.read(s);return o?Ekt(o,this.trueInlineDiffRenderingEnabled.read(s)):void 0})).flatten().map(this,r=>!!r),this.inlineViewHideOriginalLineNumbers=this.compactMode;const i={...e,...hfe(e,Ps)};this._options=Bn(this,i)}updateOptions(e){const t=hfe(e,this._options.get()),i={...this._options.get(),...e,...t};this._options.set(i,void 0,{changedOptions:e})}setWidth(e){this._diffEditorWidth.set(e,void 0)}setModel(e){this._model.set(e,void 0)}};O$=kkt([Lkt(1,Vu)],O$);function Ekt(n,e){return n.mappings.every(t=>Dkt(t.lineRangeMapping)||Tkt(t.lineRangeMapping)||e&&_K(t.lineRangeMapping))}function Dkt(n){return n.original.length===0}function Tkt(n){return n.modified.length===0}function hfe(n,e){var t,i,r,s,o,a,l,c;return{enableSplitViewResizing:xt(n.enableSplitViewResizing,e.enableSplitViewResizing),splitViewDefaultRatio:gst(n.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:xt(n.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:xt(n.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:Hm(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:Hm(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:xt(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:xt(n.renderIndicators,e.renderIndicators),originalEditable:xt(n.originalEditable,e.originalEditable),diffCodeLens:xt(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:xt(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:nr(n.diffWordWrap,e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:nr(n.diffAlgorithm,e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:xt(n.accessibilityVerbose,e.accessibilityVerbose),experimental:{showMoves:xt((t=n.experimental)==null?void 0:t.showMoves,e.experimental.showMoves),showEmptyDecorations:xt((i=n.experimental)==null?void 0:i.showEmptyDecorations,e.experimental.showEmptyDecorations),useTrueInlineView:xt((r=n.experimental)==null?void 0:r.useTrueInlineView,e.experimental.useTrueInlineView)},hideUnchangedRegions:{enabled:xt(((s=n.hideUnchangedRegions)==null?void 0:s.enabled)??((o=n.experimental)==null?void 0:o.collapseUnchangedRegions),e.hideUnchangedRegions.enabled),contextLineCount:Hm((a=n.hideUnchangedRegions)==null?void 0:a.contextLineCount,e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:Hm((l=n.hideUnchangedRegions)==null?void 0:l.minimumLineCount,e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:Hm((c=n.hideUnchangedRegions)==null?void 0:c.revealLineCount,e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:xt(n.isInEmbeddedEditor,e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:xt(n.onlyShowAccessibleDiffViewer,e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:Hm(n.renderSideBySideInlineBreakpoint,e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:xt(n.useInlineViewWhenSpaceIsLimited,e.useInlineViewWhenSpaceIsLimited),renderGutterMenu:xt(n.renderGutterMenu,e.renderGutterMenu),compactMode:xt(n.compactMode,e.compactMode)}}var Ikt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zw=function(n,e){return function(t,i){e(t,i,n)}};let oR=class extends P${get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(e,t,i,r,s,o,a,l){super(),this._domElement=e,this._parentContextKeyService=r,this._parentInstantiationService=s,this._accessibilitySignalService=a,this._editorProgressService=l,this.elements=On("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[On("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),On("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),On("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModelSrc=this._register(P_e(this,void 0)),this._diffModel=ln(this,_=>{var x;return(x=this._diffModelSrc.read(_))==null?void 0:x.object}),this.onDidChangeModel=ut.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new o_([ii,this._contextKeyService]))),this._boundarySashes=Bn(this,void 0),this._accessibleDiffViewerShouldBeVisible=Bn(this,!1),this._accessibleDiffViewerVisible=ln(this,_=>this._options.onlyShowAccessibleDiffViewer.read(_)?!0:this._accessibleDiffViewerShouldBeVisible.read(_)),this._movedBlocksLinesPart=Bn(this,void 0),this._layoutInfo=ln(this,_=>{var W,$;const x=this._rootSizeObserver.width.read(_),k=this._rootSizeObserver.height.read(_);this._rootSizeObserver.automaticLayout?this.elements.root.style.height="100%":this.elements.root.style.height=k+"px";const D=this._sash.read(_),T=this._gutter.read(_),L=(T==null?void 0:T.width.read(_))??0,I=((W=this._overviewRulerPart.read(_))==null?void 0:W.width)??0;let R,N,O,F,A;if(!!D){const U=D.sashLeft.read(_),z=(($=this._movedBlocksLinesPart.read(_))==null?void 0:$.width.read(_))??0;R=0,N=U-L-z,A=U-L,O=U,F=x-O-I}else{A=0;const U=this._options.inlineViewHideOriginalLineNumbers.read(_);R=L,U?N=0:N=Math.max(5,this._editors.originalObs.layoutInfoDecorationsLeft.read(_)),O=L+N,F=x-O-I}return this.elements.original.style.left=R+"px",this.elements.original.style.width=N+"px",this._editors.original.layout({width:N,height:k},!0),T==null||T.layout(A),this.elements.modified.style.left=O+"px",this.elements.modified.style.width=F+"px",this._editors.modified.layout({width:F,height:k},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((_,x)=>_==null?void 0:_.diff.read(x)),this.onDidUpdateDiff=ut.fromObservableLight(this._diffValue),o.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(cn(()=>this.elements.root.remove())),this._rootSizeObserver=this._register(new RSe(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout(t.automaticLayout??!1),this._options=this._instantiationService.createInstance(O$,t),this._register(Yn(_=>{this._options.setWidth(this._rootSizeObserver.width.read(_))})),this._contextKeyService.createKey(St.isEmbeddedDiffEditor.key,!1),this._register(Fh(St.isEmbeddedDiffEditor,this._contextKeyService,_=>this._options.isInEmbeddedEditor.read(_))),this._register(Fh(St.comparingMovedCode,this._contextKeyService,_=>{var x;return!!((x=this._diffModel.read(_))!=null&&x.movedTextToCompare.read(_))})),this._register(Fh(St.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,_=>this._options.couldShowInlineViewBecauseOfSize.read(_))),this._register(Fh(St.diffEditorInlineMode,this._contextKeyService,_=>!this._options.renderSideBySide.read(_))),this._register(Fh(St.hasChanges,this._contextKeyService,_=>{var x,k;return(((k=(x=this._diffModel.read(_))==null?void 0:x.diff.read(_))==null?void 0:k.mappings.length)??0)>0})),this._editors=this._register(this._instantiationService.createInstance(A$,this.elements.original,this.elements.modified,this._options,i,(_,x,k,D)=>this._createInnerEditor(_,x,k,D))),this._register(Fh(St.diffEditorOriginalWritable,this._contextKeyService,_=>this._options.originalEditable.read(_))),this._register(Fh(St.diffEditorModifiedWritable,this._contextKeyService,_=>!this._options.readOnly.read(_))),this._register(Fh(St.diffEditorOriginalUri,this._contextKeyService,_=>{var x;return((x=this._diffModel.read(_))==null?void 0:x.model.original.uri.toString())??""})),this._register(Fh(St.diffEditorModifiedUri,this._contextKeyService,_=>{var x;return((x=this._diffModel.read(_))==null?void 0:x.model.modified.uri.toString())??""})),this._overviewRulerPart=sd(this,_=>this._options.renderOverviewRuler.read(_)?this._instantiationService.createInstance(gc(Ak,_),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(x=>x.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const c={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((_,x)=>{var k;return _-(((k=this._overviewRulerPart.read(x))==null?void 0:k.width)??0)})};this._sashLayout=new pkt(this._options,c),this._sash=sd(this,_=>{const x=this._options.renderSideBySide.read(_);return this.elements.root.classList.toggle("side-by-side",x),x?new BSe(this.elements.root,c,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const u=sd(this,_=>this._instantiationService.createInstance(gc(N$,_),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);sd(this,_=>this._instantiationService.createInstance(gc(gkt,_),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const d=new Set,h=new Set;let f=!1;const p=sd(this,_=>this._instantiationService.createInstance(gc(D$,_),Ft(this._domElement),this._editors,this._diffModel,this._options,this,()=>f||u.get().isUpdatingHiddenAreas,d,h)).recomputeInitiallyAndOnChange(this._store),m=ln(this,_=>{const x=p.read(_).viewZones.read(_).orig,k=u.read(_).viewZones.read(_).origViewZones;return x.concat(k)}),v=ln(this,_=>{const x=p.read(_).viewZones.read(_).mod,k=u.read(_).viewZones.read(_).modViewZones;return x.concat(k)});this._register(nR(this._editors.original,m,_=>{f=_},d));let C;this._register(nR(this._editors.modified,v,_=>{f=_,f?C=eR.capture(this._editors.modified):(C==null||C.restore(this._editors.modified),C=void 0)},h)),this._accessibleDiffViewer=sd(this,_=>this._instantiationService.createInstance(gc(Db,_),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(x,k)=>this._accessibleDiffViewerShouldBeVisible.set(x,k),this._options.onlyShowAccessibleDiffViewer.map(x=>!x),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((x,k)=>{var D;return(D=x==null?void 0:x.diff.read(k))==null?void 0:D.mappings.map(T=>T.lineRangeMapping)}),new Zxt(this._editors))).recomputeInitiallyAndOnChange(this._store);const y=this._accessibleDiffViewerVisible.map(_=>_?"hidden":"visible");this._register(zp(this.elements.modified,{visibility:y})),this._register(zp(this.elements.original,{visibility:y})),this._createDiffEditorContributions(),o.addDiffEditor(this),this._gutter=sd(this,_=>this._options.shouldRenderGutterMenu.read(_)?this._instantiationService.createInstance(gc(I$,_),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register(oP(this._layoutInfo)),sd(this,_=>new(gc(TC,_))(this.elements.root,this._diffModel,this._layoutInfo.map(x=>x.originalEditor),this._layoutInfo.map(x=>x.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,_=>{this._movedBlocksLinesPart.set(_,void 0)}),this._register(ut.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,_=>this._handleCursorPositionChange(_,!0))),this._register(ut.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,_=>this._handleCursorPositionChange(_,!1)));const w=this._diffModel.map(this,(_,x)=>{if(_)return _.diff.read(x)===void 0&&!_.isDiffUpToDate.read(x)});this._register(Lu((_,x)=>{if(w.read(_)===!0){const k=this._editorProgressService.show(!0,1e3);x.add(cn(()=>k.done()))}})),this._register(Lu((_,x)=>{x.add(new(gc(Skt,_))(this._editors,this._diffModel,this._options,this))})),this._register(Lu((_,x)=>{const k=this._diffModel.read(_);if(k)for(const D of[k.model.original,k.model.modified])x.add(D.onWillDispose(T=>{_i(new ti("TextModel got disposed before DiffEditorWidget model got reset")),this.setModel(null)}))})),this._register(Yn(_=>{this._options.setModel(this._diffModel.read(_))}))}_createInnerEditor(e,t,i,r){return e.createInstance(JM,t,i,r)}_createDiffEditorContributions(){const e=uC.getDiffEditorContributions();for(const t of e)try{this._register(this._instantiationService.createInstance(t.ctor,this))}catch(i){_i(i)}}get _targetEditor(){return this._editors.modified}getEditorType(){return QG.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var i;const e=this._editors.original.saveViewState(),t=this._editors.modified.saveViewState();return{original:e,modified:t,modelState:(i=this._diffModel.get())==null?void 0:i.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const i=e;this._editors.original.restoreViewState(i.original),this._editors.modified.restoreViewState(i.modified),i.modelState&&((t=this._diffModel.get())==null||t.restoreSerializedState(i.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(e){return this._instantiationService.createInstance(E$,e,this._options)}getModel(){var e;return((e=this._diffModel.get())==null?void 0:e.model)??null}setModel(e){const t=e?"model"in e?iR.create(e).createNewRef(this):iR.create(this.createViewModel(e),this):null;this.setDiffModel(t)}setDiffModel(e,t){const i=this._diffModel.get();!e&&i&&this._accessibleDiffViewer.get().close(),this._diffModel.get()!==(e==null?void 0:e.object)&&cG(t,r=>{var a;const s=e==null?void 0:e.object;kr.batchEventsGlobally(r,()=>{this._editors.original.setModel(s?s.model.original:null),this._editors.modified.setModel(s?s.model.modified:null)});const o=(a=this._diffModelSrc.get())==null?void 0:a.createNewRef(this);this._diffModelSrc.set(e==null?void 0:e.createNewRef(this),r),setTimeout(()=>{o==null||o.dispose()},0)})}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var t;const e=(t=this._diffModel.get())==null?void 0:t.diff.get();return e?Mkt(e):null}revert(e){const t=this._diffModel.get();!t||!t.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:e.modified.toExclusiveRange(),text:t.model.original.getValueInRange(e.original.toExclusiveRange())}])}revertRangeMappings(e){const t=this._diffModel.get();if(!t||!t.isDiffUpToDate.get())return;const i=e.map(r=>({range:r.modifiedRange,text:t.model.original.getValueInRange(r.originalRange)}));this._editors.modified.executeEdits("diffEditor",i)}_goTo(e){this._editors.modified.setPosition(new Pe(e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(e.lineRangeMapping.modified.toExclusiveRange())}goToDiff(e){var s,o;const t=(o=(s=this._diffModel.get())==null?void 0:s.diff.get())==null?void 0:o.mappings;if(!t||t.length===0)return;const i=this._editors.modified.getPosition().lineNumber;let r;e==="next"?r=t.find(a=>a.lineRangeMapping.modified.startLineNumber>i)??t[0]:r=zI(t,a=>a.lineRangeMapping.modified.startLineNumber<i)??t[t.length-1],this._goTo(r),r.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(md.diffLineDeleted,{source:"diffEditor.goToDiff"}):r.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(md.diffLineInserted,{source:"diffEditor.goToDiff"}):r&&this._accessibilitySignalService.playSignal(md.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const e=this._diffModel.get();e&&this.waitForDiff().then(()=>{var i;const t=(i=e.diff.get())==null?void 0:i.mappings;!t||t.length===0||this._goTo(t[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const e=this._diffModel.get();e&&await e.waitForDiff()}mapToOtherSide(){var o,a;const e=this._editors.modified.hasWidgetFocus(),t=e?this._editors.modified:this._editors.original,i=e?this._editors.original:this._editors.modified;let r;const s=t.getSelection();if(s){const l=(a=(o=this._diffModel.get())==null?void 0:o.diff.get())==null?void 0:a.mappings.map(c=>e?c.lineRangeMapping.flip():c.lineRangeMapping);if(l){const c=Ghe(s.getStartPosition(),l),u=Ghe(s.getEndPosition(),l);r=_e.plusRange(c,u)}}return{destination:i,destinationSelection:r}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var t;const e=(t=this._diffModel.get())==null?void 0:t.unchangedRegions.get();e&&Xr(i=>{for(const r of e)r.collapseAll(i)})}showAllUnchangedRegions(){var t;const e=(t=this._diffModel.get())==null?void 0:t.unchangedRegions.get();e&&Xr(i=>{for(const r of e)r.showAll(i)})}_handleCursorPositionChange(e,t){var i,r;if((e==null?void 0:e.reason)===3){const s=(r=(i=this._diffModel.get())==null?void 0:i.diff.get())==null?void 0:r.mappings.find(o=>t?o.lineRangeMapping.modified.contains(e.position.lineNumber):o.lineRangeMapping.original.contains(e.position.lineNumber));s!=null&&s.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(md.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):s!=null&&s.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(md.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):s&&this._accessibilitySignalService.playSignal(md.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};oR=Ikt([Zw(3,ii),Zw(4,ui),Zw(5,ts),Zw(6,CP),Zw(7,oG)],oR);function Mkt(n){return n.mappings.map(e=>{const t=e.lineRangeMapping;let i,r,s,o,a=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,r=0,a=void 0):(i=t.original.startLineNumber,r=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(s=t.modified.startLineNumber-1,o=0,a=void 0):(s=t.modified.startLineNumber,o=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:r,modifiedStartLineNumber:s,modifiedEndLineNumber:o,charChanges:a==null?void 0:a.map(l=>({originalStartLineNumber:l.originalRange.startLineNumber,originalStartColumn:l.originalRange.startColumn,originalEndLineNumber:l.originalRange.endLineNumber,originalEndColumn:l.originalRange.endColumn,modifiedStartLineNumber:l.modifiedRange.startLineNumber,modifiedStartColumn:l.modifiedRange.startColumn,modifiedEndLineNumber:l.modifiedRange.endLineNumber,modifiedEndColumn:l.modifiedRange.endColumn}))}})}var SK=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Li=function(n,e){return function(t,i){e(t,i,n)}};let Rkt=0,ffe=!1;function Nkt(n){if(!n){if(ffe)return;ffe=!0}gpt(n||yi.document.body)}let aR=class extends JM{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f){const p={...t};p.ariaLabel=p.ariaLabel||Nz.editorViewAccessibleLabel,super(e,p,{},i,r,s,o,c,u,d,h,f),l instanceof h0?this._standaloneKeybindingService=l:this._standaloneKeybindingService=null,Nkt(p.ariaContainerElement),Mmt((m,v)=>i.createInstance(lk,m,v,{})),Rmt(a)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const r="DYNAMIC_"+ ++Rkt,s=Kn.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,s),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),je.None;const t=e.id,i=e.label,r=Kn.and(Kn.equals("editorId",this.getId()),Kn.deserialize(e.precondition)),s=e.keybindings,o=Kn.and(r,Kn.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...p)=>Promise.resolve(e.run(this,...p)),u=new It,d=this.getId()+":"+t;if(u.add(ya.registerCommand(d,c)),a){const f={command:{id:d,title:i},when:r,group:a,order:l};u.add(XC.appendMenuItem(Ws.EditorContext,f))}if(Array.isArray(s))for(const f of s)u.add(this._standaloneKeybindingService.addDynamicKeybinding(d,f,c,o));const h=new DSe(d,i,i,void 0,r,(...f)=>Promise.resolve(e.run(this,...f)),this._contextKeyService);return this._actions.set(t,h),u.add(cn(()=>{this._actions.delete(t)})),u}_triggerCommand(e,t){if(this._codeEditorService instanceof qI)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};aR=SK([Li(2,ui),Li(3,ts),Li(4,ml),Li(5,ii),Li(6,NL),Li(7,Ks),Li(8,Zc),Li(9,Hu),Li(10,Vu),Li(11,nh),Li(12,xi)],aR);let F$=class extends aR{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,p,m,v){const C={...t};AM(d,C,!1);const y=c.registerEditorContainer(e);typeof C.theme=="string"&&c.setTheme(C.theme),typeof C.autoDetectHighContrast<"u"&&c.setAutoDetectHighContrast(!!C.autoDetectHighContrast);const w=C.model;delete C.model,super(e,C,i,r,s,o,a,l,c,u,h,m,v),this._configurationService=d,this._standaloneThemeService=c,this._register(y);let _;if(typeof w>"u"){const x=p.getLanguageIdByMimeType(C.language)||C.language||Tc;_=WSe(f,p,C.value||"",x,void 0),this._ownsModel=!0}else _=w,this._ownsModel=!1;if(this._attachModel(_),_){const x={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(x)}}dispose(){super.dispose()}updateOptions(e){AM(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};F$=SK([Li(2,ui),Li(3,ts),Li(4,ml),Li(5,ii),Li(6,NL),Li(7,Ks),Li(8,Jc),Li(9,Hu),Li(10,br),Li(11,Vu),Li(12,Qo),Li(13,bs),Li(14,nh),Li(15,xi)],F$);let B$=class extends oR{constructor(e,t,i,r,s,o,a,l,c,u,d,h){const f={...t};AM(l,f,!0);const p=o.registerEditorContainer(e);typeof f.theme=="string"&&o.setTheme(f.theme),typeof f.autoDetectHighContrast<"u"&&o.setAutoDetectHighContrast(!!f.autoDetectHighContrast),super(e,f,{},r,i,s,h,u),this._configurationService=l,this._standaloneThemeService=o,this._register(p)}dispose(){super.dispose()}updateOptions(e){AM(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(aR,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};B$=SK([Li(2,ui),Li(3,ii),Li(4,ts),Li(5,Jc),Li(6,Hu),Li(7,br),Li(8,Yf),Li(9,oG),Li(10,GG),Li(11,CP)],B$);function WSe(n,e,t,i,r){if(t=t||"",!i){const s=t.indexOf(`
`);let o=t;return s!==-1&&(o=t.substring(0,s)),gfe(n,t,e.createByFilepathOrFirstLine(r||null,o),r)}return gfe(n,t,e.createById(i),r)}function gfe(n,e,t,i){return n.createModel(e,t,i)}var Akt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},pfe=function(n,e){return function(t,i){e(t,i,n)}};class Pkt{constructor(e,t){this.viewModel=e,this.deltaScrollVertical=t}getId(){return this.viewModel}}let lR=class extends je{constructor(e,t,i,r,s){super(),this._container=e,this._overflowWidgetsDomNode=t,this._workbenchUIElementFactory=i,this._instantiationService=r,this._viewModel=Bn(this,void 0),this._collapsed=ln(this,l=>{var c;return(c=this._viewModel.read(l))==null?void 0:c.collapsed.read(l)}),this._editorContentHeight=Bn(this,500),this.contentHeight=ln(this,l=>(this._collapsed.read(l)?0:this._editorContentHeight.read(l))+this._outerEditorHeight),this._modifiedContentWidth=Bn(this,0),this._modifiedWidth=Bn(this,0),this._originalContentWidth=Bn(this,0),this._originalWidth=Bn(this,0),this.maxScroll=ln(this,l=>{const c=this._modifiedContentWidth.read(l)-this._modifiedWidth.read(l),u=this._originalContentWidth.read(l)-this._originalWidth.read(l);return c>u?{maxScroll:c,width:this._modifiedWidth.read(l)}:{maxScroll:u,width:this._originalWidth.read(l)}}),this._elements=On("div.multiDiffEntry",[On("div.header@header",[On("div.header-content",[On("div.collapse-button@collapseButton"),On("div.file-path",[On("div.title.modified.show-file-icons@primaryPath",[]),On("div.status.deleted@status",["R"]),On("div.title.original.show-file-icons@secondaryPath",[])]),On("div.actions@actions")])]),On("div.editorParent",[On("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(oR,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=Nk(this.editor.getModifiedEditor()).isFocused,this.isOriginalFocused=Nk(this.editor.getOriginalEditor()).isFocused,this.isFocused=ln(this,l=>this.isModifedFocused.read(l)||this.isOriginalFocused.read(l)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=this._register(new It),this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const o=new pW(this._elements.collapseButton,{});this._register(Yn(l=>{o.element.className="",o.icon=this._collapsed.read(l)?Lt.chevronRight:Lt.chevronDown})),this._register(o.onDidClick(()=>{var l;(l=this._viewModel.get())==null||l.collapsed.set(!this._collapsed.get(),void 0)})),this._register(Yn(l=>{this._elements.editor.style.display=this._collapsed.read(l)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(l=>{const c=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(c,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(l=>{const c=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(c,void 0)})),this._register(this.editor.onDidContentSizeChange(l=>{hS(c=>{this._editorContentHeight.set(l.contentHeight,c),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),c),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),c)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(l=>{if(this._isSettingScrollTop||!l.scrollTopChanged||!this._data)return;const c=l.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(c)})),this._register(Yn(l=>{var u;const c=(u=this._viewModel.read(l))==null?void 0:u.isActive.read(l);this._elements.root.classList.toggle("active",c)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._contextKeyService=this._register(s.createScoped(this._elements.actions));const a=this._register(this._instantiationService.createChild(new o_([ii,this._contextKeyService])));this._register(a.createInstance(rR,this._elements.actions,Ws.MultiDiffEditorFileToolbar,{actionRunner:this._register(new HSe(()=>{var l;return(l=this._viewModel.get())==null?void 0:l.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:l=>l.startsWith("navigation")},actionViewItemProvider:(l,c)=>wbt(a,l,c)}))}setScrollLeft(e){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(e):this.editor.getOriginalEditor().setScrollLeft(e)}setData(e){this._data=e;function t(r){return{...r,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}if(!e){hS(r=>{this._viewModel.set(void 0,r),this.editor.setDiffModel(null,r),this._dataStore.clear()});return}const i=e.viewModel.documentDiffItem;if(hS(r=>{var c,u;(c=this._resourceLabel)==null||c.setUri(e.viewModel.modifiedUri??e.viewModel.originalUri,{strikethrough:e.viewModel.modifiedUri===void 0});let s=!1,o=!1,a=!1,l="";e.viewModel.modifiedUri&&e.viewModel.originalUri&&e.viewModel.modifiedUri.path!==e.viewModel.originalUri.path?(l="R",s=!0):e.viewModel.modifiedUri?e.viewModel.originalUri||(l="A",a=!0):(l="D",o=!0),this._elements.status.classList.toggle("renamed",s),this._elements.status.classList.toggle("deleted",o),this._elements.status.classList.toggle("added",a),this._elements.status.innerText=l,(u=this._resourceLabel2)==null||u.setUri(s?e.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(e.viewModel,r),this.editor.setDiffModel(e.viewModel.diffEditorViewModelRef,r),this.editor.updateOptions(t(i.options??{}))}),i.onOptionsDidChange&&this._dataStore.add(i.onOptionsDidChange(()=>{this.editor.updateOptions(t(i.options??{}))})),e.viewModel.isAlive.recomputeInitiallyAndOnChange(this._dataStore,r=>{r||this.setData(void 0)}),e.viewModel.documentDiffItem.contextKeys)for(const[r,s]of Object.entries(e.viewModel.documentDiffItem.contextKeys))this._contextKeyService.createKey(r,s)}render(e,t,i,r){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${e.start}px`,this._elements.root.style.height=`${e.length}px`,this._elements.root.style.width=`${t}px`,this._elements.root.style.position="absolute";const s=e.length-this._headerHeight,o=Math.max(0,Math.min(r.start-e.start,s));this._elements.header.style.transform=`translateY(${o}px)`,hS(a=>{this.editor.layout({width:t-2*8-2*1,height:e.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=i,this.editor.getOriginalEditor().setScrollTop(i)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",o>0||i>0),this._elements.header.classList.toggle("collapsed",o===s)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};lR=Akt([pfe(3,ui),pfe(4,ii)],lR);class Okt{constructor(e){this._create=e,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(e){let t;if(this._unused.size===0)t=this._create(e),this._itemData.set(t,e);else{const i=[...this._unused.values()];t=i.find(r=>this._itemData.get(r).getId()===e.getId())??i[0],this._unused.delete(t),this._itemData.set(t,e),t.setData(e)}return this._used.add(t),{object:t,dispose:()=>{this._used.delete(t),this._unused.size>5?t.dispose():this._unused.add(t)}}}dispose(){for(const e of this._used)e.dispose();for(const e of this._unused)e.dispose();this._used.clear(),this._unused.clear()}}var Fkt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mfe=function(n,e){return function(t,i){e(t,i,n)}};let H$=class extends je{constructor(e,t,i,r,s,o){super(),this._element=e,this._dimension=t,this._viewModel=i,this._workbenchUIElementFactory=r,this._parentContextKeyService=s,this._parentInstantiationService=o,this._scrollableElements=On("div.scrollContent",[On("div@content",{style:{overflow:"hidden"}}),On("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new t_({forceIntegerValues:!1,scheduleAtNextAnimationFrame:l=>Va(Ft(this._element),l),smoothScrollDuration:100})),this._scrollableElement=this._register(new XA(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=On("div.monaco-component.multiDiffEditor",{},[On("div",{},[this._scrollableElement.getDomNode()]),On("div.placeholder@placeholder",{},[On("div",[P("noChangedFiles","No Changed Files")])])]),this._sizeObserver=this._register(new RSe(this._element,void 0)),this._objectPool=this._register(new Okt(l=>{const c=this._instantiationService.createInstance(lR,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return c.setData(l),c})),this.scrollTop=kr(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=kr(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=i_(this,(l,c)=>{const u=this._viewModel.read(l);if(!u)return{items:[],getItem:p=>{throw new ti}};const d=u.items.read(l),h=new Map;return{items:d.map(p=>{var C;const m=c.add(new Bkt(p,this._objectPool,this.scrollLeft,y=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+y})})),v=(C=this._lastDocStates)==null?void 0:C[m.getKey()];return v&&Xr(y=>{m.setViewState(v,y)}),h.set(p,m),m}),getItem:p=>h.get(p)}}),this._viewItems=this._viewItemsInfo.map(this,l=>l.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(l,c)=>l.reduce((u,d)=>u+d.contentHeight.read(c)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new o_([ii,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(St.inMultiDiffEditor.key,!0),this._register(Lu((l,c)=>{const u=this._viewModel.read(l);if(u&&u.contextKeys)for(const[d,h]of Object.entries(u.contextKeys)){const f=this._contextKeyService.createKey(d,void 0);f.set(h),c.add(cn(()=>f.reset()))}}));const a=this._parentContextKeyService.createKey(St.multiDiffEditorAllCollapsed.key,!1);this._register(Yn(l=>{const c=this._viewModel.read(l);if(c){const u=c.items.read(l).every(d=>d.collapsed.read(l));a.set(u)}})),this._register(Yn(l=>{const c=this._dimension.read(l);this._sizeObserver.observe(c)})),this._register(Yn(l=>{const c=this._viewItems.read(l);this._elements.placeholder.classList.toggle("visible",c.length===0)})),this._scrollableElements.content.style.position="relative",this._register(Yn(l=>{const c=this._sizeObserver.height.read(l);this._scrollableElements.root.style.height=`${c}px`;const u=this._totalHeight.read(l);this._scrollableElements.content.style.height=`${u}px`;const d=this._sizeObserver.width.read(l);let h=d;const f=this._viewItems.read(l),p=m0e(f,Dc(m=>m.maxScroll.read(l).maxScroll,mp));if(p){const m=p.maxScroll.read(l);h=d+m.maxScroll}this._scrollableElement.setScrollDimensions({width:d,height:c,scrollHeight:u,scrollWidth:h})})),e.replaceChildren(this._elements.root),this._register(cn(()=>{e.replaceChildren()})),this._register(this._register(Yn(l=>{hS(c=>{this.render(l)})})))}render(e){const t=this.scrollTop.read(e);let i=0,r=0,s=0;const o=this._sizeObserver.height.read(e),a=dn.ofStartAndLength(t,o),l=this._sizeObserver.width.read(e);for(const c of this._viewItems.read(e)){const u=c.contentHeight.read(e),d=Math.min(u,o),h=dn.ofStartAndLength(r,d),f=dn.ofStartAndLength(s,u);if(f.isBefore(a))i-=u-d,c.hide();else if(f.isAfter(a))c.hide();else{const p=Math.max(0,Math.min(a.start-f.start,u-d));i-=p;const m=dn.ofStartAndLength(t+i,o);c.render(h,p,l,m)}r+=d+this._spaceBetweenPx,s+=u+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(t+i)}px)`}};H$=Fkt([mfe(4,ii),mfe(5,ui)],H$);class Bkt extends je{constructor(e,t,i,r){super(),this.viewModel=e,this._objectPool=t,this._scrollLeft=i,this._deltaScrollVertical=r,this._templateRef=this._register(P_e(this,void 0)),this.contentHeight=ln(this,s=>{var o,a;return((a=(o=this._templateRef.read(s))==null?void 0:o.object.contentHeight)==null?void 0:a.read(s))??this.viewModel.lastTemplateData.read(s).contentHeight}),this.maxScroll=ln(this,s=>{var o;return((o=this._templateRef.read(s))==null?void 0:o.object.maxScroll.read(s))??{maxScroll:0,scrollWidth:0}}),this.template=ln(this,s=>{var o;return(o=this._templateRef.read(s))==null?void 0:o.object}),this._isHidden=Bn(this,!1),this._isFocused=ln(this,s=>{var o;return((o=this.template.read(s))==null?void 0:o.isFocused.read(s))??!1}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register(Yn(s=>{var a;const o=this._scrollLeft.read(s);(a=this._templateRef.read(s))==null||a.object.setScrollLeft(o)})),this._register(Yn(s=>{const o=this._templateRef.read(s);!o||!this._isHidden.read(s)||o.object.isFocused.read(s)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var e;return`VirtualViewItem(${(e=this.viewModel.documentDiffItem.modified)==null?void 0:e.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(e,t){var o;this.viewModel.collapsed.set(e.collapsed,t),this._updateTemplateData(t);const i=this.viewModel.lastTemplateData.get(),r=(o=e.selections)==null?void 0:o.map(wi.liftSelection);this.viewModel.lastTemplateData.set({...i,selections:r},t);const s=this._templateRef.get();s&&r&&s.object.editor.setSelections(r)}_updateTemplateData(e){const t=this._templateRef.get();t&&this.viewModel.lastTemplateData.set({contentHeight:t.object.contentHeight.get(),selections:t.object.editor.getSelections()??void 0},e)}_clear(){const e=this._templateRef.get();e&&Xr(t=>{this._updateTemplateData(t),e.object.hide(),this._templateRef.set(void 0,t)})}hide(){this._isHidden.set(!0,void 0)}render(e,t,i,r){this._isHidden.set(!1,void 0);let s=this._templateRef.get();if(!s){s=this._objectPool.getUnusedObj(new Pkt(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(s,void 0);const o=this.viewModel.lastTemplateData.get().selections;o&&s.object.editor.setSelections(o)}s.object.render(e,i,t,r)}}ge("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},P("multiDiffEditor.headerBackground","The background color of the diff editor's header"));ge("multiDiffEditor.background",Mu,P("multiDiffEditor.background","The background color of the multi file diff editor"));ge("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},P("multiDiffEditor.border","The border color of the multi file diff editor"));var Hkt=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vkt=function(n,e){return function(t,i){e(t,i,n)}};let V$=class extends je{constructor(e,t,i){super(),this._element=e,this._workbenchUIElementFactory=t,this._instantiationService=i,this._dimension=Bn(this,void 0),this._viewModel=Bn(this,void 0),this._widgetImpl=i_(this,(r,s)=>(gc(lR,r),s.add(this._instantiationService.createInstance(gc(H$,r),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register(oP(this._widgetImpl))}};V$=Hkt([Vkt(2,ui)],V$);function zkt(n,e,t){return Ht.initialize(t||{}).createInstance(F$,n,e)}function Wkt(n){return Ht.get(ts).onCodeEditorAdd(t=>{n(t)})}function $kt(n){return Ht.get(ts).onDiffEditorAdd(t=>{n(t)})}function jkt(){return Ht.get(ts).listCodeEditors()}function Ukt(){return Ht.get(ts).listDiffEditors()}function qkt(n,e,t){return Ht.initialize(t||{}).createInstance(B$,n,e)}function Gkt(n,e){const t=Ht.initialize(e||{});return new V$(n,{},t)}function Kkt(n){if(typeof n.id!="string"||typeof n.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return ya.registerCommand(n.id,n.run)}function Qkt(n){if(typeof n.id!="string"||typeof n.label!="string"||typeof n.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const e=Kn.deserialize(n.precondition),t=(r,...s)=>mv.runEditorCommand(r,s,e,(o,a,l)=>Promise.resolve(n.run(a,...l))),i=new It;if(i.add(ya.registerCommand(n.id,t)),n.contextMenuGroupId){const r={command:{id:n.id,title:n.label},when:e,group:n.contextMenuGroupId,order:n.contextMenuOrder||0};i.add(XC.appendMenuItem(Ws.EditorContext,r))}if(Array.isArray(n.keybindings)){const r=Ht.get(Ks);if(!(r instanceof h0))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const s=Kn.and(e,Kn.deserialize(n.keybindingContext));i.add(r.addDynamicKeybindings(n.keybindings.map(o=>({keybinding:o,command:n.id,when:s}))))}}return i}function Ykt(n){return $Se([n])}function $Se(n){const e=Ht.get(Ks);return e instanceof h0?e.addDynamicKeybindings(n.map(t=>({keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:Kn.deserialize(t.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),je.None)}function Xkt(n,e,t){const i=Ht.get(bs),r=i.getLanguageIdByMimeType(e)||e;return WSe(Ht.get(Qo),i,n,r,t)}function Zkt(n,e){const t=Ht.get(bs),i=t.getLanguageIdByMimeType(e)||e||Tc;n.setLanguage(t.createById(i))}function Jkt(n,e,t){n&&Ht.get(Zv).changeOne(e,n.uri,t)}function eLt(n){Ht.get(Zv).changeAll(n,[])}function tLt(n){return Ht.get(Zv).read(n)}function nLt(n){return Ht.get(Zv).onMarkerChanged(n)}function iLt(n){return Ht.get(Qo).getModel(n)}function rLt(){return Ht.get(Qo).getModels()}function sLt(n){return Ht.get(Qo).onModelAdded(n)}function oLt(n){return Ht.get(Qo).onModelRemoved(n)}function aLt(n){return Ht.get(Qo).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function lLt(n){return z0t(Ht.get(Qo),n)}function cLt(n,e){const t=Ht.get(bs),i=Ht.get(Jc);return ZG.colorizeElement(i,t,n,e).then(()=>{i.registerEditorContainer(n)})}function uLt(n,e,t){const i=Ht.get(bs);return Ht.get(Jc).registerEditorContainer(yi.document.body),ZG.colorize(i,n,e,t)}function dLt(n,e,t=4){return Ht.get(Jc).registerEditorContainer(yi.document.body),ZG.colorizeModelLine(n,e,t)}function hLt(n){const e=Rr.get(n);return e||{getInitialState:()=>uk,tokenize:(t,i,r)=>E_e(n,r)}}function fLt(n,e){Rr.getOrCreate(e);const t=hLt(e),i=J0(n),r=[];let s=t.getInitialState();for(let o=0,a=i.length;o<a;o++){const l=i[o],c=t.tokenize(l,!0,s);r[o]=c.tokens,s=c.endState}return r}function gLt(n,e){Ht.get(Jc).defineTheme(n,e)}function pLt(n){Ht.get(Jc).setTheme(n)}function mLt(){RV.clearAllFontInfos()}function bLt(n,e){return ya.registerCommand({id:n,handler:e})}function vLt(n){return Ht.get(PL).registerOpener({async open(t){return typeof t=="string"&&(t=Sn.parse(t)),n.open(t)}})}function yLt(n){return Ht.get(ts).registerCodeEditorOpenHandler(async(t,i,r)=>{var a;if(!i)return null;const s=(a=t.options)==null?void 0:a.selection;let o;return s&&typeof s.endLineNumber=="number"&&typeof s.endColumn=="number"?o=s:s&&(o={lineNumber:s.startLineNumber,column:s.startColumn}),await n.openCodeEditor(i,t.resource,o)?i:null})}function CLt(){return{create:zkt,getEditors:jkt,getDiffEditors:Ukt,onDidCreateEditor:Wkt,onDidCreateDiffEditor:$kt,createDiffEditor:qkt,addCommand:Kkt,addEditorAction:Qkt,addKeybindingRule:Ykt,addKeybindingRules:$Se,createModel:Xkt,setModelLanguage:Zkt,setModelMarkers:Jkt,getModelMarkers:tLt,removeAllMarkers:eLt,onDidChangeMarkers:nLt,getModels:rLt,getModel:iLt,onDidCreateModel:sLt,onWillDisposeModel:oLt,onDidChangeModelLanguage:aLt,createWebWorker:lLt,colorizeElement:cLt,colorize:uLt,colorizeModelLine:dLt,tokenize:fLt,defineTheme:gLt,setTheme:pLt,remeasureFonts:mLt,registerCommand:bLt,registerLinkOpener:vLt,registerEditorOpener:yLt,AccessibilitySupport:wH,ContentWidgetPositionPreference:DH,CursorChangeReason:TH,DefaultEndOfLine:IH,EditorAutoIndentStrategy:RH,EditorOption:NH,EndOfLinePreference:AH,EndOfLineSequence:PH,MinimapPosition:qH,MinimapSectionHeaderStyle:GH,MouseTargetType:KH,OverlayWidgetPositionPreference:XH,OverviewRulerLane:ZH,GlyphMarginLane:OH,RenderLineNumbersType:tV,RenderMinimap:nV,ScrollbarVisibility:rV,ScrollType:iV,TextEditorCursorBlinkingStyle:uV,TextEditorCursorStyle:dV,TrackedRangeStickiness:hV,WrappingIndent:fV,InjectedTextCursorStops:HH,PositionAffinity:eV,ShowLightbulbIconMode:oV,ConfigurationChangedEvent:Qye,BareFontInfo:Pb,FontInfo:MV,TextModelResolvedOptions:cT,FindMatch:ik,ApplyUpdateResult:NS,EditorZoom:Yg,createMultiFileDiffEditor:Gkt,EditorType:QG,EditorOptions:Vv}}function _Lt(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function T2(n,e){return typeof n=="boolean"?n:e}function bfe(n,e){return typeof n=="string"?n:e}function wLt(n){const e={};for(const t of n)e[t]=!0;return e}function vfe(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=wLt(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function z$(n,e,t){e=e.replace(/@@/g,"");let i=0,r;do r=!1,e=e.replace(/@(\w+)/g,function(o,a){r=!0;let l="";if(typeof n[a]=="string")l=n[a];else if(n[a]&&n[a]instanceof RegExp)l=n[a].source;else throw n[a]===void 0?Pi(n,"language definition does not contain attribute '"+a+"', used at: "+e):Pi(n,"attribute reference '"+a+"' must be a string, used at: "+e);return ab(l)?"":"(?:"+l+")"}),i++;while(r&&i<5);e=e.replace(/\x01/g,"@");const s=(n.ignoreCase?"i":"")+(n.unicode?"u":"");if(t&&e.match(/\$[sS](\d\d?)/g)){let a=null,l=null;return c=>(l&&a===c||(a=c,l=new RegExp(o_t(n,e,c),s)),l)}return new RegExp(e,s)}function SLt(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const r=t.split(".");if(r.unshift(t),i<r.length)return r[i]}return null}function xLt(n,e,t,i){let r=-1,s=t,o=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r=r+100)),s=o[4]);let a="~",l=s;!s||s.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(o=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(a=o[1],l=o[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const u=vfe(l.split("|"),n.ignoreCase);c=function(d){return a==="~"?u(d):!u(d)}}else if(a==="@"||a==="!@"){const u=n[l];if(!u)throw Pi(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!_Lt(function(h){return typeof h=="string"},u))throw Pi(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const d=vfe(u,n.ignoreCase);c=function(h){return a==="@"?d(h):!d(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const u=z$(n,"^"+l+"$",!1);c=function(d){return a==="~"?u.test(d):!u.test(d)}}else c=function(u,d,h,f){return z$(n,"^"+Jg(n,l,d,h,f)+"$",!1).test(u)};else if(l.indexOf("$")<0){const u=Lf(n,l);c=function(d){return a==="=="?d===u:d!==u}}else{const u=Lf(n,l);c=function(d,h,f,p,m){const v=Jg(n,u,h,f,p);return a==="=="?d===v:d!==v}}return r===-1?{name:t,value:i,test:function(u,d,h,f){return c(u,u,d,h,f)}}:{name:t,value:i,test:function(u,d,h,f){const p=SLt(u,d,h,r);return c(p||"",u,d,h,f)}}}function W$(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Pi(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Pi(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Pi(n,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!a_t(n,Jg(n,r,"",[],""))))throw Pi(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=r}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=W$(n,e,t[r]);return{group:i}}else if(t.cases){const i=[];for(const s in t.cases)if(t.cases.hasOwnProperty(s)){const o=W$(n,e,t.cases[s]);s==="@default"||s==="@"||s===""?i.push({test:void 0,value:o,name:s}):s==="@eos"?i.push({test:function(a,l,c,u){return u},value:o,name:s}):i.push(xLt(n,e,s,o))}const r=n.defaultToken;return{test:function(s,o,a,l){for(const c of i)if(!c.test||c.test(s,o,a,l))return c.value;return r}}}else throw Pi(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class kLt{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Pi(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=z$(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")",!0)}setAction(e,t){this.action=W$(e,this.name,t)}resolveRegex(e){return this.regex instanceof RegExp?this.regex:this.regex(e)}}function jSe(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={languageId:n,includeLF:T2(e.includeLF,!1),noThrow:!1,maxStack:100,start:typeof e.start=="string"?e.start:null,ignoreCase:T2(e.ignoreCase,!1),unicode:T2(e.unicode,!1),tokenPostfix:bfe(e.tokenPostfix,"."+n),defaultToken:bfe(e.defaultToken,"source"),usesEmbedded:!1,stateNames:{},tokenizer:{},brackets:[]},i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function r(o,a,l){for(const c of l){let u=c.include;if(u){if(typeof u!="string")throw Pi(t,"an 'include' attribute must be a string at: "+o);if(u[0]==="@"&&(u=u.substr(1)),!e.tokenizer[u])throw Pi(t,"include target '"+u+"' is not defined at: "+o);r(o+"."+u,a,e.tokenizer[u])}else{const d=new kLt(o);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(d.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")d.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const h=c[1];h.next=c[2],d.setAction(i,h)}else throw Pi(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else d.setAction(i,c[1]);else{if(!c.regex)throw Pi(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);c.name&&typeof c.name=="string"&&(d.name=c.name),c.matchOnlyAtStart&&(d.matchOnlyAtLineStart=T2(c.matchOnlyAtLineStart,!1)),d.setRegex(i,c.regex),d.setAction(i,c.action)}a.push(d)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Pi(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);const a=e.tokenizer[o];t.tokenizer[o]=new Array,r("tokenizer."+o,t.tokenizer[o],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Pi(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const o of e.brackets){let a=o;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Pi(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")s.push({token:a.token+t.tokenPostfix,open:Lf(t,a.open),close:Lf(t,a.close)});else throw Pi(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=s,t.noThrow=!0,t}function LLt(n){ZC.registerLanguage(n)}function ELt(){let n=[];return n=n.concat(ZC.getLanguages()),n}function DLt(n){return Ht.get(bs).languageIdCodec.encodeLanguageId(n)}function TLt(n,e){return Ht.withServices(()=>{const i=Ht.get(bs).onDidRequestRichLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function ILt(n,e){return Ht.withServices(()=>{const i=Ht.get(bs).onDidRequestBasicLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function MLt(n,e){if(!Ht.get(bs).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return Ht.get(nh).register(n,e,100)}class RLt{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return Pk.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const r=this._actual.tokenizeEncoded(e,i);return new EA(r.tokens,r.endState)}}class Pk{constructor(e,t,i,r){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=r}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let r=0;for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=a.startIndex;s===0?l=0:l<r&&(l=r),i[s]=new Yx(l,a.scopes,t),r=l}return i}static adaptTokenize(e,t,i,r){const s=t.tokenize(i,r),o=Pk._toClassicTokens(s.tokens,e);let a;return s.endState.equals(r)?a=r:a=s.endState,new oq(o,a)}tokenize(e,t,i){return Pk.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,s=[];let o=0,a=0;for(let c=0,u=t.length;c<u;c++){const d=t[c],h=r.match(i,d.scopes)|1024;if(o>0&&s[o-1]===h)continue;let f=d.startIndex;c===0?f=0:f<a&&(f=a),s[o++]=f,s[o++]=h,a=f}const l=new Uint32Array(o);for(let c=0;c<o;c++)l[c]=s[c];return l}tokenizeEncoded(e,t,i){const r=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._languageService.languageIdCodec,r.tokens);let o;return r.endState.equals(i)?o=i:o=r.endState,new EA(s,o)}}function NLt(n){return typeof n.getInitialState=="function"}function ALt(n){return"tokenizeEncoded"in n}function USe(n){return n&&typeof n.then=="function"}function PLt(n){const e=Ht.get(Jc);if(n){const t=[null];for(let i=1,r=n.length;i<r;i++)t[i]=tt.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function qSe(n,e){return ALt(e)?new RLt(n,e):new Pk(n,e,Ht.get(bs),Ht.get(Jc))}function xK(n,e){const t=new qot(async()=>{const i=await Promise.resolve(e.create());return i?NLt(i)?qSe(n,i):new Ek(Ht.get(bs),Ht.get(Jc),n,jSe(n,i),Ht.get(br)):null});return Rr.registerFactory(n,t)}function OLt(n,e){if(!Ht.get(bs).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return USe(e)?xK(n,{create:()=>e}):Rr.register(n,qSe(n,e))}function FLt(n,e){const t=i=>new Ek(Ht.get(bs),Ht.get(Jc),n,jSe(n,i),Ht.get(br));return USe(e)?xK(n,{create:()=>e}):Rr.register(n,t(e))}function BLt(n,e){return Ht.get(xi).referenceProvider.register(n,e)}function HLt(n,e){return Ht.get(xi).renameProvider.register(n,e)}function VLt(n,e){return Ht.get(xi).newSymbolNamesProvider.register(n,e)}function zLt(n,e){return Ht.get(xi).signatureHelpProvider.register(n,e)}function WLt(n,e){return Ht.get(xi).hoverProvider.register(n,{provideHover:async(i,r,s,o)=>{const a=i.getWordAtPosition(r);return Promise.resolve(e.provideHover(i,r,s,o)).then(l=>{if(l)return!l.range&&a&&(l.range=new _e(r.lineNumber,a.startColumn,r.lineNumber,a.endColumn)),l.range||(l.range=new _e(r.lineNumber,r.column,r.lineNumber,r.column)),l})}})}function $Lt(n,e){return Ht.get(xi).documentSymbolProvider.register(n,e)}function jLt(n,e){return Ht.get(xi).documentHighlightProvider.register(n,e)}function ULt(n,e){return Ht.get(xi).linkedEditingRangeProvider.register(n,e)}function qLt(n,e){return Ht.get(xi).definitionProvider.register(n,e)}function GLt(n,e){return Ht.get(xi).implementationProvider.register(n,e)}function KLt(n,e){return Ht.get(xi).typeDefinitionProvider.register(n,e)}function QLt(n,e){return Ht.get(xi).codeLensProvider.register(n,e)}function YLt(n,e,t){return Ht.get(xi).codeActionProvider.register(n,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,documentation:t==null?void 0:t.documentation,provideCodeActions:(r,s,o,a)=>{const c=Ht.get(Zv).read({resource:r.uri}).filter(u=>_e.areIntersectingOrTouching(u,s));return e.provideCodeActions(r,s,{markers:c,only:o.only,trigger:o.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function XLt(n,e){return Ht.get(xi).documentFormattingEditProvider.register(n,e)}function ZLt(n,e){return Ht.get(xi).documentRangeFormattingEditProvider.register(n,e)}function JLt(n,e){return Ht.get(xi).onTypeFormattingEditProvider.register(n,e)}function eEt(n,e){return Ht.get(xi).linkProvider.register(n,e)}function tEt(n,e){return Ht.get(xi).completionProvider.register(n,e)}function nEt(n,e){return Ht.get(xi).colorProvider.register(n,e)}function iEt(n,e){return Ht.get(xi).foldingRangeProvider.register(n,e)}function rEt(n,e){return Ht.get(xi).declarationProvider.register(n,e)}function sEt(n,e){return Ht.get(xi).selectionRangeProvider.register(n,e)}function oEt(n,e){return Ht.get(xi).documentSemanticTokensProvider.register(n,e)}function aEt(n,e){return Ht.get(xi).documentRangeSemanticTokensProvider.register(n,e)}function lEt(n,e){return Ht.get(xi).inlineCompletionsProvider.register(n,e)}function cEt(n,e){return Ht.get(xi).inlineEditProvider.register(n,e)}function uEt(n,e){return Ht.get(xi).inlayHintsProvider.register(n,e)}function dEt(){return{register:LLt,getLanguages:ELt,onLanguage:TLt,onLanguageEncountered:ILt,getEncodedLanguageId:DLt,setLanguageConfiguration:MLt,setColorMap:PLt,registerTokensProviderFactory:xK,setTokensProvider:OLt,setMonarchTokensProvider:FLt,registerReferenceProvider:BLt,registerRenameProvider:HLt,registerNewSymbolNameProvider:VLt,registerCompletionItemProvider:tEt,registerSignatureHelpProvider:zLt,registerHoverProvider:WLt,registerDocumentSymbolProvider:$Lt,registerDocumentHighlightProvider:jLt,registerLinkedEditingRangeProvider:ULt,registerDefinitionProvider:qLt,registerImplementationProvider:GLt,registerTypeDefinitionProvider:KLt,registerCodeLensProvider:QLt,registerCodeActionProvider:YLt,registerDocumentFormattingEditProvider:XLt,registerDocumentRangeFormattingEditProvider:ZLt,registerOnTypeFormattingEditProvider:JLt,registerLinkProvider:eEt,registerColorProvider:nEt,registerFoldingRangeProvider:iEt,registerDeclarationProvider:rEt,registerSelectionRangeProvider:sEt,registerDocumentSemanticTokensProvider:oEt,registerDocumentRangeSemanticTokensProvider:aEt,registerInlineCompletionsProvider:lEt,registerInlineEditProvider:cEt,registerInlayHintsProvider:uEt,DocumentHighlightKind:MH,CompletionItemKind:kH,CompletionItemTag:LH,CompletionItemInsertTextRule:xH,SymbolKind:lV,SymbolTag:cV,IndentAction:BH,CompletionTriggerKind:EH,SignatureHelpTriggerKind:aV,InlayHintKind:VH,InlineCompletionTriggerKind:zH,InlineEditTriggerKind:WH,CodeActionTriggerType:SH,NewSymbolNameTag:QH,NewSymbolNameTriggerKind:YH,PartialAcceptTriggerKind:JH,HoverVerbosityAction:FH,FoldingRangeKind:CH,SelectedSuggestionInfo:Uot}}const GSe=Nn("IEditorCancelService"),KSe=new Nt("cancellableOperation",!1,P("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));$n(GSe,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(r=>{const s=KSe.bindTo(r.get(ii)),o=new Aa;return{key:s,tokens:o}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);an(new class extends mv{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:KSe})}runEditorCommand(n,e){n.get(GSe).cancel(e)}});class yfe{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class hEt{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(yfe.toKey(e))}has(e){return this._set.has(yfe.toKey(e))}}function fEt(n,e,t){const i=[],r=new hEt,s=n.ordered(t);for(const a of s)i.push(a),a.extensionId&&r.add(a.extensionId);const o=e.ordered(t);for(const a of o){if(a.extensionId){if(r.has(a.extensionId))continue;r.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,u){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,u)}})}return i}const xx=class xx{static setFormatterSelector(e){return{dispose:xx._selectors.unshift(e)}}static async select(e,t,i,r){if(e.length===0)return;const s=Un.first(xx._selectors);if(s)return await s(e,t,i,r)}};xx._selectors=new Aa;let $$=xx;async function gEt(n,e,t,i,r,s){const o=e.documentRangeFormattingEditProvider.ordered(t);for(const a of o){const l=await Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,r,s)).catch(eq);if(SA(l))return await n.computeMoreMinimalEdits(t.uri,l)}}async function pEt(n,e,t,i,r){const s=fEt(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const o of s){const a=await Promise.resolve(o.provideDocumentFormattingEdits(t,i,r)).catch(eq);if(SA(a))return await n.computeMoreMinimalEdits(t.uri,a)}}function mEt(n,e,t,i,r,s,o){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(r)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,r,s,o)).catch(eq).then(l=>n.computeMoreMinimalEdits(t.uri,l))}ya.registerCommand("_executeFormatRangeProvider",async function(n,...e){const[t,i,r]=e;bp(Sn.isUri(t)),bp(_e.isIRange(i));const s=n.get(RA),o=n.get(VL),a=n.get(xi),l=await s.createModelReference(t);try{return gEt(o,a,l.object.textEditorModel,_e.lift(i),r,Pc.None)}finally{l.dispose()}});ya.registerCommand("_executeFormatDocumentProvider",async function(n,...e){const[t,i]=e;bp(Sn.isUri(t));const r=n.get(RA),s=n.get(VL),o=n.get(xi),a=await r.createModelReference(t);try{return pEt(s,o,a.object.textEditorModel,i,Pc.None)}finally{a.dispose()}});ya.registerCommand("_executeFormatOnTypeProvider",async function(n,...e){const[t,i,r,s]=e;bp(Sn.isUri(t)),bp(Pe.isIPosition(i)),bp(typeof r=="string");const o=n.get(RA),a=n.get(VL),l=n.get(xi),c=await o.createModelReference(t);try{return mEt(a,l,c.object.textEditorModel,Pe.lift(i),r,s,Pc.None)}finally{c.dispose()}});Vv.wrappingIndent.defaultValue=0;Vv.glyphMargin.defaultValue=!1;Vv.autoIndent.defaultValue=3;Vv.overviewRulerLanes.defaultValue=2;$$.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const Yo=hCe();Yo.editor=CLt();Yo.languages=dEt();const bEt=Yo.CancellationTokenSource,vEt=Yo.Emitter,yEt=Yo.KeyCode,CEt=Yo.KeyMod,_Et=Yo.Position,wEt=Yo.Range,SEt=Yo.Selection,xEt=Yo.SelectionDirection,kEt=Yo.MarkerSeverity,LEt=Yo.MarkerTag,EEt=Yo.Uri,DEt=Yo.Token,TEt=Yo.editor,IEt=Yo.languages,j6=globalThis.MonacoEnvironment;(j6!=null&&j6.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=Yo);typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const QSe=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:bEt,Emitter:vEt,KeyCode:yEt,KeyMod:CEt,MarkerSeverity:kEt,MarkerTag:LEt,Position:_Et,Range:wEt,Selection:SEt,SelectionDirection:xEt,Token:DEt,Uri:EEt,editor:TEt,languages:IEt},Symbol.toStringTag,{value:"Module"}));/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.52.2(404545bded1df6ffa41ea0af4e8ddb219018c6c1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var MEt=Object.defineProperty,REt=Object.getOwnPropertyDescriptor,NEt=Object.getOwnPropertyNames,AEt=Object.prototype.hasOwnProperty,PEt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of NEt(e))!AEt.call(n,r)&&r!==t&&MEt(n,r,{get:()=>e[r],enumerable:!(i=REt(e,r))||i.enumerable});return n},OEt=(n,e,t)=>(PEt(n,e,"default"),t),UL={};OEt(UL,QSe);var FEt=class{constructor(n,e,t){this._onDidChange=new UL.Emitter,this._languageId=n,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},BEt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},HEt={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},YSe=new FEt("json",BEt,HEt),VEt=()=>XSe().then(n=>n.getWorker());UL.languages.json={jsonDefaults:YSe,getWorker:VEt};function XSe(){return Aye(()=>import("./jsonMode.js"),[])}UL.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});UL.languages.onLanguage("json",()=>{XSe().then(n=>n.setupMode(YSe))});function zEt(n){return new Worker("/assets/editor.worker-D5ngByhL.js",{name:n==null?void 0:n.name})}function WEt(n){return new Worker("/assets/json.worker-nfSleKZw.js",{name:n==null?void 0:n.name})}function $Et(n){return new Worker("/assets/html.worker-D5NPIcdM.js",{name:n==null?void 0:n.name})}self.MonacoEnvironment={getWorker(n,e){return e==="json"?new WEt:e==="html"||e==="handlebars"||e==="razor"?new $Et:new zEt}};UU.config({monaco:QSe});const jEt=document.getElementById("root"),UEt=gLe.createRoot(jEt);UEt.render(V.jsx(q.StrictMode,{children:V.jsx(Art,{})}));export{QSe as m};
